(window.webpackJsonp=window.webpackJsonp||[]).push([[96,3],{"03c0":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"isTrayMode",(function(){return u})),n.d(r,"getViewMode",(function(){return l})),n.d(r,"isInFullScreen",(function(){return d})),n.d(r,"isSeparatorDisabled",(function(){return p})),n.d(r,"getSeparatorClass",(function(){return f})),n.d(r,"getSplitterClass",(function(){return h})),n.d(r,"isCompactMode",(function(){return g})),n.d(r,"isDesktopMode",(function(){return m})),n.d(r,"isDesktopOrDesktopBrowser",(function(){return _})),n.d(r,"isWindowsDesktop",(function(){return T})),n.d(r,"isMac",(function(){return E})),n.d(r,"getUpdateRequest",(function(){return v})),n.d(r,"getUI",(function(){return S})),n.d(r,"getUnexpectedErrorRequest",(function(){return C})),n.d(r,"getConfirmDialogRequest",(function(){return b})),n.d(r,"getHintDialogRequest",(function(){return I}));var i=n("1ce4"),a={viewMode:i.a.DEFAULT,unexpectedErrorRequest:null,confirmDialogRequest:null,hintDialogRequest:null,updateRequest:null},o=n("f936"),s=n("09f9"),c=n("0967");function u(){return s.a.lt.sm&&c.b.is.electron&&s.a.width<=400}function l(e){return s.a.lt.sm?i.a.DEFAULT:e.viewMode}function d(e,t){return t.getViewMode===i.a.FOCUS}function p(e){return e.viewMode!==i.a.DEFAULT&&!s.a.lt.sm}function f(e){return e.viewMode===i.a.DEFAULT?"bg-colorDividerLight":"hidden"}function h(e){return e.viewMode===i.a.DEFAULT?"fit":"fullscreen"}function g(){return s.a.lt.md&&c.b.is.electron}function m(){return c.b.is.electron}function _(){return c.b.is.electron||c.b.is.desktop}function T(){return c.b.is.win&&c.b.is.electron}function E(){return c.b.is.mac}function v(e){return e.updateRequest}function S(){return o.a.getUI()}function C(e){return e.unexpectedErrorRequest}function b(e){return e.confirmDialogRequest}function I(e){return e.hintDialogRequest}var y,A,D=n("9523"),L=n.n(D),x=n("ed99"),R=(y={},L()(y,x.a.SET_VIEW_MODE,(function(e,t){e.viewMode=t})),L()(y,x.a.SHOW_UPDATE,(function(e,t){e.updateRequest=t})),L()(y,x.a.SHOW_ERROR,(function(e,t){e.unexpectedErrorRequest=t})),L()(y,x.a.SHOW_CONFIRM,(function(e,t){e.confirmDialogRequest=t})),L()(y,x.a.SHOW_HINT,(function(e,t){e.hintDialogRequest=t})),y),w=(n("a4d3"),n("e01a"),n("ac1f"),n("466d"),n("d3b7"),n("e6cf"),n("a79d"),n("ac7d")),k=n("8896"),P=n("533d"),N=n("a087"),F=n("e2db"),O=n("5046"),B=n("c9d9"),U=n("3a75"),M=(A={},L()(A,B.a.onShowNotification,(function(e,t){var n=e.getters.getUI;if(n){var r=t.titleRes,i=t.descriptionRes,a=t.description||n.$t(i);if(r&&a){var o=new Notification(n.$t(r),{body:a});o.onclick=function(){o.close()}}}})),L()(A,B.a.onShowError,(function(e,t){var n=e.getters.getUI,r={date:Date.now(),icon:"error",iconColor:"negative",title:t.code,message:t.message,actionLabel:n.$t("about_label_issue"),onActionClicked:function(){N.a.email(n,t.code,t)}};e.commit(x.a.SHOW_HINT,r)})),L()(A,B.a.onShowConfirm,(function(e,t){t.date=Date.now(),e.commit(x.a.SHOW_CONFIRM,t)})),L()(A,B.a.onShowHint,(function(e,t){t.date=Date.now(),e.commit(x.a.SHOW_HINT,t)})),L()(A,B.a.onHandleReferralLink,(function(){var e=(k.a.remove("search")||"").match(/r=(.*)/);if(e&&2===e.length){var t=e[1];if(t){var n=P.a.decryptText(t);if(n)return o.a.getSettings().referralId=n,w.a.save()}}})),L()(A,B.a.onGenerateReferralLink,(function(){return O.a.showLoadingState(),U.a.getInvitationLink().finally((function(){return O.a.hideLoadingState()}))})),L()(A,B.a.onOpenLink,(function(e,t){if(F.a.isDesktop())return e.dispatch(B.a.onOpenLinkElectron,t);O.a.openURL(t)})),A);t.a={namespaced:!1,state:a,getters:r,mutations:R,actions:M}},"0477":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7");var r={TEXT_PLAIN:{id:0,iconRes:"text_fields",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_text_plain"},LINK:{id:1,iconRes:"link",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_link"},MARKDOWN:{id:2,iconRes:"fab fa-markdown",iconSize:"16px",iconOuterClass:"q-mr-sm q-ml-xs",labelRes:"clip_text_type_markdown"},HTML:{id:3,iconRes:"fas fa-code",iconSize:"16px",iconOuterClass:"q-mr-sm q-ml-xs",labelRes:"clip_text_type_html"},LINE_CLICKABLE:{id:4,iconRes:"line_weight",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_line_clickable"},WORD_CLICKABLE:{id:5,iconRes:"line_style",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_word_clickable"},QRCODE:{id:6,iconRes:"fas fa-qrcode",iconSize:"16px",iconOuterClass:"q-mr-sm q-ml-xs",labelRes:"clip_text_type_qrcode"}};r.byId={0:r.TEXT_PLAIN,1:r.LINK,2:r.MARKDOWN,3:r.HTML,4:r.LINE_CLICKABLE,5:r.WORD_CLICKABLE,6:r.QRCODE},r.values=[r.TEXT_PLAIN,r.LINK,r.QRCODE,r.MARKDOWN,r.HTML,r.LINE_CLICKABLE,r.WORD_CLICKABLE]},"0860":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("970b"),i=n.n(r),a=n("9523"),o=n.n(a),s=(n("b0c0"),n("a4d3"),n("e01a"),function e(){i()(this,e),o()(this,"id",void 0),o()(this,"name",void 0),o()(this,"created",void 0),o()(this,"updated",void 0),o()(this,"installs",void 0),o()(this,"userId",void 0),o()(this,"userName",void 0),o()(this,"color",void 0),o()(this,"country",void 0),o()(this,"language",void 0),o()(this,"filterId",void 0),o()(this,"snippetsCount",void 0),o()(this,"publicLink",void 0),o()(this,"description",void 0),o()(this,"publicStatus",void 0),o()(this,"updateReason",void 0),o()(this,"categoryId",void 0),o()(this,"sharable",void 0),o()(this,"sortBy",void 0),o()(this,"listStyle",void 0),o()(this,"snippets",void 0)});o()(s,"areTheSame",(function(e,t){return!e&&!t||!(!e||!t)&&(e.id===t.id&&e.name===t.name&&e.created===t.created&&e.updated===t.updated&&e.installs===t.installs&&e.userId===t.userId&&e.userName===t.userName&&e.color===t.color&&e.country===t.country&&e.language===t.language&&e.filterId===t.filterId&&e.snippetsCount===t.snippetsCount&&e.publicLink===t.publicLink&&e.description===t.description&&e.publicStatus===t.publicStatus&&e.updateReason===t.updateReason&&e.categoryId===t.categoryId&&e.sharable===t.sharable&&e.sortBy===t.sortBy&&e.listStyle===t.listStyle)}))},"08ff":function(e,t,n){"use strict";var r=n("72a1"),i={name:"SwitchBlock",props:["descriptionRes","notClickable","titleRes","onChecked","progress","iconRes","checked","disable","value"],data:function(){return{switchValue:this.checked||this.value||!1}},watch:{value:function(e){this.switchValue=e},checked:function(e){this.switchValue=e}},computed:{getTag:function(){return this.notClickable?"div":"label"},getIcon:function(){return this.iconRes},getTitle:function(){return this.$t(this.titleRes)},getDescription:function(){return this.$t(this.descriptionRes)}},methods:{onChanged:function(e){this.$emit("input",e),r.a.execFunction(this.onChecked,[e])}}},a=n("2877"),o=n("66e5"),s=n("4074"),c=n("0016"),u=n("0170"),l=n("8380"),d=n("9564"),p=n("eebe"),f=n.n(p),h=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-item",{staticClass:"q-pr-sm q-pl-md q-my-none",attrs:{tag:e.getTag,disable:e.disable,dense:!e.descriptionRes}},[e.getIcon?n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{size:"24px",name:e.getIcon,color:"textColorPrimary"}})],1):e._e(),n("q-item-section",[n("q-item-label",{staticClass:"text-textColorPrimary"},[e._v("\n      "+e._s(e.getTitle)+"\n      "),e.progress?n("q-spinner-dots",{staticClass:"q-ml-sm",attrs:{color:"textColorPrimary"}}):e._e(),e._t("titleSuffix")],2),e.descriptionRes?n("q-item-label",{staticClass:"text-textColorSecondary",attrs:{caption:""}},[e._v("\n      "+e._s(e.getDescription)+"\n    ")]):e._e()],1),n("q-item-section",{attrs:{side:""}},[n("q-toggle",{attrs:{color:"colorAccent",disable:e.disable},on:{input:e.onChanged},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1)],1)}),[],!1,null,null,null);t.a=h.exports;f()(h,"components",{QItem:o.a,QItemSection:s.a,QIcon:c.a,QItemLabel:u.a,QSpinnerDots:l.a,QToggle:d.a})},"0a49":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getSettings",(function(){return c})),n.d(r,"getSelectedFont",(function(){return u})),n.d(r,"getTextSize",(function(){return l})),n.d(r,"canPreviewLinks",(function(){return d})),n.d(r,"isSettingsFlatMode",(function(){return p})),n.d(r,"isTagNavOpened",(function(){return f})),n.d(r,"isDarkMode",(function(){return h})),n.d(r,"isFirstLaunch",(function(){return g})),n.d(r,"isAutoSaveEnabled",(function(){return m})),n.d(r,"canTrackClipboard",(function(){return _})),n.d(r,"canShowAdditionalAttributes",(function(){return T})),n.d(r,"getSelectedFontClass",(function(){return E})),n.d(r,"getClipListLimits",(function(){return v})),n.d(r,"getTagListLimits",(function(){return S})),n.d(r,"getClipListWidth",(function(){return C})),n.d(r,"getTagListWidth",(function(){return b})),n.d(r,"getClipboardLimitRange",(function(){return I})),n.d(r,"getClipboardLimitDefault",(function(){return y})),n.d(r,"getClipboardLimitMax",(function(){return A})),n.d(r,"getClipboardLimitMin",(function(){return D})),n.d(r,"getRecycleBinLimitRange",(function(){return L})),n.d(r,"getRecycleBinLimitDefault",(function(){return x})),n.d(r,"getRecycleBinLimitMax",(function(){return R})),n.d(r,"getRecycleBinLimitMin",(function(){return w})),n.d(r,"getRunes",(function(){return k}));n("d3b7"),n("159b"),n("7db0");var i=n("f936"),a=n("72a1"),o=n("96e0"),s=n("25da");function c(e){return e.settings||i.a.getSettings()}function u(e,t){return t.getSettings.getFont()}function l(e,t){return e.selectedTextSize||t.getSettings.textSize}function d(e,t){return!t.getSettings.doNotPreviewLinks}function p(e,t){return t.getSettings.settingsFlatMode}function f(e,t){return!t.getSettings.leftNavClosed}function h(e,t){return t.getSelectedTheme.dark}function g(e,t){return t.getSettings.isFirstLaunch}function m(e,t){return t.getSettings.autoSave}function _(e,t){return t.getSettings.trackClipboardChanges}function T(e,t){return t.getSettings.noteShowAdditionalAttributes}function E(e,t){var n=t.getSelectedFont;return n?n.styleClass:null}function v(){return[25,70]}function S(e,t){return t.isTagNavOpened?[15,30]:[0,0]}function C(e,t){return t.getSettings.clipListWidth}function b(e,t){return t.isTagNavOpened?t.getSettings.tagListWidth:0}function I(e,t){var n=t.remoteConfigLimitClipboardNotesDefault,r=t.remoteConfigLimitClipboardNotesRange;return-1===r.indexOf(n)&&r.push(n),Object(s.a)(r),-1===r[0]&&r.push(r.shift()),r}function y(e,t){var n=t.remoteConfigLimitClipboardNotesDefault;return t.getClipboardLimitRange.indexOf(n)}function A(e,t){return t.getClipboardLimitRange.length-1}function D(){return 0}function L(e,t){var n=t.remoteConfigLimitDeletedNotesDefault,r=t.remoteConfigLimitDeletedNotesRange;return-1===r.indexOf(n)&&r.push(n),Object(s.a)(r),-1===r[0]&&r.push(r.shift()),r}function x(e,t){var n=t.remoteConfigLimitDeletedNotesDefault;return t.getRecycleBinLimitRange.indexOf(n)}function R(e,t){return t.getRecycleBinLimitRange.length-1}function w(){return 0}function k(e,t){var n=t.remoteConfigRuneConfigs,r=t.isDesktopMode,i=t.isAuthorized,s=t.getSettings,c=t.getUI,u=[{id:"instant_sync",isAvailable:!0,isActive:i,color:"#00E5FF",titleRes:"runes_instant_sync_title",description:c.$t("runes_instant_sync_description")},{id:"theme",isAvailable:!0,isActive:s.theme!==o.a.DEFAULT.id,color:"#76FF03",titleRes:"runes_theme_title",description:c.$t("runes_theme_description")},{id:"clipboard",isAvailable:r,isActive:s.trackClipboardChanges,color:"#82B1FF",titleRes:"runes_clipboard_title",description:c.$t("runes_clipboard_description")},{id:"link_preview",isAvailable:!0,isActive:!s.doNotPreviewLinks,color:"#00B0FF",titleRes:"runes_link_preview_title",description:c.$t("runes_link_preview_description")},{id:"hide_on_copy",isAvailable:r,isActive:s.hideOnCopy&&r,color:"#00E5FF",titleRes:"runes_hide_on_copy_title",description:c.$t("runes_hide_on_copy_description")},{id:"auto_save",isAvailable:!0,isActive:s.autoSave,color:"#3D5AFE",titleRes:"runes_auto_save_title",description:c.$t("runes_auto_save_description")},{id:"focus_on_title",isAvailable:!0,isActive:s.focusOnTitle,color:"#C6FF00",titleRes:"runes_focus_on_title_title",description:c.$t("runes_focus_on_title_description")},{id:"remember_last_filter",isActive:s.restoreFilterOnStart,color:"#FF3D00",titleRes:"runes_remember_last_filter_title",description:c.$t("runes_remember_last_filter_description")},{id:"hotkeys",isAvailable:r,isActive:s.hasHotkeys()&&r,color:"#18ffbe",titleRes:"runes_hotkeys_title",description:c.$t("runes_hotkeys_description")},{id:"loyalty",isAvailable:!0,isActive:i,color:"#FF1744",titleRes:"runes_loyalty_title",description:c.$t("runes_loyalty_description")}];return a.a.isNull(n)||n.forEach((function(e){var t=u.find((function(t){return t.id===e.id}));t&&(t.colorLight=e.colorLight,t.colorDark=e.colorDark)})),u}var P,N=n("9523"),F=n.n(N),O=n("ed99"),B=n("1cee"),U=(P={},F()(P,O.a.UPDATE_SETTINGS,(function(e){M(e)})),F()(P,O.a.SET_TEXT_SIZE,(function(e,t){e.selectedTextSize=t})),F()(P,O.a.TOGGLE_ADDITIONAL_ATTRS,(function(e){M(e,(function(e){e.noteShowAdditionalAttributes=!e.noteShowAdditionalAttributes,B.a.debug("attrs",e.noteShowAdditionalAttributes)}))})),P);function M(e,t){var n=i.a.getSettings();t&&t(n),e.selectedTextSize=n.textSize,e.selectedFont=n.getFont(),e.settings=n}var V,H=n("c973"),W=n.n(H),q=(n("96cf"),n("ac7d")),z=n("61b4"),G=n("c9d9"),K=function(e){z.a.runWithDelay(G.a.onSaveSettings,z.a.getDefaultDelay(),(function(){return B.a.debug("save settings"),q.a.save().then((function(){if(e.getters.isDesktopMode)return e.dispatch(G.a.onUpdateElectronState)}))}))},j=n("1074"),$=n("a987"),Y=(V={},F()(V,G.a.onInitSettings,(function(e,t){return i.a.setUI(t),j.a.initAll(e).then(W()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.a.getSettings(),n.next=3,$.a.setLanguage(t,r.language);case 3:return e.commit(O.a.SET_THEME,r.getTheme()),e.commit(O.a.SET_LANGUAGE,r.language),e.commit(O.a.UPDATE_SETTINGS),n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)}))))})),F()(V,G.a.onSaveSettings,(function(e){return e.commit(O.a.UPDATE_SETTINGS),K(e)})),F()(V,G.a.onChangeWindowSize,(function(e,t){var n=a.a.zeroIfNull(t.clipListWidth),r=a.a.zeroIfNull(t.tagListWidth),o=i.a.getSettings();if(o.tagListWidth!==r&&0!==r||o.clipListWidth!==n)return B.a.debug("onChangeWindowSize",o.clipListWidth,n,o.tagListWidth,r),o.clipListWidth=n,o.tagListWidth=r,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onRefreshSettings,(function(e,t){var n=i.a.getSettings(),r=n.getTheme(),a=n.language;return e.dispatch(G.a.onChangeTheme,{theme:r}).then((function(){return $.a.setLanguage(t,a)}))})),F()(V,G.a.onChangeTextSize,(function(e,t){return i.a.getSettings().textSize=t.textSize,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onShowHidePreview,(function(e,t){return i.a.getSettings().doNotPreviewLinks=!t.show,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onChangeTextFont,(function(e,t){var n=i.a.getSettings(),r=t.textFont.id;if(n.textFont!==r)return n.textFont=r,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onChangeNoteAdditionalAttrsState,(function(e){var t=i.a.getSettings();return t.noteShowAdditionalAttributes=!t.noteShowAdditionalAttributes,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onChangeLeftNavigationState,(function(e){var t=i.a.getSettings();return t.leftNavClosed=!t.leftNavClosed,e.commit(O.a.REQUEST_SHOW_LEFT_NAV),e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onChangeTheme,(function(e,t){var n=i.a.getSettings(),r=t.theme;return n.theme=r.id,e.dispatch(G.a.onSaveSettings).then((function(){e.commit(O.a.SET_THEME,r),e.commit(O.a.UPDATE_PREVIEW)}))})),F()(V,G.a.onChangeLanguage,(function(e,t){return z.a.runOnUI((function(n){var r=t.lang;return $.a.setLanguage(n,r).then((function(){return i.a.getSettings().language=r,e.commit(O.a.SET_LANGUAGE,r),e.dispatch(G.a.onSaveSettings)}))}))})),F()(V,G.a.onCompleteFirstLaunch,(function(e){return i.a.getSettings().isFirstLaunch=!1,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onChangeSettingsMode,(function(e,t){return i.a.getSettings().settingsFlatMode=t.flatMode,e.dispatch(G.a.onSaveSettings)})),F()(V,G.a.onChangeTextSeparator,(function(e,t){return i.a.getSettings().textSeparator=t.textSeparator,e.dispatch(G.a.onSaveSettings)})),V);t.a={namespaced:!1,state:{selectedTextSize:null,selectedFont:null,settings:null},getters:r,mutations:U,actions:Y}},"0b57":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("72a1")),o=n("1cee"),s=n("4dec"),c={liveQueries:{},isLiveQueryDisposed:function(e){var t=c.liveQueries[e];return!t||t.closed},disposeLiveQuery:function(e){var t=c.liveQueries[e];a.a.isNull(t)||(delete c.liveQueries[e],o.a.debug("DexieUtils :: disposeLiveQuery",e),a.a.execFunction(t.unsubscribe))},createLiveQuery:function(e,t,n){c.disposeLiveQuery(e),c.liveQueries[e]=Object(s.b)(t).subscribe(function(){var t=i()(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.a.debug("DexieUtils :: on live changes ::","id =",e,"count =",a.a.getLength(r)),t.prev=1,t.next=4,n(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),o.a.error("DexieUtils :: on live changes error ::",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())}}},"0d0a":function(e,t,n){"use strict";var r={name:"PrimaryButton",props:["titleRes","onClicked","onLongClicked","unelevated","disable","dense","size"],methods:{onClick:function(){this.onClicked&&this.onClicked()},onLongClick:function(){this.onLongClicked&&this.onLongClicked()}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getTitle:function(){return this.$t(this.titleRes)}}},i=n("2877"),a=n("9c40"),o=n("eebe"),s=n.n(o),c=Object(i.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-btn",{staticClass:"q-mx-md",style:e.getAppButtonStyle,attrs:{"no-caps":"",size:e.size,dense:e.dense,label:e.getTitle,disable:e.disable,color:"colorAccent",unelevated:e.unelevated,"text-color":"textColorOnSurface"},on:{click:[function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.onLongClick(t):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.onClick(t)}]}})}),[],!1,null,null,null);t.a=c.exports;s()(c,"components",{QBtn:a.a})},"0ebd":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("c9d9"),i={NOTES:{id:1,isExpanded:!1,titleRes:"main_filter_notes",actionTitleRes:"main_action_notes_new_title",apply:function(e){e.filterGroupNotesCollapsed=!this.isExpanded},restore:function(e){this.isExpanded=!e.filterGroupNotesCollapsed},execute:function(e){return e.$store.dispatch(r.a.onCreateNewClip)}},FILTERS:{id:2,isExpanded:!1,titleRes:"main_filter_filters",actionTitleRes:"main_action_organize_filter_title",apply:function(e){e.filterGroupFiltersCollapsed=!this.isExpanded},restore:function(e){this.isExpanded=!e.filterGroupFiltersCollapsed},execute:function(e){return e.$store.dispatch(r.a.onCreateNewFilter)}},TAGS:{id:3,isExpanded:!1,titleRes:"main_filter_tags",actionTitleRes:"main_action_organize_tag_title",apply:function(e){e.filterGroupTagsCollapsed=!this.isExpanded},restore:function(e){this.isExpanded=!e.filterGroupTagsCollapsed},execute:function(e){return e.$store.dispatch(r.a.onCreateNewTag)}},SNIPPET_KITS:{id:4,isExpanded:!1,titleRes:"clip_details_tab_snippet_kits",actionTitleRes:"main_action_snippets_set_title",apply:function(e){e.filterGroupSnippetsCollapsed=!this.isExpanded},restore:function(e){this.isExpanded=!e.filterGroupSnippetsCollapsed},execute:function(e){return e.$store.dispatch(r.a.onCreateNewSnippetKit)}}};i.byId={1:i.NOTES,2:i.FILTERS,3:i.TAGS,4:i.SNIPPET_KITS}},1074:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("ac7d")),o=n("8376"),s=n("2063"),c=n("fb10"),u=n("25d0"),l=n("2667").a.clipto,d=function(){return l.tags.clear()},p=n("d975"),f={initAll:function(e){return p.a.inTx("initAll",i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.init(e);case 2:return t.next=4,s.a.init(e);case 4:case"end":return t.stop()}}),t)}))))},removeAll:function(e){return p.a.inTx("removeAll",i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:return t.next=4,c.a.clear(e);case 4:return t.next=6,o.a.clear(e);case 6:return t.next=8,u.a.clear(e);case 8:return t.next=10,s.a.clear(e);case 10:return t.next=12,a.a.clear(e);case 12:case"end":return t.stop()}}),t)}))))}}},"16c9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a9e3");var r=n("2667"),i=n("72a1"),a={NONE:{id:0,titleRes:"account_plan_free"},CONTRIBUTOR:{id:1,titleRes:"account_plan_contributor"},PERSONAL:{id:2,titleRes:"account_plan_personal"},SUBSCRIPTION:{id:3,titleRes:"account_plan_subscription"}};a.byId={0:a.NONE,1:a.CONTRIBUTOR,2:a.PERSONAL,3:a.SUBSCRIPTION};var o=r.a.clipto.users.defineClass({id:Number,email:String,status:String,photoUrl:String,firebaseId:String,displayName:String,syncIsRestricted:Boolean,syncLimit:Number,license:Number});o.prototype.canCreateNotes=function(){return!this.syncIsRestricted},o.prototype.isAuthorized=function(){return!i.a.isNullOrBlank(this.firebaseId)},o.prototype.getLicenseType=function(){return a.byId[this.license]||a.NONE},o.prototype.copy=function(){var e=new o;return e.id=this.id,e.email=this.email,e.status=this.status,e.photoUrl=this.photoUrl,e.firebaseId=this.firebaseId,e.displayName=this.displayName,e.syncIsRestricted=this.syncIsRestricted,e.syncLimit=this.syncLimit,e.license=this.license,e},o.NULL=new o},"176d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7");var r={DEFAULT:{id:0,height:72,separator:!0,titleRes:"list_style_default"},COMFORTABLE:{id:1,height:72,separator:!0,titleRes:"list_style_comfortable"},COMPACT:{id:2,height:36,separator:!0,titleRes:"list_style_compact"},PREVIEW:{id:3,height:124,separator:!1,titleRes:"list_style_preview"},GRID:{id:4,height:124,separator:!1,titleRes:"list_style_grid"}};r.byId={0:r.DEFAULT,1:r.COMFORTABLE,2:r.COMPACT,3:r.PREVIEW,4:r.GRID},r.values=[r.DEFAULT,r.GRID,r.COMFORTABLE,r.COMPACT,r.PREVIEW]},"19cf":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("add5"),i=n.n(r),a={print:function(e,t){i()({documentTitle:t,printable:e,header:t,scanStyles:!1,type:"html"})}}},"1ce4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={DEFAULT:{icon:"fullscreen",color:"myBackgroundHighlight",textColor:"textColorPrimary",next:function(){return r.FOCUS}},FOCUS:{icon:"fullscreen_exit",color:"myBackgroundHighlight",textColor:"textColorPrimary",next:function(){return r.DEFAULT}}}},2063:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("6374"),i=n.n(r),a=n("c973"),o=n.n(a),s=(n("96cf"),n("d3b7"),n("e6cf"),n("7db0"),n("4de4"),n("159b"),n("b0c0"),n("caad"),n("2532"),n("f936")),c=n("72a1"),u=n("6f2e"),l=n("176d"),d=n("1cee"),p=n("de99"),f=n("886e"),h=n("fab3"),g=n("2667"),m=n("c9d9"),_=g.a.clipto,T={rebuildFilters:!1,consumeRebuildFilters:function(){var e=this.rebuildFilters;return this.rebuildFilters=!1,e},init:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r,a,o,g,T,E,v,S,C,b,I,y,A,D,L,x,R,w,k,P,N,F;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.filters.toArray();case 2:return r=n.sent,a=0===r.length,o=new Date,g=[],T=[],(E=r.find((function(e){return e.type===u.a.ALL.id})))||((E=f.a.newInstance()).uid=u.a.ALL.createUid(),E.sortBy=h.a.CREATE_DATE_DESC.id,E.listStyle=l.a.DEFAULT.id,E.type=u.a.ALL.id,E.createDate=o,E.updateDate=o,g.push(E)),(v=r.find((function(e){return e.type===u.a.STARRED.id})))||((v=f.a.newInstance()).uid=u.a.STARRED.createUid(),v.sortBy=h.a.CREATE_DATE_DESC.id,v.listStyle=l.a.DEFAULT.id,v.type=u.a.STARRED.id,v.createDate=o,v.updateDate=o,v.starred=!0,g.push(v)),(S=r.find((function(e){return e.type===u.a.UNTAGGED.id})))||((S=f.a.newInstance()).uid=u.a.UNTAGGED.createUid(),S.sortBy=h.a.CREATE_DATE_DESC.id,S.listStyle=l.a.DEFAULT.id,S.type=u.a.UNTAGGED.id,S.createDate=o,S.updateDate=o,S.untagged=!0,g.push(S)),(C=r.find((function(e){return e.type===u.a.SNIPPETS.id})))?C.snippets=!0:((C=f.a.newInstance()).uid=u.a.SNIPPETS.createUid(),C.sortBy=h.a.CREATE_DATE_DESC.id,C.listStyle=l.a.DEFAULT.id,C.type=u.a.SNIPPETS.id,C.createDate=o,C.updateDate=o,C.snippets=!0,g.push(C)),(b=r.find((function(e){return e.type===u.a.CLIPBOARD.id})))||((b=f.a.newInstance()).uid=u.a.CLIPBOARD.createUid(),b.excludeWithCustomAttributes=!0,b.sortBy=h.a.USAGE_DATE_DESC.id,b.listStyle=l.a.COMPACT.id,b.type=u.a.CLIPBOARD.id,b.createDate=o,b.updateDate=o,b.clipboard=!0,g.push(b)),c.a.isNullOrZero(b.limit)&&(b.limit=e.getters.remoteConfigLimitClipboardNotesDefault),(I=r.find((function(e){return e.type===u.a.DELETED.id})))||((I=f.a.newInstance()).uid=u.a.DELETED.createUid(),I.sortBy=h.a.DELETE_DATE_DESC.id,I.listStyle=l.a.DEFAULT.id,I.type=u.a.DELETED.id,I.createDate=o,I.updateDate=o,I.recycled=!0,g.push(I)),c.a.isNullOrZero(I.limit)&&(I.limit=e.getters.remoteConfigLimitDeletedNotesDefault),(y=r.find((function(e){return e.type===u.a.LAST.id})))||((y=f.a.newInstance()).uid=u.a.LAST.createUid(),y.sortBy=h.a.CREATE_DATE_DESC.id,y.listStyle=l.a.DEFAULT.id,y.type=u.a.LAST.id,y.createDate=o,y.updateDate=o,g.push(y)),(A=r.find((function(e){return e.type===u.a.GROUP_NOTES.id})))||((A=f.a.newInstance()).uid=u.a.GROUP_NOTES.createUid(),A.type=u.a.GROUP_NOTES.id,A.sortBy=h.a.MANUAL_ASC.id,A.createDate=o,A.updateDate=o,A.tagIds=[u.a.ALL.createUid(),u.a.STARRED.createUid(),u.a.UNTAGGED.createUid(),u.a.CLIPBOARD.createUid(),u.a.SNIPPETS.createUid(),u.a.DELETED.createUid()],g.push(A)),(D=r.find((function(e){return e.type===u.a.GROUP_FILTERS.id})))||((D=f.a.newInstance()).uid=u.a.GROUP_FILTERS.createUid(),D.type=u.a.GROUP_FILTERS.id,D.sortBy=h.a.NAME_ASC.id,D.createDate=o,D.updateDate=o,D.tagIds=c.a.arrayMapNotNull(p.a.sorted(D,r.filter((function(e){return e.isNamedFilter()}))),(function(e){return e.uid})),g.push(D)),(L=r.find((function(e){return e.type===u.a.GROUP_SNIPPETS.id})))||((L=f.a.newInstance()).uid=u.a.GROUP_SNIPPETS.createUid(),L.type=u.a.GROUP_SNIPPETS.id,L.sortBy=h.a.NAME_ASC.id,L.createDate=o,L.updateDate=o,L.tagIds=c.a.arrayMapNotNull(p.a.sorted(L,r.filter((function(e){return e.isSnippetKit()}))),(function(e){return e.uid})),g.push(L)),(x=r.find((function(e){return e.type===u.a.GROUP_TAGS.id})))||((x=f.a.newInstance()).uid=u.a.GROUP_TAGS.createUid(),x.type=u.a.GROUP_TAGS.id,x.sortBy=h.a.NAME_ASC.id,x.createDate=o,x.updateDate=o,x.tagIds=c.a.arrayMapNotNull(p.a.sorted(x,r.filter((function(e){return e.isTag()}))),(function(e){return e.uid})),g.push(x)),R={},g.forEach((function(e){R[e.uid]=e.normalize()})),r.forEach((function(e){var t=e.uid;t&&!R[t]&&(R[t]=e.normalize())})),(w=new p.a).all=E.normalize(),w.untagged=S.normalize(),w.starred=v.normalize(),w.clipboard=b.normalize(),w.deleted=I.normalize(),w.last=y.normalize(),w.snippets=C.normalize(),w.groupTags=x.normalize(),w.groupNotes=A.normalize(),w.groupFilters=D.normalize(),w.groupSnippets=L.normalize(),w.filtersByUid=R,w.initial=a,s.a.setFilters(w),n.next=51,_.tags.toArray();case 51:if(k=n.sent,!c.a.arrayIsNotEmpty(k)){n.next=61;break}return b.excludeWithCustomAttributes||(b.excludeWithCustomAttributes=!0,g.push(b)),t.rebuildFilters=!0,k.forEach((function(e){var t=e.name,n=w.findFilterByTagName(t);if(n)n.notesCount!==e.clipCount&&(n.notesCount=e.clipCount,g.push(n));else{var r=f.a.createTag(t,!0);r.notesCount=e.clipCount,g.push(r),w.filtersByUid[r.uid]=r}})),n.next=58,_.clips.toArray();case 58:n.sent.forEach((function(e){var t=c.a.arrayMapNotNull(e.tagsIn,(function(e){return w.findFilterByTagName(e)}));t=c.a.arrayMapNotNull(t,(function(e){return e.uid})),t=c.a.arrayDistinct(t),e.setTagIds(t),T.push(e)})),e.dispatch(m.a.onShowBannerUseCase,{title:"Action Required",message:"It is recommended to re-login to rebuild the local index"}).then((function(){return d.a.debug(m.a.onShowBannerUseCase)}));case 61:if(!c.a.arrayIsNotEmpty(g)&&!t.rebuildFilters){n.next=86;break}d.a.debug("created filters",g.length,"updated clips",T.length),P=i()(g),n.prev=64,P.s();case 66:if((N=P.n()).done){n.next=74;break}return(F=N.value).hideHint=!1,n.next=71,_.filters.put(F);case 71:F.id=n.sent;case 72:n.next=66;break;case 74:n.next=79;break;case 76:n.prev=76,n.t0=n.catch(64),P.e(n.t0);case 79:return n.prev=79,P.f(),n.finish(79);case 82:return n.next=84,_.clips.bulkPut(T);case 84:return n.next=86,_.tags.clear();case 86:return w.getTags().forEach((function(e){e.hideHint=!0})),s.a.getSettings().restoreFilterOnStart||y.withFilter(E),n.abrupt("return",w);case 90:case"end":return n.stop()}}),n,null,[[64,76,79,82]])})))()},clear:function(){return o()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.a.REMOVABLE_TYPES,e.next=3,_.filters.where("type").anyOf(t).delete();case 3:s.a.getFilters().clear();case 4:case"end":return e.stop()}}),e)})))()},getFilters:function(){return s.a.getFilters()},getAllFilters:function(){return _.filters.toArray()},getFilterByUid:function(e){return e?_.filters.where("uid").equals(e).first():null},save:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.normalize(),e.updateDate=new Date,n.next=4,_.filters.put(e);case 4:if(e.id=n.sent,r=e.uid){n.next=8;break}throw new Error("Please report this issue to the developer. Probably he has implemented something wrongly.");case 8:return c.a.getOrPut(r,t.getFilters().filtersByUid,(function(){return e})).withFilter(e,!0),n.abrupt("return",e);case 10:case"end":return n.stop()}}),n)})))()},remove:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.uid){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,_.filters.where("uid").equals(r).delete();case 5:return delete t.getFilters().filtersByUid[r],n.abrupt("return",e);case 7:case"end":return n.stop()}}),n)})))()},update:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var a,o,s,u,l,d,p,f,h,g,m,_,T,E,v,S,C,b,I,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e?e.getTagIds():[],o=t?t.getTagIds():[],!e||e.isDeleted()){r.next=24;break}s=i()(a),r.prev=4,s.s();case 6:if((u=s.n()).done){r.next=16;break}if(l=u.value,o.includes(l)){r.next=14;break}if(!(d=n.getFilters().findFilterByTagId(l,!0))){r.next=14;break}return d.notesCount=c.a.zeroIfNull(d.notesCount)-1,r.next=14,n.save(d);case 14:r.next=6;break;case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(4),s.e(r.t0);case 21:return r.prev=21,s.f(),r.finish(21);case 24:if(!t||t.isDeleted()){r.next=46;break}p=i()(o),r.prev=26,p.s();case 28:if((f=p.n()).done){r.next=38;break}if(h=f.value,a.includes(h)){r.next=36;break}if(!(g=n.getFilters().findFilterByTagId(h,!0))){r.next=36;break}return g.notesCount=c.a.zeroIfNull(g.notesCount)+1,r.next=36,n.save(g);case 36:r.next=28;break;case 38:r.next=43;break;case 40:r.prev=40,r.t1=r.catch(26),p.e(r.t1);case 43:return r.prev=43,p.f(),r.finish(43);case 46:if(m=e?e.getKitIds():[],_=t?t.getKitIds():[],!e||e.isDeleted()){r.next=70;break}T=i()(m),r.prev=50,T.s();case 52:if((E=T.n()).done){r.next=62;break}if(v=E.value,_.includes(v)){r.next=60;break}if(!(S=n.getFilters().findFilterBySnippetKitId(v,!0))){r.next=60;break}return S.notesCount=c.a.zeroIfNull(S.notesCount)-1,r.next=60,n.save(S);case 60:r.next=52;break;case 62:r.next=67;break;case 64:r.prev=64,r.t2=r.catch(50),T.e(r.t2);case 67:return r.prev=67,T.f(),r.finish(67);case 70:if(!t||t.isDeleted()){r.next=92;break}C=i()(_),r.prev=72,C.s();case 74:if((b=C.n()).done){r.next=84;break}if(I=b.value,m.includes(I)){r.next=82;break}if(!(y=n.getFilters().findFilterBySnippetKitId(I,!0))){r.next=82;break}return y.notesCount=c.a.zeroIfNull(y.notesCount)+1,r.next=82,n.save(y);case 82:r.next=74;break;case 84:r.next=89;break;case 86:r.prev=86,r.t3=r.catch(72),C.e(r.t3);case 89:return r.prev=89,C.f(),r.finish(89);case 92:case"end":return r.stop()}}),r,null,[[4,18,21,24],[26,40,43,46],[50,64,67,70],[72,86,89,92]])})))()}}},"206d":function(e,t,n){},"22a9":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("c973"),i=n.n(r),a=n("970b"),o=n.n(a),s=n("5bc3"),c=n.n(s),u=n("9523"),l=n.n(u),d=(n("96cf"),n("1cee")),p=n("72a1"),f=n("f936"),h=n("53e6"),g=n("61b4"),m=n("ac7d"),_=n("e6d6"),T=function(){function e(t,n,r,i,a,s,c,u,d,p,f,g){o()(this,e),l()(this,"activeListener",null),l()(this,"deletedListener",null),l()(this,"activeLatestDate",null),l()(this,"deletedLatestDate",null),l()(this,"id",null),l()(this,"context",null),l()(this,"activeRef",null),l()(this,"deletedRef",null),l()(this,"collection",null),l()(this,"defaultSortOrderBy",null),l()(this,"settingsActiveDateField",null),l()(this,"settingsDeletedDateField",null),l()(this,"activeInitialCallback",null),l()(this,"activeSnapshotCallback",null),l()(this,"deletedInitialCallback",null),l()(this,"deletedSnapshotCallback",null),l()(this,"queryOnlyLatestChangedNotesMinimumInterval",null),l()(this,"queryOnlyLatestChangedNotesReconnectDelay",null),l()(this,"queryOnlyLatestChangedNotesThreshold",null),l()(this,"queryOnlyLatestChangedNotesOperator",">"),l()(this,"firstCallback",null),l()(this,"firstCallbackConsumed",new h.a(!1)),this.id=t,this.context=n,this.activeRef=r,this.deletedRef=i,this.defaultSortOrderBy=c,this.settingsActiveDateField=a,this.settingsDeletedDateField=s,this.queryOnlyLatestChangedNotesMinimumInterval=n.getters.remoteConfigQueryOnlyLatestChangedNotesMinimumInterval,this.queryOnlyLatestChangedNotesReconnectDelay=n.getters.remoteConfigQueryOnlyLatestChangedNotesReconnectDelay,this.queryOnlyLatestChangedNotesThreshold=n.getters.remoteConfigQueryOnlyLatestChangedNotesThreshold,this.activeInitialCallback=u,this.activeSnapshotCallback=d,this.deletedInitialCallback=p,this.deletedSnapshotCallback=f,this.firstCallback=g}return c()(e,[{key:"subscribe",value:function(e){return this._getDeletedChanges(e,!1),this._getActiveChanges(e,!1),this}},{key:"dispose",value:function(){this._disposeActive(),this._disposeDeleted()}},{key:"_disposeActive",value:function(){g.a.dispose(this._getActiveChangesId());var e=p.a.execFunction(this.activeListener);d.a.debug("FIREBASE LISTENER :: disposed",this._getActiveChangesId(),e)}},{key:"_disposeDeleted",value:function(){g.a.dispose(this._getDeletedChangesId());var e=p.a.execFunction(this.deletedListener);d.a.debug("FIREBASE LISTENER :: disposed",this._getDeletedChangesId(),e)}},{key:"_reconnectActiveChanges",value:function(e){var t=this,n=t._getActiveChangesId(),r=t.queryOnlyLatestChangedNotesReconnectDelay||0;e&&(r=0),d.a.debug("FIREBASE LISTENER :: request reconnectActiveChanges","id",n,"delay",r),g.a.runWithDelay(n,r,(function(){t._getActiveChanges(!1,!0)}))}},{key:"_reconnectDeletedChanges",value:function(e){var t=this,n=t._getDeletedChangesId(),r=t.queryOnlyLatestChangedNotesReconnectDelay||0;e&&(r=0),d.a.debug("FIREBASE LISTENER :: request reconnectDeletedChanges","id",n,"delay",r),g.a.runWithDelay(n,r,(function(){t._getDeletedChanges(!1,!0)}))}},{key:"_getActiveChangesId",value:function(){return"active_listener_".concat(this.id)}},{key:"_getDeletedChangesId",value:function(){return"deleted_listener_".concat(this.id)}},{key:"_getActiveChanges",value:function(e,t){var n=this;this._disposeActive(),d.a.debug("FIREBASE LISTENER :: getActiveChanges","id",this._getActiveChangesId(),"forceSync",e,"isReconnected",t);var r=this,a=r.activeRef,o=r.context,s=e,c=f.a.getSettings(),u=r.activeInitialCallback,l=r.activeSnapshotCallback;s?(c[r.settingsActiveDateField]=null,r.activeLatestDate=null,m.a.saveLater()):r.activeLatestDate=c[r.settingsActiveDateField];var h,g=r.activeLatestDate;if(d.a.debug("FIREBASE LISTENER :: getActiveChanges","id",r._getActiveChangesId(),"last date",g),g)h=a.where(_.a.ATTR_CHANGE_TIMESTAMP,r.queryOnlyLatestChangedNotesOperator,g).orderBy(_.a.ATTR_CHANGE_TIMESTAMP);else{d.a.debug("FIREBASE LISTENER :: WARN :: no last date",r._getActiveChangesId());var T=r.defaultSortOrderBy;h=T?a.orderBy(T):a}r.activeListener=_.a.createListener(r._getActiveChangesId(),o,h,e,function(){var a=i()(regeneratorRuntime.mark((function i(a){var o,s,l,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=a.metadata,s=a.docChanges(),i.next=4,p.a.execFunctionAsync(u,[s,t]);case 4:if(r.firstCallbackConsumed.compareAndSet(!1,!0)&&p.a.execFunction(r.firstCallback),o.fromCache||!(s.length>0)){i.next=21;break}if(l=_.a.getNewDate(s)||new Date,!p.a.isDate(l)){i.next=21;break}return c[r.settingsActiveDateField]=l,r.activeLatestDate=l,i.next=12,m.a.save();case 12:if(r._reconnectActiveChanges(e),!n.deletedRef){i.next=21;break}if((d=r.deletedLatestDate)&&!(d.getTime()>l.getTime())){i.next=21;break}return c[r.settingsDeletedDateField]=l,r.deletedLatestDate=l,i.next=20,m.a.save();case 20:r._reconnectDeletedChanges(e);case 21:case"end":return i.stop()}}),i)})));return function(e){return a.apply(this,arguments)}}(),function(){var a=i()(regeneratorRuntime.mark((function i(a){var o,s,u,f,h,g;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=a.metadata,s=a.docChanges(),i.next=4,p.a.execFunctionAsync(l,[s,t]);case 4:if(r.firstCallbackConsumed.compareAndSet(!1,!0)&&p.a.execFunction(r.firstCallback),r.activeLatestDate&&(o.fromCache||!(s.length>0||a.size>r.queryOnlyLatestChangedNotesThreshold))){i.next=18;break}if(u=_.a.getNewDate(s)||_.a.getNewDate(a.docs)||new Date,d.a.debug("FIREBASE LISTENER :: check if reconnect","id",r._getActiveChangesId(),"hasPendingWrites",o.hasPendingWrites,"newDate",u,"prevDate",r.activeLatestDate,"interval",r.queryOnlyLatestChangedNotesMinimumInterval,"snapshot.size",a.size,"notesThreshold",r.queryOnlyLatestChangedNotesThreshold,"changes",s.length),!p.a.isDate(u)){i.next=18;break}if(f=r.activeLatestDate,!((h=!f||u.getTime()-f.getTime()>r.queryOnlyLatestChangedNotesMinimumInterval||a.size>r.queryOnlyLatestChangedNotesThreshold)||f.getTime()>u.getTime())){i.next=18;break}return c[r.settingsActiveDateField]=u,r.activeLatestDate=u,n.deletedRef&&(!(g=r.deletedLatestDate)||g.getTime()>u.getTime())&&(c[r.settingsDeletedDateField]=u,r.deletedLatestDate=u),i.next=17,m.a.save();case 17:h&&r._reconnectActiveChanges(e);case 18:case"end":return i.stop()}}),i)})));return function(e){return a.apply(this,arguments)}}())}},{key:"_getDeletedChanges",value:function(e,t){if(this._disposeDeleted(),this.deletedRef){d.a.debug("FIREBASE LISTENER :: getDeletedChanges","id",this._getDeletedChangesId(),"forceSync",e,"isReconnected",t);var n=this,r=n.deletedRef,a=n.context,o=e,s=f.a.getSettings(),c=n.deletedInitialCallback,u=n.deletedSnapshotCallback;n.deletedLatestDate=o?new Date:n.deletedLatestDate||s[n.settingsDeletedDateField]||this.activeLatestDate,s[n.settingsDeletedDateField]=n.deletedLatestDate,m.a.saveLater();var l,h=n.deletedLatestDate;if(!p.a.isDate(h))return null;d.a.debug("FIREBASE LISTENER :: getDeletedChanges","id",n._getDeletedChangesId(),"last date",h),l=o?r.where(_.a.ATTR_CHANGE_TIMESTAMP,n.queryOnlyLatestChangedNotesOperator,h).orderBy(_.a.ATTR_CHANGE_TIMESTAMP,"desc").limit(1):r.where(_.a.ATTR_CHANGE_TIMESTAMP,n.queryOnlyLatestChangedNotesOperator,h).orderBy(_.a.ATTR_CHANGE_TIMESTAMP),n.deletedListener=_.a.createListener(n._getDeletedChangesId(),a,l,e,function(){var r=i()(regeneratorRuntime.mark((function r(i){var a,o,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.docChanges(),r.next=3,p.a.execFunctionAsync(c,[a,t]);case 3:if(o=_.a.getNewDate(a),!p.a.isDate(o)){r.next=12;break}if((u=n.deletedLatestDate)&&u.getTime()===o.getTime()){r.next=12;break}return s[n.settingsDeletedDateField]=o,n.deletedLatestDate=o,r.next=11,m.a.save();case 11:n._reconnectDeletedChanges(e);case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),function(){var r=i()(regeneratorRuntime.mark((function r(i){var a,o,c,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.metadata,o=i.docChanges(),r.next=4,p.a.execFunctionAsync(u,[o,t]);case 4:if(a.fromCache||!(o.length>0||i.size>n.queryOnlyLatestChangedNotesThreshold)){r.next=16;break}if(c=_.a.getNewDate(o)||_.a.getNewDate(i.docs)||new Date,d.a.debug("FIREBASE LISTENER :: check if reconnect","id",n._getDeletedChangesId(),"hasPendingWrites",a.hasPendingWrites,"newDate",c,"prevDate",n.deletedLatestDate,"interval",n.queryOnlyLatestChangedNotesMinimumInterval,"snapshot.size",i.size,"notesThreshold",n.queryOnlyLatestChangedNotesThreshold,"changes",o.length),!p.a.isDate(c)){r.next=16;break}if(l=n.deletedLatestDate,!((f=!l||c.getTime()-l.getTime()>n.queryOnlyLatestChangedNotesMinimumInterval||i.size>n.queryOnlyLatestChangedNotesThreshold)||l.getTime()>c.getTime())){r.next=16;break}return s[n.settingsDeletedDateField]=c,n.deletedLatestDate=c,r.next=15,m.a.save();case 15:f&&n._reconnectDeletedChanges(e);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}}]),e}()},2402:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getFiles",(function(){return o})),n.d(r,"getFilesCount",(function(){return s})),n.d(r,"getSelectedFileState",(function(){return c})),n.d(r,"getSelectedFile",(function(){return u})),n.d(r,"getOriginalFile",(function(){return l})),n.d(r,"getSelectedFileIndex",(function(){return d})),n.d(r,"getSelectedFileError",(function(){return p})),n.d(r,"isFileSelected",(function(){return f})),n.d(r,"getUpdateFilesProgress",(function(){return h})),n.d(r,"isFileContentChanged",(function(){return g}));var i=n("f936"),a=n("72a1");function o(e){var t=e.requestUpdateFiles;return i.a.getFiles(t)}function s(e,t){return t.getFiles.length}function c(e){return e.selectedFileState}function u(e){return e.selectedFileState.file}function l(e){return e.selectedFileState.original}function d(e,t){var n=t.getSelectedFileState;return n?n.listIndex:-1}function p(e,t){var n=t.getSelectedFileState;return n?n.error:null}function f(e){return!a.a.isNull(e.selectedFileState)}function h(e){return i.a.getUpdateFilesProgress(e.requestUpdateFilesProgress)}function g(e){return e.selectedFileState.isEdited()}var m=n("9523"),_=n.n(m),T=(n("c740"),n("970b")),E=n.n(T),v=n("1cee"),S=n("6683"),C=n("31a0"),b=function e(){E()(this,e),_()(this,"file",void 0),_()(this,"original",void 0),_()(this,"listIndex",void 0)};_()(b,"createState",(function(e,t,n){var r=new b;return r.listIndex=n||i.a.getFiles().findIndex((function(t){return t.id===e.id})),r.original=(new C.a).apply(e),r.file=(new C.a).apply(e),r.viewMode=t,v.a.debug("create state:",r),r})),b.prototype.getOriginal=function(){return this.original},b.prototype.isEditMode=function(){return this.viewMode===S.a.EDIT},b.prototype.isViewMode=function(){return this.viewMode===S.a.VIEW},b.prototype.isEdited=function(){return!this.file.areContentTheSame(this.original)};var I,y=n("ed99"),A=(I={},_()(I,y.a.SET_FILE_PROGRESS,(function(e,t){i.a.setFileProgress(t),e.requestUpdateFilesProgress=Date.now()})),_()(I,y.a.SET_FILES,(function(e,t){i.a.setFiles(t),e.requestUpdateFiles=Date.now()})),_()(I,y.a.SELECT_NEXT_FILE,(function(e){var t,n=i.a.getFiles(),r=e.selectedFileState,a=n[t=r&&r.listIndex<n.length-1?r.listIndex+1:0];D(e,{viewMode:S.a.VIEW,listIndex:t,file:a})})),_()(I,y.a.SELECT_PREV_FILE,(function(e){var t,n=i.a.getFiles(),r=e.selectedFileState;((t=r?r.listIndex-1:n.length-1)<0||t>n.length-1)&&(t=n.length-1);var a=n[t];D(e,{viewMode:S.a.VIEW,listIndex:t,file:a})})),_()(I,y.a.VIEW_FILE,(function(e,t){D(e,{viewMode:S.a.VIEW,file:t})})),_()(I,y.a.UPDATE_FILE,(function(e,t){D(e,{file:t})})),_()(I,y.a.EDIT_FILE,(function(e){D(e,{viewMode:S.a.EDIT})})),_()(I,y.a.CANCEL_VIEW_FILE,(function(e){e.selectedFileState=null})),I);function D(e,t){var n=e.selectedFileState,r=t.viewMode||n.viewMode,a=t.file||n.file,o=t.listIndex||i.a.getFiles().findIndex((function(e){return e.firestoreId===a.firestoreId}));e.selectedFileState=b.createState(a,r,o)}var L,x=n("c973"),R=n.n(x),w=(n("96cf"),n("d3b7"),n("e6cf"),n("a79d"),n("b0c0"),n("e8ea")),k=n("61b4"),P=n("e2db"),N=n("5046"),F=n("c9d9"),O=(L={},_()(L,F.a.onSaveFile,(function(e,t){return B(t.fileRef)?w.a.save(e,t.fileRef).then((function(t){return e.commit(y.a.VIEW_FILE,t)})):null})),_()(L,F.a.onAutoSaveSelectedFile,(function(e,t){return B(t.fileRef)?w.a.save(e,t.fileRef).then((function(t){return e.commit(y.a.UPDATE_FILE,t)})):null})),_()(L,F.a.onUploadFile,(function(e,t){return w.a.upload(e,[t.file])})),_()(L,F.a.onReUploadFile,(function(e,t){return w.a.update(e,t.fileRef,t.file)})),_()(L,F.a.onCancelFileUploadProgress,(function(e,t){return w.a.cancelUploadProgress(e,t.fileRef)})),_()(L,F.a.onCancelFileDownloadProgress,(function(e,t){return P.a.isDesktop()?e.dispatch(F.a.onCancelDownloadFileElectron,{fileRef:t.fileRef}):w.a.cancelDownloadProgress(e,t.fileRef)})),_()(L,F.a.onGetFileDownloadUrl,(function(e,t){var n=t.withSilentOnError,r=t.withLoadingState,i=t.fileRef;return r&&N.a.showLoadingState(),w.a.getDownloadUrl(e,i).catch((function(t){if(!n)return e.dispatch(F.a.onShowError,t)})).finally((function(){r&&N.a.hideLoadingState()}))})),_()(L,F.a.onDownloadFile,(function(e,t){return R()(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.fileRef,n.next=3,e.dispatch(F.a.onGetFileDownloadUrl,{withLoadingState:!0,fileRef:r});case 3:if(!(i=n.sent)){n.next=10;break}if(!P.a.isDesktop()){n.next=9;break}return n.abrupt("return",e.dispatch(F.a.onDownloadFileElectron,{fileRef:r,url:i}));case 9:return n.abrupt("return",w.a.download(e,r,i));case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n)})))()})),_()(L,F.a.onGetFileShareUrl,(function(e,t){return R()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.fileRef,N.a.showLoadingState(),n.abrupt("return",w.a.getFilePublicLink(e,r).then((function(t){if(!a.a.isNull(t))return e.dispatch(F.a.onCopyText,{text:t})})).finally((function(){return N.a.hideLoadingState()})));case 3:case"end":return n.stop()}}),n)})))()})),_()(L,F.a.onGetFilesByIds,(function(e,t){return v.a.debug("onGetFilesByIds",t.ids),w.a.getFilesByIds(t.ids)})),L);function B(e){var t=e.name;return!a.a.isNullOrBlank(t)||(k.a.runOnUI((function(e){N.a.showToast(e.$t("file_error_name_required"))})),!1)}t.a={namespaced:!1,state:{selectedFileState:null,requestUpdateFiles:null,requestUpdateFilesProgress:null},getters:r,mutations:A,actions:O}},2404:function(e,t,n){"use strict";n("99af"),n("2ca0"),n("8a79");var r=n("5046"),i=n("2b0e"),a=n("8a46"),o=n.n(a);i.default.component("pinch-zoom",o.a);var s={name:"PreviewLinkUseCase",data:function(){return{isShown:null}},watch:{getLinkPreviewToPlay:function(e){this.isShown=null!==e}},computed:{getLinkPreviewToPlay:function(){return this.$store.getters.getLinkPreviewToPlay.preview},getAppBarHeight:function(){return this.$store.getters.getAppBarHeight},getButtonStyle:function(){var e=this.getAppBarHeight||12,t=r.a.getColorBrand("white",{alpha:.7});return"background-color: rgba(0,0,0,0.4); color: ".concat(t,"; margin-top: ").concat(e,"px;")},isVideo:function(){var e=this.getLinkPreviewToPlay;return e.embedUrl&&(e.mediaType&&e.mediaType.startsWith("video")||e.imageUrl&&e.imageUrl.endsWith(".mp4"))},getVideoUrl:function(){return this.getLinkPreviewToPlay.embedUrl},getImageUrl:function(){return this.getLinkPreviewToPlay.imageUrl}},methods:{onClose:function(){this.isShown=!1}}},c=n("2877"),u=n("24e8"),l=n("6ac0"),d=n("068f"),p=n("9c40"),f=n("eebe"),h=n.n(f),g=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getLinkPreviewToPlay?n("q-dialog",{attrs:{maximized:"",persistent:""},model:{value:e.isShown,callback:function(t){e.isShown=t},expression:"isShown"}},[n("div",{staticClass:"non-selectable bg-black fit"},[e.isVideo?n("q-video",{staticClass:"fit",attrs:{src:e.getVideoUrl}}):n("pinch-zoom",{staticClass:"fit",attrs:{"limit-zoom":20}},[n("q-img",{staticClass:"fit cursor-pointer",attrs:{contain:"",ratio:16/9,src:e.getImageUrl,"spinner-color":"colorAccent"}})],1),n("q-btn",{staticClass:"absolute-top-left q-ma-sm",style:e.getButtonStyle,attrs:{icon:"close",size:"12px",round:"",dense:"",flat:""},on:{click:function(t){return t.stopPropagation(),e.onClose(t)}}})],1)]):e._e()}),[],!1,null,null,null);t.a=g.exports;h()(g,"components",{QDialog:u.a,QVideo:l.a,QImg:d.a,QBtn:p.a})},"25d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("448a"),i=n.n(r),a=n("6374"),o=n.n(a),s=n("c973"),c=n.n(s),u=(n("96cf"),n("d3b7"),n("e6cf"),n("4e82"),n("26e9"),n("7db0"),n("3ca3"),n("e260"),n("ddb0"),n("159b"),n("4de4"),n("caad"),n("2532"),n("d81d"),n("ac1f"),n("841c"),n("9911"),n("00b4"),n("a4d3"),n("e01a"),n("2063")),l=n("f936"),d=n("78c8"),p=n("72a1"),f=n("8841"),h=n("78ef"),g=n("ed99"),m=n("0477"),_=n("1cee"),T=n("baf0"),E=n("fab3"),v=n("782d"),S=n("25da"),C=n("2667").a.clipto,b={INDEX_CLIPBOARD_CLEANUP:"[tracked+deleted+fav+tagIdsCount+snippetSetsIdsCount+filesCount+snippet+title]",INDEX_CLIPBOARD_CLEANUP_VALUE:[1,0,0,0,0,0,0,""],INDEX_CLIPBOARD_CLEANUP_UNSAFE:"[tracked+deleted]",INDEX_CLIPBOARD_CLEANUP_UNSAFE_VALUE:[1,0],clipsCountChanged:!0,postClipsCountChanged:function(){this.clipsCountChanged=!0},consumeClipsCountChanged:function(){var e=this.clipsCountChanged;return this.clipsCountChanged=!1,e},clear:function(e){var t=this;return c()(regeneratorRuntime.mark((function n(){var r,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.getters.remoteConfigCanRemoveNotSyncedNotesOnLogout){n.next=6;break}return n.next=4,C.clips.clear();case 4:n.next=28;break;case 6:return n.next=8,C.clips.where("firestoreId").notEqual("").delete();case 8:return n.next=10,C.clips.toArray();case 10:r=n.sent,i=o()(r),n.prev=12,i.s();case 14:if((a=i.n()).done){n.next=20;break}return s=a.value,n.next=18,u.a.update(null,s);case 18:n.next=14;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(12),i.e(n.t0);case 25:return n.prev=25,i.f(),n.finish(25);case 28:t.postClipsCountChanged();case 29:case"end":return n.stop()}}),n,null,[[12,22,25,28]])})))()},getNotSynced:function(){return C.clips.where("firestoreId").equals("").sortBy("modifyDate")},getWithFiles:function(){return C.clips.where("filesCount").notEqual(0).and((function(e){return p.a.isArray(e.files)&&(p.a.arrayIsEmpty(e.fileIds)||!p.a.isArray(e.fileIds))})).toArray()},getAllClipsCount:function(){return C.clips.count()},getUntaggedClipsCount:function(){return C.clips.where("[tagIdsCount+deleted]").equals([0,0]).count()},getClipboardClipsCount:function(){var e=l.a.getFilterClipboard();return e&&e.excludeWithCustomAttributes?C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).count():C.clips.where(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE).equals(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE_VALUE).count()},getDeletedClipsCount:function(){return C.clips.where({deleted:1}).count()},getFavClipsCount:function(){return C.clips.where("[fav+deleted]").equals([1,0]).count()},getNotSyncedClipsCount:function(){return C.clips.where("firestoreId").equals("").count()},getSnippetsCount:function(){return C.clips.where("[snippet+deleted]").equals([1,0]).count()},getFilteredCount:function(e){return this._createFilterQuery(e).count()},getFiltered:function(e){return this._createFilterQuery(e).toArray()},getFilteredAndSorted:function(e){var t=this;return this.getFiltered(e).then((function(n){return t.sort(n,e)}))},getSyncedClipsCount:function(){var e=this;return c()(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.a.getFilters(),t.next=3,e.getNotSyncedClipsCount();case 3:return r=t.sent,i=n.all.getNotesCount()+n.deleted.getNotesCount(),t.abrupt("return",i-r);case 6:case"end":return t.stop()}}),t)})))()},getDeletedCleanupClips:function(){return C.clips.where("deleted").equals(1).sortBy("deleteDate")},getClipboardCleanupClips:function(){return C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).sortBy("updateDate")},getClipboardAutoCleanupClips:function(e){return C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).reverse().offset(e).sortBy("updateDate")},getSyncedClips:function(){return C.clips.where("firestoreId").notEqual("")},getClipboardExceedingClips:function(e){var t=this;return c()(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isTracked()){n.next=11;break}if((i=l.a.getFilterClipboard())&&(r=i.limit),r||(r=0),!(r>0)){n.next=11;break}return n.next=7,t._getClipboardAutoCleanupClipsCount();case 7:if(a=n.sent,_.a.debug("found clips to clean up: ",a),!(a>=r)){n.next=11;break}return n.abrupt("return",t.getClipboardAutoCleanupClips(r-1));case 11:return n.abrupt("return",null);case 12:case"end":return n.stop()}}),n)})))()},_getClipboardAutoCleanupClipsCount:function(){return C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).count()},getById:function(e){return e?C.clips.get(e):null},getByFirestoreId:function(e){return C.clips.where({firestoreId:e}).first()},getBySnippetId:function(e){return c()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return n=C.clips.where({snippetId:e}),t.next=4,n.toArray();case 4:if(r=t.sent,!p.a.arrayIsNotEmpty(r)){t.next=7;break}return t.abrupt("return",r[0]);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)})))()},getByText:function(e){return c()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.clips.where({text:e}).toArray();case 2:return n=t.sent,r=n.find((function(e){return e.isTracked()})),p.a.arrayIsNotEmpty(n)&&(Object(S.a)(n).by([{desc:function(e){return e.createDate}}]),r=n[0]),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},deleteAll:function(e,t){var n=this;return c()(regeneratorRuntime.mark((function r(){var i,a,s,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=[],a=o()(e),r.prev=2,a.s();case 4:if((s=a.n()).done){r.next=12;break}return c=s.value,r.next=8,u.a.update(c,null);case 8:i.push(c.id),c.deleteDate=null;case 10:r.next=4;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(2),a.e(r.t0);case 17:return r.prev=17,a.f(),r.finish(17);case 20:return n.postClipsCountChanged(),r.next=23,C.clips.bulkDelete(i);case 23:return t&&(l=t.getters.getSelectedClip)&&l.id&&e.find((function(e){return e.id===l.id}))&&t.commit(g.a.NEW_CLIP),r.abrupt("return",e);case 25:case"end":return r.stop()}}),r,null,[[2,14,17,20]])})))()},save:function(e,t){var n=this;return c()(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.shake();case 2:return t&&!e.isNew()||n.postClipsCountChanged(),r.next=5,C.clips.put(e);case 5:return e.id=r.sent,r.abrupt("return",e);case 7:case"end":return r.stop()}}),r)})))()},saveAllInitial:function(e){var t=this;return c()(regeneratorRuntime.mark((function n(){var r,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getNotSynced();case 2:r=n.sent,i=o()(e),n.prev=4,s=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.value,null!=(n=r.find((function(e){return e.text===t.text})))&&(t.id=n.id),e.next=5,u.a.update(n,t);case 5:return e.next=7,t.shake();case 7:case"end":return e.stop()}}),e)})),i.s();case 7:if((a=i.n()).done){n.next=11;break}return n.delegateYield(s(),"t0",9);case 9:n.next=7;break;case 11:n.next=16;break;case 13:n.prev=13,n.t1=n.catch(4),i.e(n.t1);case 16:return n.prev=16,i.f(),n.finish(16);case 19:return t.postClipsCountChanged(),n.next=22,C.clips.bulkPut(e);case 22:return n.abrupt("return",e);case 23:case"end":return n.stop()}}),n,null,[[4,13,16,19]])})))()},saveAll:function(e,t){var n=this;return c()(regeneratorRuntime.mark((function r(){var i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=o()(e),r.prev=1,i.s();case 3:if((a=i.n()).done){r.next=9;break}return s=a.value,r.next=7,s.shake();case 7:r.next=3;break;case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),i.e(r.t0);case 14:return r.prev=14,i.f(),r.finish(14);case 17:return n.postClipsCountChanged(),r.next=20,C.clips.bulkPut(e);case 20:t&&t.commit(g.a.UPDATE_CLIP,e);case 21:case"end":return r.stop()}}),r,null,[[1,11,14,17]])})))()},createOrUpdate:function(e,t,n){var r=this;return c()(regeneratorRuntime.mark((function a(){var o,s,c,l,d,f,h,g,m,_,E;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=new Date,s=e,e.snippet&&!e.isSnippet()&&(e.snippetId=e.firestoreId||T.a.autoId()),!s.id){a.next=18;break}return a.next=6,r.getById(s.id);case 6:return c=a.sent,l=s.text!==c.text,!t&&l&&r.applyAutoTags(s,n),a.next=11,u.a.update(c,s);case 11:return t?(s.updateDate=o,s.usageCount+=1):s.areContentTheSame(c)||(s.modifyDate=o),c.firestoreId&&(s.firestoreId=c.firestoreId),s.tracked=c.tracked,s.deleteDate=null,a.abrupt("return",r.save(s,t));case 18:if(d=null,!s.isTracked()){a.next=23;break}return a.next=22,r.getByText(s.text);case 22:d=a.sent;case 23:if(!d){a.next=36;break}return f=s.areContentTheSame(d),h=(new v.a).apply(d),g=s.text!==d.text,s.isTracked()||(_=d.getTagIds(),s.getTagIds().filter((function(e){return!_.includes(e)})).forEach((function(e){return _.push(e)})),d.setFileIds((m=d.getFileIds()).push.apply(m,i()(s.getFileIds()))),d.setTagIds(_),p.a.isNullOrBlank(s.title)||(d.title=s.title),s.textType&&(d.textType=s.textType)),t?(d.updateDate=o,d.usageCount+=1):f||(d.modifyDate=o),d.deleteDate=null,!t&&g&&r.applyAutoTags(d,n),a.next=33,u.a.update(h,d);case 33:return a.abrupt("return",r.save(d,t));case 36:return E=s.createDate||o,s.usageCount=0,s.updateDate=E,s.modifyDate=E,s.createDate=E,r.applyTextType(s),r.applyAutoTags(s,n),a.next=45,u.a.update(null,s);case 45:return a.abrupt("return",r.save(s,t));case 46:case"end":return a.stop()}}),a)})))()},undoDeleteAll:function(e){var t=this;return c()(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=o()(e),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=12;break}return(a=i.value).deleteDate=null,n.next=8,t.save(a);case 8:return n.next=10,u.a.update(null,a);case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),r.e(n.t0);case 17:return n.prev=17,r.f(),n.finish(17);case 20:return n.abrupt("return",e);case 21:case"end":return n.stop()}}),n,null,[[1,14,17,20]])})))()},applyAutoTags:function(e,t){if(t.getters.remoteConfigCanCreateTagAutoRules&&e.canApplyAutoTags()){var n=e.text,r=e.getTagIds(),a=e.getExcludedTagIds(),o=l.a.getFilters().getSortedTags().filter((function(e){return e.autoRulesEnabled})).filter((function(e){return!r.includes(e.uid)})).filter((function(e){return!a.includes(e.uid)})).map((function(e){var t=e.autoRuleByTextIn;if(p.a.isNullOrBlank(t))return null;var r=f.a.createSearchRegExp(t);return-1!==n.search(r)?e.uid:null})).filter((function(e){return!p.a.isNull(e)}));if(p.a.arrayIsNotEmpty(o)){var s,c=r;(s=c).push.apply(s,i()(o)),c=p.a.arrayDistinct(c),e.setTagIds(c)}}},applyTextType:function(e){e.textType||(d.a.hasLinks(e.text)?e.textType=m.a.LINK.id:e.textType=m.a.TEXT_PLAIN.id)},sort:function(e,t){var n=[];switch(t.pinSnippets&&n.push({desc:function(e){return e.snippet}}),t.pinStarred&&n.push({desc:function(e){return e.fav}}),E.a.byId[t.sortBy]){case E.a.MODIFY_DATE_DESC:n.push({desc:function(e){return e.modifyDate}});break;case E.a.CREATE_DATE_DESC:n.push({desc:function(e){return e.createDate}});break;case E.a.USAGE_DATE_DESC:n.push({desc:function(e){return e.updateDate}}),n.push({desc:function(e){return e.createDate}});break;case E.a.DELETE_DATE_DESC:n.push({desc:function(e){return e.deleteDate}}),n.push({desc:function(e){return e.createDate}});break;case E.a.USAGE_COUNT_DESC:n.push({desc:function(e){return e.usageCount}}),n.push({desc:function(e){return e.createDate}});break;case E.a.TITLE_DESC:n.push({desc:function(e){return p.a.nullIfEmpty(e.title)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.TEXT_DESC:n.push({desc:function(e){return e.text}}),n.push({desc:function(e){return e.createDate}});break;case E.a.TAGS_DESC:n.push({desc:function(e){return p.a.nullIfEmpty(e.tags)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.SIZE_DESC:n.push({desc:function(e){return p.a.zeroIfNull(e.size)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.CHARACTERS_DESC:n.push({desc:function(e){return p.a.zeroIfNull(e.characters)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.MODIFY_DATE_ASC:n.push({asc:function(e){return e.modifyDate}});break;case E.a.CREATE_DATE_ASC:n.push({asc:function(e){return e.createDate}});break;case E.a.USAGE_DATE_ASC:n.push({asc:function(e){return e.updateDate}}),n.push({desc:function(e){return e.createDate}});break;case E.a.DELETE_DATE_ASC:n.push({asc:function(e){return e.deleteDate}}),n.push({desc:function(e){return e.createDate}});break;case E.a.USAGE_COUNT_ASC:n.push({asc:function(e){return e.usageCount}}),n.push({desc:function(e){return e.createDate}});break;case E.a.TITLE_ASC:n.push({asc:function(e){return p.a.nullIfEmpty(e.title)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.TEXT_ASC:n.push({asc:function(e){return e.text}}),n.push({desc:function(e){return e.createDate}});break;case E.a.TAGS_ASC:n.push({asc:function(e){return p.a.nullIfEmpty(e.tags)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.SIZE_ASC:n.push({asc:function(e){return p.a.zeroIfNull(e.size)}}),n.push({desc:function(e){return e.createDate}});break;case E.a.CHARACTERS_ASC:n.push({asc:function(e){return p.a.zeroIfNull(e.characters)}}),n.push({desc:function(e){return e.createDate}});break;default:n.push({desc:function(e){return e.createDate}})}return Object(S.a)(e).by(n),e},_createFilterQuery:function(e){var t=!1,n=C.clips;if(_.a.debug("createFilterQuery",e),e.locatedInWhereType===h.a.NONE_OF.id)_.a.debug("query by located in none of"),e.untagged&&(_.a.debug("query by located in untagged"),n=t?n.filter((function(e){return e.tagIdsCount})):n.where("tagIdsCount").notEqual(0),t=!0),e.clipboard&&(_.a.debug("query by located in clipboard"),n=t?n.filter((function(e){return!e.tracked})):n.where("tracked").equals(0),t=!0),e.recycled&&(_.a.debug("query by located in recycled"),n=t?n.filter((function(e){return!e.deleted})):n.where("deleted").equals(0),t=!0),e.starred&&(_.a.debug("query by located in starred"),n=t?n.filter((function(e){return!e.fav})):n.where("fav").equals(0),t=!0),e.snippets&&(_.a.debug("query by located in snippet"),n=t?n.filter((function(e){return!e.snippet})):n.where("snippet").equals(0),t=!0);else{if(e.untagged&&(n=n.where("[tagIdsCount+deleted]").equals([0,0]),_.a.debug("query by untagged"),t=!0),e.clipboard){var r=l.a.getFilters();n=r.clipboard&&r.clipboard.excludeWithCustomAttributes?(n=t?n.or(this.INDEX_CLIPBOARD_CLEANUP):n.where(this.INDEX_CLIPBOARD_CLEANUP)).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE):(n=t?n.or(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE):n.where(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE)).equals(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE_VALUE),_.a.debug("query by clipboard"),t=!0}e.recycled&&(n=(n=t?n.or("deleted"):n.where("deleted")).equals(1),_.a.debug("query by recycled"),t=!0),e.starred&&(n=(n=t?n.or("[fav+deleted]"):n.where("[fav+deleted]")).equals([1,0]),_.a.debug("query by starred"),t=!0),e.snippets&&(n=(n=t?n.or("[snippet+deleted]"):n.where("[snippet+deleted]")).equals([1,0]),_.a.debug("query by snippets"),t=!0)}var i=e.getCreateTimeInterval();if(i.isValid()){var a=i.from,o=i.to;_.a.debug("query by create interval",a,o),a&&o?(n=t?n.and((function(e){return e.createDate&&e.createDate.getTime()>=a.getTime()&&e.createDate.getTime()<=o.getTime()})):n.where("createDate").between(a,o,!0,!0),t=!0):a?(n=t?n.and((function(e){return e.createDate&&e.createDate.getTime()>=a.getTime()})):n.where("createDate").aboveOrEqual(a),t=!0):o&&(n=t?n.and((function(e){return e.createDate&&e.createDate.getTime()<=o.getTime()})):n.where("createDate").belowOrEqual(o),t=!0)}var s=e.getUpdateTimeInterval();if(s.isValid()){var c=s.from,u=s.to;_.a.debug("query by update interval",c,u),c&&u?(n=t?n.and((function(e){return e.modifyDate&&e.modifyDate.getTime()>=c.getTime()&&e.modifyDate.getTime()<=u.getTime()})):n.where("modifyDate").between(c,u,!0,!0),t=!0):c?(n=t?n.and((function(e){return e.modifyDate&&e.modifyDate.getTime()>=c.getTime()})):n.where("modifyDate").aboveOrEqual(c),t=!0):u&&(n=t?n.and((function(e){return e.modifyDate&&e.modifyDate.getTime()<=u.getTime()})):n.where("modifyDate").belowOrEqual(u),t=!0)}var d=e.tagIds;if(p.a.arrayIsNotEmpty(d)){var g=e.tagIdsWhereType===h.a.ALL_OF.id;t?n=g?n.and((function(e){return p.a.arrayIncludesAll(e.tagIds,d)})):n.and((function(e){return p.a.arrayIncludesAny(e.tagIds,d)})):(n=n.where("tagIds").anyOf(d).distinct(),g&&(n=n.and((function(e){return p.a.arrayIncludesAll(e.tagIds,d)})))),_.a.debug("query by tagIds:",d,"multipleConditions =",t),t=!0}var m=e.snippetSetIds;if(p.a.arrayIsNotEmpty(m)){var T=e.snippetSetIdsWhereType===h.a.ALL_OF.id;t?n=T?n.and((function(e){return p.a.arrayIncludesAll(e.snippetSetIds,m)})):n.and((function(e){return p.a.arrayIncludesAny(e.snippetSetIds,m)})):(n=n.where("snippetSetsIds").anyOf(m).distinct(),T&&(n=n.and((function(e){return p.a.arrayIncludesAll(e.snippetSetIds,m)})))),_.a.debug("query by snippetSetIds:",m,"multipleConditions =",t),t=!0}e.showOnlyWithPublicLink&&(n=n.filter((function(e){return e.publicLink&&e.publicLink.link})),_.a.debug("query by showOnlyWithAttachments: multipleConditions =",t),t=!0),e.showOnlyNotSynced&&(n=t?n.and((function(e){return p.a.isEmpty(e.firestoreId)})):n.where("firestoreId").equals(""),_.a.debug("query by showOnlyNotSynced: multipleConditions =",t),t=!0),e.showOnlyWithAttachments&&(n=t?n.and((function(e){return e.filesCount})):n.where("filesCount").notEqual(0),_.a.debug("query by showOnlyWithAttachments: multipleConditions =",t),t=!0);var E=e.textTypeIn;if(p.a.arrayIsNotEmpty(E)&&(n=t?n.and((function(e){return p.a.arrayIncludesItem(E,e.textType)})):n.where("textType").anyOf(E).distinct(),_.a.debug("query by textType:",E,"multipleConditions =",t),t=!0),e.recycled||(n=t?n.and((function(e){return!e.deleted})):n.filter((function(e){return!e.deleted})),_.a.debug("query by deleted :: multipleConditions",t)),e.textLike){_.a.debug("query by textLike:",e.textLike);var v=f.a.createSearchRegExp(e.textLike);n=n.filter((function(e){return v.test(e.abbreviation)||v.test(e.description)||v.test(e.title)||v.test(e.text)}))}return n}}},2667:function(e,t,n){"use strict";var r=new(n("4dec").a)("clipto",{chromeTransactionDurability:"relaxed"});r.version(42).stores({tags:"++id",settings:"++id",users:"++id,firebaseId",filters:"++id,uid,type",clips:"++id,createDate,modifyDate,text,firestoreId,snippetId,snippet,deleted,textType,*tagIds,tagIdsCount,*snippetSetsIds,snippetSetsIdsCount,tracked,fav,filesCount,[tagIdsCount+deleted],[tracked+deleted],[fav+deleted],[snippet+deleted],[tracked+deleted+fav+tagIdsCount+snippetSetsIdsCount+filesCount+snippet+title]",fileRefs:"++id,name,folder,path,firestoreId,deleted,[path+name]",publicLinks:"++id,uid"}),t.a={clipto:r}},2858:function(e,t,n){"use strict";n("99af"),n("498a"),n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("fb6a"),n("5319");var r={getSelectionStart:function(e){return e&&e.selectionStart||0},getSelectionEnd:function(e){return e&&e.selectionEnd||0},getSelectionRange:function(e){return[this.getSelectionStart(e),this.getSelectionEnd(e)]},isRangeSelected:function(e){var t=this.getSelectionRange(e);return t[1]>t[0]}},i=n("61b4"),a=n("e2db");n("25f0");const o=e=>function(e){const t=function(e){const t=-1!==[16,17,18,91,93,224].indexOf(e.keyCode);return{character:t?null:e.code.replace(/^Key([A-Z01-9])/,"$1"),modifiers:{cmd:e.metaKey,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey}}}(e),n=Object.entries(t.modifiers).reduce((e,[t,n])=>(n&&e.push(s[t]),e),[]);t.character&&n.push(t.character);return n}(e).join(s.joinWith);let s={alt:"Alt",cmd:"Cmd",ctrl:"Ctrl",shift:"Shift",joinWith:"+"};var c=n("1cee"),u=function(e){e.preventDefault(),e.stopPropagation(),c.a.debug("handle event",e)},l=function(e){return o(e)},d=n("178d"),p={handleKeyEvent:function(e,t){if(t&&!a.a.isMobile()){var n=l(e),r=p.IDE_KEYS[n];if(r){c.a.debug("TextEditorManager :: handleKeyEvent",t.id,n),u(e);try{r(t)}catch(e){c.a.error("TextEditorManager :: handleKeyEvent :: error",e)}}else c.a.debug("TextEditorManager :: skip",n)}},_processIndent:function(e){var t,n=e.value,a=r.getSelectionRange(e),o=a[0],s=a[1],c=n.slice(o,s);if((null===(t=/\n/g.exec(c))||void 0===t?void 0:t.length)>0){var u=n.lastIndexOf("\n",o-1)+1,l=n.slice(u,s-1),p=l.replace(/^|\n/g,"$&\t"),f=p.length-l.length;e.setSelectionRange(u,s-1),Object(d.a)(e,p),i.a.nextTick((function(){e.setSelectionRange(o+1,s+f)}))}else Object(d.a)(e,"\t")},_processOutdent:function(e){var t=e.value,n=r.getSelectionRange(e),a=n[0],o=n[1],s=t.lastIndexOf("\n",a-1)+1,c=p._findLineEnd(t,o),u=t.slice(s,c),l=u.replace(/(^|\n)(\t| {1,2})/g,"$1"),f=u.length-l.length;e.setSelectionRange(s,c),Object(d.a)(e,l);var h=/\t| {1,2}/.exec(t.slice(s,a)),g=0;h&&(g=h[0].length);var m=a-g;i.a.nextTick((function(){e.setSelectionRange(a-g,Math.max(m,o-f))}))},_processMoveLinesUp:function(e){var t=e.value,n=r.getSelectionRange(e),a=n[0],o=n[1],s=t.lastIndexOf("\n",a-1)+1,c=t.indexOf("\n",o);if(-1===c&&(c=t.length),s>0){var u=s-1,l=t.lastIndexOf("\n",u-1);if(-1===l?l=0:l+=1,l>u){var p=[u,l];l=p[0],u=p[1]}e.setSelectionRange(l,c);var f,h=t.substring(s,c),g=t.substring(l,u),m=0;"\n"===g?f="".concat(h).concat(g):(f="".concat(h,"\n").concat(g),m=1),Object(d.a)(e,f),i.a.nextTick((function(){e.setSelectionRange(a-g.length-m,o-g.length-m)}))}},_processMoveLinesDown:function(e){var t=e.value,n=r.getSelectionRange(e),a=n[0],o=n[1],s=t.lastIndexOf("\n",a-1)+1,c=t.indexOf("\n",o);if(-1!==c){var u=c+1,l=t.indexOf("\n",u);-1===l&&(l=t.length),e.setSelectionRange(s,l);var p=t.substring(u,l),f=t.substring(s,c),h="".concat(p,"\n").concat(f);Object(d.a)(e,h),i.a.nextTick((function(){e.setSelectionRange(a+p.length+1,o+p.length+1)}))}},_processDuplicateLines:function(e){var t,n=e.value,a=r.getSelectionRange(e),o=a[0],s=a[1],c=o,u=s;if(o===s){c=n.lastIndexOf("\n",o-1)+1,-1===(u=n.indexOf("\n",s))&&(u=n.length);var l=n.substring(c,u);o+=l.length+1,s+=l.length+1,t="".concat(l,"\n").concat(l)}else{var p=n.substring(c,u);o+=p.length,s+=p.length,t="".concat(p).concat(p)}e.setSelectionRange(c,u),Object(d.a)(e,t),i.a.nextTick((function(){e.setSelectionRange(o,s)}))},_processUpperCaseLines:function(e){p._processCase(e,!0)},_processLowerCaseLines:function(e){p._processCase(e,!1)},_processCase:function(e,t){var n=e.value,a=r.getSelectionRange(e),o=a[0],s=a[1],c=o,u=s;o===s&&(c=n.lastIndexOf("\n",o-1)+1,-1===(u=n.indexOf("\n",s))&&(u=n.length));var l=n.substring(c,u);l=t?l.toUpperCase():l.toLowerCase(),e.setSelectionRange(c,u),Object(d.a)(e,l),i.a.nextTick((function(){e.setSelectionRange(o,s)}))},_findLineEnd:function(e,t){var n=e.lastIndexOf("\n",t-1)+1;return"\t"!==e.charAt(n)?t:n+1}};p.IDE_KEYS={Tab:p._processIndent,"Shift+Tab":p._processOutdent,"Alt+Shift+ArrowUp":p._processMoveLinesUp,"Alt+Shift+ArrowDown":p._processMoveLinesDown,"Ctrl+D":p._processDuplicateLines,"Cmd+D":p._processDuplicateLines,"Ctrl+U":p._processUpperCaseLines,"Cmd+U":p._processUpperCaseLines,"Ctrl+Shift+U":p._processLowerCaseLines,"Cmd+Shift+U":p._processLowerCaseLines};var f=n("cda8"),h=n("7561"),g=n("78c8"),m=n("72a1"),_=n("d0c5"),T=n("0477"),E=n("c9d9"),v=n("d055"),S=n.n(v),C={name:"ClipDetailsTextBlock",props:["minHeightInPx","staticText","isEditMode","clip"],data:function(){return{qrCodeWidth:0,qrCodeUrl:null,previewModeDate:new Date}},asyncComputed:{clipTextPreview:function(){return this.staticText?this.getClip.text:this.previewModeDate?this.$store.dispatch(E.a.onGetClipText,this.getClip):""}},created:function(){this.requestFocus()},watch:{getSelectedClipState:function(e){c.a.debug("getSelectedClipState",e),this.requestFocus()}},computed:{canPreviewLinks:function(){return this.$store.getters.canPreviewLinks},isSelectedClipFocusOnText:function(){return this.$store.getters.isSelectedClipFocusOnText},getSelectedClipState:function(){return this.$store.getters.getSelectedClipState},getClip:function(){return this.clip},isViewAsMarkdown:function(){return this.isViewAs(T.a.MARKDOWN)},isViewAsQrCode:function(){return this.isViewAs(T.a.QRCODE)},isViewAsTextWithLinks:function(){return this.isViewAs(T.a.LINK,this.$store.getters.isLinkPreviewUpdated)},isViewAsHtml:function(){return this.isViewAs(T.a.HTML)},isViewAsTextWithClickableLines:function(){return this.isViewAs(T.a.LINE_CLICKABLE)},isViewAsTextWithClickableWords:function(){return this.isViewAs(T.a.WORD_CLICKABLE)},isViewAsPlainText:function(){return this.isViewAs(T.a.TEXT_PLAIN)},getFilterByText:function(){return this.$store.getters.getFilterByText},getTextSize:function(){return this.$store.getters.getTextSize},getText:function(){return _.a.sanitize(this.getClip.text)},getQrTextStyle:function(){return"width: ".concat(this.qrCodeWidth,"px; height: ").concat(this.qrCodeWidth,"px;")},getViewModeTextStyle:function(){var e="\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(this.minHeightInPx,"px;\n              ");return(this.isViewAsTextWithLinks||this.isViewAsPlainText)&&(e+="white-space: pre-wrap;"),e.trim()},getEditModeTextStyle:function(){var e="\n              resize: none;\n              text-indent: 0;\n              padding-top: 7px;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(this.minHeightInPx-24,"px;\n              ");return(this.isViewAsTextWithLinks||this.isViewAsPlainText)&&(e+="white-space: pre-wrap;"),e.trim()}},methods:{isViewAs:function(e){return!this.isEditMode&&this.getClip.textType===e.id},asPlainText:function(){return f.a.clearEncodedTexts(),this.clipTextPreview},asTextWithLinks:function(){f.a.clearEncodedTexts();var e=this,t=this.canPreviewLinks,n=this.getFilterByText,r=g.a.linkify(this.clipTextPreview,(function(r){var i=_.a.highlight(r.getMatchedText(),n,!1);return g.a.preview(e,r.getAnchorHref(),i,null,!1,t)}));return _.a.sanitize(r)},asHtml:function(){f.a.clearEncodedTexts();var e=_.a.highlight(this.clipTextPreview,this.getFilterByText,!1);return _.a.sanitize(e)},asMarkdown:function(){f.a.clearEncodedTexts();var e=h.a.marked(this.clipTextPreview);return e=_.a.highlight(e,this.getFilterByText,!1),_.a.sanitize(e)},asTextWithClickableLines:function(){f.a.clearEncodedTexts();var e=this.clipTextPreview;if(!e)return null;var t="<div>",n=this.getFilterByText;return e.split("\n").forEach((function(e){if(!m.a.isNullOrBlank(e)){var r=f.a.encodeText(e),i=_.a.highlight(e,n,!0),a="<a href='#' onclick='document.onCopyEncodedText(\"".concat(r,"\")'>").concat(i,"</a>");t+=a}t+="<br />"})),t+="</div>"},asTextWithClickableWords:function(){f.a.clearEncodedTexts();var e=this.clipTextPreview;if(!e)return null;var t="<div>",n=this.getFilterByText;return e.split("\n").forEach((function(e){m.a.isNullOrBlank(e)||e.split(" ").forEach((function(e){if(!m.a.isNullOrBlank(e)){var r=f.a.encodeText(e),i=_.a.highlight(e,n,!0),a="<a href='#' onclick='document.onCopyEncodedText(\"".concat(r,"\")'>").concat(i,"</a>");t+=a}t+="&nbsp;"}));t+="<br />"})),t+="</div>"},asQrCode:function(){f.a.clearEncodedTexts();var e=this.clipTextPreview,t=this;return e&&S.a.toDataURL(e,{type:"svg"},(function(e,n){e||t.setQrCodeUrl(n)})),null},setQrCodeUrl:function(e){this.qrCodeUrl=e},onResized:function(e){this.qrCodeWidth=Math.min(e.width,a.a.getScreenWidth()/2)},requestFocus:function(){if(this.isSelectedClipFocusOnText){var e=this;i.a.nextTick((function(){return a.a.setFocus(e.$refs.textView,!0)}))}},onEditorEvent:function(e){var t=this.$refs.textView;t&&t.getNativeElement&&p.handleKeyEvent(e,t.getNativeElement())}}},b=n("2877"),I=n("3980"),y=n("27f9"),A=n("eebe"),D=n.n(A),L=Object(b.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isViewAsQrCode?n("div",{staticClass:"row justify-center"},[n("img",{staticClass:"text-textColorPrimary q-pa-md",style:e.getQrTextStyle,attrs:{src:e.qrCodeUrl}}),e._v("\n  "+e._s(e.asQrCode())+"\n  "),n("q-resize-observer",{on:{resize:e.onResized}})],1):e.isViewAsMarkdown?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:e.getViewModeTextStyle,domProps:{innerHTML:e._s(e.asMarkdown())}}):e.isViewAsHtml?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:e.getViewModeTextStyle,domProps:{innerHTML:e._s(e.asHtml())}}):e.isViewAsTextWithLinks?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:e.getViewModeTextStyle,domProps:{innerHTML:e._s(e.asTextWithLinks())}}):e.isViewAsTextWithClickableLines?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:e.getViewModeTextStyle,domProps:{innerHTML:e._s(e.asTextWithClickableLines())}}):e.isViewAsTextWithClickableWords?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:e.getViewModeTextStyle,domProps:{innerHTML:e._s(e.asTextWithClickableWords())}}):e.isViewAsPlainText?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:e.getViewModeTextStyle},[e._v(e._s(e.asPlainText()))]):n("q-input",{ref:"textView",staticClass:"q-pa-md markdown-body selectable-text text-textColorPrimary",style:e.getEditModeTextStyle,attrs:{placeholder:e.$t("clip_hint_text"),autofocus:e.isSelectedClipFocusOnText,"input-class":"text-textColorPrimary",inputStyle:e.getEditModeTextStyle,disable:!e.isEditMode,autogrow:!0,hideBottomSpace:"",type:"textarea",borderless:"",dense:""},on:{keydown:e.onEditorEvent},model:{value:e.getClip.text,callback:function(t){e.$set(e.getClip,"text",t)},expression:"getClip.text"}})}),[],!1,null,null,null);t.a=L.exports;D()(L,"components",{QResizeObserver:I.a,QInput:y.a})},"29a4":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("970b"),i=n.n(r),a=n("9523"),o=n.n(a),s=n("37f6"),c=n("72a1"),u=function e(){i()(this,e),o()(this,"period",void 0),o()(this,"from",void 0),o()(this,"to",void 0)};u.prototype.isValid=function(){return c.a.isDate(this.from)||c.a.isDate(this.to)},u.prototype.getPeriodValue=function(){var e=this.period;return e?e.id:null},u.prototype.getFromValue=function(){var e=this.period;return e&&e.id===s.a.CUSTOM_INTERVAL.id?this.from:null},u.prototype.getToValue=function(){var e=this.period;return e&&e.id===s.a.CUSTOM_INTERVAL.id?this.to:null},u.newInstance=function(e){var t=new u;return e&&(t.period=e.period,t.from=e.from,t.to=e.to),t}},"2e98":function(e,t,n){var r={"./":["12cb"],"./ar":["95e2",8],"./ar/":["95e2",8],"./ar/index":["95e2",8],"./ar/index.js":["95e2",8],"./be":["7bfb",9],"./be/":["7bfb",9],"./be/index":["7bfb",9],"./be/index.js":["7bfb",9],"./bg":["5a54",10],"./bg/":["5a54",10],"./bg/index":["5a54",10],"./bg/index.js":["5a54",10],"./ca":["2002",11],"./ca/":["2002",11],"./ca/index":["2002",11],"./ca/index.js":["2002",11],"./da":["ea34",12],"./da/":["ea34",12],"./da/index":["ea34",12],"./da/index.js":["ea34",12],"./de":["d921",13],"./de/":["d921",13],"./de/index":["d921",13],"./de/index.js":["d921",13],"./el":["414b",14],"./el/":["414b",14],"./el/index":["414b",14],"./el/index.js":["414b",14],"./en-us":["923f"],"./en-us/":["923f"],"./en-us/index":["923f"],"./en-us/index.js":["923f"],"./es":["0815",16],"./es-us":["4e0b",15],"./es-us/":["4e0b",15],"./es-us/index":["4e0b",15],"./es-us/index.js":["4e0b",15],"./es/":["0815",16],"./es/index":["0815",16],"./es/index.js":["0815",16],"./et":["1848",17],"./et/":["1848",17],"./et/index":["1848",17],"./et/index.js":["1848",17],"./fil":["e0a1",18],"./fil/":["e0a1",18],"./fil/index":["e0a1",18],"./fil/index.js":["e0a1",18],"./fr":["18b5",19],"./fr/":["18b5",19],"./fr/index":["18b5",19],"./fr/index.js":["18b5",19],"./hi":["97bd",20],"./hi/":["97bd",20],"./hi/index":["97bd",20],"./hi/index.js":["97bd",20],"./hu":["5b8c",21],"./hu/":["5b8c",21],"./hu/index":["5b8c",21],"./hu/index.js":["5b8c",21],"./id":["3440",22],"./id/":["3440",22],"./id/index":["3440",22],"./id/index.js":["3440",22],"./index":["12cb"],"./index.js":["12cb"],"./it":["9a86",23],"./it/":["9a86",23],"./it/index":["9a86",23],"./it/index.js":["9a86",23],"./ja":["c6de",24],"./ja/":["c6de",24],"./ja/index":["c6de",24],"./ja/index.js":["c6de",24],"./ko-kr":["e9b1",25],"./ko-kr/":["e9b1",25],"./ko-kr/index":["e9b1",25],"./ko-kr/index.js":["e9b1",25],"./nl":["c071",26],"./nl/":["c071",26],"./nl/index":["c071",26],"./nl/index.js":["c071",26],"./pl":["1b21",27],"./pl/":["1b21",27],"./pl/index":["1b21",27],"./pl/index.js":["1b21",27],"./policy":["05ca",87],"./policy.js":["05ca",87],"./pt-br":["cb63",28],"./pt-br/":["cb63",28],"./pt-br/index":["cb63",28],"./pt-br/index.js":["cb63",28],"./ru":["479e",29],"./ru/":["479e",29],"./ru/index":["479e",29],"./ru/index.js":["479e",29],"./sl":["341a",30],"./sl/":["341a",30],"./sl/index":["341a",30],"./sl/index.js":["341a",30],"./sv":["ebd8",31],"./sv/":["ebd8",31],"./sv/index":["ebd8",31],"./sv/index.js":["ebd8",31],"./tr":["811a",32],"./tr/":["811a",32],"./tr/index":["811a",32],"./tr/index.js":["811a",32],"./uk":["c9af",33],"./uk/":["c9af",33],"./uk/index":["c9af",33],"./uk/index.js":["c9af",33],"./vi":["c278",34],"./vi/":["c278",34],"./vi/index":["c278",34],"./vi/index.js":["c278",34],"./zh-hans":["2f3a",35],"./zh-hans/":["2f3a",35],"./zh-hans/index":["2f3a",35],"./zh-hans/index.js":["2f3a",35],"./zh-hant":["6299",36],"./zh-hant/":["6299",36],"./zh-hant/index":["6299",36],"./zh-hant/index.js":["6299",36]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="2e98",e.exports=i},"2eba":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("27f0"),i=n("72a1"),a=n("260b"),o=(n("8934"),n("ea7b"),{getFirebaseAuth:function(){return a.a.auth()},getFirebaseFunctions:function(){return a.a.functions()},getFirebaseConfig:function(){return{apiKey:"AIzaSyDlvJYB8KenW92W8hETxM8VMYuCZvmzyHs",authDomain:"clipto.pro",databaseURL:"https://wb-clipto.firebaseio.com",projectId:"wb-clipto",storageBucket:"wb-clipto.appspot.com",messagingSenderId:"909984326025",appId:"1:909984326025:web:b53edfb0db670449e58158",measurementId:"G-L1RQ3K142P"}},getFirebaseAuthConfig:function(e,t){return{callbacks:{signInSuccessWithAuthResult:function(e){return i.a.execFunction(t,[e]),!1}},privacyPolicyUrl:r.a.privacyPolicyUrl,tosUrl:r.a.tosUrl,signInFlow:e||"popup",signInOptions:[{provider:a.a.auth.GoogleAuthProvider.PROVIDER_ID,customParameters:{prompt:"select_account",auth_type:"reauthenticate"}},a.a.auth.EmailAuthProvider.PROVIDER_ID,a.a.auth.FacebookAuthProvider.PROVIDER_ID,a.a.auth.PhoneAuthProvider.PROVIDER_ID]}}})},"30d6":function(e,t,n){"use strict";var r={name:"ObjectNavigatorBlock",props:["onPrev","onNext","count","currentIndex","hasNavigator"],components:{ActionButton:n("deff").a}},i=n("2877"),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row text-caption q-gutter-x-xs items-center text-no-wrap no-wrap non-selectable"},[e._t("before"),e.hasNavigator?[n("ActionButton",{attrs:{"button-class":"text-textColorPrimary q-ml-none",icon:"chevron_left","on-click":e.onPrev,dense:!0}}),n("div",{staticClass:"text-textColorPrimary"},[e._v(e._s(e.currentIndex+1))]),n("div",{staticClass:"text-textColorSecondary"},[e._v("/ "+e._s(e.count))]),n("ActionButton",{attrs:{"on-click":e.onNext,icon:"chevron_right",dense:!0}})]:e._e()],2)}),[],!1,null,null,null);t.a=a.exports},"31a0":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("a9e3"),n("b0c0"),n("a4d3"),n("e01a"),n("99af"),n("2ca0"),n("8a79");var r=n("72a1"),i=n("a8e6"),a=n("586c"),o={Normal:{id:"Normal",isInProgress:!1,iconColor:"textColorPrimary",progressTrackColor:"transparent",getIcon:function(e){return e.getType()===a.a.PHOTO.id?"photo_camera":"insert_drive_file"}},Upload:{id:"Upload",isInProgress:!0,progressTrackColor:"textColorPrimary",iconColor:"textColorPrimary",getIcon:function(){return"publish"}},Download:{id:"Download",isInProgress:!0,progressTrackColor:"textColorPrimary",iconColor:"textColorPrimary",getIcon:function(){return"save_alt"}},Downloaded:{id:"Downloaded",isInProgress:!1,progressTrackColor:"transparent",iconColor:"textColorPrimary",getIcon:function(e){return o.Normal.getIcon(e)}},Uploaded:{id:"Uploaded",isInProgress:!1,progressTrackColor:"transparent",iconColor:"textColorPrimary",getIcon:function(e){return o.Normal.getIcon(e)}},Error:{id:"Error",isInProgress:!1,progressTrackColor:"transparent",iconColor:"negative",getIcon:function(){return"error_outline"}}},s=n("2667").a.clipto.fileRefs.defineClass({id:Number,md5:String,size:Number,type:Number,name:String,path:String,folder:String,createDate:Date,modifyDate:Date,updateDate:Date,deleteDate:Date,mediaType:String,firestoreId:String,downloaded:Number,uploaded:Number,deleted:Number,progress:Number,downloadUrl:String,uploadUrl:String,platform:String,error:String,description:String,abbreviation:String,tagIds:Array,tagIdsCount:Number,snippetSetsIds:Array,snippetSetsIdsCount:Number});s.areTheSame=function(e,t){return r.a.areStringsTheSame(e.md5,t.md5)&&r.a.areNumbersTheSame(e.size,t.size)&&r.a.areNumbersTheSame(e.type,t.type)&&r.a.areStringsTheSame(e.name,t.name)&&r.a.areStringsTheSame(e.path,t.path)&&r.a.areStringsTheSame(e.folder,t.folder)&&r.a.areDatesTheSame(e.modifyDate,t.modifyDate)&&r.a.areDatesTheSame(e.updateDate,t.updateDate)&&r.a.areDatesTheSame(e.deleteDate,t.deleteDate)&&r.a.areStringsTheSame(e.mediaType,t.mediaType)&&r.a.areNumbersTheSame(e.uploaded,t.uploaded)&&r.a.areStringsTheSame(e.uploadUrl,t.uploadUrl)&&r.a.areStringsTheSame(e.platform,t.platform)&&r.a.areStringsTheSame(e.error,t.error)&&r.a.areStringsTheSame(e.description,t.description)&&r.a.areStringsTheSame(e.abbreviation,t.abbreviation)&&r.a.areObjectsTheSame(e.getTagIds(),t.getTagIds())&&r.a.areObjectsTheSame(e.getKitIds(),t.getKitIds())},s.prototype.with=function(e){return this.md5=e.md5,this.size=e.size,this.mediaType=e.mediaType,this.downloaded=e.downloaded,this.modifyDate=e.modifyDate,this.deleteDate=e.deleteDate,this.uploaded=e.uploaded,this.progress=e.progress,this.downloadUrl=e.downloadUrl,this.uploadUrl=e.uploadUrl,this.platform=e.platform,this.updateDate=new Date,this.error=e.error,this},s.prototype.apply=function(e){return this.id=e.id,this.md5=e.md5,this.size=e.size,this.type=e.type,this.name=e.name,this.path=e.path,this.folder=e.folder,this.createDate=e.createDate,this.modifyDate=e.modifyDate,this.updateDate=e.updateDate,this.deleteDate=e.deleteDate,this.mediaType=e.mediaType,this.firestoreId=e.firestoreId,this.downloaded=e.downloaded,this.uploaded=e.uploaded,this.deleted=e.deleted,this.progress=e.progress,this.downloadUrl=e.downloadUrl,this.uploadUrl=e.uploadUrl,this.platform=e.platform,this.error=e.error,this.abbreviation=e.abbreviation,this.description=e.description,this},s.prototype.areContentTheSame=function(e){return r.a.areStringsTheSame(this.name,e.name)&&r.a.areStringsTheSame(this.abbreviation,e.abbreviation)&&r.a.areStringsTheSame(this.description,e.description)},s.prototype.hasDescription=function(){return!r.a.isNullOrBlank(this.description)},s.prototype.hasAbbreviation=function(){return!r.a.isNullOrBlank(this.abbreviation)},s.prototype.getUid=function(){return this.firestoreId},s.prototype.isDeleted=function(){return!r.a.isNull(this.deleteDate)},s.prototype.setTagIds=function(e){var t=e||[];this.tagIds=t,this.tagIdsCount=t.length},s.prototype.getTagIds=function(){return this.tagIds||[]},s.prototype.getKitIds=function(){return this.snippetSetsIds||[]},s.prototype.setKitIds=function(e){var t=e||[];this.snippetSetsIdsCount=t.length,this.snippetSetsIds=t},s.prototype.getType=function(){return this.type||a.a.FILE.id},s.prototype.getMediaType=function(){return this.mediaType},s.prototype.getName=function(){return this.name},s.prototype.getFolder=function(){return this.folder},s.prototype.getSize=function(){return this.size},s.prototype.isDeleted=function(){return!r.a.isNull(this.deleteDate)},s.prototype.setDeleted=function(e){this.deleted=r.a.booleanToInt(e),this.deleteDate=e?this.deleteDate||new Date:null},s.prototype.isUploaded=function(){return 1===this.uploaded},s.prototype.setError=function(e){this.error=e,this.setUploaded(!1)},s.prototype.setUploaded=function(e){this.uploaded=r.a.booleanToInt(e),this.progress=0},s.prototype.isDownloaded=function(){return 1===this.downloaded&&this.downloadUrl},s.prototype.setDownloaded=function(e){this.downloaded=r.a.booleanToInt(e),this.progress=0},s.prototype.getFormattedSize=function(){return i.a.formatSize(this.size)},s.prototype.getDownloadUrl=function(){return this.downloadUrl},s.prototype.getTitle=function(){return"".concat(this.getName()," (").concat(this.getFormattedSize(),")")},s.prototype.isInProgress=function(){return this.getState().isInProgress},s.prototype.getState=function(){return r.a.isNull(this.error)?this.isUploaded()?this.isDownloaded()?o.Downloaded:!this.isUploaded()||r.a.isNull(this.downloadUrl)||this.isDownloaded()?this.isUploaded()?o.Uploaded:o.Normal:o.Download:o.Upload:o.Error},s.prototype.isImage=function(){var e=this.getMediaType();return e&&e.toLowerCase().startsWith("image")},s.prototype.isVideo=function(){var e=this.getMediaType();return e&&(e.toLowerCase().startsWith("video")||e.endsWith("octet-stream"))},s.prototype.isAudio=function(){var e=this.getMediaType();return e&&e.toLowerCase().startsWith("audio")},s.prototype.isPdf=function(){var e=this.getMediaType(),t=this.getName();return e&&"application/pdf"===e.toLowerCase()||t&&t.toLowerCase().endsWith(".pdf")},s.prototype.hasPreview=function(){return this.isUploaded()&&this.isImage()},s.prototype.hasError=function(){return!r.a.isNullOrBlank(this.error)},s.prototype.hasUploadError=function(){return this.hasError()&&!this.isUploaded()},s.prototype.getExtension=function(){var e=this.getName();if(r.a.isNullOrBlank(e))return null;var t=e.lastIndexOf(".");return-1!==t?e.substring(t+1).toLowerCase():null},s.prototype.getPreviewText=function(){return this.getExtension()},s.prototype.getDescriptionText=function(){var e=i.a.formatSize(this.size),t=i.a.formatDateShort(this.createDate);return"".concat(e,", ").concat(t)},s.newInstance=function(){var e=new s;return e.path="/",e}},"37f6":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("498a"),n("99af");var r=n("29a4"),i=n("a8e6"),a=n("72a1"),o=n("f175"),s={TODAY:{id:0,code:"today",titleRes:"where_date_today",toInterval:function(){var e=new r.a;return e.period=this,e.from=o.a.getInstance().withoutTime().getTime(),e.to=null,e},getLabel:function(e){return e.$t("where_date_today")}},YESTERDAY:{id:1,code:"yesterday",titleRes:"where_date_yesterday",toInterval:function(){var e=new r.a;return e.period=this,e.from=o.a.getInstance().withoutTime().withDays(-1).getTime(),e.to=o.a.getInstance().withoutTime().withSeconds(-1).getTime(),e},getLabel:function(e){return e.$t("where_date_yesterday")}},LAST_7_DAYS:{id:2,titleRes:"where_date_last_7_days",toInterval:function(){var e=new r.a;return e.period=this,e.from=o.a.getInstance().withoutTime().withDays(-7).getTime(),e.to=null,e},getLabel:function(e){return e.$t("where_date_last_7_days")}},LAST_30_DAYS:{id:3,titleRes:"where_date_last_30_days",toInterval:function(){var e=new r.a;return e.period=this,e.from=o.a.getInstance().withoutTime().withDays(-30).getTime(),e.to=null,e},getLabel:function(e){return e.$t("where_date_last_30_days")}},LAST_90_DAYS:{id:4,titleRes:"where_date_last_90_days",toInterval:function(){var e=new r.a;return e.period=this,e.from=o.a.getInstance().withoutTime().withDays(-90).getTime(),e.to=null,e},getLabel:function(e){return e.$t("where_date_last_90_days")}},CUSTOM_INTERVAL:{id:5,titleRes:"where_date_custom",toInterval:function(e,t){var n=new r.a;return n.period=this,a.a.isDate(e)&&a.a.isDate(t)&&e.getTime()>t.getTime()?(n.from=t,n.to=e):(n.from=e,n.to=t),n},getLabel:function(e,t,n){return a.a.isDate(t)&&a.a.isDate(n)?"\n          ".concat(e.$t("where_from")," ").concat(i.a.formatDate(t),"\n          ").concat(e.$t("where_to")," ").concat(i.a.formatDate(n),"\n        ").trim():a.a.isDate(t)?"".concat(e.$t("where_after")," ").concat(i.a.formatDate(t)):a.a.isDate(n)?"".concat(e.$t("where_before")," ").concat(i.a.formatDate(n)):null}},CUSTOM_DATE:{id:6,titleRes:"where_date_custom",toInterval:function(e){var t=new r.a;return t.period=this,t.from=e,t.to=null,t},getLabel:function(e,t){return i.a.formatDateShort(t)}},TOMORROW:{id:7,code:"tomorrow",titleRes:"where_date_tomorrow",toInterval:function(){var e=new r.a;return e.period=this,e.from=o.a.getInstance().withoutTime().withDays(1).getTime(),e.to=null,e},getLabel:function(e){return e.$t("where_date_tomorrow")}}};s.byId={0:s.TODAY,1:s.YESTERDAY,2:s.LAST_7_DAYS,3:s.LAST_30_DAYS,4:s.LAST_90_DAYS,5:s.CUSTOM_INTERVAL,6:s.CUSTOM_DATE,7:s.TOMORROW},s.byCode={today:s.TODAY,yesterday:s.YESTERDAY,tomorrow:s.TOMORROW},s.periods=[s.CUSTOM_INTERVAL,s.TODAY,s.YESTERDAY,s.LAST_7_DAYS,s.LAST_30_DAYS,s.LAST_90_DAYS],s.datePeriods=[s.YESTERDAY,s.TODAY,s.TOMORROW]},"3a75":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("e9c4"),n("ded3")),o=n.n(a),s=(n("d3b7"),n("159b"),n("b64b"),n("72a1")),c=n("a8e6"),u=function(e){var t=o()({},e);return Object.keys(t).forEach((function(e){var n=t[e];s.a.isDate(n)?t[e]=c.a.toJsonDate(n):s.a.isNull(n)&&delete t[e]})),t},l=n("27f0"),d=n("25d0"),p=n("f936"),f=n("e2db"),h=n("2eba"),g=n("1cee");function m(e,t){return t.then((function(t){return g.a.debug("API :: SUCCESS",e,t),t})).catch((function(t){throw g.a.error("API :: ERROR",e,t),t}))}var _,T={deleteAccount:function(){return m("deleteAccount",h.a.getFirebaseFunctions().httpsCallable("deleteAccount")())},signIn:function(){return m("signIn",h.a.getFirebaseFunctions().httpsCallable("signIn")({version:l.a.apiVersion}).then((function(e){return e.data})))},startSession:(_=i()(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.a.getSettings(),n=t.referralId,r=f.a.isDesktop()?"startSessionDesktop":"startSessionWeb",e.next=5,d.a.getNotSyncedClipsCount();case 5:return i=e.sent,e.next=8,d.a.getAllClipsCount();case 8:return a=e.sent,o=a-i,g.a.debug("startSession","notSyncedCount",i,"syncedCount",o),e.abrupt("return",m("startSession",h.a.getFirebaseFunctions().httpsCallable(r)({settings:JSON.stringify(t),notSyncedNotesCount:i,syncedNotesCount:o,appVersion:f.a.getAppVersion(),deviceModel:f.a.getPlatform(),deviceId:f.a.getPlatformId(),language:f.a.getLocale(),version:l.a.apiVersion,referral:n})));case 12:case"end":return e.stop()}}),e)}))),function(){return _.apply(this,arguments)}),checkSession:function(e){return m("checkSession",h.a.getFirebaseFunctions().httpsCallable("checkUserSession")(e).then((function(e){return e.data})))},getInvitationLink:function(){return m("getInvitationLink",h.a.getFirebaseFunctions().httpsCallable("generateAppLink")().then((function(e){return e.data.shortLink})))},createNotePublicLink:function(e){var t=e.publicLink,n=e.title,r=e.clip,i={oneTimeOpening:t.oneTimeOpening||!1,postponeInMillis:t.postponeInMillis,postponeAtDate:c.a.toJsonDate(t.postponeAtDate),expiresInMillis:t.expiresInMillis,expiresAtDate:c.a.toJsonDate(t.expiresAtDate),passwordClue:t.passwordClue,password:t.password,locked:t.locked,noteId:r.firestoreId,title:n};return m("createNotePublicLink",h.a.getFirebaseFunctions().httpsCallable("notePublicLinkGenerate")(i).then((function(e){return e&&e.data||{}})))},getPublicLink:function(e,t,n){return m("getPublicLink",h.a.getFirebaseFunctions().httpsCallable("getPublicLink")({password:t,legacy:n,id:e}).then((function(e){return e.data})))},removePublicLink:function(e,t){return m("removePublicLink",h.a.getFirebaseFunctions().httpsCallable("removePublicLink")({legacy:t,id:e}).then((function(e){return e.data})))},savePublicLink:function(e){var t=u(e);return m("savePublicLink",h.a.getFirebaseFunctions().httpsCallable("savePublicLink")(t).then((function(e){return e.data})))},getFilePublicLink:function(e){return m("getFilePublicLink",h.a.getFirebaseFunctions().httpsCallable("filePublicLinkGet")({name:e.getUid(),folder:e.getFolder(),title:e.getName()}).then((function(e){return e.data.shortLink})).catch((function(){return null})))},getLinkPreview:function(e){return m("getLinkPreview",h.a.getFirebaseFunctions().httpsCallable("getLinkPreview")({url:e}).then((function(e){return e.data})))},getIpAddress:function(){return m("getIpAddress",h.a.getFirebaseFunctions().httpsCallable("getIpAddress")().then((function(e){return e.data.ip})))},getSnippetKitCategories:function(){},getSnippetKits:function(e){},publishSnippetKit:function(e,t,n){},unpublishSnippetKit:function(e){},createSnippetKitLink:function(e){},removeSnippetKitLink:function(e){},getSnippetKit:function(e){}}},"403c":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n("a4d3"),n("e01a");var r=n("96e4"),i=(n("d81d"),n("b0c0"),n("e6d6")),a=n("f52e"),o=(n("72a1"),n("970b")),s=n.n(o),c=n("9523"),u=n.n(c),l=(n("ac1f"),n("99af"),n("586c")),d=n("bd4c"),p=n("1732"),f=function e(){s()(this,e),u()(this,"type",void 0),u()(this,"size",void 0),u()(this,"md5",void 0),u()(this,"name",void 0),u()(this,"label",void 0),u()(this,"created",void 0),u()(this,"updated",void 0),u()(this,"folder",void 0),u()(this,"uploaded",void 0),u()(this,"mediaType",void 0),u()(this,"localUrl",void 0),u()(this,"error",void 0),u()(this,"platform",void 0)};f.prototype.apply=function(e,t){var n,r=/(?:\.([^.]+))?$/.exec(e.name)[1];return n=r?"".concat(Object(p.a)(),".").concat(r):Object(p.a)(),this.type=t||l.a.FILE.id,this.ref=e,this.name=n,this.size=e.size,this.label=e.name,this.localUrl=e.path,this.mediaType=e.type,this.created=e.lastModifiedDate,this.created||(this.created=new Date),this.folder=d.b.formatDate(this.created,"YYYYMMDD"),this};var h=function(e){return e?e.map((function(e){var t=new f;return t.error=e[i.a.FILE_META_ERROR],t.name=e[i.a.FILE_META_NAME],t.label=e[i.a.FILE_META_LABEL],t.folder=e[i.a.FILE_META_FOLDER],t.type=e[i.a.FILE_META_TYPE],t.mediaType=e[i.a.FILE_META_MEDIA_TYPE],t.size=e[i.a.FILE_META_SIZE],t.md5=e[i.a.FILE_META_MD5],t.platform=e[i.a.FILE_META_PLATFORM],t.created=a.a.toDate(e[i.a.FILE_META_CREATED]),t.updated=a.a.toDate(e[i.a.FILE_META_UPDATED]),t.uploaded=e[i.a.FILE_META_UPLOADED],t.localUrl=e[i.a.FILE_META_LOCAL_PATH],t})):[]},g=n("27f0"),m=n("e2db"),_=n("782d"),T={toMap:function(e){var t={};return t[i.a.ATTR_DEVICE_ID]=m.a.getDeviceId(),t[i.a.ATTR_API_VERSION]=g.a.apiVersion,t[i.a.ATTR_CHANGE_TIMESTAMP]=i.a.getServerTimestamp(),t[i.a.ATTR_CLIP_USAGE_COUNT]=e.usageCount,t[i.a.ATTR_CLIP_OBJECT_TYPE]=e.objectType,t[i.a.ATTR_CLIP_CREATE_DATE]=a.a.toTimestamp(e.createDate),t[i.a.ATTR_CLIP_MODIFY_DATE]=a.a.toTimestamp(e.modifyDate),t[i.a.ATTR_CLIP_UPDATE_DATE]=a.a.toTimestamp(e.updateDate),t[i.a.ATTR_CLIP_DELETE_DATE]=a.a.toTimestamp(e.deleteDate,!0),t[i.a.ATTR_CLIP_TEXT_TYPE]=e.textType,t[i.a.ATTR_CLIP_TAG_IDS]=e.getTagIds(),t[i.a.ATTR_CLIP_TEXT]=e.text,t[i.a.ATTR_CLIP_TITLE]=e.title,t[i.a.ATTR_CLIP_SNIPPET_ID]=e.snippetId,t[i.a.ATTR_CLIP_TRACKED]=e.isTracked(),t[i.a.ATTR_CLIP_FAV]=e.isStarred(),t[i.a.ATTR_CLIP_PUBLIC_LINK]=r.a.toMap(e.publicLink),t[i.a.ATTR_CLIP_ABBREVIATION]=e.abbreviation,t[i.a.ATTR_CLIP_DESCRIPTION]=e.description,t[i.a.ATTR_CLIP_SNIPPET_SETS_IDS]=e.getKitIds(),t[i.a.ATTR_CLIP_FILE_IDS]=e.getFileIds(),i.a.normalizeMap(t,!0)},fromMap:function(e){var t=e.doc.data(),n=new _.a;return n.firestoreId=e.doc.id,n.setUsageCount(t[i.a.ATTR_CLIP_USAGE_COUNT]),n.setObjectType(t[i.a.ATTR_CLIP_OBJECT_TYPE]),n.createDate=a.a.toDate(t[i.a.ATTR_CLIP_CREATE_DATE]),n.modifyDate=a.a.toDate(t[i.a.ATTR_CLIP_MODIFY_DATE])||n.createDate,n.updateDate=a.a.toDate(t[i.a.ATTR_CLIP_UPDATE_DATE]),n.deleteDate=a.a.toDate(t[i.a.ATTR_CLIP_DELETE_DATE]),n.setTextType(t[i.a.ATTR_CLIP_TEXT_TYPE]),n.setTagIds(t[i.a.ATTR_CLIP_TAG_IDS]),n.tags=t[i.a.ATTR_CLIP_TAGS],n.text=t[i.a.ATTR_CLIP_TEXT],n.title=t[i.a.ATTR_CLIP_TITLE],n.snippetId=t[i.a.ATTR_CLIP_SNIPPET_ID],n.setTracked(t[i.a.ATTR_CLIP_TRACKED]),n.setStarred(t[i.a.ATTR_CLIP_FAV]),n.setFileIds(t[i.a.ATTR_CLIP_FILE_IDS]),n.files=h(t[i.a.ATTR_CLIP_FILE_METADATA]),n.publicLink=r.a.fromMap(t[i.a.ATTR_CLIP_PUBLIC_LINK]),n.setKitIds(t[i.a.ATTR_CLIP_SNIPPET_SETS_IDS]),n.abbreviation=t[i.a.ATTR_CLIP_ABBREVIATION],n.description=t[i.a.ATTR_CLIP_DESCRIPTION],n}}},4793:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getEditTagsRequest",(function(){return i})),n.d(r,"getBannerRequest",(function(){return a})),n.d(r,"getMergeClipsRequest",(function(){return o})),n.d(r,"getShowAdvancedFilterRequest",(function(){return s})),n.d(r,"getSelectPlanRequest",(function(){return c})),n.d(r,"canSelectPlan",(function(){return u})),n.d(r,"getShowSettingsRequest",(function(){return l})),n.d(r,"getShowLeftNavRequest",(function(){return d})),n.d(r,"getHideLeftNavRequest",(function(){return p})),n.d(r,"getFilterDetails",(function(){return f}));n("4de4"),n("d3b7");function i(e){return e.editTagsRequest}function a(e){return e.bannerRequest}function o(e){return e.mergeClipsRequest}function s(e){return e.showAdvancedFilterRequest}function c(e){return e.selectPlanRequest}function u(e,t){return t.remoteConfigCanSelectPlan}function l(e){return e.showSettingsRequest}function d(e){return e.showLeftNavRequest}function p(e){return e.hideLeftNavRequest}function f(e){var t=e.showFilterDetailsRequest;return t?t.filter:null}var h,g,m=n("9523"),_=n.n(m),T=n("f936"),E=n("8841"),v=n("72a1"),S=n("71a7"),C=n("ed99"),b=n("1cee"),I=n("c9d9"),y=n("782d"),A=(h={},_()(h,I.a.onStartEditTagsUseCase,(function(e,t){var n={clips:[t],date:Date.now()};e.commit(C.a.REQUEST_EDIT_TAGS,n)})),_()(h,I.a.onShowBannerUseCase,(function(e,t){t&&(t.date=Date.now()),e.commit(C.a.REQUEST_SHOW_BANNER,t)})),_()(h,I.a.onStartEditCommonTagsUseCase,(function(e,t){var n={clips:t,date:Date.now()};e.commit(C.a.REQUEST_EDIT_TAGS,n)})),_()(h,I.a.onStartMergeClipsUseCase,(function(e,t){var n=T.a.getSettings().textSeparator||S.a.NEW_LINE,r=y.a.newInstance();r.title=E.a.getClipsCommonTitle(t),r.text=E.a.getClipsText(t,n),r.setTagIds(E.a.getClipsDistinctTagIds(t)),r.setFileIds(E.a.getClipsDistinctFileIds(t));var i={clip:r,clips:t,date:Date.now(),separator:n};e.commit(C.a.REQUEST_MERGE_CLIPS,i)})),_()(h,I.a.onStartAdvancedFilterUseCase,(function(e){e.commit(C.a.REQUEST_SHOW_ADVANCED_FILTER)})),_()(h,I.a.onStartShowSettingsUseCase,(function(e){e.commit(C.a.REQUEST_SHOW_SETTINGS)})),_()(h,I.a.onStartShowFilterDetailsUseCase,(function(e,t){var n=t;v.a.isNull(n)||!n.isNew()&&!n.isLast()||n.isTag()||n.isSnippetKit()||(b.a.debug("edit as a new filter",t),n=n.asNewNamedFilter()),e.commit(C.a.REQUEST_SHOW_FILTER_DETAILS,n)})),_()(h,I.a.onStartSelectPlanUseCase,(function(e){e.commit(C.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,!1),e.getters.canSelectPlan&&e.commit(C.a.REQUEST_SELECT_PLAN)})),h),D=(g={},_()(g,C.a.REQUEST_EDIT_TAGS,(function(e,t){e.editTagsRequest=t})),_()(g,C.a.REQUEST_MERGE_CLIPS,(function(e,t){e.mergeClipsRequest=t})),_()(g,C.a.REQUEST_SHOW_ADVANCED_FILTER,(function(e){e.showAdvancedFilterRequest=Date.now()})),_()(g,C.a.REQUEST_SELECT_PLAN,(function(e){e.selectPlanRequest=Date.now()})),_()(g,C.a.REQUEST_SHOW_SETTINGS,(function(e){e.showSettingsRequest=Date.now()})),_()(g,C.a.REQUEST_SHOW_LEFT_NAV,(function(e){e.showLeftNavRequest=Date.now()})),_()(g,C.a.REQUEST_HIDE_LEFT_NAV,(function(e){e.hideLeftNavRequest=Date.now()})),_()(g,C.a.REQUEST_SHOW_BANNER,(function(e,t){e.bannerRequest=t})),_()(g,C.a.REQUEST_SHOW_FILTER_DETAILS,(function(e,t){b.a.debug(C.a.REQUEST_SHOW_FILTER_DETAILS,t),e.showFilterDetailsRequest={date:Date.now(),filter:t}})),g);t.a={namespaced:!1,state:{showAdvancedFilterRequest:null,showFilterDetailsRequest:null,showSettingsRequest:null,showLeftNavRequest:null,hideLeftNavRequest:null,selectPlanRequest:null,mergeClipsRequest:null,editTagsRequest:null,bannerRequest:null},getters:r,mutations:D,actions:A}},5046:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("bc78"),i=n("2a19"),a=n("f508"),o=n("b06b"),s=n("09f9"),c=n("61b4"),u=n("72a1"),l={},d=null,p={getBorderRadius:function(){return 12},getBorderRadiusSm:function(){return 8},getBorderRadiusLg:function(){return 18},getToolbarHeight:function(){return 50},getSeparatorHeight:function(){return 1},getBarDenseHeight:function(){return 26},getBarStandardHeight:function(){return 32},getScreenMinWidth:function(){return Math.min(260,s.a.width)},getColorAccent:function(){return p.getColorBrand("colorAccent")},getTextColorPrimary:function(){return p.getColorBrand("textColorPrimary")},getTextColorSecondary:function(){return p.getColorBrand("textColorSecondary")},getColorBackgroundHighlight:function(){return p.getColorBrand("myBackgroundHighlight")},getActionIconColorInactive:function(){return p.getColorBrand("actionIconColorInactive")},getActionIconColorNormal:function(){return p.getColorBrand("actionIconColorNormal")},getActionIconColorHighlight:function(){return p.getColorBrand("actionIconColorHighlight")},getColorDisabled:function(e,t){return r.a.changeAlpha(e,t||.2)},getColorBackgroundDim:function(e){return"rgba(0,0,0,0.5)"},getColorBrand:function(e,t){var n=r.a.getBrand(e);return t&&(t.alpha&&(n=r.a.changeAlpha(n,t.alpha)),t.rgb&&(n=r.a.hexToRgb(n))),n},getColorOnSurface:function(e){if(!e)return null;var t=l[e];return t||(t=r.a.luminosity(e)<.4?"#fff":"#000",l[e]=t,t)},getScrollAreaThumbStyle:function(e){return u.a.isNull(e)||e>0?{right:"0px",borderRadius:"5px",backgroundColor:r.a.getBrand("textColorSecondary"),height:"".concat(e||10,"px"),width:"".concat(e||10,"px"),opacity:.5}:{borderRadius:"0px",right:"0px",width:"0px",height:"0px",opacity:0}},showToast:function(e){d&&(d(),d=null),d=i.a.create({message:e,position:"top",timeout:1e3})},showLoadingState:function(e){if(!a.a.isActive){var t=300;e&&(t=0),a.a.show({delay:t,spinnerSize:56})}var n=Date.now();c.a.runWithDelay("showLoadingState",3e4,(function(){Date.now()-n>=29e3&&p.hideLoadingState()}))},hideLoadingState:function(){c.a.dispose("showLoadingState"),a.a.hide()},openURL:function(e){return Object(o.a)(e)}}},"53e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("970b"),i=n.n(r),a=n("9523"),o=n.n(a),s=function e(t){i()(this,e),o()(this,"value",void 0),this.value=t};s.prototype.compareAndSet=function(e,t){var n=this.value;return this.value=t,n===e}},"586c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={FILE:{id:0,name:"file"},PHOTO:{id:1,name:"photo"},SEND:{id:2,name:"send"}}},"596c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("1cee"),i={registerModule:function(e,t,n){var i=e.$store;i.hasModule(t)&&(r.a.debug("unregister module",t),i.unregisterModule(t)),i.registerModule(t,n)}}},"5fb5":function(e,t,n){"use strict";n("206d")},"61b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("c973"),a=n.n(i),o=(n("96cf"),n("f936")),s=n("72a1"),c=n("1cee"),u=n("2b0e"),l={onceMap:{},queueMap:{},retryMap:{},attemptMap:{},getDefaultDelay:function(){return 500},retry:function(e,t,n){var r=(l.retryMap[e]||0)+1;return c.a.debug("retry: id =",e," attempt =",r,"/",t),r<t?(l.retryMap[e]=r,n()):null},nextTick:function(e){u.default.nextTick(e)},nextAttempt:(r=a()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=l.attemptMap[t]||{counter:0,active:!1}).active){e.next=4;break}return c.a.debug("nextAttempt ignored: id =",t," attempt =",r),e.abrupt("return",null);case 4:return r={counter:r.counter+1,active:!0},l.attemptMap[t]=r,e.prev=6,r.active=!0,c.a.debug("nextAttempt started: id =",t," attempt =",r),e.next=11,n(r.counter);case 11:return e.prev=11,r.active=!1,c.a.debug("nextAttempt completed: id =",t," attempt =",r),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[6,,11,15]])}))),function(e,t){return r.apply(this,arguments)}),runWithDelay:function(e,t,n){c.a.debug("delay execution: id=",e,"with delay time =",t),l.dispose(e),t>0?l.queueMap[e]=setTimeout((function(){c.a.debug("complete execution: id=",e,"with delay time =",t),delete l.queueMap[e],s.a.execFunction(n)}),t):(c.a.debug("complete execution: id=",e,"with delay time =",t),s.a.execFunction(n))},runOnce:function(e,t){l.onceMap[e]||(c.a.debug("runOnce: id=",e),l.onceMap[e]=!0,s.a.execFunction(t))},dispose:function(e){try{var t=l.queueMap[e];s.a.isNumber(t)&&(c.a.debug("dispose",e,t),delete l.queueMap[e],clearTimeout(t))}catch(e){c.a.error("dispose",e)}},runPeriodically:function(e,t,n){c.a.debug("periodical task: id =",e,"interval =",t),l.dispose(e),l.queueMap[e]=setInterval((function(){s.a.execFunction(n)}),t),s.a.execFunction(n)},runOnUI:function(e){var t=o.a.getUI();if(t&&s.a.isFunction(e))return e(t)}}},6683:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={PREVIEW:"PREVIEW",VIEW:"VIEW",EDIT:"EDIT"}},6953:function(e,t,n){"use strict";n("99af");var r=n("c9d9"),i=n("5046"),a=n("ed99"),o=n("e2db"),s={name:"FileDetailsPreviewBlock",components:{},props:["file","minHeightInPx"],data:function(){return{minWidth:i.a.getScreenMinWidth()}},asyncComputed:{getFilePreviewUrl:function(){return this.$store.dispatch(r.a.onGetFileDownloadUrl,{withSilentOnError:!0,fileRef:this.getFile})}},computed:{getPreviewBlockStyle:function(){var e=Math.min(this.minWidth,o.a.getScreenMinWidth());return"width: ".concat(e,"px; max-width: ").concat(e,"px")},getContentStyle:function(){return"min-height: ".concat(this.getPreviewHeight,"px")},getPreviewStyle:function(){return this.$store.getters.getAppImageStyle},getNoPreviewStyle:function(){return"min-height: ".concat(this.getPreviewHeight-i.a.getToolbarHeight(),"px; ").concat(this.getPreviewStyle)},getPreviewHeight:function(){return this.minHeightInPx},getFile:function(){return this.file},isImage:function(){return this.getFile.isImage()},isPdf:function(){return this.getFile.isPdf()},isVideo:function(){return this.getFile.isVideo()},isAudio:function(){return this.getFile.isAudio()},getMediaSources:function(){return[{src:this.getFilePreviewUrl,type:this.getFile.getMediaType()}]}},methods:{onLinkPreview:function(){this.$store.commit(a.a.PLAY_PREVIEW,{imageUrl:this.getFilePreviewUrl})},onResized:function(e){this.minWidth=e.width-36}}},c=n("2877"),u=n("068f"),l=n("9c40"),d=n("3980"),p=n("eebe"),f=n.n(p),h=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md fit column items-center q-mt-md",style:e.getContentStyle},[n("div",{style:e.getPreviewBlockStyle},[e.isImage?n("q-img",{style:e.getPreviewStyle,attrs:{src:this.getFilePreviewUrl,"spinner-color":"colorAccent",contain:""}},[n("q-btn",{staticClass:"absolute-center",staticStyle:{"background-color":"rgba(0,0,0,0.4)"},attrs:{"text-color":"white",icon:"zoom_in",size:"lg",round:"",flat:""},on:{click:function(t){return t.stopPropagation(),e.onLinkPreview(t)}}})],1):e.isVideo?n("q-media-player",{ref:"mediaPlayer",style:e.getPreviewStyle,attrs:{"show-big-play-button":!0,sources:e.getMediaSources,type:"video"}}):e.isAudio?n("q-media-player",{ref:"mediaPlayer",style:e.getPreviewStyle,attrs:{sources:e.getMediaSources,type:"audio"}}):n("div",{staticClass:"bg-myBackgroundHighlight text-textColorSecondary text-body2 row items-center justify-center",style:e.getNoPreviewStyle},[e._v("\n      "+e._s(e.$t("link_preview_not_found"))+"\n    ")])],1),n("q-resize-observer",{on:{resize:e.onResized}})],1)}),[],!1,null,null,null);t.a=h.exports;f()(h,"components",{QImg:u.a,QBtn:l.a,QResizeObserver:d.a})},"6f2e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("baf0"),i=n("0ebd"),a={ALL:{id:0,order:0,group:i.a.NOTES.id,hintRes:"main_list_empty_description_all",createUid:function(){return"all"},getTitleRes:function(){return"main_filter_all"},getIconRes:function(){return"all_inclusive"}},UNTAGGED:{id:1,order:1,group:i.a.NOTES.id,hintRes:"main_list_empty_description_no_tags",createUid:function(){return"untagged"},getTitleRes:function(){return"filter_label_no_tags"},getIconRes:function(){return"label_off"}},STARRED:{id:2,order:1,group:i.a.NOTES.id,hintRes:"main_list_empty_description_starred",createUid:function(){return"starred"},getTitleRes:function(){return"filter_label_fav"},getIconRes:function(){return"star"}},CLIPBOARD:{id:3,order:1,group:i.a.NOTES.id,hintRes:"main_list_empty_description_clipboard",createUid:function(){return"clipboard"},getTitleRes:function(){return"runes_clipboard_title"},getIconRes:function(){return"svguse:icons.svg#rune_clipboard"}},DELETED:{id:4,order:1,group:i.a.NOTES.id,hintRes:"main_list_empty_description_deleted",createUid:function(){return"deleted"},getTitleRes:function(){return"filter_deleted_title"},getIconRes:function(){return"delete"}},LAST:{id:5,order:1,hintRes:"hint_filter_custom",createUid:function(){return"last"},getTitleRes:function(){return"main_filter_filtered"},getIconRes:function(){return"filter_alt"}},CONTEXT:{id:6,order:1,createUid:function(){return"context"}},SNIPPETS:{id:11,order:2,group:i.a.NOTES.id,hintRes:"main_list_empty_description_snippets",createUid:function(){return"snippets"},getTitleRes:function(){return"filter_label_snippets"},getIconRes:function(){return"text_snippet"}},GROUP_NOTES:{id:13,order:1,hintRes:"hint_notes",createUid:function(){return"notes"},getIconRes:function(){return"description"},getTitleRes:function(){return"main_filter_notes"}},GROUP_FILTERS:{id:14,order:1,hintRes:"hint_filters",createUid:function(){return"filters"},getIconRes:function(){return"filter_alt"},getTitleRes:function(){return"main_filter_filters"}},GROUP_TAGS:{id:15,order:1,hintRes:"hint_tags",createUid:function(){return"tags"},getIconRes:function(){return"label"},getTitleRes:function(){return"main_filter_tags"}},GROUP_SNIPPETS:{id:16,order:1,hintRes:"hint_snippets",createUid:function(){return"group_snippets"},getIconRes:function(){return"snippet_folder"},getTitleRes:function(){return"clip_details_tab_snippet_kits"}},TAG:{id:7,order:2,hintRes:"hint_tag",group:i.a.TAGS.id,hintNewRes:"tag_new_name",deleteTitleRes:"filter_tag_delete_title",deleteDescriptionRes:"filter_tag_delete_description",createUid:function(e){return r.a.autoId(e)},getIconRes:function(e){return e.color?"label":"label_outline"}},LINK:{id:8,order:2,createUid:function(){return r.a.autoId()}},CUSTOM:{id:9,order:2,hintRes:"hint_filter_custom",createUid:function(){return r.a.autoId()}},NAMED:{id:10,order:2,hintRes:"hint_filter",group:i.a.FILTERS.id,hintNewRes:"filter_hint_name",deleteTitleRes:"filter_delete_title",deleteDescriptionRes:"filter_delete_description",createUid:function(){return r.a.autoId()},getIconRes:function(){return"filter_alt"}},SNIPPET_KIT:{id:17,order:2,hintRes:"hint_snippet",group:i.a.SNIPPET_KITS.id,hintNewRes:"snippet_kit_hint_name",deleteTitleRes:"snippet_kit_delete_title",deleteDescriptionRes:"snippet_kit_delete_description",createUid:function(){return r.a.autoId()},getIconRes:function(){return"snippet_folder"}}};a.byId={0:a.ALL,1:a.UNTAGGED,2:a.STARRED,3:a.CLIPBOARD,4:a.DELETED,5:a.LAST,6:a.CONTEXT,7:a.TAG,8:a.LINK,9:a.CUSTOM,10:a.NAMED,11:a.SNIPPETS,13:a.GROUP_NOTES,14:a.GROUP_FILTERS,15:a.GROUP_TAGS,16:a.GROUP_SNIPPETS,17:a.SNIPPET_KIT}},"6fbd":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CLIP:{id:1},FILE:{id:2}};r._byId={1:r.CLIP,2:r.FILE},r.byId=function(e){return r._byId[e]}},"71a7":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={NEW_LINE:"\n\n",SPACE:" ",MD:"\n***\n"}},"721b":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getSelectedLanguage",(function(){return d})),n.d(r,"getSelectedTheme",(function(){return p})),n.d(r,"isSelectedThemeDark",(function(){return f})),n.d(r,"canShowTooltips",(function(){return h})),n.d(r,"getBorderRadius",(function(){return g})),n.d(r,"getBorderRadiusSm",(function(){return m})),n.d(r,"getBorderRadiusLg",(function(){return _})),n.d(r,"getAppBarHeight",(function(){return T})),n.d(r,"isAppBarHasCustomActions",(function(){return E})),n.d(r,"isAppBarAvailable",(function(){return v})),n.d(r,"isSecondaryAppBarAvailable",(function(){return S})),n.d(r,"getAppAvailableHeight",(function(){return C})),n.d(r,"getAppContentStyle",(function(){return b})),n.d(r,"getAppDialogStyle",(function(){return I})),n.d(r,"getAppDialogClass",(function(){return y})),n.d(r,"getAppFragmentDialogClass",(function(){return A})),n.d(r,"getAppFragmentDialogStyle",(function(){return D})),n.d(r,"getAppFrameStyle",(function(){return L})),n.d(r,"getAppContextMenuClass",(function(){return x})),n.d(r,"getAppContextMenuStyle",(function(){return R})),n.d(r,"getAppPopupMenuStyle",(function(){return w})),n.d(r,"getAppDateDialogStyle",(function(){return k})),n.d(r,"getAppButtonStyle",(function(){return P})),n.d(r,"getAppImageStyle",(function(){return N})),n.d(r,"getAppButtonToggleStyle",(function(){return F})),n.d(r,"getAppAvatarStyle",(function(){return O})),n.d(r,"getAppCardStyle",(function(){return B})),n.d(r,"getAppToolbarStyle",(function(){return U})),n.d(r,"getAppBorderedTextBlockStyle",(function(){return M})),n.d(r,"getAppBottomSheetBorderStyle",(function(){return V})),n.d(r,"getAppSelectPopupStyle",(function(){return H})),n.d(r,"getAppDialogBottomSheetBorderStyle",(function(){return W})),n.d(r,"getAppBannerStyle",(function(){return q})),n.d(r,"getAppBannerClass",(function(){return z})),n.d(r,"getAppHeaderClass",(function(){return G})),n.d(r,"getAppFooterClass",(function(){return K})),n.d(r,"getAppContentClass",(function(){return j})),n.d(r,"getAppContentToolbarStyle",(function(){return $})),n.d(r,"getAppContentToolbarNotResizableStyle",(function(){return Y}));n("99af");var i=n("a987"),a=n("e2db"),o=n("72a1"),s=n("a849"),c=n("5046"),u=n("96e0"),l=n("09f9");function d(e){return e.selectedLanguage||i.a.getLanguage()}function p(e){return e.selectedTheme||s.a.getCurrentTheme()}function f(e){return e.selectedTheme.dark||e.selectedTheme.id===u.a.DEFAULT.id}function h(){return a.a.isDesktopOrDesktopBrowser()}function g(){return c.a.getBorderRadius()}function m(){return c.a.getBorderRadiusSm()}function _(){return c.a.getBorderRadiusLg()}function T(){return a.a.isDesktop()?a.a.isDesktopWin()?c.a.getBarStandardHeight()+c.a.getSeparatorHeight():c.a.getBarDenseHeight()+c.a.getSeparatorHeight():0}function E(){return a.a.isDesktopWin()||a.a.isDesktopLinux()}function v(e,t){return t.getAppBarHeight>0}function S(e,t){return t.isAppBarAvailable&&l.a.lt.sm}function C(e,t){return a.a.getScreenHeight()-t.getAppBarHeight}function b(e,t){return"height: ".concat(t.getAppAvailableHeight,"px")}function I(e,t){return"max-width: 80vh; border-radius: ".concat(t.getBorderRadius,"px")}function y(e,t){var n=o.a.emptyIfNull(t.getSelectedFontClass);return"bg-colorContext non-selectable q-px-xs ".concat(n)}function A(e,t){var n=o.a.emptyIfNull(t.getSelectedFontClass);return"non-selectable bg-colorContext fit ".concat(n)}function D(e,t){return"border-radius: ".concat(t.getBorderRadius,"px")}function L(e,t){return""}function x(e,t){return"bg-colorDialog column q-gutter-y-sm q-py-sm non-selectable ".concat(t.getSelectedFont.styleClass)}function R(e,t){return"min-width: ".concat(c.a.getScreenMinWidth(),"px; border-radius: ").concat(t.getBorderRadius,"px")}function w(e,t){return"border-radius: ".concat(t.getBorderRadius,"px")}function k(e,t){return"border-radius: ".concat(t.getBorderRadius,"px;")}function P(e,t){return"border-radius: ".concat(t.getBorderRadiusSm,"px;")}function N(e,t){return"border-radius: ".concat(t.getBorderRadius,"px;")}function F(e,t){var n=t.getSelectedTheme;return"border: 1px solid ".concat(c.a.getColorBackgroundHighlight(n),"; border-radius: ").concat(t.getBorderRadiusSm,"px")}function O(e,t){return"border-radius: ".concat(t.getBorderRadius,"px")}function B(e,t){return"border-radius: ".concat(t.getBorderRadius,"px")}function U(e,t){return"border-radius: ".concat(t.getBorderRadiusSm,"px")}function M(e,t){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              border-radius: ".concat(t.getBorderRadius,"px;\n              font-size: 14px;\n      ")}function V(e,t){return"border-top-left-radius: ".concat(t.getBorderRadius,"px; border-top-right-radius: ").concat(t.getBorderRadius,"px;")}function H(e,t){return"border-bottom-left-radius: ".concat(t.getBorderRadius,"px; border-bottom-right-radius: ").concat(t.getBorderRadius,"px;")}function W(e,t){return l.a.lt.sm?t.getAppBottomSheetBorderStyle:"border-radius: ".concat(t.getBorderRadius,"px;")}function q(){var e=Math.max(a.a.getScreenWidth()/3,a.a.getScreenMinWidth());return"width: ".concat(e,"px; max-width: ").concat(e,"px;")}function z(){return"absolute-top z-top"}function G(){return"absolute-top"}function K(){return"absolute-bottom"}function j(e,t){var n="bg-colorPrimaryInverse",r=t.getSelectedFont;return r&&(n+=" ".concat(r.styleClass)),n}function $(e,t){return"".concat(t.getAppContentToolbarNotResizableStyle,"; cursor: col-resize;")}function Y(e,t){var n=t.getSelectedTheme,r=c.a.getColorBrand("colorPrimaryInverse",{alpha:.87,theme:n});return"background: ".concat(r)}var Q,X=n("9523"),J=n.n(X),Z=n("ed99"),ee=(Q={},J()(Q,Z.a.SET_LANGUAGE,(function(e,t){e.selectedLanguage=t})),J()(Q,Z.a.SET_THEME,(function(e,t){s.a.setTheme(t),e.selectedTheme=t})),J()(Q,Z.a.UPDATE_THEME,(function(e,t){t.apply(),e.selectedTheme=t})),Q),te=n("baab"),ne=n.n(te);t.a={namespaced:!1,state:function(){return{selectedLanguage:null,selectedTheme:null}},getters:r,mutations:ee,actions:ne.a}},7389:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getPublicLinkState",(function(){return u})),n.d(r,"getPublicLink",(function(){return l})),n.d(r,"getPublicLinkPassword",(function(){return d})),n.d(r,"isPublicLinkUnavailable",(function(){return p})),n.d(r,"isPublicLinkAlreadyOpened",(function(){return f})),n.d(r,"isPublicLinkExpired",(function(){return h})),n.d(r,"isPublicLinkPostponed",(function(){return g})),n.d(r,"isPublicLinkCanBeExpired",(function(){return m})),n.d(r,"isPublicLinkAvailable",(function(){return _})),n.d(r,"isPublicLinkLocked",(function(){return T}));var i=n("970b"),a=n.n(i),o=n("9523"),s=n.n(o),c=(n("9911"),function e(){a()(this,e),s()(this,"link",void 0)});s()(c,"createViewState",(function(e){var t=new c;return t.link=e,t}));function u(e){return e.publicLinkState}function l(e){return e.publicLinkState.link}function d(e){return e.publicLinkPassword}function p(e,t){var n=t.getPublicLink;return n&&n.isUnavailable()}function f(e,t){var n=t.getPublicLink;return n&&n.isAlreadyOpened()}function h(e,t){var n=t.getPublicLink;return n&&n.isExpired()}function g(e,t){var n=t.getPublicLink;return n&&n.isPostponed()}function m(e,t){var n=t.getPublicLink;return n&&n.canBeExpired()}function _(e,t){var n=t.getPublicLink;return n&&n.isAvailable()}function T(e,t){var n=t.getPublicLink;return n&&n.isLocked()&&!n.isAvailable()&&!n.isPostponed()}var E,v=n("ed99"),S=(E={},s()(E,v.a.VIEW_PUBLIC_LINK,(function(e,t){e.publicLinkState=t})),s()(E,v.a.SET_PUBLIC_LINK_PASSWORD,(function(e,t){e.publicLinkPassword=t})),E),C=(n("d3b7"),n("e6cf"),n("a79d"),n("25f0"),n("ac1f"),n("466d"),n("c973")),b=n.n(C),I=(n("96cf"),n("a4d3"),n("e01a"),n("b0c0"),n("6fbd")),y=function e(){a()(this,e),s()(this,"entityTypeId",void 0),s()(this,"data",void 0),s()(this,"uid",void 0)};y.prototype.getEntityType=function(){return I.a.byId(this.entityTypeId)},y.prototype.isClip=function(){return this.entityTypeId===I.a.CLIP.id},y.prototype.isFile=function(){return this.entityTypeId===I.a.FILE.id};var A,D=n("72a1"),L=n("c1d9"),x=n("a8e6"),R=n("1cee"),w=n("782d"),k=n("31a0"),P={mapResponseToPublicLink:function(e){var t=this,n=e.data,r=e.serverTime;if(!D.a.isObject(n))return L.a.unavailable();var i=L.a.newInstance();i.uid=n.uid,i.userId=n.userId,i.link=n.link,i.locked=n.locked,i.password=n.password,i.serverTime=x.a.fromJsonDate(r),i.createDate=x.a.fromJsonDate(n.createDate),i.updateDate=x.a.fromJsonDate(n.updateDate),i.passwordClue=n.passwordClue,i.unavailable=n.unavailable,i.oneTimeOpening=n.oneTimeOpening,i.expiresAtDate=x.a.fromJsonDate(n.expiresAtDate),i.expiresInMillis=n.expiresInMillis,i.postponeAtDate=x.a.fromJsonDate(n.postponeAtDate),i.postponeInMillis=n.postponeInMillis,i.openedTimes=n.openedTimes,i.postponed=x.a.fromJsonDate(n.postponed),i.expired=x.a.fromJsonDate(n.expired),i.legacy=n.legacy;var a=n.items;return D.a.isArray(a)&&(i.items=D.a.arrayMapNotNull(a,(function(e){var n=e.entityTypeId,r=e.data,i=new y;return i.entityTypeId=n,i.uid=e.uid,n===I.a.CLIP.id?i.data=t.mapItemToClip(r):n===I.a.FILE.id?i.data=t.mapItemToFile(r):(R.a.error("unknown entity type",n),i=null),i}))),i},mapErrorToPublicLink:function(){return L.a.unavailable()},mapItemToClip:function(e){var t=this;if(!D.a.isObject(e))return null;var n=w.a.newInstance();n.firestoreId=e.firestoreId,n.abbreviation=e.abbreviation,n.description=e.description,n.title=e.title,n.text=e.text,n.createDate=x.a.fromJsonDate(e.createDate),n.updateDate=x.a.fromJsonDate(e.updateDate),n.modifyDate=x.a.fromJsonDate(e.modifyDate),n.deleteDate=x.a.fromJsonDate(e.deleteDate),n.setTextType(e.textType),n.setFileIds(e.fileIds);var r=e.files;return D.a.isArray(r)&&(n.files=D.a.arrayMapNotNull(r,(function(e){return t.mapItemToFile(e)}))),n},mapItemToFile:function(e){if(!D.a.isObject(e))return null;var t=k.a.newInstance();return t.firestoreId=e.firestoreId,t.folder=e.folder,t.name=e.name,t.type=e.type,t.mediaType=e.mediaType,t.size=e.size,t.md5=e.md5,t.downloadUrl=e.downloadUrl,t.createDate=x.a.fromJsonDate(e.createDate),t.updateDate=x.a.fromJsonDate(e.updateDate),t.setUploaded(e.uploaded),t.setDownloaded(!0),t}},N=n("25d0"),F=n("3a75"),O=function(e,t,n,r){return R.a.debug("PublicLinkRepository#getLink",t,n,r),F.a.getPublicLink(t,n,r).then((function(e){return P.mapResponseToPublicLink(e)})).catch((function(e){return P.mapErrorToPublicLink(e)}))},B=function(e,t,n){return R.a.debug("PublicLinkRepository#removeLink",t,n),F.a.removePublicLink(t,n).then(b()(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=10;break}return r.next=3,N.a.getByFirestoreId(t);case 3:if(i=r.sent,D.a.isNull(i)){r.next=10;break}return R.a.debug("PublicLinkRepository :: update legacy link",i),i.publicLink=null,r.next=9,N.a.save(i);case 9:e.commit(v.a.VIEW_CLIP,i);case 10:case"end":return r.stop()}}),r)}))))},U=function(e,t){return F.a.savePublicLink(t).then((function(e){return P.mapResponseToPublicLink(e)})).then(function(){var n=b()(regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(R.a.debug("saved link",r),!t.legacy){n.next=11;break}return n.next=4,N.a.getByFirestoreId(t.firestoreId);case 4:if(i=n.sent,D.a.isNull(i)){n.next=11;break}return R.a.debug("PublicLinkRepository :: update legacy link",i),i.publicLink=r,n.next=10,N.a.save(i);case 10:e.commit(v.a.VIEW_CLIP,i);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},M=n("61b4"),V=n("533d"),H=n("5046"),W=n("c9d9"),q=(A={},s()(A,W.a.onInitPublicLink,(function(e,t){var n=function(){var e=window.location.toString(),t=e.match(/id=(.*)/);if(t&&2===t.length){var n=t[1];if(n)return{id:n,legacy:!0}}var r=e.match(/\/(note|link)\/(.*)/);if(r&&3===r.length){var i=r[2];if(i)return{id:i,legacy:"note"===r[1]}}return null}();if(n)return e.dispatch(W.a.onInitSettings,t).then((function(){return e.dispatch(W.a.onGetPublicLink,n)}))})),s()(A,W.a.onGetPublicLink,(function(e,t){var n=t.id,r=t.legacy,i=e.getters.getPublicLinkPassword;return H.a.showLoadingState(),O(e,n,i,r).then((function(e){return c.createViewState(e)})).then((function(t){return e.commit(v.a.VIEW_PUBLIC_LINK,t)})).finally((function(){return H.a.hideLoadingState()}))})),s()(A,W.a.onRefreshPublicLink,(function(e){var t=e.getters.getPublicLink;return e.dispatch(W.a.onGetPublicLink,{legacy:t.legacy,id:t.uid})})),s()(A,W.a.onUnlockPublicLink,(function(e,t){var n=t.publicLink,r=V.a.sha256Text(t.password);return e.commit(v.a.SET_PUBLIC_LINK_PASSWORD,r),e.dispatch(W.a.onGetPublicLink,{legacy:n.legacy,id:n.uid}).then((function(){return e.getters.isPublicLinkAvailable}))})),s()(A,W.a.onRemovePublicLink,(function(e,t){return M.a.runOnUI((function(n){var r=t.id,i=t.legacy;return e.dispatch(W.a.onShowConfirm,{title:n.$t("public_note_link_action_remove_confirm_title"),message:n.$t("public_note_link_action_remove_confirm_description"),confirmLabel:n.$t("button_confirm"),cancelLabel:n.$t("menu_cancel"),onConfirmed:function(){return H.a.showLoadingState(),B(e,r,i).finally((function(){return H.a.hideLoadingState()}))}})}))})),s()(A,W.a.onSavePublicLink,(function(e,t){var n=t.publicLink;return H.a.showLoadingState(),U(e,n).finally((function(){return H.a.hideLoadingState()}))})),A);t.a={namespaced:!1,state:function(){return{publicLinkPassword:null,publicLinkState:c.createViewState()}},getters:r,mutations:S,actions:q}},7561:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("5319");var r=n("d0c5"),i=n("7c5c"),a={marked:function(e,t){if(e){var n=e;return t&&t.trimLines&&(n=r.a.trimLines(n)),t&&t.normalize&&(n=n.replace(/```/g,"\n```")),n=Object(i.marked)(n),t&&t.sanitize&&(n=r.a.sanitize(n)),n}return null}}},"782d":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("6374"),i=n.n(r),a=n("c973"),o=n.n(a),s=n("448a"),c=n.n(s),u=(n("96cf"),n("a9e3"),n("a4d3"),n("e01a"),n("9911"),n("9ba6")),l=n("8376"),d=n("f936"),p=n("72a1"),f=n("ad89"),h=n("0477"),g=(n("99af"),n("498a"),n("4de4"),n("d3b7"),n("d81d"),n("ac1f"),n("1276"),n("a15b"),n("2667")),m=(g.a.clipto.tags.defineClass({id:Number,name:String,clipCount:Number}),{TAG_DELIMITER:"~",getAlias:function(e){return"".concat(m.TAG_DELIMITER).concat(e.trim())},getTagList:function(e){return p.a.isNullOrBlank(e)?[]:e.split(m.TAG_DELIMITER).map((function(e){return e.trim()})).filter((function(e){return!p.a.isNullOrBlank(e)}))},getTagListAsString:function(e){var t=this;return e.filter((function(e){return!p.a.isNullOrBlank(e)})).map((function(e){return t.getAlias(e)})).join("")}}),_=(n("1cee"),n("5046")),T=g.a.clipto.clips.defineClass({id:Number,objectType:Number,firestoreId:String,abbreviation:String,description:String,fav:Number,text:String,tags:String,tagsIn:Array,title:String,createDate:Date,updateDate:Date,modifyDate:Date,deleteDate:Date,deleted:Number,textType:Number,tracked:Number,snippet:Number,snippetId:String,usageCount:Number,files:Array,fileIds:Array,filesCount:Number,size:Number,publicLink:Object,characters:Number,excludedTags:Array,dynamic:Number,tagIds:Array,tagIdsCount:Number,snippetSetsIds:Array,snippetSetsIdsCount:Number});T.prototype.apply=function(e){return e?(e.id&&(this.id=e.id),this.objectType=e.objectType,this.firestoreId=e.firestoreId,this.snippetId=e.snippetId,this.fav=e.fav,this.text=e.text,this.title=e.title,this.platform=e.platform,this.createDate=e.createDate,this.updateDate=e.updateDate,this.modifyDate=e.modifyDate,this.deleteDate=e.deleteDate,this.deleted=e.deleted,this.textType=e.textType,this.description=e.description,this.abbreviation=e.abbreviation,this.setKitIds(c()(e.getKitIds())),this.tracked=e.tracked,this.usageCount=e.usageCount,this.setFileIds(c()(e.getFileIds())),this.size=e.size,this.publicLink=e.publicLink,this.sourceClips=e.sourceClips,this.snippet=e.snippet,this.dynamic=e.dynamic,this.characters=e.characters,this.setTagIds(c()(e.getTagIds()))):(this.usageCount=0,this.characters=0,this.createDate=new Date,this.modifyDate=this.createDate),this},T.prototype.areContentTheSame=function(e){return this.textType===e.textType&&p.a.areStringsTheSame(this.text,e.text)&&p.a.areStringsTheSame(this.title,e.title)&&p.a.areObjectsTheSame(this.fileIds,e.fileIds)&&p.a.areStringsTheSame(this.abbreviation,e.abbreviation)&&p.a.areStringsTheSame(this.description,e.description)},T.prototype.getFiles=function(){return this.files},T.prototype.hasPublicLink=function(){return this.publicLink&&!p.a.isNullOrZero(this.publicLink.link)},T.prototype.setTextType=function(e){this.textType=p.a.zeroIfNull(e)},T.prototype.getTextType=function(){return h.a.byId[this.textType]||h.a.TEXT_PLAIN},T.prototype.setUsageCount=function(e){this.usageCount=p.a.zeroIfNull(e)},T.prototype.setObjectType=function(e){this.objectType=p.a.zeroIfNull(e)},T.prototype.isDeleted=function(){return!p.a.isNull(this.deleteDate)},T.prototype.isStarred=function(){return 1===this.fav},T.prototype.setStarred=function(e){this.fav=p.a.booleanToInt(e)},T.prototype.isTracked=function(){return 1===this.tracked},T.prototype.setTracked=function(e){this.tracked=p.a.booleanToInt(e)},T.prototype.isSnippet=function(){return!p.a.isNullOrBlank(this.snippetId)||p.a.arrayIsNotEmpty(this.snippetSetsIds)},T.prototype.isDynamic=function(){return!p.a.isNullOrZero(this.dynamic)},T.prototype.hasDescription=function(){return!p.a.isNullOrBlank(this.description)},T.prototype.hasAbbreviation=function(){return!p.a.isNullOrBlank(this.abbreviation)},T.prototype.getFileIds=function(){return this.fileIds?this.fileIds:[]},T.prototype.setFileIds=function(e){var t=e||[];this.filesCount=t.length,this.fileIds=t},T.prototype.hasFiles=function(){return this.filesCount>0},T.prototype.isEmpty=function(){return!1},T.prototype.isNew=function(){return p.a.isNullOrZero(this.id)},T.prototype.isSynced=function(){return!p.a.isNullOrBlank(this.firestoreId)},T.prototype.hasTags=function(){return!p.a.isNullOrBlank(this.tags)},T.prototype.getTagNames=function(){return m.getTagList(this.tags)},T.prototype.getTagIds=function(){return this.tagIds||[]},T.prototype.getExcludedTagIds=function(){return this.excludedTags||[]},T.prototype.setTagIds=function(e){var t=e||[];delete this.tags,delete this.tagsIn,this.tagIds=t,this.tagIdsCount=t.length},T.prototype.getTags=function(){var e=this.getTagIds();if(p.a.arrayIsEmpty(e))return[];var t=d.a.getFilters();return p.a.arrayMapNotNull(e,(function(e){return t.findFilterByTagId(e)}))},T.prototype.getKitIds=function(){return this.snippetSetsIds||[]},T.prototype.setKitIds=function(e){var t=e||[];this.snippetSetsIdsCount=t.length,this.snippetSetsIds=t},T.prototype.getTextLength=function(){var e=this.text;return e?e.length:0},T.prototype.getTitleLength=function(){var e=this.title;return e?e.length:0},T.prototype.canApplyAutoTags=function(){return this.text&&this.objectType!==f.a.EXTERNAL_SNIPPET},T.prototype.isImportant=function(){return this.hasFiles()>0||this.hasPublicLink()||this.isStarred()||this.isSnippet()},T.prototype.normalize=function(){return this.title=p.a.nullIfEmpty(this.title),this.text=p.a.nullIfEmpty(this.text),this},T.prototype.shake=o()(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.getFileIds(),r=i()(n),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return o=a.value,e.next=9,l.a.getByUid(o);case 9:s=e.sent,p.a.isNull(s)||(t+=s.size);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:t+=p.a.getLength(this.text),t+=p.a.getLength(this.title),(c=this).size=t,c.fav=p.a.zeroIfNull(c.fav),c.usageCount=p.a.zeroIfNull(c.usageCount),c.firestoreId=p.a.emptyIfNull(c.firestoreId),c.updateDate=c.updateDate||c.createDate,c.tracked=p.a.zeroIfNull(c.tracked),c.textType=c.textType||h.a.TEXT_PLAIN.id,c.objectType=c.objectType||f.a.INTERNAL.id,c.text=p.a.emptyIfNull(c.text),c.title=p.a.emptyIfNull(c.title),c.description=p.a.emptyIfNull(c.description),c.abbreviation=p.a.emptyIfNull(c.abbreviation),c.characters=p.a.getLength(c.text),c.deleted=p.a.dateToInt(c.deleteDate),c.snippet=p.a.booleanToInt(c.isSnippet()),c.dynamic=p.a.booleanToInt(u.a.isDynamicAccurate(c.text)),c.setTagIds(c.getTagIds()),c.setKitIds(c.getKitIds()),c.setFileIds(n);case 43:case"end":return e.stop()}}),e,this,[[3,15,18,21]])}))),T.prototype.areContentTheSame=function(e){return p.a.areNumbersTheSame(this.textType,e.textType)&&p.a.areStringsTheSame(this.title,e.title)&&p.a.areStringsTheSame(this.text,e.text)&&p.a.areObjectsTheSame(this.fileIds,e.fileIds)&&p.a.areStringsTheSame(this.abbreviation,e.abbreviation)&&p.a.areStringsTheSame(this.description,e.description)},T.areTheSame=function(e,t){return p.a.areNumbersTheSame(e.usageCount,t.usageCount)&&p.a.areNumbersTheSame(e.fav,t.fav)&&p.a.areStringsTheSame(e.snippetId,t.snippetId)&&p.a.areDatesTheSame(e.modifyDate,t.modifyDate,"modifyDate")&&p.a.areDatesTheSame(e.deleteDate,t.deleteDate,"deleteDate")&&p.a.areNumbersTheSame(e.textType,t.textType)&&p.a.areStringsTheSame(e.title,t.title)&&p.a.areStringsTheSame(e.text,t.text)&&p.a.areStringsTheSame(e.abbreviation,t.abbreviation)&&p.a.areStringsTheSame(e.description,t.description)&&p.a.areObjectsTheSame(e.getTagIds(),t.getTagIds())&&p.a.areObjectsTheSame(e.getKitIds(),t.getKitIds())&&p.a.areObjectsTheSame(e.getFileIds(),t.getFileIds())&&p.a.areObjectsTheSame(e.publicLink,t.publicLink)},T.newInstance=function(e,t){var n=new T;return n.createDate=new Date,n.setTracked(t),n.usageCount=0,n.text=e,n},T.prototype.getStarIconData=function(){return this.isStarred()?{iconClass:"text-colorAccent",icon:"star"}:{iconClass:"text-textColorPrimary",icon:"star_border"}},T.prototype.getIconData=function(){var e,t;if(this.isStarred())e="star",t=_.a.getColorBrand("colorAccent");else if(this.isSnippet()){e="text_snippet";var n=this.getKitIds();if(p.a.arrayIsNotEmpty(n)){var r=d.a.getFilters().findFilterBySnippetKitId(n[0]);r&&r.color&&(t=r.color)}}else this.isDynamic()?e="dynamic_form":this.isTracked()&&(e="svguse:icons.svg#rune_clipboard");return e?(t||(t=_.a.getColorBrand("textColorSecondary")),{icon:e,style:"color: ".concat(t)}):null},T.prototype.getPublicLinkData=function(){var e=this.publicLink;return e&&e.link?e.link&&!e.unavailable?{icon:"link",iconColor:"positive"}:{icon:"link",iconColor:"negative"}:null}},"78c8":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("00b4"),n("9911"),n("99af");var r=n("1732"),i=n("fbcd"),a=n.n(i),o=n("62d3"),s=n("c9d9"),c=n("72a1"),u={urlPattern:new RegExp("^(https?)","i"),linkifyIt:new a.a,isValidURL:function(e){return!!u.urlPattern.test(e)},hasLinks:function(e){return!c.a.isNull(e)&&u.linkifyIt.test(e)},linkify:function(e,t){return o.a.link(e,{stripPrefix:!1,replaceFn:function(e){return t(e)}})},preview:function(e,t,n,i,a,o){if(!(e.$store.getters.remoteConfigCanPreviewLinks&&(a||o)))return a?'<a href="#" target="_blank">'.concat(n,"</a>"):'<a href="'.concat(t,'" target="_blank">').concat(n,"</a>");var c="lp_".concat(Object(r.a)());try{return a?'<div><a href="#" target="_blank" style="text-decoration: none">'.concat(n,'</a><div id="').concat(c,'"></div></div>'):'<div><a href="'.concat(t,'" target="_blank">').concat(n,'</a><div id="').concat(c,'"></div></div>')}finally{u.isValidURL(t)&&e.$store.dispatch(s.a.onGetLinkPreview,{ui:e.$store.getters.getUI||e,forcePreview:a,previewCache:i,url:t,id:c}).then((function(){}))}}}},"78ef":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ANY_OF:{id:0,titleRes:"where_any_of"},ALL_OF:{id:1,titleRes:"where_all_of"},NONE_OF:{id:2,titleRes:"where_none_of"}};r.byId={0:r.ANY_OF,1:r.ALL_OF,2:r.NONE_OF}},8376:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("6374"),i=n.n(r),a=n("c973"),o=n.n(a),s=(n("d3b7"),n("e6cf"),n("7db0"),n("26e9"),n("caad"),n("2532"),n("4de4"),n("ac1f"),n("00b4"),n("b0c0"),n("a4d3"),n("e01a"),n("96cf"),n("2063")),c=n("72a1"),u=n("8841"),l=n("78ef"),d=n("1cee"),p=n("2667").a.clipto,f={clear:function(){return p.fileRefs.clear()},saveAll:function(e){return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.fileRefs.bulkPut(e);case 2:case"end":return t.stop()}}),t)})))()},deleteAll:function(e){return o()(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=i()(e),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=11;break}return o=a.value,t.next=8,s.a.update(o,null);case 8:n.push(o.id);case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:return t.next=21,p.fileRefs.bulkDelete(n);case 21:return t.abrupt("return",e);case 22:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})))()},save:function(e){return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.a.debug("save file",e,p.fileRefs),t.next=3,p.fileRefs.put(e);case 3:return e.id=t.sent,d.a.debug("saved file",e,p.fileRefs),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()},getById:function(e){return p.fileRefs.get(e)},getByUid:function(e){return p.fileRefs.where({firestoreId:e}).first()},getByPathAndName:function(e,t){return p.fileRefs.where({path:e,name:t}).first()},delete:function(e){return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.update(e,null);case 2:return t.abrupt("return",p.fileRefs.delete(e.id));case 3:case"end":return t.stop()}}),t)})))()},getFiles:function(e){return o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getFileIds(),!c.a.isEmpty(n)){t.next=3;break}return t.abrupt("return",[]);case 3:return t.next=5,p.fileRefs.where("firestoreId").anyOf(n).toArray();case 5:return r=t.sent,d.a.debug("getFiles",r),t.abrupt("return",c.a.arrayMapNotNull(n,(function(e){return r.find((function(t){return t.getUid()===e}))})));case 8:case"end":return t.stop()}}),t)})))()},getFilesByIds:function(e){return o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.a.isEmpty(e)){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,p.fileRefs.where("firestoreId").anyOf(e).distinct().toArray();case 4:return n=t.sent,d.a.debug("getFilesByIds",n),t.abrupt("return",c.a.arrayMapNotNull(e,(function(e){return n.find((function(t){return t.getUid()===e}))})));case 7:case"end":return t.stop()}}),t)})))()},getFiltered:function(e){return this._createFilterQuery(e).reverse().sortBy("createDate")},_createFilterQuery:function(e){var t=!1,n=p.fileRefs;d.a.debug("createFilterQuery",e);var r=e.fileIds;c.a.arrayIsNotEmpty(r)&&(e.fileIdsWhereType===l.a.NONE_OF.id&&(n=t?n.and((function(e){return!r.includes(e.firestoreId)})):n.where("firestoreId").noneOf(r),d.a.debug("query by fileIds: multipleConditions =",t),t=!0));if(e.recycled||(n=t?n.and((function(e){return!e.deleted})):n.filter((function(e){return!e.deleted})),d.a.debug("query by deleted :: multipleConditions",t)),e.textLike){d.a.debug("query by textLike:",e.textLike);var i=u.a.createSearchRegExp(e.textLike);n=n.filter((function(e){return i.test(e.name)||i.test(e.abbreviation)||i.test(e.description)}))}return n}}},8488:function(e,t,n){var r={"./":["a6d8",3],"./ar":["13ef",9,37],"./ar.js":["13ef",9,37],"./az-latn":["4336",9,38],"./az-latn.js":["4336",9,38],"./bg":["a6b2",9,39],"./bg.js":["a6b2",9,39],"./ca":["8378",9,40],"./ca.js":["8378",9,40],"./cs":["5ddc",9,41],"./cs.js":["5ddc",9,41],"./da":["d3e4",9,42],"./da.js":["d3e4",9,42],"./de":["215a",9,43],"./de.js":["215a",9,43],"./el":["83bc",9,44],"./el.js":["83bc",9,44],"./en-gb":["17f5",9,45],"./en-gb.js":["17f5",9,45],"./en-us":["1f91",9],"./en-us.js":["1f91",9],"./eo":["b25b",9,46],"./eo.js":["b25b",9,46],"./es":["df1a",9,47],"./es.js":["df1a",9,47],"./et":["c3ad",9,48],"./et.js":["c3ad",9,48],"./fa":["a0f3",9,50],"./fa-ir":["b67a",9,49],"./fa-ir.js":["b67a",9,49],"./fa.js":["a0f3",9,50],"./fi":["10c0",9,51],"./fi.js":["10c0",9,51],"./fr":["34fe",9,52],"./fr.js":["34fe",9,52],"./gn":["3c87",9,53],"./gn.js":["3c87",9,53],"./he":["36eb",9,54],"./he.js":["36eb",9,54],"./hr":["007f",9,55],"./hr.js":["007f",9,55],"./hu":["a9af",9,56],"./hu.js":["a9af",9,56],"./id":["7e40",9,57],"./id.js":["7e40",9,57],"./index":["a6d8",3],"./index.json":["a6d8",3],"./is":["e41d",9,58],"./is.js":["e41d",9,58],"./it":["a745",9,59],"./it.js":["a745",9,59],"./ja":["5521",9,60],"./ja.js":["5521",9,60],"./km":["726e",9,61],"./km.js":["726e",9,61],"./ko-kr":["187f",9,62],"./ko-kr.js":["187f",9,62],"./kur-ckb":["d9db",9,63],"./kur-ckb.js":["d9db",9,63],"./lu":["1ee2",9,64],"./lu.js":["1ee2",9,64],"./lv":["004e",9,65],"./lv.js":["004e",9,65],"./ml":["c454",9,66],"./ml.js":["c454",9,66],"./ms":["bf26",9,67],"./ms.js":["bf26",9,67],"./nb-no":["dacc",9,68],"./nb-no.js":["dacc",9,68],"./nl":["8cf4",9,69],"./nl.js":["8cf4",9,69],"./pl":["700f",9,70],"./pl.js":["700f",9,70],"./pt":["37ed",9,72],"./pt-br":["f476",9,71],"./pt-br.js":["f476",9,71],"./pt.js":["37ed",9,72],"./ro":["fecf",9,73],"./ro.js":["fecf",9,73],"./ru":["14c0",9,74],"./ru.js":["14c0",9,74],"./sk":["15e6",9,75],"./sk.js":["15e6",9,75],"./sl":["5e5a",9,76],"./sl.js":["5e5a",9,76],"./sr":["78dc",9,77],"./sr.js":["78dc",9,77],"./sv":["7107",9,78],"./sv.js":["7107",9,78],"./ta":["3572",9,79],"./ta.js":["3572",9,79],"./th":["c9b0",9,80],"./th.js":["c9b0",9,80],"./tr":["c1a5",9,81],"./tr.js":["c1a5",9,81],"./ug":["c290",9,82],"./ug.js":["c290",9,82],"./uk":["6464",9,83],"./uk.js":["6464",9,83],"./vi":["1fb0",9,84],"./vi.js":["1fb0",9,84],"./zh-hans":["bf69",9,85],"./zh-hans.js":["bf69",9,85],"./zh-hant":["db10",9,86],"./zh-hant.js":["db10",9,86]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(i,t[1])}))}i.keys=function(){return Object.keys(r)},i.id="8488",e.exports=i},8841:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("6374"),i=n.n(r),a=(n("4de4"),n("d3b7"),n("caad"),n("2532"),n("7db0"),n("159b"),n("d81d"),n("a15b"),n("ac1f"),n("1276"),n("498a"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("5319"),n("72a1")),o={getClipsCommonTagIds:function(e){if(a.a.isEmpty(e))return[];var t,n=e[0].getTagIds(),r=i()(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!(n.length>0))break;!function(){var e=o.getTagIds();n=n.filter((function(t){return e.includes(t)}))}()}}catch(e){r.e(e)}finally{r.f()}return n},getClipsCommonTitle:function(e){var t=e.find((function(e){return!a.a.isNullOrBlank(e.title)}));return t?t.title:null},getClipsDistinctTagIds:function(e){var t=[];return e.map((function(e){return e.getTagIds()})).forEach((function(e){e.forEach((function(e){return a.a.arrayAddItem(t,e)}))})),t},getClipsDistinctFileIds:function(e){var t=[];return e.map((function(e){return e.getFileIds()})).forEach((function(e){e.forEach((function(e){return a.a.arrayAddItem(t,e)}))})),t},getClipsText:function(e,t){return e.map((function(e){return e.text})).join(t)},createSearchRegExp:function(e){var t=e.split(",").map((function(e){return e.trim()})).filter((function(e){return e&&e.length>0})).join("|");return new RegExp(t.replace(/[.*+?^${}()[\]\\]/g,"\\$&"),"i")}}},"886e":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("a9e3"),n("b0c0"),n("a4d3"),n("e01a");var r=n("2667"),i=n("29a4"),a=n("0860"),o=n("72a1"),s=n("6f2e"),c=n("fab3"),u=n("78ef"),l=n("ad89"),d=n("176d"),p=n("f936"),f=n("37f6"),h=r.a.clipto.filters.defineClass({id:Number,objectType:Number,uid:String,name:String,type:Number,createDate:Date,updateDate:Date,syncDate:Date,notesCount:Number,hideHint:Boolean,limit:Number,color:String,sortBy:Number,listStyle:Number,description:String,autoRuleByTextIn:String,autoRulesEnabled:Boolean,pinStarredEnabled:Boolean,excludeWithCustomAttributes:Boolean,tagIds:Array,tagIdsWhereType:Number,snippetSetIds:Array,snippetSetIdsWhereType:Number,textTypeIn:Array,locatedInWhereType:Number,textLike:String,starred:Boolean,untagged:Boolean,clipboard:Boolean,recycled:Boolean,snippets:Boolean,showOnlyWithAttachments:Boolean,showOnlyWithPublicLink:Boolean,showOnlyNotSynced:Boolean,createDateFrom:Date,createDateTo:Date,createDatePeriod:Number,updateDateFrom:Date,updateDateTo:Date,updateDatePeriod:Number,activeFilterId:String,snippetKit:a.a,tagsIn:Array});h.prototype.getCreateTimeInterval=function(){var e=f.a.byId[this.createDatePeriod];return e?e.toInterval(this.createDateFrom,this.createDateTo):new i.a},h.prototype.getUpdateTimeInterval=function(){var e=f.a.byId[this.updateDatePeriod];return e?e.toInterval(this.updateDateFrom,this.updateDateTo):new i.a},h.prototype.setHideHint=function(e){this.hideHint=e},h.prototype.getTagIds=function(){return this.tagIds||[]},h.prototype.getKitIds=function(){return this.snippetSetIds||[]},h.prototype.getTitle=function(){return this.name||""},h.prototype.isManualSorting=function(){return this.sortBy===c.a.MANUAL_ASC.id||this.sortBy===c.a.MANUAL_DESC.id},h.prototype.hasActiveFilter=function(){return!(!this.activeFilterId||this.activeFilterId===s.a.ALL.createUid())||(this.starred||this.untagged||this.clipboard||this.recycled||this.snippets||!o.a.isNullOrBlank(this.tagIds)||!o.a.isNullOrBlank(this.snippetSetIds)||!o.a.isNullOrBlank(this.textLike)||!this.doesNotHaveAdvancedFiltering(!0))},h.prototype.getUid=function(){return this.uid},h.prototype.updateColor=function(e){this.color=o.a.nullIfEmpty(e)},h.prototype.withKit=function(e){this.snippetKit=e,this.name=e.name,this.color=e.color,this.sortBy=e.sortBy,this.listStyle=e.listStyle,this.description=e.description},h.prototype.applyFilter=function(e){return this.uid=e.uid,this.name=e.name,this.type=e.type,this.objectType=e.objectType,this.snippetKit=e.snippetKit,this.description=e.description,this.createDate=e.createDate,this.updateDate=e.updateDate,this.notesCount=e.getNotesCount(),this.hideHint=e.hideHint,this.withFilter(e)},h.prototype.withFilter=function(e,t){return t&&(this.name=e.name,this.description=e.description,this.createDate=e.createDate,this.updateDate=e.updateDate,this.snippetKit=e.snippetKit,this.hideHint=e.hideHint),this.limit=e.limit,this.color=e.color,this.sortBy=e.sortBy,this.listStyle=e.listStyle,this.autoRulesEnabled=e.autoRulesEnabled,this.autoRuleByTextIn=e.autoRuleByTextIn,this.pinStarredEnabled=e.pinStarredEnabled,this.excludeWithCustomAttributes=e.excludeWithCustomAttributes,this.tagIds=e.tagIds,this.tagIdsWhereType=e.tagIdsWhereType,this.snippetSetIds=e.snippetSetIds,this.snippetSetIdsWhereType=e.snippetSetIdsWhereType,this.textLike=e.textLike,this.starred=e.starred,this.untagged=e.untagged,this.clipboard=e.clipboard,this.recycled=e.recycled,this.snippets=e.snippets,this.locatedInWhereType=e.locatedInWhereType,this.showOnlyWithPublicLink=e.showOnlyWithPublicLink,this.showOnlyWithAttachments=e.showOnlyWithAttachments,this.showOnlyNotSynced=e.showOnlyNotSynced,this.createDatePeriod=e.createDatePeriod,this.createDateFrom=e.createDateFrom,this.createDateTo=e.createDateTo,this.updateDatePeriod=e.updateDatePeriod,this.updateDateFrom=e.updateDateFrom,this.updateDateTo=e.updateDateTo,this.textTypeIn=e.textTypeIn,this.activeFilterId=e.activeFilterId,this},h.prototype.withSnapshot=function(e){return this.listStyle=e.listStyle,this.sortBy=e.sortBy,this.tagIds=e.tagIds,this.textLike=e.textLike,this.starred=e.starred,this.untagged=e.untagged,this.clipboard=e.clipboard,this.recycled=e.recycled,this.snippets=e.snippets,this.activeFilterId=e.filterId,this.tagIdsWhereType=e.tagIdsWhereType,this.showOnlyWithPublicLink=e.showOnlyWithPublicLink,this.showOnlyWithAttachments=e.showOnlyWithAttachments,this.locatedInWhereType=e.locatedInWhereType,this.showOnlyNotSynced=e.showOnlyNotSynced,this.textTypeIn=e.textTypeIn,this.createDateFrom=e.createDateFrom,this.createDateTo=e.createDateTo,this.createDatePeriod=e.createDatePeriod,this.updateDateTo=e.updateDateTo,this.updateDateFrom=e.updateDateFrom,this.updateDatePeriod=e.updateDatePeriod,this.snippetSetIds=e.snippetSetIds,this.snippetSetIdsWhereType=e.snippetSetIdsWhereType,this},h.prototype.isNew=function(){return o.a.isEmpty(this.uid)||o.a.isNullOrZero(this.id)},h.prototype.hasNotes=function(){return this.getNotesCount()>0},h.prototype.isContext=function(){return this.type===s.a.CONTEXT.id},h.prototype.isLast=function(){return this.type===s.a.LAST.id},h.prototype.isGroupTags=function(){return this.type===s.a.GROUP_TAGS.id},h.prototype.isGroupNotes=function(){return this.type===s.a.GROUP_NOTES.id},h.prototype.isGroupFilters=function(){return this.type===s.a.GROUP_FILTERS.id},h.prototype.isGroupSnippets=function(){return this.type===s.a.GROUP_SNIPPETS.id},h.prototype.isGroup=function(){return this.isGroupTags()||this.isGroupNotes()||this.isGroupFilters()||this.isGroupSnippets()},h.prototype.isNamedFilter=function(){return this.type===s.a.NAMED.id},h.prototype.isNotesCategory=function(){return this.type===s.a.ALL.id||this.type===s.a.STARRED.id||this.type===s.a.UNTAGGED.id||this.type===s.a.CLIPBOARD.id||this.type===s.a.SNIPPETS.id||this.type===s.a.DELETED.id},h.prototype.hasActiveAutoRule=function(){return this.isTag()&&this.autoRulesEnabled&&!o.a.isNullOrBlank(this.autoRuleByTextIn)},h.prototype.isNameEditable=function(){return this.isNamedFilter()||this.isTag()||this.isSnippetKit()},h.prototype.isAll=function(){return this.type===s.a.ALL.id||!this.starred&&!this.untagged&&!this.clipboard&&!this.recycled&&!this.snippets&&!this.isNamedFilter()&&!this.isGroup()&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},h.prototype.isStarred=function(){return this.type===s.a.STARRED.id||this.starred&&!this.untagged&&!this.clipboard&&!this.recycled&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},h.prototype.isSnippets=function(){return this.type===s.a.SNIPPETS.id||this.snippets&&!this.starred&&!this.untagged&&!this.clipboard&&!this.recycled&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},h.prototype.isUntagged=function(){return this.type===s.a.UNTAGGED.id||this.untagged&&!this.starred&&!this.clipboard&&!this.recycled&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},h.prototype.isClipboard=function(){return this.type===s.a.CLIPBOARD.id||this.clipboard&&!this.untagged&&!this.starred&&!this.recycled&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},h.prototype.isDeleted=function(){return this.type===s.a.DELETED.id||this.recycled&&!this.untagged&&!this.starred&&!this.clipboard&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},h.prototype.isTag=function(e){if(this.type===s.a.TAG.id)return!0;var t=this.tagIds;return!(!e||!Array.isArray(t)||1!==t.length)&&(!this.recycled&&!this.untagged&&!this.starred&&!this.clipboard&&!this.snippets&&e.filtersByUid[t[0]]&&this.doesNotHaveAdvancedFiltering(!1,!1,!0))},h.prototype.isSnippetKit=function(e){if(this.type===s.a.SNIPPET_KIT.id)return!0;var t=this.snippetSetIds;return!(!e||!Array.isArray(t)||1!==t.length)&&(!this.recycled&&!this.untagged&&!this.starred&&!this.clipboard&&!this.snippets&&e.filtersByUid[t[0]]&&this.doesNotHaveAdvancedFiltering(!1,!0,!1))},h.prototype.isSame=function(e){return o.a.areObjectsTheSame(this,e,["id","updateDate","notesCount","tagsIn"])},h.prototype.normalize=function(){return this.isNamedFilter()||this.isLast()||(this.textLike=null),this.isTag()&&this.uid?this.tagIds=[this.uid]:this.isSnippetKit()&&this.uid&&(this.snippetSetIds=[this.uid]),this.hideHint||(this.hideHint=!1),o.a.isNumber(this.listStyle)||(this.listStyle=d.a.DEFAULT.id),o.a.isNumber(this.sortBy)||(this.sortBy=c.a.CREATE_DATE_DESC.id),this.notesCount=Math.max(0,this.getNotesCount()),this},h.prototype.anonymize=function(){return this.objectType=l.a.INTERNAL.id,this.type=s.a.CUSTOM.id,this.autoRulesEnabled=!1,this.description=null,this.snippetKit=null,this.name=null,this.uid=null,delete this.id,this},h.prototype.doesNotHaveAdvancedFiltering=function(e,t,n){return o.a.isNullOrBlank(this.textLike)&&!this.showOnlyWithAttachments&&!this.showOnlyWithPublicLink&&!this.showOnlyNotSynced&&o.a.isNullOrBlank(this.textTypeIn)&&(o.a.isNull(this.createDatePeriod)||this.createDatePeriod===f.a.CUSTOM_INTERVAL.id&&!this.createDateTo&&!this.createDateFrom)&&(o.a.isNull(this.updateDatePeriod)||this.updateDatePeriod===f.a.CUSTOM_INTERVAL.id&&!this.updateDateTo&&!this.updateDateFrom)&&(!t||o.a.isNullOrBlank(this.tagIds))&&(!n||o.a.isNullOrBlank(this.snippetSetIds))&&(!this.locatedInWhereType||this.locatedInWhereType===u.a.ANY_OF.id||e&&!this.starred&&!this.snippets&&!this.untagged&&!this.clipboard&&!this.recycled)},h.prototype.getTextTypeIn=function(){return this.textTypeIn||[]},h.prototype.getTagIds=function(){return this.tagIds||[]},h.prototype.getTags=function(){var e=this.getTagIds();if(o.a.arrayIsEmpty(e))return[];var t=p.a.getFilters();return o.a.arrayMapNotNull(e,(function(e){return t.findFilterByTagId(e)}))},h.prototype.asNewNamedFilter=function(){var e=h.newInstance().applyFilter(this).anonymize();return e.uid=s.a.NAMED.createUid(),e.type=s.a.NAMED.id,e.pinStarredEnabled=!1,e.autoRulesEnabled=!1,e.autoRuleByTextIn=null,e.description=null,e},h.prototype.getHintRes=function(){var e=s.a.byId[this.type];return e?e.hintRes:null},h.prototype.getNotesCount=function(){return o.a.zeroIfNull(this.notesCount)},h.prototype.getName=function(){var e=this.name;if(!e){var t=s.a.byId[this.type];if(t&&t.getTitleRes){var n=t.getTitleRes(),r=p.a.getUI();r&&(e=r.$t(n))}}return e},h.prototype.getType=function(){return s.a.byId[this.type]},h.prototype.isActiveInFilter=function(e){return this.starred&&e.starred||this.clipboard&&e.clipboard||this.recycled&&e.recycled||this.snippets&&e.snippets||this.untagged&&e.untagged},h.prototype.toggleInFilter=function(e){this.starred?e.starred=!e.starred:this.recycled?e.recycled=!e.recycled:this.snippets?e.snippets=!e.snippets:this.untagged?e.untagged=!e.untagged:this.clipboard&&(e.clipboard=!e.clipboard)},h.prototype.clearToggledFilters=function(){this.starred=!1,this.recycled=!1,this.snippets=!1,this.untagged=!1,this.clipboard=!1},h.prototype.getIcon=function(){var e=s.a.byId[this.type];return e&&e.getIconRes?e.getIconRes():null},h.createTag=function(e,t){var n,r=h.newInstance();(r.objectType=l.a.INTERNAL.id,r.sortBy=c.a.CREATE_DATE_DESC.id,r.listStyle=d.a.DEFAULT.id,r.type=s.a.TAG.id,r.hideHint=!0,r.color=null,e)&&(n=t?s.a.TAG.createUid(e):s.a.TAG.createUid(),r.tagIds=[n],r.name=e,r.uid=n);return r},h.createTagFromId=function(e){var t=h.newInstance(),n=e||s.a.TAG.createUid();return t.objectType=l.a.INTERNAL.id,t.sortBy=c.a.CREATE_DATE_DESC.id,t.listStyle=d.a.DEFAULT.id,t.type=s.a.TAG.id,t.tagIds=[n],t.hideHint=!0,t.color=null,t.uid=n,t},h.createSnippetKit=function(e){var t=h.newInstance(),n=e||s.a.SNIPPET_KIT.createUid();return t.objectType=l.a.INTERNAL.id,t.sortBy=c.a.CREATE_DATE_DESC.id,t.listStyle=d.a.DEFAULT.id,t.type=s.a.SNIPPET_KIT.id,t.snippetSetIds=[n],t.hideHint=!0,t.color=null,t.uid=n,t},h.newInstance=function(){var e=new h;return e.objectType=l.a.INTERNAL.id,e.sortBy=c.a.CREATE_DATE_DESC.id,e.listStyle=d.a.DEFAULT.id,e.hideHint=!0,e.color=null,e}},8909:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getSelectedClipState",(function(){return _})),n.d(r,"getSelectedClipFocusMode",(function(){return T})),n.d(r,"isSelectedClipFocusOnTitle",(function(){return E})),n.d(r,"isSelectedClipFocusOnText",(function(){return v})),n.d(r,"getSelectedClip",(function(){return S})),n.d(r,"getOriginalClip",(function(){return C})),n.d(r,"getSelectedClipFilesCount",(function(){return b})),n.d(r,"getSelectedClipAttributesCount",(function(){return I})),n.d(r,"getSelectedClipIndex",(function(){return y})),n.d(r,"getSelectedClipTextType",(function(){return A})),n.d(r,"isStateEdit",(function(){return D})),n.d(r,"isClipContentChanged",(function(){return L})),n.d(r,"isClipAttributesChanged",(function(){return x})),n.d(r,"getAvailableAttachments",(function(){return R})),n.d(r,"getAvailableAttachmentsFilter",(function(){return w})),n.d(r,"isInAvailableAttachmentsLoadingState",(function(){return k}));var i=n("970b"),a=n.n(i),o=n("9523"),s=n.n(o),c=(n("c740"),n("d1fd")),u=n("f936"),l={TEXT:"TEXT",TEXT_AUTO_SCROLL:"TEXT_AUTO_SCROLL",TITLE:"TITLE",DESCRIPTION:"DESCRIPTION",ABBREVIATION:"ABBREVIATION",TAGS:"TAGS",PREVIEW:"PREVIEW",NONE:"NONE",getDefault:function(){return u.a.getSettings().focusOnTitle?l.TITLE:l.TEXT}},d=n("6683"),p=n("72a1"),f=n("1cee"),h=n("782d"),g=function e(){a()(this,e),s()(this,"clip",void 0),s()(this,"original",void 0),s()(this,"viewMode",void 0),s()(this,"focusMode",void 0),s()(this,"listIndex",void 0),s()(this,"navigationMode",void 0)};s()(g,"createState",(function(e,t,n,r,i){var a=new g,o=i||u.a.getClips().findIndex((function(t){return t.id===e.id}));return a.original=h.a.newInstance().apply(e),a.clip=h.a.newInstance().apply(e),a.navigationMode=r,a.focusMode=n,a.listIndex=o,a.viewMode=t,f.a.debug("create state:",o,a),a})),s()(g,"createViewState",(function(e){return g.createState(e,d.a.VIEW,l.NONE,c.a.CLICK)})),s()(g,"createEditState",(function(e){return g.createState(h.a.newInstance().apply(e),d.a.EDIT,l.getDefault(),c.a.CLICK)})),s()(g,"createNewState",(function(){return g.createState(h.a.newInstance(),d.a.EDIT,l.getDefault(),c.a.CLICK)})),g.prototype.getOriginal=function(){return this.original},g.prototype.isPreviewMode=function(){return this.viewMode===d.a.PREVIEW},g.prototype.isEditMode=function(){return this.viewMode===d.a.EDIT&&this.isEditable()},g.prototype.isViewMode=function(){return this.viewMode===d.a.VIEW},g.prototype.isNavigatedViaClick=function(){return this.navigationMode===c.a.CLICK},g.prototype.isEditable=function(){return!this.clip.isDeleted()},g.prototype.isClipEdited=function(){return!(this.clip.isEmpty()||this.clip.areContentTheSame(this.original)&&p.a.areObjectsTheSame(this.clip.tagIds,this.original.tagIds)&&p.a.areObjectsTheSame(this.clip.snippetSetsIds,this.original.snippetSetsIds)&&this.clip.isStarred()===this.original.isStarred())},g.prototype.isClipAttributesEdited=function(){return!(this.clip.isEmpty()||p.a.areObjectsTheSame(this.clip.tagIds,this.original.tagIds)&&p.a.areObjectsTheSame(this.clip.snippetSetsIds,this.original.snippetSetsIds)&&this.clip.isStarred()===this.original.isStarred()&&this.clip.textType===this.original.textType)};var m={availableAttachmentsFilter:n("d1c6").a.newInstance(20,0),selectedClipState:g.createNewState(),requestUpdateAvailableAttachments:null,availableAttachmentsLoadingState:null};function _(e){return e.selectedClipState}function T(e){return e.selectedClipState.focusMode}function E(e,t){return t.getSelectedClipFocusMode===l.TITLE}function v(e,t){return t.getSelectedClipFocusMode===l.TEXT}function S(e){return e.selectedClipState.clip}function C(e){return e.selectedClipState.original}function b(e,t){return t.getSelectedClip.filesCount}function I(e,t){var n=t.getSelectedClip;return n.getTagIds().length+n.getKitIds().length}function y(e){return e.selectedClipState.listIndex}function A(e){return e.selectedClipState.clip.textType}function D(e){return e.selectedClipState.isEditMode()}function L(e){return e.selectedClipState.isClipEdited()}function x(e){return e.selectedClipState.isClipAttributesEdited()}function R(e){var t=e.requestUpdateAvailableAttachments;return u.a.getAvailableAttachments(t)}function w(e){return e.availableAttachmentsFilter}function k(e){return e.availableAttachmentsLoadingState}n("7db0"),n("d3b7"),n("159b");var P,N=n("ed99"),F=(P={},s()(P,N.a.NEW_CLIP,(function(e,t){var n=u.a.getFilterLast(),r=t||h.a.newInstance();r.textType=u.a.getSettings().textType,r.setStarred(n.starred),r.setTagIds(n.tagIds),O(e,{navigationMode:c.a.CLICK,focusMode:l.getDefault(),viewMode:d.a.EDIT,clip:r})})),s()(P,N.a.VIEW_CLIP,(function(e,t){O(e,{navigationMode:c.a.CLICK,focusMode:l.NONE,viewMode:d.a.VIEW,clip:t})})),s()(P,N.a.EDIT_CLIP,(function(e,t){O(e,{navigationMode:c.a.CLICK,focusMode:l.NONE,viewMode:d.a.EDIT,clip:t})})),s()(P,N.a.CANCEL_EDIT_CLIP,(function(e){O(e,{clip:e.selectedClipState.getOriginal(),navigationMode:c.a.CLICK,focusMode:l.NONE,viewMode:d.a.VIEW})})),s()(P,N.a.UPDATE_CLIP,(function(e,t){var n=e.selectedClipState,r=t||[];p.a.isArray(r)||(r=[r]);var i=r.find((function(e){return e.id===n.clip.id}));i&&O(e,{focusMode:l.NONE,clip:i});var a=u.a.getClips();r.forEach((function(e){var t=a.find((function(t){return t.id===e.id}));t&&(f.a.debug("update clip in list",e),t.apply(e))}))})),s()(P,N.a.SELECT_NEXT_CLIP,(function(e){var t=u.a.getClips(),n=e.selectedClipState.listIndex+1;if(n>=t.length&&(n=0),f.a.debug("select next clip:",n+1,"/",t.length),t.length>0){var r=t[n];O(e,{navigationMode:c.a.KEYBOARD,focusMode:l.NONE,viewMode:d.a.VIEW,index:n,clip:r})}})),s()(P,N.a.SELECT_PREV_CLIP,(function(e){var t=u.a.getClips(),n=e.selectedClipState.listIndex-1;if(n<0&&(n=t.length-1),f.a.debug("select prev clip:",n+1,"/",t.length),t.length>0){var r=t[n];O(e,{navigationMode:c.a.KEYBOARD,focusMode:l.NONE,viewMode:d.a.VIEW,index:n,clip:r})}})),s()(P,N.a.UPDATE_CLIP_INDEX,(function(e){O(e,{navigationMode:c.a.KEYBOARD,focusMode:l.NONE})})),s()(P,N.a.SET_AVAILABLE_ATTACHMENTS,(function(e,t){u.a.setAvailableAttachments(t),e.requestUpdateAvailableAttachments=Date.now(),e.availableAttachmentsLoadingState=!1})),s()(P,N.a.SET_AVAILABLE_ATTACHMENTS_FILTER,(function(e,t){u.a.setAvailableAttachments([]),e.availableAttachmentsFilter=t,e.availableAttachmentsLoadingState=!0,e.requestUpdateAvailableAttachments=Date.now()})),P);function O(e,t){var n=e.selectedClipState,r=t.viewMode||n.viewMode,i=t.focusMode||n.focusMode,a=t.navigationMode||n.navigationMode,o=t.clip||n.clip,s=t.index;o.isNew()&&(r=d.a.EDIT,t.focusMode||(i=l.getDefault())),e.selectedClipState=g.createState(o,r,i,a,s)}var B=n("448a"),U=n.n(B),M=n("c973"),V=n.n(M),H=(n("d81d"),n("e6cf"),n("a79d"),n("4de4"),n("96cf"),n("e8ea")),W=n("d577"),q=n("8376"),z=n("e2db"),G=n("0b57"),K=n("19cf"),j=n("5046"),$=n("c9d9"),Y=n("9ba6"),Q=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class X{constructor(e){this._id=e}getKey(){return this._id}getValue(e){return Q(this,void 0,void 0,(function*(){try{return this.getValueUnsafe(e)}catch(e){return this._id}}))}}var J=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Z extends X{constructor(){super(Z.KEY)}getValueUnsafe(){return J(this,void 0,void 0,(function*(){return z.a.getPlatform()}))}}Z.KEY="platform";var ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class te extends X{constructor(e){super(e)}getValueUnsafe(){return ee(this,void 0,void 0,(function*(){return this.getKey()}))}}te.KEY="unknown";var ne=n("3a75"),re=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class ie extends X{constructor(){super(ie.KEY),this._ip=null}getValueUnsafe(){return re(this,void 0,void 0,(function*(){if(null!==this._ip)return this._ip;{let e=this;return ne.a.getIpAddress().then(t=>{e._ip=t}),"0.0.0.0"}}))}}ie.KEY="ip_address";var ae=n("a8e6"),oe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class se extends X{constructor(){super(se.KEY)}getValueUnsafe(){return oe(this,void 0,void 0,(function*(){return ae.a.formatTime(new Date)}))}}se.KEY="time";var ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class ue extends X{constructor(){super(ue.KEY)}getValueUnsafe(){return ce(this,void 0,void 0,(function*(){return ae.a.formatDateShort(new Date)}))}}ue.KEY="date";var le=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class de extends X{constructor(){super(de.KEY)}getValueUnsafe(){return le(this,void 0,void 0,(function*(){return ae.a.formatDate(new Date)}))}}de.KEY="date_time";var pe=n("a987"),fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class he extends X{constructor(){super(he.KEY)}getValueUnsafe(){return fe(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{weekday:"long"}).formatToParts(new Date);return null!==e&&1===e.length?e[0].value:this.getKey()}))}}he.KEY="day_of_week";var ge=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class me extends X{constructor(){super(me.KEY)}getValueUnsafe(){return ge(this,void 0,void 0,(function*(){return(new Date).getDate().toString()}))}}me.KEY="day_of_month";var _e=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Te extends X{constructor(){super(Te.KEY)}getValueUnsafe(){return _e(this,void 0,void 0,(function*(){let e=(new Date).getDate();return e<10?"0"+e:e.toString()}))}}Te.KEY="day_of_month_zero";var Ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class ve extends X{constructor(){super(ve.KEY)}getValueUnsafe(){return Ee(this,void 0,void 0,(function*(){return(new Date).getFullYear().toString()}))}}ve.KEY="year";var Se=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Ce extends X{constructor(){super(Ce.KEY)}getValueUnsafe(){return Se(this,void 0,void 0,(function*(){let e=(new Date).getFullYear().toString();return e.substring(e.length-2)}))}}Ce.KEY="year_short";var be=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Ie extends X{constructor(){super(Ie.KEY)}getValueUnsafe(){return be(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{hour:"2-digit",hour12:!1}).formatToParts(new Date);return null!==e&&1===e.length?e[0].value:this.getKey()}))}}Ie.KEY="hour24";var ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Ae extends X{constructor(){super(Ae.KEY)}getValueUnsafe(){return ye(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{hour:"2-digit",hour12:!0}).formatToParts(new Date);return null!==e&&3===e.length?e[0].value:this.getKey()}))}}Ae.KEY="hour12";var De=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Le extends X{constructor(){super(Le.KEY)}getValueUnsafe(){return De(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{hour:"2-digit",hour12:!0}).formatToParts(new Date);return null!==e&&3===e.length?e[2].value:this.getKey()}))}}Le.KEY="am_pm";var xe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Re extends X{constructor(){super(Re.KEY)}getValueUnsafe(){return xe(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{minute:"2-digit"}).formatToParts(new Date);return null!==e&&1===e.length?e[0].value:this.getKey()}))}}Re.KEY="minutes";var we=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class ke extends X{constructor(){super(ke.KEY)}getValueUnsafe(){return we(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{second:"2-digit"}).formatToParts(new Date);return null!==e&&1===e.length?e[0].value:this.getKey()}))}}ke.KEY="seconds";var Pe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Ne extends X{constructor(){super(Ne.KEY)}getValueUnsafe(){return Pe(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{timeZoneName:"short"}).formatToParts(new Date);return null!==e?e[e.length-1].value:this.getKey()}))}}Ne.KEY="timezone";var Fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Oe extends X{constructor(){super(Oe.KEY)}getValueUnsafe(){return Fe(this,void 0,void 0,(function*(){let e=new Intl.DateTimeFormat(pe.a.getLanguage(),{month:"long"}).formatToParts(new Date);return null!==e?e[e.length-1].value:this.getKey()}))}}Oe.KEY="month";var Be=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Ue extends X{constructor(){super(Ue.KEY)}getValueUnsafe(){return Be(this,void 0,void 0,(function*(){return((new Date).getMonth()+1).toString()}))}}Ue.KEY="month_number";var Me=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Ve extends X{constructor(){super(Ve.KEY)}getValueUnsafe(){return Me(this,void 0,void 0,(function*(){let e=(new Date).getMonth()+1;return e<10?"0"+e:e.toString()}))}}Ve.KEY="month_number_zero";var He=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class We extends X{constructor(){super(We.KEY)}getValueUnsafe(){return He(this,void 0,void 0,(function*(){return Math.floor(10*Math.random()).toString()}))}}We.KEY="random_digit";var qe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class ze extends X{constructor(){super(ze.KEY)}getValueUnsafe(){return qe(this,void 0,void 0,(function*(){let e=Math.floor(Math.random()*ze.symbols.length);return ze.symbols.charAt(e)}))}}ze.KEY="random_latin",ze.symbols="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";var Ge=n("25d0"),Ke=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class je extends X{constructor(e,t){super(e),this._level=t}getValueUnsafe(e){return Ke(this,void 0,void 0,(function*(){let t,n=this.getKey().substring(je.KEY.length).trim(),r=yield Ge.a.getBySnippetId(n);return t=r?r.text:this.getKey(),this._level<=e._deepReplaceLevel?e._processor.process(t,this._level+1,e):t}))}}je.KEY="snippet:";class $e{static withCommon(e){return[e.getPlaceholder(),e]}static getCommonValues(){return Array.from(this.commonValues.values())}static getDynamicValue(e,t){let n=this.commonValues.get(e);return null==n&&(n=e.startsWith(je.KEY)?$e.SNIPPET:$e.UNKNOWN),n.getDynamicValue(e,t)}}$e.PLATFORM=new Y.a(Z.KEY,"clip_add_dynamic_value_platform",()=>new Z),$e.IP_ADDRESS=new Y.a(ie.KEY,"clip_add_dynamic_value_ip",()=>new ie),$e.TIME=new Y.a(se.KEY,"clip_add_dynamic_value_time",()=>new se),$e.DATE=new Y.a(ue.KEY,"clip_add_dynamic_value_date",()=>new ue),$e.DATE_TIME=new Y.a(de.KEY,"clip_add_dynamic_value_date_time",()=>new de),$e.DAY_OF_WEEK=new Y.a(he.KEY,"clip_add_dynamic_value_day_of_week",()=>new he),$e.DAY_OF_MONTH=new Y.a(me.KEY,"clip_add_dynamic_value_day_of_month",()=>new me),$e.DAY_OF_MONTH_ZERO=new Y.a(Te.KEY,"clip_add_dynamic_value_day_of_month_zero",()=>new Te),$e.YEAR=new Y.a(ve.KEY,"clip_add_dynamic_value_year",()=>new ve),$e.YEAR_SHORT=new Y.a(Ce.KEY,"clip_add_dynamic_value_year_short",()=>new Ce),$e.HOUR24=new Y.a(Ie.KEY,"clip_add_dynamic_value_hour24",()=>new Ie),$e.HOUR12=new Y.a(Ae.KEY,"clip_add_dynamic_value_hour12",()=>new Ae),$e.MINUTES=new Y.a(Re.KEY,"clip_add_dynamic_value_minutes",()=>new Re),$e.SECONDS=new Y.a(ke.KEY,"clip_add_dynamic_value_seconds",()=>new ke),$e.AM_PM=new Y.a(Le.KEY,"clip_add_dynamic_value_am_pm",()=>new Le),$e.TIMEZONE=new Y.a(Ne.KEY,"clip_add_dynamic_value_timezone",()=>new Ne),$e.MONTH=new Y.a(Oe.KEY,"clip_add_dynamic_value_month",()=>new Oe),$e.MONTH_NUMBER=new Y.a(Ue.KEY,"clip_add_dynamic_value_month_number",()=>new Ue),$e.MONTH_NUMBER_ZERO=new Y.a(Ve.KEY,"clip_add_dynamic_value_month_number_zero",()=>new Ve),$e.RANDOM_DIGIT=new Y.a(We.KEY,"clip_add_dynamic_value_random_digit",()=>new We),$e.RANDOM_LATIN=new Y.a(ze.KEY,"clip_add_dynamic_value_random_latin",()=>new ze),$e.SNIPPET=new Y.a(je.KEY,"",(e,t)=>new je(e,t)),$e.UNKNOWN=new Y.a(te.KEY,"",e=>new te(e)),$e.commonValues=new Map([$e.withCommon($e.DATE_TIME),$e.withCommon($e.DATE),$e.withCommon($e.TIME),$e.withCommon($e.DAY_OF_WEEK),$e.withCommon($e.DAY_OF_MONTH),$e.withCommon($e.DAY_OF_MONTH_ZERO),$e.withCommon($e.MONTH),$e.withCommon($e.MONTH_NUMBER),$e.withCommon($e.MONTH_NUMBER_ZERO),$e.withCommon($e.YEAR),$e.withCommon($e.YEAR_SHORT),$e.withCommon($e.HOUR24),$e.withCommon($e.HOUR12),$e.withCommon($e.MINUTES),$e.withCommon($e.SECONDS),$e.withCommon($e.AM_PM),$e.withCommon($e.TIMEZONE),$e.withCommon($e.IP_ADDRESS),$e.withCommon($e.PLATFORM),$e.withCommon($e.RANDOM_DIGIT),$e.withCommon($e.RANDOM_LATIN)]);var Ye,Qe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Xe{process(e,t,n){return Qe(this,void 0,void 0,(function*(){try{let r,i="",a=0,o=new RegExp(Y.a.PATTERN,"g");for(;r=o.exec(e);){let s=o.lastIndex-r[0].length;s>a&&(i+=e.substring(a,s));let c=r[1].trim(),u=c;try{let e=$e.getDynamicValue(c,t),r=yield e.getValue(n);r&&(u=r)}catch(e){console.error("DynamicValuesProcessor::process",e)}a=o.lastIndex,i+=u}return 0===i.length?i=e:i+=e.substring(a,e.length),i}catch(t){return e}}))}}class Je{constructor(e,t){this._deepReplaceLevel=t,this._processor=e}}var Ze=(Ye={},s()(Ye,$.a.onGetClipText,(function(e,t){return V()(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.text||"",i=new Xe,a=e.getters.remoteConfigDeepReplaceLevel,n.abrupt("return",i.process(r,0,new Je(i,a)));case 4:case"end":return n.stop()}}),n)})))()})),s()(Ye,$.a.onAutoSaveSelectedClip,(function(e){return V()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.getters.isStateEdit){t.next=5;break}if(!(n=e.getters.getSelectedClipState).isClipEdited()){t.next=5;break}return f.a.debug("onAutoSaveSelectedClip",n.clip),t.abrupt("return",e.dispatch($.a.onSaveClip,{clip:n.clip,autoSave:!0}));case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})))()})),s()(Ye,$.a.onSaveSelectedClip,(function(e,t){return V()(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.getters.getSelectedClipState,!e.getters.isStateEdit){n.next=9;break}if(!r.isEditMode()||!r.isClipEdited()){n.next=9;break}return f.a.debug("onSaveSelectedClip",r.clip),n.next=6,e.dispatch($.a.onSaveClip,{clip:r.clip});case 6:return i=n.sent,t||e.commit(N.a.VIEW_CLIP,i),n.abrupt("return",i);case 9:return n.abrupt("return",r.clip);case 10:case"end":return n.stop()}}),n)})))()})),s()(Ye,$.a.onCreateNewClip,(function(e){return V()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.debug("onCreateNewClip"),t.next=3,e.dispatch($.a.onSaveSelectedClip);case 3:return e.commit(N.a.REQUEST_HIDE_LEFT_NAV),e.commit(N.a.NEW_CLIP),t.abrupt("return",e.getters.getSelectedClipState.clip);case 6:case"end":return t.stop()}}),t)})))()})),s()(Ye,$.a.onEditClip,(function(e,t){return V()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f.a.debug("onEditClip",t),n.next=3,e.dispatch($.a.onSaveSelectedClip);case 3:return e.commit(N.a.EDIT_CLIP,t),n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))()})),s()(Ye,$.a.onPrintClip,(function(e,t){return z.a.isDesktop()?e.dispatch($.a.onPrintClipElectron,t):e.dispatch($.a.onSaveSelectedClip).then((function(){return e.commit(N.a.VIEW_CLIP,t)})).then((function(){return K.a.print("printContent",t.title)})).then((function(){return t}))})),s()(Ye,$.a.onCopyClip,(function(e,t){return V()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=u.a.getSettings(),f.a.debug("CLIPBOARD :: onCopyClip",t),n.next=4,e.dispatch($.a.onCopyText,{text:t.text});case 4:if(e.commit(N.a.SET_ACTIVE_CLIPBOARD_CLIP,t),!r.hideOnCopy||!z.a.isDesktop()){n.next=8;break}return n.next=8,e.dispatch($.a.onHideOnCopyElectron);case 8:return n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})))()})),s()(Ye,$.a.onSaveClip,(function(e,t){return V()(regeneratorRuntime.mark((function n(){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.autoSave,i=t.manualSave,a=t.clip.normalize(),o=t.mergedClips,!(s=p.a.toBoolean(t.copied))){n.next=11;break}return c=e.getters.getActiveClipboardClipId,n.next=9,e.dispatch($.a.onCopyClip,a);case 9:if(a.isNew()||a.id!==c){n.next=11;break}return n.abrupt("return",a);case 11:return n.next=13,W.a.save(e,a,s,o);case 13:return a=n.sent,r?e.commit(N.a.UPDATE_CLIP,a):p.a.arrayIsNotEmpty(o)||i?e.commit(N.a.VIEW_CLIP,a):e.commit(N.a.UPDATE_CLIP,a),n.abrupt("return",a);case 16:case"end":return n.stop()}}),n)})))()})),s()(Ye,$.a.onAddClipFiles,(function(e,t){var n=t.files,r=t.clip;if(p.a.arrayIsNotEmpty(n))return H.a.upload(e,n).then((function(e){var t,n=e.map((function(e){return e.getUid()})),i=U()(r.getFileIds());return(t=i).push.apply(t,U()(n)),i=p.a.arrayDistinct(i),r.setFileIds(i),r})).then((function(t){return e.getters.isStateEdit?t:e.dispatch($.a.onSaveClip,{clip:t})}))})),s()(Ye,$.a.onRemoveClipFiles,(function(e,t){var n=t.clip,r=t.files,i=U()(n.getFileIds());r.forEach((function(e){return p.a.arrayRemoveItem(i,e.getUid())})),n.setFileIds(i)})),s()(Ye,$.a.onAddOrRemoveClipAttachment,(function(e,t){var n=t.clip,r=t.file,i=U()(n.getFileIds());if(p.a.arrayAddOrRemoveItem(i,r.getUid()),n.setFileIds(i),f.a.debug($.a.onAddOrRemoveClipAttachment,r.getUid(),i),!e.getters.isStateEdit)return j.a.showLoadingState(!0),e.dispatch($.a.onSaveClip,{clip:n}).finally((function(){return j.a.hideLoadingState()}))})),s()(Ye,$.a.onViewClipFiles,(function(e,t){var n=t.file,r=t.files;e.commit(N.a.SET_FILES,r),e.commit(N.a.VIEW_FILE,n)})),s()(Ye,$.a.onUpdateAvailableAttachments,(function(e,t){return V()(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.filter,f.a.debug($.a.onUpdateAvailableAttachments,r),i=e.getters.getAvailableAttachmentsFilter,(G.a.isLiveQueryDisposed("liveAttachments")||!p.a.areObjectsTheSame(i,r))&&(f.a.debug($.a.onUpdateAvailableAttachments,"filter updated",r),e.commit(N.a.SET_AVAILABLE_ATTACHMENTS_FILTER,r),G.a.createLiveQuery("liveAttachments",(function(){return q.a.getFiltered(r)}),function(){var t=V()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.commit(N.a.SET_AVAILABLE_ATTACHMENTS,n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return n.stop()}}),n)})))()})),Ye);t.a={namespaced:!1,state:m,getters:r,mutations:F,actions:Ze}},"891b":function(e,t,n){"use strict";var r={name:"VerticalSeparatorItem"},i=n("2877"),a=n("eb85"),o=n("eebe"),s=n.n(o),c=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("q-separator",{staticClass:"bg-colorDividerLight q-my-sm",attrs:{vertical:""}})}),[],!1,null,null,null);t.a=c.exports;s()(c,"components",{QSeparator:a.a})},"89da":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("6374"),i=n.n(r),a=(n("b64b"),n("22a9")),o=n("e6d6"),s=n("f52e"),c=n("403c"),u=n("27f0"),l=n("72a1"),d=n("e2db"),p=n("5046"),f=n("1cee"),h=n("baf0"),g={changesListener:null,stopSync:function(){var e=g.changesListener;e&&(e.dispose(),g.changesListener=null)},startSync:function(e,t,n,r,i){g.stopSync();var s=e.getters.getAuthUserCollection;if(s){var c=e.getters.isAuthForceSync;c&&p.a.showLoadingState();var u=new a.a("clips",e,s.getActiveClipsRef(),s.getDeletedClipsRef(),"activeClipsLatestDate","deletedClipsLatestDate",o.a.ATTR_CLIP_CREATE_DATE,t,n,r,i);g.changesListener=u.subscribe(c)}},getFirestoreId:function(e){var t=e.firestoreId||e.snippetId||h.a.autoId();return e.firestoreId=t,t},saveInBatch:function(e,t,n,r){var i=e.getters.getAuthUserCollection;if(i){var a=g._getLastActiveDate();f.a.debug("FIREBASE LISTENER :: saveInBatch with last date",a);var s=t.firestoreId,l=g.getFirestoreId(t),p=i.getActiveClipsRef().doc(l);if(r&&Object.keys(r).length>0)o.a.normalizeMap(r,!0),r[o.a.ATTR_DEVICE_ID]=d.a.getDeviceId(),r[o.a.ATTR_API_VERSION]=u.a.apiVersion,r[o.a.ATTR_CHANGE_TIMESTAMP]=a,n?n.update(p,r):p.update(r);else{var h=c.a.toMap(t);h[o.a.ATTR_CHANGE_TIMESTAMP]=a,n?n.set(p,h,{merge:!0}):p.set(h,{merge:!0})}return s!==t.firestoreId}return!1},save:function(e,t,n){var r=this.saveInBatch(e,t,null,n);return f.a.debug("save single clip",t),r},deleteAllInBatch:function(e,t,n){if(e.getters.getAuthUserCollection&&l.a.arrayIsNotEmpty(t)){var r,a=i()(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.deleteInBatch(e,o,n)}}catch(e){a.e(e)}finally{a.f()}}},deleteInBatch:function(e,t,n){if(t.isSynced()){var r=e.getters.getAuthUserCollection;if(r){var i=t.firestoreId,a=r.getActiveClipsRef().doc(i);if(t.isDeleted()){var c={};c[o.a.ATTR_DEVICE_ID]=d.a.getDeviceId(),c[o.a.ATTR_API_VERSION]=u.a.apiVersion,c[o.a.ATTR_CHANGE_TIMESTAMP]=g._getLastActiveDate(),c[o.a.ATTR_CLIP_DELETE_DATE]=s.a.toTimestamp(t.deleteDate),n.update(a,c)}else{var l=r.clipsDeletedRef.doc(i),p={};p[o.a.ATTR_DEVICE_ID]=d.a.getDeviceId(),p[o.a.ATTR_API_VERSION]=u.a.apiVersion,p[o.a.ATTR_CHANGE_TIMESTAMP]=g._getLastDeleteDate(),f.a.debug("createListener :: delete clip",p),n.set(l,p),n.delete(a),t.hasPublicLink()&&n.delete(r.getPublicNoteRef(i))}}}},_getLastActiveDate:function(){return o.a.getServerTimestamp()},_getLastDeleteDate:function(){return o.a.getServerTimestamp()}}},"8d20":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getActiveClipboardClipId",(function(){return i})),n.d(r,"getActiveClipboardText",(function(){return a}));function i(e){return e.activeClipboardClipId}function a(e){return e.activeClipboardText}var o,s=n("9523"),c=n.n(s),u=n("ed99"),l=(o={},c()(o,u.a.SET_ACTIVE_CLIPBOARD_CLIP,(function(e,t){e.activeClipboardClipId=t.id,e.activeClipboardText=t.text})),c()(o,u.a.SET_ACTIVE_CLIPBOARD_TEXT,(function(e,t){e.activeClipboardText=t})),o),d=n("61b4"),p=n("cda8"),f=n("e2db"),h=n("c9d9"),g=c()({},h.a.onCopyText,(function(e,t){d.a.runOnUI((function(n){if(f.a.isDesktop())return e.dispatch(h.a.onElectronCopyText,t);var r=t.text;return e.commit(u.a.SET_ACTIVE_CLIPBOARD_TEXT,r),p.a.onCopyText(r,n,t.titleRes,t.descriptionRes)}))}));t.a={namespaced:!1,state:{activeClipboardClipId:-1,activeClipboardText:null},getters:r,mutations:l,actions:g}},"8e0d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ROBOTO:{id:1,styleClass:"",titleRes:"text_config_font_roboto"},ROBOTO_MONO:{id:6,styleClass:"font_roboto_mono",titleRes:"text_config_font_roboto_mono"},WORK_SANS:{id:2,styleClass:"font_work_sans",titleRes:"text_config_font_work_sans"},OPEN_SANS:{id:3,styleClass:"font_open_sans",titleRes:"text_config_font_open_sans"},MONTSERRAT:{id:4,styleClass:"font_montserrat",titleRes:"text_config_font_montserrat"},UBUNTU:{id:5,styleClass:"font_ubuntu",titleRes:"text_config_font_ubuntu"},UBUNTU_MONO:{id:7,styleClass:"font_ubuntu_mono",titleRes:"text_config_font_ubuntu_mono"},OSWALD:{id:22,styleClass:"font_oswald",titleRes:"text_config_font_oswald"},JETBRAINS_MONO:{id:28,styleClass:"font_jetbrains_mono",titleRes:"text_config_font_jetbrains_mono"},MANROPE:{id:29,styleClass:"font_manrope",titleRes:"text_config_font_manrope"},RUBIK:{id:30,styleClass:"font_rubik",titleRes:"text_config_font_rubik"}}},"8fa9":function(e,t,n){"use strict";n("07ac"),n("d3b7"),n("159b"),n("4de4");var r=n("8e0d"),i=n("c9d9"),a=n("96e0"),o=n("ed99"),s=n("9b2f"),c=n("08ff"),u={name:"SelectBlock",props:["optionValue","optionLabel","displayValue","titleRes","options","value"],data:function(){return{selectValue:this.value}},watch:{value:function(e){this.selectValue=e}},computed:{getAppPopupMenuStyle:function(){return this.$store.getters.getAppPopupMenuStyle},isDarkMode:function(){return this.$store.getters.isDarkMode},getTitle:function(){return this.$t(this.titleRes)}},methods:{onInput:function(e){this.$emit("input",e)}}},l=n("2877"),d=n("ddd8"),p=n("eebe"),f=n.n(p),h=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-px-md"},[n("div",{staticClass:"text-textColorPrimary"},[e._v(e._s(e.getTitle))]),n("q-select",{staticClass:"q-mt-sm",attrs:{"popup-content-style":e.getAppPopupMenuStyle,"popup-content-class":"bg-colorDialog","options-dark":e.isDarkMode,"option-value":e.optionValue,"option-label":e.optionLabel,"display-value":e.displayValue,"dropdown-icon":"expand_more",dark:e.isDarkMode,color:"colorAccent",options:e.options,outlined:"",dense:""},on:{input:e.onInput},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}})],1)}),[],!1,null,null,null),g=h.exports;f()(h,"components",{QSelect:d.a});var m={name:"ObjectViewSettings",props:["hideFullScreenSettings","hideTextSizeSettings"],components:{SliderBlock:s.a,SwitchBlock:c.a,SelectBlock:g},data:function(){return{textFont:this.getTextFont,theme:this.getTheme}},watch:{getTextFont:function(e){this.textFont=e},getTextSize:function(e){this.onTextSizeChanged(e)},theme:function(e){this.onThemeChanged(e)},textFont:function(e){this.onTextFontChanged(e)}},computed:{getAppContextMenuClass:function(){return"q-pb-md ".concat(this.$store.getters.getAppContextMenuClass)},getAppContextMenuStyle:function(){return this.$store.getters.getAppContextMenuStyle},getSettings:function(){return this.$store.getters.getSettings},getTextSize:function(){return this.getSettings.textSize},getTextFont:function(){return this.$store.getters.getSelectedFont},getTheme:function(){return this.$store.getters.getSelectedTheme},isInFullScreen:function(){return this.$store.getters.isInFullScreen},getViewMode:function(){return this.$store.getters.getViewMode},getTextSizeMin:function(){return this.$store.getters.remoteConfigTextSizeMin},getTextSizeMax:function(){return this.$store.getters.remoteConfigTextSizeMax},getTextFonts:function(){var e=this,t=Object.values(r.a);return t.forEach((function(t){t.title=e.$t(t.titleRes)})),t},getThemes:function(){var e=this,t=Object.values(a.a).filter((function(e){return e.titleRes}));return t.forEach((function(t){t.title=e.$t(t.titleRes)})),t},getTextFontLabel:function(){return this.$t(this.getTextFont.titleRes)},getThemeLabel:function(){return this.$t(this.getTheme.titleRes)}},methods:{onTextSizeChanged:function(e){this.$store.commit(o.a.SET_TEXT_SIZE,e),this.$store.dispatch(i.a.onChangeTextSize,{textSize:e})},onTextFontChanged:function(e){this.$store.dispatch(i.a.onChangeTextFont,{textFont:e})},onThemeChanged:function(e){this.$store.dispatch(i.a.onChangeTheme,{theme:e})},onToggleFullscreen:function(){this.$store.commit(o.a.SET_VIEW_MODE,this.getViewMode.next())}}},_=Object(l.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.getAppContextMenuClass},[e.hideFullScreenSettings||e.$q.screen.lt.sm?e._e():n("SwitchBlock",{attrs:{"title-res":"menu_fullscreen_enter","on-checked":e.onToggleFullscreen,checked:e.isInFullScreen}}),n("SelectBlock",{staticClass:"q-mt-md",attrs:{"option-value":"id","option-label":"title",options:e.getThemes,"display-value":e.getThemeLabel,"title-res":"settings_theme_title"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}}),n("SelectBlock",{staticClass:"q-mt-md",attrs:{"option-value":"id","option-label":"title",options:e.getTextFonts,"display-value":e.getTextFontLabel,"title-res":"text_config_font"},model:{value:e.textFont,callback:function(t){e.textFont=t},expression:"textFont"}}),e.hideTextSizeSettings?e._e():n("SliderBlock",{staticClass:"q-mt-md",attrs:{"value-label":e.getTextSize,"title-res":"text_config_size","min-value":e.getTextSizeMin,"max-value":e.getTextSizeMax},model:{value:e.getSettings.textSize,callback:function(t){e.$set(e.getSettings,"textSize",t)},expression:"getSettings.textSize"}})],1)}),[],!1,null,null,null);t.a=_.exports},"914e":function(e,t,n){"use strict";n("99af");var r=n("5046"),i=n("e2db"),a={name:"VerticalScrollView",props:["domId","height","thumbWidth","contentClass","contentStyle","onHideToolbars"],data:function(){return{minUpEvents:0,directionType:{down:{bind:function(e,t){0!==t.position&&(e.onHideToolbars(!0),e.minUpEvents=0)}},up:{bind:function(e,t){t.directionChanged&&(i.a.isSafari()?e.minUpEvents=10:e.minUpEvents=0),(0===t.position||--e.minUpEvents<0)&&(e.onHideToolbars(!1),e.minUpEvents=0)}}}}},computed:{getScrollbarDisappearDelay:function(){return this.$store.getters.remoteConfigScrollBarDisappearDelay},getScrollStyle:function(){if(!this.height)return this.contentStyle;var e=this.contentStyle||"";return"height: ".concat(this.height,"px; max-height: ").concat(this.height,"px; ").concat(e)},getThumbStyle:function(){return r.a.getScrollAreaThumbStyle(this.thumbWidth||12)}},methods:{onScroll:function(e){var t=this.directionType[e.direction];t&&t.bind(this,e)}}},o=n("2877"),s=n("4983"),c=n("ed5e"),u=n("eebe"),l=n.n(u),d=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-scroll-area",{class:e.contentClass,style:e.getScrollStyle,attrs:{id:e.domId,"thumb-style":e.getThumbStyle,delay:e.getScrollbarDisappearDelay}},[e._t("default"),e.onHideToolbars?n("q-scroll-observer",{on:{scroll:e.onScroll}}):e._e()],2)}),[],!1,null,null,null);t.a=d.exports;l()(d,"components",{QScrollArea:s.a,QScrollObserver:c.a})},9400:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"remoteConfigAttachmentDownloadInMemoryLimit",(function(){return l})),n.d(r,"remoteConfigNoteListUnsubscribeOnPauseDelay",(function(){return d})),n.d(r,"remoteConfigAttachmentUploadLimitInMb",(function(){return p})),n.d(r,"remoteConfigAttachmentUploadLimit",(function(){return f})),n.d(r,"remoteConfigCanPreviewLinks",(function(){return h})),n.d(r,"remoteConfigMaxLengthTitle",(function(){return g})),n.d(r,"remoteConfigMaxLengthTag",(function(){return m})),n.d(r,"remoteConfigUseExternalAuthFlow",(function(){return _})),n.d(r,"remoteConfigCanReportUnexpectedErrors",(function(){return T})),n.d(r,"remoteConfigCanCreateTagAutoRules",(function(){return E})),n.d(r,"remoteConfigTagRuleMaxLength",(function(){return v})),n.d(r,"remoteConfigTagColorsMatrix",(function(){return S})),n.d(r,"remoteConfigLimitDeletedNotesDefault",(function(){return C})),n.d(r,"remoteConfigLimitDeletedNotesRange",(function(){return b})),n.d(r,"remoteConfigLimitClipboardNotesDefault",(function(){return I})),n.d(r,"remoteConfigLimitClipboardNotesRange",(function(){return y})),n.d(r,"remoteConfigNoteScrollbarMultiplier",(function(){return A})),n.d(r,"remoteConfigCanSortTagsOnSave",(function(){return D})),n.d(r,"remoteConfigCanCreatePublicLinks",(function(){return L})),n.d(r,"remoteConfigSyncPlanActivated",(function(){return x})),n.d(r,"remoteConfigSyncPlanNotesFreeLimit",(function(){return R})),n.d(r,"remoteConfigFirestoreBatchSize",(function(){return w})),n.d(r,"remoteConfigFirestoreClearCacheOnLogout",(function(){return k})),n.d(r,"remoteConfigUrlAuthInstruction",(function(){return P})),n.d(r,"remoteConfigMaxNotesForContextActions",(function(){return N})),n.d(r,"remoteConfigClipEditFocusOnText",(function(){return F})),n.d(r,"remoteConfigCanDonate",(function(){return O})),n.d(r,"remoteConfigAnalyticsSessionProlongInterval",(function(){return B})),n.d(r,"remoteConfigSupportAutoSave",(function(){return U})),n.d(r,"remoteConfigAutoSaveInterval",(function(){return M})),n.d(r,"remoteConfigUrlTranslate",(function(){return V})),n.d(r,"remoteConfigCanSelectPlan",(function(){return H})),n.d(r,"remoteConfigQueryOnlyLatestChangedNotesReconnectDelay",(function(){return W})),n.d(r,"remoteConfigQueryOnlyLatestChangedNotesMinimumInterval",(function(){return q})),n.d(r,"remoteConfigQueryOnlyLatestChangedNotesThreshold",(function(){return z})),n.d(r,"remoteConfigUrlUnexpectedErrorInstruction",(function(){return G})),n.d(r,"remoteConfigCanReportUnexpectedErrorDirectly",(function(){return K})),n.d(r,"remoteConfigTextSizeMin",(function(){return j})),n.d(r,"remoteConfigTextSizeMax",(function(){return $})),n.d(r,"remoteConfigCanRemoveNotSyncedNotesOnLogout",(function(){return Y})),n.d(r,"remoteConfigDeepReplaceLevel",(function(){return Q})),n.d(r,"remoteConfigRuneConfigs",(function(){return X})),n.d(r,"remoteConfigAutoLockInMinutes",(function(){return J})),n.d(r,"remoteConfigUrlLinkPreviewExampleUrl",(function(){return Z})),n.d(r,"remoteConfigRunesFlatModeExpanded",(function(){return ee})),n.d(r,"remoteConfigClipboardReadInterval",(function(){return te})),n.d(r,"remoteConfigClipboardUseNativeListeners",(function(){return ne})),n.d(r,"remoteConfigScrollBarDisappearDelay",(function(){return re})),n.d(r,"remoteConfigMaxLengthAbbreviation",(function(){return ie})),n.d(r,"remoteConfigMaxLengthDescription",(function(){return ae})),n.d(r,"remoteConfigAbbreviationLeadingSymbol",(function(){return oe})),n.d(r,"getFastScrollBarMinTextLines",(function(){return se}));var i=n("2eba"),a=n("448a"),o=n.n(a),s=n("6374"),c=n.n(s),u=n("0967");function l(e){return 1024*e.attachmentDownloadInMemoryLimit*1024}function d(e){return e.noteListUnsubscribeOnPauseDelay}function p(e){return e.attachmentUploadLimit}function f(e){return 1024*e.attachmentUploadLimit*1024}function h(e){return e.canPreviewLinks}function g(e){return e.maxLengthTitle}function m(e){return e.maxLengthTag}function _(e){return e.useExternalAuthFlow}function T(e){return e.canReportUnexpectedErrors}function E(e){return e.canCreateTagAutoRules}function v(e){return e.tagRuleMaxLength}function S(e){var t,n=JSON.parse(e.tagColors),r=[],i=c()(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=[null];s.push.apply(s,o()(a)),r.push(s)}}catch(e){i.e(e)}finally{i.f()}return r}function C(e){return e.limitDeletedNotesDefault}function b(e){return JSON.parse(e.limitDeletedNotesRange)}function I(e){return e.limitClipboardNotesDefault}function y(e){return JSON.parse(e.limitClipboardNotesRange)}function A(e){return e.noteScrollbarMultiplier}function D(e){return e.canSortTagsOnSave}function L(e){return e.canCreatePublicLinks}function x(e){return e.syncPlanActivated}function R(e){return e.syncPlanNotesFreeLimit}function w(e){return e.firestoreBatchSize}function k(e){return e.firestoreClearCacheOnLogout}function P(e){return e.urlAuthInstruction}function N(e){return e.maxNotesForContextActions}function F(e){return e.clipEditFocusOnText}function O(e){return e.canDonate}function B(e){return e.analyticsSessionProlongInterval}function U(e){return e.supportAutoSave}function M(e){return e.autoSaveInterval}function V(e){return e.urlTranslate}function H(e){return e.canSelectPlan}function W(e){return e.queryOnlyLatestChangedNotesReconnectDelay}function q(e){return e.queryOnlyLatestChangedNotesMinimumInterval}function z(e){return e.queryOnlyLatestChangedNotesThreshold}function G(e){return e.urlUnexpectedErrorInstruction}function K(e){return e.canReportUnexpectedErrorDirectly}function j(e){return e.textSizeMin}function $(e){return e.textSizeMax}function Y(e){return e.canRemoveNotSyncedNotesOnLogout}function Q(e){return e.deepReplaceLevel}function X(e){return JSON.parse(e.runeConfigs)}function J(e){return e.autoLockInMinutes}function Z(e){return e.urlLinkPreviewExampleUrl}function ee(e){return e.runesFlatModeExpanded}function te(e){return e.clipboardReadInterval}function ne(e){return u.b.is.mac&&e.clipboardUseNativeListenersMac||u.b.is.win&&e.clipboardUseNativeListenersWin||u.b.is.linux&&e.clipboardUseNativeListenersLinux}function re(e){return e.scrollBarDisappearDelay}function ie(e){return e.maxLengthAbbreviation}function ae(e){return e.maxLengthDescription}function oe(e){return e.abbreviationLeadingSymbol}function se(e){return e.fastScrollBarMinTextLines}var ce=n("9523"),ue=n.n(ce),le=n("ed99"),de=ue()({},le.a.SET_REMOTE_CONFIG,(function(e,t){e.autoLockInMinutes=t.getNumber("auto_lock_in_minutes"),e.attachmentDownloadInMemoryLimit=t.getNumber("attachment_download_in_memory_limit"),e.attachmentUploadLimit=t.getNumber("attachment_upload_limit"),e.firestoreClearCacheOnLogout=t.getBoolean("firestore_clear_cache_on_logout"),e.canReportUnexpectedErrors=t.getBoolean("can_report_unexpected_errors"),e.useExternalAuthFlow=t.getBoolean("use_external_auth_flow"),e.firestoreBatchSize=t.getNumber("firestore_batch_size"),e.maxNotesForContextActions=t.getNumber("max_notes_for_context_actions");var n=t.getNumber("analytics_session_prolong_interval");n>0&&(e.analyticsSessionProlongInterval=n);var r=t.getNumber("query_only_latest_changed_notes_reconnect_delay");r>0&&(e.queryOnlyLatestChangedNotesReconnectDelay=r);var i=t.getNumber("query_only_latest_changed_notes_minimum_interval");i>0&&(e.queryOnlyLatestChangedNotesMinimumInterval=i);var a=t.getNumber("query_only_latest_changed_notes_threshold");a>0&&(e.queryOnlyLatestChangedNotesThreshold=a);var o=t.getNumber("query_only_latest_changed_notes_default_limit");o>0&&(e.queryOnlyLatestChangedNotesDefaultLimit=o),e.canReportUnexpectedErrorDirectly=t.getBoolean("can_report_unexpected_errors_directly"),e.canRemoveNotSyncedNotesOnLogout=t.getBoolean("can_remove_not_synced_notes_on_logout");var s=t.getNumber("scrollbar_disappear_delay");s>0&&(e.scrollBarDisappearDelay=s),e.canDonate=t.getBoolean("can_donate"),e.canSortTagsOnSave=t.getBoolean("can_sort_tags_on_save"),e.canCreatePublicLinks=t.getBoolean("can_create_public_links"),e.noteScrollbarMultiplier=t.getNumber("note_scrollbar_multiplier"),e.canPreviewLinks=t.getBoolean("can_preview_links");var c=t.getNumber("max_length_abbreviation");c>0&&(e.maxLengthAbbreviation=c);var u=t.getNumber("max_length_description");u>0&&(e.maxLengthDescription=u);var l=t.getString("note_abbreviation_leading_symbol");l&&(e.abbreviationLeadingSymbol=l),e.maxLengthTitle=t.getNumber("max_length_title"),e.maxLengthTag=t.getNumber("max_length_tag"),e.clipEditFocusOnText=t.getBoolean("clip_edit_focus_on_text"),e.supportAutoSave=t.getBoolean("support_auto_save");var d=t.getNumber("text_size_min");d>0&&(e.textSizeMin=d);var p=t.getNumber("text_size_max");p>0&&(e.textSizeMax=p);var f=t.getNumber("auto_save_interval");f>0&&(e.autoSaveInterval=f);var h=t.getNumber("note_fast_scroll_min_text_lines");h>0&&(e.fastScrollBarMinTextLines=h),e.canCreateTagAutoRules=t.getBoolean("can_create_tag_auto_rules"),e.tagRuleMaxLength=t.getNumber("tag_rule_max_length"),e.tagColors=t.getString("tag_colors"),e.limitDeletedNotesDefault=t.getNumber("limit_deleted_notes_default");var g=t.getString("limit_deleted_notes_range");g&&(e.limitDeletedNotesRange=g);var m=t.getNumber("logcat_read_timeout");m>0&&(e.clipboardReadInterval=m),e.limitClipboardNotesDefault=t.getNumber("limit_clipboard_notes_default");var _=t.getString("limit_clipboard_notes_range");_&&(e.limitClipboardNotesRange=_),e.clipboardUseNativeListenersMac=t.getBoolean("clipboard_use_native_listeners_mac"),e.clipboardUseNativeListenersWin=t.getBoolean("clipboard_use_native_listeners_win"),e.clipboardUseNativeListenersLinux=t.getBoolean("clipboard_use_native_listeners_linux"),e.syncPlanActivated=t.getBoolean("sync_plan_activated"),e.syncPlanNotesFreeLimit=t.getNumber("sync_plan_notes_free_limit"),e.urlUnexpectedErrorInstruction=t.getString("url_unexpected_error_instruction"),e.urlLinkPreviewExampleUrl=t.getString("url_link_preview_example"),e.urlAuthInstruction=t.getString("url_auth_instruction"),e.urlTranslate=t.getString("url_translate");var T=t.getNumber("deep_replace_level");0!==T&&(e.deepReplaceLevel=T);var E=t.getString("rune_configs");E&&(e.runeConfigs=E);var v=t.getBoolean("runes_flat_mode_expanded");v&&(e.runesFlatModeExpanded=v);var S=t.getNumber("note_list_unsubscribe_on_pause_delay");0!==S&&(e.noteListUnsubscribeOnPauseDelay=S)})),pe=n("c9d9"),fe=n("260b"),he=(n("a111"),ue()({},pe.a.onInitFirebase,(function(e){var t=fe.a.remoteConfig();return t.fetchAndActivate().then((function(){return e.commit(le.a.SET_REMOTE_CONFIG,t)})).catch((function(){}))}))),ge={autoLockInMinutes:2,attachmentDownloadInMemoryLimit:50,attachmentUploadLimit:300,canReportUnexpectedErrors:!0,canReportUnexpectedErrorDirectly:!1,useExternalAuthFlow:!0,firestoreBatchSize:100,firestoreClearCacheOnLogout:!0,maxNotesForContextActions:100,analyticsSessionProlongInterval:9e5,queryOnlyLatestChangedNotesMinimumInterval:36e5,queryOnlyLatestChangedNotesReconnectDelay:2e4,queryOnlyLatestChangedNotesThreshold:10,canRemoveNotSyncedNotesOnLogout:!1,scrollBarDisappearDelay:3e3,canDonate:!1,canSelectPlan:!n("e2db").a.isDesktopWin(),canSortTagsOnSave:!0,canCreatePublicLinks:!0,noteScrollbarMultiplier:4,canPreviewLinks:!0,maxLengthAbbreviation:8,maxLengthDescription:1e3,maxLengthTitle:150,maxLengthTag:50,clipEditFocusOnText:!0,supportAutoSave:!0,autoSaveInterval:1e3,textSizeMin:10,textSizeMax:72,abbreviationLeadingSymbol:"/",fastScrollBarMinTextLines:50,noteListUnsubscribeOnPauseDelay:36e5,canCreateTagAutoRules:!0,tagRuleMaxLength:100,tagColors:'\n    [\n      ["#ef9a9a", "#F48FB1", "#CE93D8", "#B39DDB", "#9FA8DA", "#90CAF9", "#81D4FA", "#80DEEA", "#80CBC4", "#A5D6A7", "#C5E1A5", "#E6EE9C", "#FFF59D", "#FFE082", "#FFCC80", "#FFAB91", "#BCAAA4", "#EEEEEE", "#B0BEC5"],\n\n      ["#e57373", "#F06292", "#BA68C8", "#9575CD", "#7986CB", "#64B5F6", "#4FC3F7", "#4DD0E1", "#4DB6AC", "#81C784", "#AED581", "#DCE775", "#FFF176", "#FFD54F", "#FFB74D", "#FF8A65", "#A1887F", "#E0E0E0", "#90A4AE"],\n\n      ["#f44336", "#E91E63", "#9C27B0", "#673AB7", "#3F51B5", "#2196F3", "#03A9F4", "#00BCD4", "#009688", "#4CAF50", "#8BC34A", "#CDDC39", "#FFEB3B", "#FFC107", "#FF9800", "#FF5722", "#795548", "#9E9E9E", "#607D8B"],\n\n      ["#d32f2f", "#C2185B", "#7B1FA2", "#512DA8", "#303F9F", "#1976D2", "#0288D1", "#0097A7", "#00796B", "#388E3C", "#689F38", "#AFB42B", "#FBC02D", "#FFA000", "#F57C00", "#E64A19", "#5D4037", "#616161", "#455A64"],\n\n      ["#b71c1c", "#880E4F", "#4A148C", "#311B92", "#1A237E", "#0D47A1", "#01579B", "#006064", "#004D40", "#1B5E20", "#33691E", "#827717", "#F57F17", "#FF6F00", "#E65100", "#BF360C", "#3E2723", "#212121", "#263238"]\n    ]\n  ',limitDeletedNotesDefault:100,limitDeletedNotesRange:"[10, 50, 100, 150, 200, 250, 300]",clipboardReadInterval:500,limitClipboardNotesDefault:300,clipboardUseNativeListenersLinux:!1,clipboardUseNativeListenersWin:!1,clipboardUseNativeListenersMac:!1,limitClipboardNotesRange:"[1, 10, 50, 100, 200, 300, 500, 1000, 2000, 3000, 5000, 10000, -1]",syncPlanActivated:!0,syncPlanNotesFreeLimit:300,urlUnexpectedErrorInstruction:"https://clipto.pro/l/qcAUHxuk8tHQ7osL6",urlAuthInstruction:"https://clipto.pro/l/f91nrrark2saJahaA",urlTranslate:"https://crowdin.com/project/clipto",urlLinkPreviewExampleUrl:"https://play.google.com/store/apps/details?id=com.wb.clipboard.pro",deepReplaceLevel:5,runesFlatModeExpanded:!1,runeConfigs:'\n    [\n            {\n                "id": "instant_sync",\n                "colorLight": "#00CAE0",\n                "colorDark": "#00E5FF"\n            },\n            {\n                "id": "pincode",\n                "colorLight": "#00E676",\n                "colorDark": "#00E676"\n            },\n            {\n                "id": "theme",\n                "colorLight": "#64DD17",\n                "colorDark": "#76FF03"\n            },\n            {\n                "id": "clipboard",\n                "colorLight": "#FF3D00",\n                "colorDark": "#FF3D00"\n            },\n            {\n                "id": "link_preview",\n                "colorLight": "#00B0FF",\n                "colorDark": "#00B0FF"\n            },\n            {\n                "id": "auto_save",\n                "colorLight": "#D500F9",\n                "colorDark": "#D500F9"\n            },\n            {\n                "id": "remember_last_filter",\n                "colorLight": "#536DFE",\n                "colorDark": "#536DFE"\n            },\n            {\n                "id": "swipe_actions",\n                "colorLight": "#FFAB00",\n                "colorDark": "#FFAB00"\n            },\n            {\n                "id": "focus_on_title",\n                "colorLight": "#844CFF",\n                "colorDark": "#844CFF"\n            },\n            {\n                "id": "hide_on_copy",\n                "colorLight": "#FDD835",\n                "colorDark": "#FFFF00"\n            },\n            {\n                "id": "double_click_actions",\n                "colorLight": "#FFC6FF00",\n                "colorDark": "#FFC6FF00"\n            },\n            {\n                "id": "loyalty",\n                "colorLight": "#FF1744",\n                "colorDark": "#FF5252"\n            },\n            {\n                "id": "backup_restore",\n                "colorLight": "#00BFA5",\n                "colorDark": "#00BFA5"\n            },\n            {\n                "id": "texpander",\n                "colorLight": "#FF9100",\n                "colorDark": "#FF9100"\n            }\n        ]\n  '};n("ca8a");fe.a.initializeApp(i.a.getFirebaseConfig()),fe.a.performance();t.a={namespaced:!1,state:ge,getters:r,mutations:de,actions:he}},"96e0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("bc78"),i={DEFAULT:{id:1,dark:!1,titleRes:"theme_default",iconRes:"./app-icon.png",colorListItemSelected:"rgba(52,73,85,0.3)",colorPrimaryInverse:"#ffffff",colorAccent:"#f9aa33",apply:function(){r.a.setBrand("colorLink","#0366d6"),r.a.setBrand("colorAccent","#f9aa33"),r.a.setBrand("colorPrimary","#344955"),r.a.setBrand("colorPrimaryDark","#232f34"),r.a.setBrand("colorPrimaryLight","#4a6572"),r.a.setBrand("colorPrimaryInverse","#ffffff"),r.a.setBrand("colorSecondaryInverse","#fcfcfc"),r.a.setBrand("actionIconColorHighlight","#f9aa33"),r.a.setBrand("actionIconColorInactive","#bfbfbf"),r.a.setBrand("actionIconColorNormal","#fff"),r.a.setBrand("colorContext","#fcfcfc"),r.a.setBrand("colorDialog","#fcfcfc"),r.a.setBrand("colorCustomTagBackground","#344955"),r.a.setBrand("textColorPrimary","#000"),r.a.setBrand("textColorSecondary","#757575"),r.a.setBrand("textColorPrimaryInverse","#fff"),r.a.setBrand("textColorSecondaryInverse","#bfbfbf"),r.a.setBrand("textColorOnSurface","#000"),r.a.setBrand("colorDividerLight","#e6e6e6"),r.a.setBrand("colorDividerDark","#4d4d4d"),r.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.1)")}},WHITE:{id:7,dark:!1,titleRes:"theme_white",iconRes:"./app-icon.png",colorListItemSelected:"rgba(94,141,198,0.3)",colorPrimaryInverse:"#ffffff",colorAccent:"#74b5e0",apply:function(){r.a.setBrand("colorLink","#0366d6"),r.a.setBrand("colorAccent","#5E8DC6"),r.a.setBrand("colorPrimary","#fff"),r.a.setBrand("colorPrimaryDark","#fff"),r.a.setBrand("colorPrimaryLight","#fff"),r.a.setBrand("colorPrimaryInverse","#ffffff"),r.a.setBrand("colorSecondaryInverse","#fff"),r.a.setBrand("actionIconColorHighlight","#5E8DC6"),r.a.setBrand("actionIconColorInactive","rgba(0,0,0,0.7)"),r.a.setBrand("actionIconColorNormal","#000"),r.a.setBrand("colorContext","#fff"),r.a.setBrand("colorDialog","#fff"),r.a.setBrand("colorCustomTagBackground","#5E8DC6"),r.a.setBrand("textColorPrimary","#000"),r.a.setBrand("textColorSecondary","#757575"),r.a.setBrand("textColorPrimaryInverse","#fff"),r.a.setBrand("textColorSecondaryInverse","#757575"),r.a.setBrand("textColorOnSurface","#000"),r.a.setBrand("colorDividerLight","#e6e6e6"),r.a.setBrand("colorDividerDark","#e6e6e6"),r.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.10)")}},SEPIA:{id:4,dark:!1,titleRes:"theme_sepia",iconRes:"./app-icon.png",colorListItemSelected:"#DBE6E7",colorPrimaryInverse:"#F3EDDB",colorAccent:"#5E8DC6",apply:function(){r.a.setBrand("colorLink","#5E8DC6"),r.a.setBrand("colorAccent","#5E8DC6"),r.a.setBrand("colorPrimary","#c0bba9"),r.a.setBrand("colorPrimaryDark","#F3EDDB"),r.a.setBrand("colorPrimaryLight","#c0bba9"),r.a.setBrand("colorPrimaryInverse","#F3EDDB"),r.a.setBrand("colorSecondaryInverse","#F3EDDB"),r.a.setBrand("actionIconColorHighlight","#5E8DC6"),r.a.setBrand("actionIconColorInactive","rgba(0,0,0,0.89)"),r.a.setBrand("actionIconColorNormal","rgba(0,0,0,0.71)"),r.a.setBrand("colorContext","#F3EDDB"),r.a.setBrand("colorDialog","#F8F1DE"),r.a.setBrand("colorCustomTagBackground","#5E8DC6"),r.a.setBrand("textColorPrimary","#000"),r.a.setBrand("textColorSecondary","#757575"),r.a.setBrand("textColorPrimaryInverse","#fff"),r.a.setBrand("textColorSecondaryInverse","#bfbfbf"),r.a.setBrand("textColorOnSurface","#fff"),r.a.setBrand("colorDividerLight","#cdc8b9"),r.a.setBrand("colorDividerDark","#cdc8b9"),r.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.10)")}},GREEN:{id:6,dark:!1,titleRes:"theme_green",iconRes:"./app-icon.png",colorListItemSelected:"#E2E9CE",colorPrimaryInverse:"#fffbe6",colorAccent:"#fa5630",apply:function(){r.a.setBrand("colorLink","#fa5630"),r.a.setBrand("colorAccent","#fa5630"),r.a.setBrand("colorPrimary","#DCDBC3"),r.a.setBrand("colorPrimaryDark","#f2f5e0"),r.a.setBrand("colorPrimaryLight","#b9b8a2"),r.a.setBrand("colorPrimaryInverse","#fffbe6"),r.a.setBrand("colorSecondaryInverse","#fffbe6"),r.a.setBrand("actionIconColorHighlight","#fa5630"),r.a.setBrand("actionIconColorInactive","#356859"),r.a.setBrand("actionIconColorNormal","#356859"),r.a.setBrand("colorContext","#fffbe6"),r.a.setBrand("colorDialog","#fefae5"),r.a.setBrand("colorCustomTagBackground","#356859"),r.a.setBrand("textColorPrimary","#356859"),r.a.setBrand("textColorSecondary","rgba(53,105,89,0.8)"),r.a.setBrand("textColorPrimaryInverse","#fff"),r.a.setBrand("textColorSecondaryInverse","rgba(53,105,89,0.8)"),r.a.setBrand("textColorOnSurface","#fff"),r.a.setBrand("colorDividerLight","#d7e6cf"),r.a.setBrand("colorDividerDark","#d7e6cf"),r.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.10)")}},PINK:{id:9,dark:!1,titleRes:"theme_pink",iconRes:"./app-icon.png",colorListItemSelected:"rgba(254,219,208,0.3)",colorPrimaryInverse:"#ffffff",colorAccent:"#fddbd1",apply:function(){r.a.setBrand("colorLink","#f48aa6"),r.a.setBrand("colorAccent","#f48aa6"),r.a.setBrand("colorPrimary","#fedbd0"),r.a.setBrand("colorPrimaryDark","#feeae6"),r.a.setBrand("colorPrimaryLight","#feeae6"),r.a.setBrand("colorPrimaryInverse","#ffffff"),r.a.setBrand("colorSecondaryInverse","#fff"),r.a.setBrand("actionIconColorHighlight","#f48aa6"),r.a.setBrand("actionIconColorInactive","#442C2E"),r.a.setBrand("actionIconColorNormal","#442C2E"),r.a.setBrand("colorContext","#fff"),r.a.setBrand("colorDialog","#fff"),r.a.setBrand("colorCustomTagBackground","rgba(68,44,46,0.85)"),r.a.setBrand("textColorPrimary","#442C2E"),r.a.setBrand("textColorSecondary","rgba(68,44,46,0.70)"),r.a.setBrand("textColorPrimaryInverse","#fff"),r.a.setBrand("textColorSecondaryInverse","rgba(68,44,46,0.70)"),r.a.setBrand("textColorOnSurface","#442C2E"),r.a.setBrand("colorDividerLight","#e6e6e6"),r.a.setBrand("colorDividerDark","#cccccc"),r.a.setBrand("listItemSelected","rgba(254,219,208,0.10)"),r.a.setBrand("listItemMultipleSelected","rgba(254,219,208,0.30)"),r.a.setBrand("myBackgroundHighlight","rgba(68,44,46,0.1)")}},DARK:{id:2,dark:!0,titleRes:"theme_dark",iconRes:"./app-icon.png",colorListItemSelected:"#747778",colorPrimaryInverse:"#2E3032",colorAccent:"#f9aa33",apply:function(){r.a.setBrand("colorLink","#f9aa33"),r.a.setBrand("colorAccent","#f9aa33"),r.a.setBrand("colorPrimary","#2E3032"),r.a.setBrand("colorPrimaryDark","#262729"),r.a.setBrand("colorPrimaryLight","#494B4C"),r.a.setBrand("colorPrimaryInverse","#2E3032"),r.a.setBrand("colorSecondaryInverse","#2E3032"),r.a.setBrand("actionIconColorHighlight","#f9aa33"),r.a.setBrand("actionIconColorInactive","#DADCE0"),r.a.setBrand("actionIconColorNormal","#fff"),r.a.setBrand("colorContext","#2E3032"),r.a.setBrand("colorDialog","#3b3d3f"),r.a.setBrand("colorCustomTagBackground","#f9aa33"),r.a.setBrand("textColorPrimary","#fff"),r.a.setBrand("textColorSecondary","#bfbfbf"),r.a.setBrand("textColorPrimaryInverse","#000"),r.a.setBrand("textColorSecondaryInverse","#757575"),r.a.setBrand("textColorOnSurface","#000"),r.a.setBrand("colorDividerLight","#4d4d4d"),r.a.setBrand("colorDividerDark","#4d4d4d"),r.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},DARK_BLUE:{id:3,dark:!0,titleRes:"theme_dark_blue",iconRes:"./app-icon.png",colorListItemSelected:"#314A61",colorPrimaryInverse:"#1D2733",colorAccent:"#5E8DC6",apply:function(){r.a.setBrand("colorLink","#5E8DC6"),r.a.setBrand("colorAccent","#5E8DC6"),r.a.setBrand("colorPrimary","#212D3B"),r.a.setBrand("colorPrimaryDark","#1A242F"),r.a.setBrand("colorPrimaryLight","#25374C"),r.a.setBrand("colorPrimaryInverse","#1D2733"),r.a.setBrand("colorSecondaryInverse","#1D2733"),r.a.setBrand("actionIconColorHighlight","#5E8DC6"),r.a.setBrand("actionIconColorInactive","#DADCE0"),r.a.setBrand("actionIconColorNormal","#fff"),r.a.setBrand("colorContext","#1D2733"),r.a.setBrand("colorDialog","#2c3846"),r.a.setBrand("colorCustomTagBackground","#5E8DC6"),r.a.setBrand("textColorPrimary","#fff"),r.a.setBrand("textColorSecondary","#bfbfbf"),r.a.setBrand("textColorPrimaryInverse","#000"),r.a.setBrand("textColorSecondaryInverse","#757575"),r.a.setBrand("textColorOnSurface","#fff"),r.a.setBrand("colorDividerLight","#0f1923"),r.a.setBrand("colorDividerDark","#0f1923"),r.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},DARK_GREEN:{id:10,dark:!0,titleRes:"theme_dark_green",iconRes:"./app-icon.png",colorListItemSelected:"#3a462e",colorPrimaryInverse:"#0B1B07",colorAccent:"#94B042",apply:function(){r.a.setBrand("colorLink","#94B042"),r.a.setBrand("colorAccent","#94B042"),r.a.setBrand("colorPrimary","#212919"),r.a.setBrand("colorPrimaryDark","#091505"),r.a.setBrand("colorPrimaryLight","#212919"),r.a.setBrand("colorPrimaryInverse","#0B1B07"),r.a.setBrand("colorSecondaryInverse","#0B1B07"),r.a.setBrand("actionIconColorHighlight","#94B042"),r.a.setBrand("actionIconColorInactive","#DADCE0"),r.a.setBrand("actionIconColorNormal","#fff"),r.a.setBrand("colorContext","#22291B"),r.a.setBrand("colorDialog","#313b2f"),r.a.setBrand("colorCustomTagBackground","#94B042"),r.a.setBrand("textColorPrimary","#fff"),r.a.setBrand("textColorSecondary","#bfbfbf"),r.a.setBrand("textColorPrimaryInverse","#000"),r.a.setBrand("textColorSecondaryInverse","#757575"),r.a.setBrand("textColorOnSurface","#fff"),r.a.setBrand("colorDividerLight","#253124"),r.a.setBrand("colorDividerDark","#212919"),r.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},DARK_BLURPLE:{id:8,dark:!0,titleRes:"theme_dark_blurple",iconRes:"./app-icon.png",colorListItemSelected:"rgba(255,255,255,0.1)",colorPrimaryInverse:"#2C2F33",colorAccent:"#7289DA",apply:function(){r.a.setBrand("colorLink","#a5b9ff"),r.a.setBrand("colorAccent","#7289DA"),r.a.setBrand("colorPrimary","#2C2F33"),r.a.setBrand("colorPrimaryDark","#23272A"),r.a.setBrand("colorPrimaryLight","#2C2F33"),r.a.setBrand("colorPrimaryInverse","#2C2F33"),r.a.setBrand("colorSecondaryInverse","#2C2F33"),r.a.setBrand("actionIconColorHighlight","#7289DA"),r.a.setBrand("actionIconColorInactive","#d4d4d5"),r.a.setBrand("actionIconColorNormal","#fff"),r.a.setBrand("colorContext","#2C2F33"),r.a.setBrand("colorDialog","#3b3d3f"),r.a.setBrand("colorCustomTagBackground","#a5b9ff"),r.a.setBrand("textColorPrimary","#fff"),r.a.setBrand("textColorSecondary","#d4d4d5"),r.a.setBrand("textColorPrimaryInverse","#000"),r.a.setBrand("textColorSecondaryInverse","#757575"),r.a.setBrand("textColorOnSurface","#fff"),r.a.setBrand("colorDividerLight","#4d4d4d"),r.a.setBrand("colorDividerDark","#4d4d4d"),r.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},BLACK:{id:5,dark:!0,titleRes:"theme_black",iconRes:"./app-icon.png",colorListItemSelected:"#2b2b2b",colorPrimaryInverse:"#000000",colorAccent:"#5E8DC6",apply:function(){r.a.setBrand("colorLink","#5E8DC6"),r.a.setBrand("colorAccent","#5E8DC6"),r.a.setBrand("colorPrimary","#121212"),r.a.setBrand("colorPrimaryDark","#000"),r.a.setBrand("colorPrimaryLight","#121212"),r.a.setBrand("colorPrimaryInverse","#000000"),r.a.setBrand("colorSecondaryInverse","#000"),r.a.setBrand("actionIconColorHighlight","#5E8DC6"),r.a.setBrand("actionIconColorInactive","#CDCDCD"),r.a.setBrand("actionIconColorNormal","#CDCDCD"),r.a.setBrand("colorContext","#000"),r.a.setBrand("colorDialog","#121212"),r.a.setBrand("colorCustomTagBackground","#5E8DC6"),r.a.setBrand("textColorPrimary","#CDCDCD"),r.a.setBrand("textColorSecondary","#929292"),r.a.setBrand("textColorPrimaryInverse","#000"),r.a.setBrand("textColorSecondaryInverse","#000"),r.a.setBrand("textColorOnSurface","#fff"),r.a.setBrand("colorDividerLight","#2d2d2d"),r.a.setBrand("colorDividerDark","#2d2d2d"),r.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),r.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),r.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}}};i._byId={1:i.DEFAULT,2:i.DARK,3:i.DARK_BLUE,4:i.SEPIA,5:i.BLACK,6:i.GREEN,7:i.WHITE,8:i.DARK_BLURPLE,9:i.PINK,10:i.DARK_GREEN},i.getById=function(e){return i._byId[e]||i.DARK}},"96e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("9911");var r=n("e6d6"),i=n("f52e"),a=n("970b"),o=n.n(a),s=n("9523"),c=n.n(s),u=function e(){o()(this,e),c()(this,"created",void 0),c()(this,"updated",void 0),c()(this,"postponed",void 0),c()(this,"postponeInMillis",void 0),c()(this,"postponeAtDate",void 0),c()(this,"expired",void 0),c()(this,"expiresInMillis",void 0),c()(this,"expiresAtDate",void 0),c()(this,"link",void 0),c()(this,"unavailable",void 0),c()(this,"passwordClue",void 0),c()(this,"openedTimes",void 0),c()(this,"oneTimeOpening",void 0),c()(this,"locked",void 0)},l={toMap:function(e){if(!e||!e.link)return null;var t={};return e.postponeAtDate&&(t[r.a.ATTR_PUBLIC_NOTE_POSTPONE_AT_DATE]=e.postponeAtDate),e.postponeInMillis&&(t[r.a.ATTR_PUBLIC_NOTE_POSTPONE_IN_MILLIS]=e.postponeInMillis),e.expiresAtDate&&(t[r.a.ATTR_PUBLIC_NOTE_EXPIRES_AT_DATE]=e.expiresAtDate),e.expiresInMillis&&(t[r.a.ATTR_PUBLIC_NOTE_EXPIRES_IN_MILLIS]=e.expiresInMillis),e.link&&(t[r.a.ATTR_PUBLIC_NOTE_LINK]=e.link),e.passwordClue&&(t[r.a.ATTR_PUBLIC_NOTE_PASSWORD_CLUE]=e.passwordClue),e.openedTimes&&(t[r.a.ATTR_PUBLIC_NOTE_OPENED_TIMES]=e.openedTimes),t[r.a.ATTR_PUBLIC_NOTE_UNAVAILABLE]=e.unavailable||!1,t[r.a.ATTR_PUBLIC_NOTE_ONETIME]=e.oneTimeOpening||!1,t[r.a.ATTR_PUBLIC_NOTE_LOCKED]=e.locked||!1,t},fromMap:function(e){if(!e)return null;var t=new u;return t.postponeAtDate=i.a.toDate(e[r.a.ATTR_PUBLIC_NOTE_POSTPONE_AT_DATE]),t.postponeInMillis=e[r.a.ATTR_PUBLIC_NOTE_POSTPONE_IN_MILLIS],t.expiresAtDate=i.a.toDate(e[r.a.ATTR_PUBLIC_NOTE_EXPIRES_AT_DATE]),t.expiresInMillis=e[r.a.ATTR_PUBLIC_NOTE_EXPIRES_IN_MILLIS],t.link=e[r.a.ATTR_PUBLIC_NOTE_LINK],t.unavailable=e[r.a.ATTR_PUBLIC_NOTE_UNAVAILABLE],t.passwordClue=e[r.a.ATTR_PUBLIC_NOTE_PASSWORD_CLUE],t.openedTimes=e[r.a.ATTR_PUBLIC_NOTE_OPENED_TIMES],t.oneTimeOpening=e[r.a.ATTR_PUBLIC_NOTE_ONETIME],t.locked=e[r.a.ATTR_PUBLIC_NOTE_LOCKED],t}}},"9b2f":function(e,t,n){"use strict";var r={name:"SliderBlock",props:["titleRes","descriptionRes","valueLabel","minValue","maxValue","disable","value"],data:function(){return{sliderValue:this.value}},watch:{value:function(e){this.sliderValue=e}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTitle:function(){return this.$t(this.titleRes)},getDescription:function(){return this.$t(this.descriptionRes)},getValueLabel:function(){return this.valueLabel}},methods:{onInput:function(e){this.$emit("input",e)}}},i=n("2877"),a=n("66e5"),o=n("4074"),s=n("0170"),c=n("c1d0"),u=n("eebe"),l=n.n(u),d=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-item",{attrs:{disable:e.disable,dense:!e.descriptionRes}},[n("q-item-section",[n("q-item-label",{staticClass:"text-textColorPrimary"},[e._v("\n        "+e._s(e.getTitle)+"\n      ")]),e.descriptionRes?n("q-item-label",{staticClass:"text-textColorSecondary",attrs:{caption:""}},[e._v("\n        "+e._s(e.getDescription)+"\n      ")]):e._e()],1),n("q-item-section",{attrs:{side:""}},[n("q-item-label",{staticClass:"text-colorAccent text-right text-body2 text-weight-medium",staticStyle:{"min-width":"36px"}},[e._v("\n        "+e._s(e.getValueLabel)+"\n      ")])],1)],1),n("div",{staticClass:"q-mx-lg q-my-sm"},[n("q-slider",{attrs:{dark:e.isDarkMode,disable:e.disable,color:"colorAccent",min:e.minValue,max:e.maxValue,dense:"",snap:""},on:{input:e.onInput},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}})],1)],1)}),[],!1,null,null,null);t.a=d.exports;l()(d,"components",{QItem:a.a,QItemSection:o.a,QItemLabel:s.a,QSlider:c.a})},"9ba6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("72a1");class i{constructor(e,t,n){this._createDynamicValue=n,this._placeholder=e,this._titleRes=t}getDynamicValue(e,t){if(e===this._placeholder){let n=this._cached||this._createDynamicValue.call(this,e,t);return this._cached=n,n}return this._createDynamicValue.call(this,e,t)}isValid(e){return e===this._placeholder}getPlaceholderValue(e){let t=e||"";return`${i.PLACEHOLDER_OPEN} ${this._placeholder}${t} ${i.PLACEHOLDER_CLOSE}`}getPlaceholder(){return this._placeholder}getValue(e){return e}getTitle(){return this._titleRes}static isDynamic(e){return null!==e&&e.includes(this.PLACEHOLDER_OPEN)&&e.includes(this.PLACEHOLDER_CLOSE)}static isDynamicAccurate(e){return!r.a.isNull(e)&&!r.a.isNull(e.match(this.PATTERN))}}i.PLACEHOLDER_OPEN="{{",i.PLACEHOLDER_CLOSE="}}",i.PATTERN="{{([\\sa-zA-Z0-9_.:]+)}}"},a087:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d3b7"),n("159b"),n("b64b"),n("99af"),n("498a");var r=n("27f0"),i=n("72a1"),a=n("e2db"),o=n("b06b"),s=n("0967"),c={email:function(e,t,n){try{var c=function(e){if(!i.a.isObject(e))return e;var t="";return Object.keys(e).forEach((function(n){"hotkeysMap"!==n&&"_hotkeysMap"!==n&&"id"!==n&&"referralId"!==n&&"isFirstLaunch"!==n&&e[n]&&(t+="".concat(n,": ").concat(e[n],"\n"))})),t.trim()},u=e.$t("app_name"),l=e.$tc("about_label_email_support_subject",{n:u},{n:u}),d=null,p=e.$store.getters.getAuthUserId;p&&(d="**** Info:\n",d+="User: ".concat(p,"\n"),d+="Version: ".concat(a.a.getAppVersion()));var f,h="***** Device:\n".concat(c(s.b.is)),g=e.$store.getters.getSettings;f="**** Settings:\n",f+=c(g);var m=null;n&&(m="***** Error:\n".concat(c(n)));var _="".concat(t||e.$t("about_label_email_support_message"));d&&(_+="\n\n".concat(d)),h&&(_+="\n\n".concat(h)),f&&(_+="\n\n".concat(f)),m&&(_+="\n\n".concat(m)),_=_.trim();var T=encodeURI("mailto:".concat(r.a.email,"?subject=").concat(l,"&body=").concat(_));Object(o.a)(T)}catch(e){Object(o.a)("mailto:".concat(r.a.email))}}}},a813:function(e,t,n){"use strict";n.r(t);n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0");var r=n("c9d9"),i=n("596c"),a=n("721b"),o=n("03c0"),s=n("9400"),c=n("8909"),u=n("0a49"),l=n("fdf6"),d=n("4793"),p=n("2402"),f=n("8d20"),h=n("7389"),g=n("5046"),m=n("e2db"),_=n("f3c5"),T=n("914e"),E=n("2404"),v=n("0d0a"),S=(n("99af"),{name:"PublicLinkCardView",props:["iconColor","titleRes","icon"],computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getBorderRadius:function(){return g.a.getBorderRadiusLg()},getAvatarStyle:function(){var e=this.getBorderRadius,t=this.iconColor||"textColorPrimary";return"background: ".concat(g.a.getColorBrand(t,{alpha:.15,theme:this.getTheme}),"; border-radius: ").concat(e,"px")},getContentStyle:function(){return"min-width: 25vw; border-radius: ".concat(this.getBorderRadius,"px")},getTitle:function(){return this.$t(this.titleRes)}}}),C=n("2877"),b=n("f09f"),I=n("a370"),y=n("cb32"),A=n("eebe"),D=n.n(A),L=Object(C.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"bg-colorDialog",style:e.getContentStyle,attrs:{dark:e.isDarkMode}},[n("q-card-section",[n("div",{staticClass:"column justify-center items-center q-pa-sm full-width"},[n("q-avatar",{style:e.getAvatarStyle,attrs:{size:"96px",icon:e.icon,square:"",rounded:"","text-color":e.iconColor}}),n("div",{staticClass:"text-textColorPrimary text-center q-mt-md text-h5"},[e._v(e._s(e.getTitle))]),e._t("default")],2)])],1)}),[],!1,null,null,null),x=L.exports;D()(L,"components",{QCard:b.a,QCardSection:I.a,QAvatar:y.a});var R={name:"PublicLinkLockView",components:{PublicLinkCardView:x,PrimaryButton:v.a},data:function(){return{password:null,passwordIsWrong:!1}},watch:{password:function(){this.passwordIsWrong=!1}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getIconColor:function(){return this.passwordIsWrong?"negative":null},getPublicLink:function(){return this.$store.getters.getPublicLink},getPasswordClue:function(){return this.getPublicLink.passwordClue}},methods:{onUnlock:function(){var e=this;this.passwordIsWrong=!1,this.$store.dispatch(r.a.onUnlockPublicLink,{publicLink:this.getPublicLink,password:this.password}).then((function(t){e.passwordIsWrong=!t})).catch((function(){e.passwordIsWrong=!0}))}}},w=n("27f9"),k=Object(C.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PublicLinkCardView",{attrs:{icon:"lock","icon-color":e.getIconColor,"title-res":"public_note_link_state_locked"}},[n("div",{staticClass:"text-textColorPrimary text-center q-mt-sm text-h4 full-width"},[n("q-input",{attrs:{dense:"",autofocus:"","bottom-slots":"","no-error-icon":"",type:"password",dark:e.isDarkMode,color:"colorAccent",placeholder:e.$t("public_note_link_access_password_placeholder"),error:e.passwordIsWrong},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onUnlock(t)}},scopedSlots:e._u([{key:"error",fn:function(){return[e._v("\n        "+e._s(e.$t("public_note_link_state_locked_wrong_password"))+"\n      ")]},proxy:!0},{key:"hint",fn:function(){return[n("div",{staticClass:"ellipsis-2-lines"},[e._v(e._s(e.getPasswordClue))])]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("PrimaryButton",{staticClass:"full-width q-mt-lg",attrs:{"title-res":"button_confirm",disable:!e.password,"on-clicked":e.onUnlock}})],1)])}),[],!1,null,null,null),P=k.exports;D()(k,"components",{QInput:w.a});var N=n("19cf"),F=n("72a1"),O=n("deff"),B=n("d0a2"),U=n("2858"),M=n("e507"),V=n("ed99"),H=n("30d6"),W=n("891b"),q=n("c466"),z=n("6953"),G={name:"PublicLinkAttachmentView",components:{VerticalSeparatorItem:W.a,ObjectNavigatorBlock:H.a,FileDetailsPreviewBlock:z.a,ObjectDescriptionBlock:M.a,FileDetailsAttrsBlock:q.a,ObjectTitleBlock:B.a,ActionButton:O.a},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getPreviewBlockMinHeight:function(){return m.a.getScreenMinWidth()},hasDescription:function(){return this.getFile.hasDescription()},getFilesCount:function(){return this.$store.getters.getFilesCount},getSelectedFileIndex:function(){return this.$store.getters.getSelectedFileIndex},hasNavigator:function(){return this.getFilesCount>1&&this.getSelectedFileIndex>=0},getFile:function(){return this.$store.getters.getSelectedFile}},methods:{onCancel:function(){this.$store.commit(V.a.CANCEL_VIEW_FILE)},onCopy:function(){this.$store.dispatch(r.a.onCopyText,{text:this.getFile.downloadUrl})},onDownload:function(){this.$store.dispatch(r.a.onDownloadFile,{fileRef:this.getFile})},onNextFile:function(){this.$store.commit(V.a.SELECT_NEXT_FILE)},onPrevFile:function(){this.$store.commit(V.a.SELECT_PREV_FILE)}}},K=Object(C.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ObjectTitleBlock",{attrs:{"hint-text-res":"attachments_attr_name",readonly:!0},scopedSlots:e._u([{key:"actions",fn:function(){return[n("ObjectNavigatorBlock",{attrs:{"has-navigator":e.hasNavigator,"on-prev":e.onPrevFile,"on-next":e.onNextFile,count:e.getFilesCount,"current-index":e.getSelectedFileIndex}}),e.hasNavigator?n("VerticalSeparatorItem",{staticClass:"q-mx-sm"}):e._e(),n("ActionButton",{staticClass:"q-ml-xs",attrs:{icon:"file_download","tooltip-label-res":"desktop_main_menu_download","on-click":e.onDownload}}),n("ActionButton",{staticClass:"q-ml-xs",attrs:{icon:"content_copy","tooltip-label-res":"menu_copy_link","on-click":e.onCopy}}),n("ActionButton",{staticClass:"q-ml-xs",attrs:{icon:"expand_more","on-click":e.onCancel,"tooltip-label-res":"menu_close","button-class":"text-textColorPrimary"}})]},proxy:!0}]),model:{value:e.getFile.name,callback:function(t){e.$set(e.getFile,"name",t)},expression:"getFile.name"}}),e.hasDescription?n("ObjectDescriptionBlock",{attrs:{"has-description":e.hasDescription,readonly:!0},model:{value:e.getFile.description,callback:function(t){e.$set(e.getFile,"description",t)},expression:"getFile.description"}}):e._e(),n("FileDetailsAttrsBlock",{staticClass:"q-mt-md",attrs:{file:e.getFile}}),n("FileDetailsPreviewBlock",{attrs:{"min-height-in-px":e.getPreviewBlockMinHeight,file:e.getFile}})],1)}),[],!1,null,null,null).exports,j={name:"PublicLinkClipView",components:{ClipDetailsAttachmentsBlock:n("bf07").a,PublicLinkAttachmentView:K,ObjectDescriptionBlock:M.a,ClipDetailsTextBlock:U.a,ObjectTitleBlock:B.a,ActionButton:O.a,SpaceBlock:_.a},data:function(){return{clipPrintId:null}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getBorderRadius:function(){return this.$store.getters.getBorderRadiusLg},getToolbarHeight:function(){return g.a.getToolbarHeight()},getTextBlockMinHeight:function(){return m.a.getScreenHeight()-2*g.a.getToolbarHeight()},getContentStyle:function(){return"width: 85vw; border-radius: ".concat(this.getBorderRadius,"px;")},hasFiles:function(){return F.a.arrayIsNotEmpty(this.getFiles)},hasDescription:function(){return this.getClip.hasDescription()},isFileSelected:function(){return this.$store.getters.isFileSelected},getPublicLink:function(){return this.$store.getters.getPublicLink},getFiles:function(){return this.getClip.getFiles()},getClip:function(){var e=this.getPublicLink;return F.a.isNull(e)?null:e.getClip()}},methods:{onPrint:function(){N.a.print("printContent")},onCopy:function(){this.$store.dispatch(r.a.onCopyText,{text:this.getClip.text})}}},$=Object(C.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column items-center"},[n("SpaceBlock",{attrs:{"height-in-px":e.getToolbarHeight}}),n("div",{staticClass:"bg-colorDialog q-py-sm shadow-1",style:e.getContentStyle},[e.isFileSelected?n("PublicLinkAttachmentView"):[n("ObjectTitleBlock",{attrs:{"hint-text-res":"clip_hint_title",readonly:!0},scopedSlots:e._u([{key:"actions",fn:function(){return[n("ActionButton",{attrs:{"tooltip-label-res":"desktop_shortcuts_notePrint","on-click":e.onPrint,icon:"print"}}),n("ActionButton",{staticClass:"q-ml-xs",attrs:{icon:"content_copy","tooltip-label-res":"desktop_shortcuts_noteCopy","on-click":e.onCopy}})]},proxy:!0}]),model:{value:e.getClip.title,callback:function(t){e.$set(e.getClip,"title",t)},expression:"getClip.title"}}),e.hasDescription?n("ObjectDescriptionBlock",{attrs:{"has-description":e.hasDescription,readonly:!0},model:{value:e.getClip.description,callback:function(t){e.$set(e.getClip,"description",t)},expression:"getClip.description"}}):e._e(),e.hasFiles?n("ClipDetailsAttachmentsBlock",{attrs:{attachments:e.getFiles,clip:e.getClip,editable:!1}}):e._e(),n("ClipDetailsTextBlock",{attrs:{clip:e.getClip,id:"printContent","is-edit-mode":!1,"min-height-in-px":e.getTextBlockMinHeight}})]],2),n("SpaceBlock",{attrs:{"height-in-px":e.getToolbarHeight}})],1)}),[],!1,null,null,null).exports,Y=(n("b680"),n("a9e3"),n("1cee")),Q=n("61b4"),X={name:"PublicLinkExpireView",data:function(){return{timerId:"public_link_expire_view",expiresInString:null}},watch:{isPublicLinkCanBeExpired:function(){this.initTimer()}},created:function(){this.initTimer()},destroyed:function(){this.destroyTimer()},computed:{getStyle:function(){var e=g.a.getColorBrand("negative"),t=g.a.getColorBrand("negative",{alpha:.1});return"background-color: ".concat(t,"; color: ").concat(e,"; ").concat(this.$store.getters.getAppButtonStyle)},isPublicLinkCanBeExpired:function(){return this.$store.getters.isPublicLinkCanBeExpired},isPublicLinkPostponed:function(){return this.$store.getters.isPublicLinkPostponed},getPublicLink:function(){return this.$store.getters.getPublicLink},getLabel:function(){return this.$tc("public_note_link_state_expires_in",null,{n:this.expiresInString})}},methods:{getExpireTimeInSeconds:function(){var e=this.getPublicLink;if(!e)return 0;if(this.isPublicLinkCanBeExpired){var t=Date.now();return Number((e.expired.getTime()-t)/1e3).toFixed(0)}return 0},initTimer:function(){var e=this.timerId;if(this.isPublicLinkCanBeExpired){var t=this;Q.a.runPeriodically(e,1e3,(function(){t.updateTimer()}))}else Q.a.dispose(e)},destroyTimer:function(){Q.a.dispose(this.timerId)},updateTimer:function(){var e=this.getExpireTimeInSeconds();Y.a.debug("update expire timer",e),e>=0?this.updateExpireTime(e):(this.destroyTimer(),this.$store.dispatch(r.a.onRefreshPublicLink))},updateExpireTime:function(e){var t,n=e,r=Number(n/86400-.5).toFixed(0),i=Number(n%86400/3600-.5).toFixed(0),a=Number(n%3600/60-.5).toFixed(0),o=Number(n%60-.5).toFixed(0);(t=r<=0?"":"".concat(r," ").concat(this.$t("public_note_link_time_type_days"))).length>0&&(t+=", "),t+=i<=0?"00":i<10?"0"+i:"".concat(i),t+=":",t+=a<=0?"00":a<10?"0"+a:"".concat(a),t+=":",t+=o<=0?"00":o<10?"0"+o:"".concat(o),this.expiresInString=t}}},J=Object(C.a)(X,(function(){var e=this.$createElement,t=this._self._c||e;return this.isPublicLinkCanBeExpired&&!this.isPublicLinkPostponed?t("div",{staticClass:"text-caption q-px-sm q-py-xs q-mx-sm ellipsis",style:this.getStyle},[this._v("\n   "+this._s(this.getLabel)+"\n")]):this._e()}),[],!1,null,null,null).exports,Z=n("8fa9"),ee=n("ca69"),te={name:"PublicLinkViewToolbar",components:{PublicLinkExpireView:J,ObjectViewSettings:Z.a,ActionButton:O.a,MenuView:ee.a},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppContentToolbarNotResizableStyle:function(){return this.$store.getters.getAppContentToolbarNotResizableStyle},isPublicLinkAvailable:function(){return this.$store.getters.isPublicLinkAvailable}},methods:{onBack:function(){this.$router.push("/")}}},ne=n("65c6"),re=n("2c91"),ie=Object(C.a)(te,(function(){var e=this.$createElement,t=this._self._c||e;return t("q-toolbar",{staticClass:"absolute-top",style:this.getAppContentToolbarNotResizableStyle},[t("ActionButton",{attrs:{icon:"arrow_back",dense:!0,"button-class":"text-textColorPrimary","on-click":this.onBack}}),t("PublicLinkExpireView"),t("q-space"),t("ActionButton",{attrs:{icon:"tune"}},[t("MenuView",[t("ObjectViewSettings",{attrs:{"hide-full-screen-settings":!0,"hide-text-size-settings":!this.isPublicLinkAvailable}})],1)],1)],1)}),[],!1,null,null,null),ae=ie.exports;D()(ie,"components",{QToolbar:ne.a,QSpace:re.a});var oe=n("c973"),se=n.n(oe),ce=(n("96cf"),{name:"PublicLinkPostponeView",components:{PublicLinkCardView:x},data:function(){return{timerId:"public_link_postpone_view",postponeDays:"00",postponeHours:"00",postponeMinutes:"00",postponeSeconds:"00"}},watch:{isPublicLinkPostponed:function(){this.initTimer()}},created:function(){this.initTimer()},destroyed:function(){this.destroyTimer()},computed:{isPublicLinkPostponed:function(){return this.$store.getters.isPublicLinkPostponed},getPublicLink:function(){return this.$store.getters.getPublicLink}},methods:{getPostponeTimeInSeconds:function(){var e=this.getPublicLink;if(!e)return 0;if(this.isPublicLinkPostponed){var t=Date.now();return Number((e.postponed.getTime()-t)/1e3).toFixed(0)}return 0},initTimer:function(){var e=this.timerId;if(this.isPublicLinkPostponed){var t=this;Q.a.runPeriodically(e,1e3,(function(){t.updateTimer()}))}else Q.a.dispose(e)},destroyTimer:function(){Q.a.dispose(this.timerId)},updateTimer:function(){var e=this,t=this.getPostponeTimeInSeconds();Y.a.debug("update postpone timer",t),t>=0?this.updatePostponeTime(t):(this.destroyTimer(),Q.a.nextAttempt(this.timerId,se()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch(r.a.onRefreshPublicLink);case 2:case"end":return t.stop()}}),t)})))))},updatePostponeTime:function(e){var t=e,n=Number(t/86400-.5).toFixed(0),r=Number(t%86400/3600-.5).toFixed(0),i=Number(t%3600/60-.5).toFixed(0),a=Number(t%60-.5).toFixed(0);this.postponeDays=n<=0?null:n<10?"0"+n:"".concat(n),this.postponeHours=r<=0?"00":r<10?"0"+r:"".concat(r),this.postponeMinutes=i<=0?"00":i<10?"0"+i:"".concat(i),this.postponeSeconds=a<=0?"00":a<10?"0"+a:"".concat(a)}}}),ue=Object(C.a)(ce,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PublicLinkCardView",{attrs:{icon:"access_time","title-res":"public_note_link_state_postponed"}},[n("div",{staticClass:"text-textColorPrimary text-center q-mt-sm text-h4"},[n("div",{staticClass:"row q-gutter-x-sm"},[e.postponeDays?[n("div",{staticClass:"col-auto"},[n("div",[e._v(e._s(e.postponeDays))]),n("div",{staticClass:"text-caption"},[e._v(e._s(e.$t("public_note_link_time_type_days")))])]),n("div",[e._v(":")])]:e._e(),n("div",{staticClass:"col"},[n("div",[e._v(e._s(e.postponeHours))]),n("div",{staticClass:"text-caption"},[e._v(e._s(e.$t("public_note_link_time_type_hours")))])]),n("div",[e._v(":")]),n("div",{staticClass:"col"},[n("div",[e._v(e._s(e.postponeMinutes))]),n("div",{staticClass:"text-caption"},[e._v(e._s(e.$t("public_note_link_time_type_minutes")))])]),n("div",[e._v(":")]),n("div",{staticClass:"col"},[n("div",[e._v(e._s(e.postponeSeconds))]),n("div",{staticClass:"text-caption"},[e._v(e._s(e.$t("public_note_link_time_type_seconds")))])])],2)])])}),[],!1,null,null,null).exports,le=n("a8e6"),de={name:"PublicLinkViewBottomBar",computed:{getIconSize:function(){return"12px"},isDarkMode:function(){return this.$store.getters.isDarkMode},getAppContentToolbarNotResizableStyle:function(){return this.$store.getters.getAppContentToolbarNotResizableStyle},isPublicLinkAvailable:function(){return this.$store.getters.isPublicLinkAvailable},getPublicLink:function(){return this.$store.getters.getPublicLink},getPublicLinkOpenedTimes:function(){return this.getPublicLink.openedTimes},getPublicLinkCreateDate:function(){return le.a.formatDate(this.getPublicLink.createDate)},getPublicLinkUpdateDate:function(){var e=this.getPublicLink,t=e.updateDate,n=e.createDate;return F.a.isDate(t)&&F.a.isDate(n)&&t.getTime()>n.getTime()?le.a.formatDate(t):null}}},pe=n("0016"),fe=Object(C.a)(de,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isPublicLinkAvailable?n("q-toolbar",{staticClass:"absolute-bottom row q-gutter-x-xs items-center text-textColorSecondary text-caption no-wrap text-no-wrap q-px-md",style:e.getAppContentToolbarNotResizableStyle},[n("q-space"),n("q-icon",{attrs:{color:"textColorSecondary",name:"visibility",size:e.getIconSize}}),n("div",{staticClass:"q-mr-md"},[e._v(e._s(e.getPublicLinkOpenedTimes))]),e.getPublicLinkUpdateDate?[n("q-icon",{attrs:{color:"textColorSecondary",name:"edit",size:e.getIconSize}}),n("div",[e._v(e._s(e.getPublicLinkUpdateDate))])]:[n("q-icon",{attrs:{color:"textColorSecondary",name:"event_note",size:e.getIconSize}}),n("div",[e._v(e._s(e.getPublicLinkCreateDate))])]],2):e._e()}),[],!1,null,null,null),he=fe.exports;D()(fe,"components",{QToolbar:ne.a,QSpace:re.a,QIcon:pe.a});var ge={name:"PublicLinkUnavailableView",components:{PublicLinkCardView:x}},me={name:"PublicLinkView",components:{PublicLinkUnavailableView:Object(C.a)(ge,(function(){var e=this.$createElement;return(this._self._c||e)("PublicLinkCardView",{attrs:{icon:"block","icon-color":"negative","title-res":"public_note_link_state_unavailable"}})}),[],!1,null,null,null).exports,PublicLinkViewBottomBar:he,PublicLinkPostponeView:ue,PublicLinkViewToolbar:ae,PublicLinkClipView:$,PreviewLinkUseCase:E.a,PublicLinkLockView:P,VerticalScrollView:T.a,SpaceBlock:_.a},data:function(){return{hideToolbars:!1}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppContentClass:function(){return this.$store.getters.getAppContentClass},getScrollAreaHeight:function(){return m.a.getScreenHeight()},getToolbarHeight:function(){return g.a.getToolbarHeight()},getContentStyle:function(){return"min-height: ".concat(this.getScrollAreaHeight-this.getToolbarHeight,"px")},isToolbarVisible:function(){return!this.hideToolbars},isPublicLinkUnavailable:function(){return this.$store.getters.isPublicLinkUnavailable},isPublicLinkAvailable:function(){return this.$store.getters.isPublicLinkAvailable},isPublicLinkPostponed:function(){return this.$store.getters.isPublicLinkPostponed},isPublicLinkLocked:function(){return this.$store.getters.isPublicLinkLocked},getPublicLinkState:function(){return this.$store.getters.getPublicLinkState},getPublicLink:function(){return this.$store.getters.getPublicLink}},methods:{onHideToolbars:function(e){this.hideToolbars=e}}},_e=Object(C.a)(me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.getAppContentClass},[n("VerticalScrollView",{attrs:{height:e.getScrollAreaHeight,"on-hide-toolbars":e.onHideToolbars}},[n("SpaceBlock",{attrs:{"height-in-px":e.getToolbarHeight}}),n("div",{style:e.getContentStyle},[e.isPublicLinkAvailable?n("PublicLinkClipView"):n("div",{staticClass:"column items-center"},[n("SpaceBlock",{attrs:{"height-in-px":e.getToolbarHeight}}),e.isPublicLinkUnavailable?n("PublicLinkUnavailableView"):e.isPublicLinkPostponed?n("PublicLinkPostponeView"):e.isPublicLinkLocked?n("PublicLinkLockView"):n("div")],1)],1),n("SpaceBlock",{attrs:{"height-in-px":e.getToolbarHeight}})],1),n("transition",{attrs:{"enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[e.isToolbarVisible?n("PublicLinkViewToolbar"):e._e()],1),n("transition",{attrs:{"enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[e.isToolbarVisible?n("PublicLinkViewBottomBar"):e._e()],1),n("PreviewLinkUseCase")],1)}),[],!1,null,null,null).exports;n.e(7).then(n.bind(null,"2d44"));var Te={name:"PublicLink",components:{PublicLinkView:_e},beforeMount:function(){i.a.registerModule(this,"appearance",a.a),i.a.registerModule(this,"common",o.a),i.a.registerModule(this,"firebase",s.a),i.a.registerModule(this,"clip",c.a),i.a.registerModule(this,"settings",u.a),i.a.registerModule(this,"linkPreview",l.a),i.a.registerModule(this,"useCases",d.a),i.a.registerModule(this,"files",p.a),i.a.registerModule(this,"clipboard",f.a),i.a.registerModule(this,"publicLink",h.a);this.$store.dispatch(r.a.onInitPublicLink,this)}},Ee=Object(C.a)(Te,(function(){var e=this.$createElement;return(this._self._c||e)("PublicLinkView")}),[],!1,null,null,null);t.default=Ee.exports},a849:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("4de4"),n("d3b7"),n("07ac");var r=n("8896"),i=n("72a1"),a=n("96e0"),o={getCurrentTheme:function(){return a.a.getById(r.a.getInt("themeId"))},getThemes:function(){return Object.values(a.a).filter((function(e){return i.a.isNumber(e.id)}))},setTheme:function(e){e.apply(),r.a.set("themeId",e.id)}}},a8e6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("b680"),n("a9e3"),n("99af"),n("bf19"),n("ac1f"),n("5319");var r=n("72a1"),i=n("0af5"),a=n("bd4c"),o=n("7937"),s={parseDate:function(e,t){try{return i.a.parse(e,t)}catch(e){return null}},formatDate:function(e,t,n){if(!r.a.isNull(e)){var i=s.fromJsonDate(e);return r.a.isNull(t)?i.toLocaleString():a.b.formatDate(i,t)}return n?null:"-"},formatDateShort:function(e){return e?s.fromJsonDate(e).toLocaleDateString():"-"},formatTime:function(e){return e?s.fromJsonDate(e).toLocaleTimeString():"-"},formatSize:function(e){return e?o.c.humanStorageSize(e):o.c.humanStorageSize(0)},formatSeconds:function(e){if(!e)return"--:--:--";var t=e||0,n=Number(t/3600-.5).toFixed(0),r=Number(t%3600/60-.5).toFixed(0),i=Number(t%60-.5).toFixed(0);return n<=0?n="00":n<10&&(n="0"+n),r<=0?r="00":r<10&&(r="0"+r),i<=0?i="00":i<10&&(i="0"+i),"".concat(n,":").concat(r,":").concat(i)},toJsonDate:function(e){if(e){if(e.toJSON)return e.toJSON();var t=s.fromJsonDate(e);if(t.toJSON)return t.toJSON()}return null},fromJsonDate:function(e){return r.a.isString(e)?new Date(Date.parse(e)):r.a.isNumber(e)?new Date(e):e},createFileName:function(e,t){var n;n=r.a.isNullOrBlank(t.title)?e.$t("clip_hint_title"):t.title.replace(/[^\w\d]/g,"_");var i=s.formatDate(Date(),"YYMMDD_hhmmss");return"".concat(n,"_").concat(i)}}},a987:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n("c973"),a=n.n(i),o=(n("96cf"),n("4e82"),n("7db0"),n("d3b7"),n("e6cf"),n("a79d"),n("e260"),n("3ca3"),n("ddb0"),n("8896")),s=n("a6d8"),c=n("b05d"),u={getLanguages:function(){return["ar","be","bg","ca","da","de","el","en-us","es","es-us","et","fil","fr","hi","hu","it","ja","ko-kr","nl","pl","pt-br","ru","sl","sv","tr","uk","vi","id","zh-hans","zh-hant"].sort()},getLanguagesFlags:function(){return{ar:"img:flags/ar.png",be:"img:flags/be.png",bg:"img:flags/bg.png",ca:"img:flags/ca.png",da:"img:flags/da.png",de:"img:flags/de.png",el:"img:flags/el.png","en-us":"img:flags/en.png",es:"img:flags/es-ES.png","es-us":"img:flags/es-US.png",et:"img:flags/et.png",fil:"img:flags/fil.png",fr:"img:flags/fr.png",hi:"img:flags/hi.png",hu:"img:flags/hu.png",it:"img:flags/it.png",ja:"img:flags/ja.png","ko-kr":"img:flags/ko.png",nl:"img:flags/nl.png",pl:"img:flags/pl.png","pt-br":"img:flags/pt-BR.png",ru:"img:flags/ru.png",sl:"img:flags/sl.png",sv:"img:flags/sv-SE.png",tr:"img:flags/tr.png",uk:"img:flags/uk.png",vi:"img:flags/vi.png",id:"img:flags/id.png","zh-hans":"img:flags/zh-CN.png","zh-hant":""}},getLanguageCode:function(e){return e?"zh-hans"===e?"zh-CN":"zh-hant"===e?"zh-TW":-1!==e.indexOf("-")?e.substring(0,e.indexOf("-")):e:"en"},getLanguageLabel:function(e){if("fil"===e)return"Filipino";if("hi"===e)return"Hindi";if("ru"===e)return"";if("be"===e)return"";if("es-us"===e)return"Spanish, United States";if("nl"===e)return"Dutch";var t=s.find((function(t){return t.isoName===e}));return t?t.nativeName:e},getLanguage:function(){return o.a.get("languageId")||c.a.lang.isoName||c.a.lang.getLocale()},setLanguage:(r=a()(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",r);case 2:if(t.$i18n.locale!==r){e.next=4;break}return e.abrupt("return",r);case 4:return e.abrupt("return",n("2e98")("./".concat(r)).then((function(e){return t.$i18n.setLocaleMessage(r,e.default)})).then((function(){return n("8488")("./".concat(r))})).then((function(e){t.$q.lang.set(e.default),t.$i18n.locale=r})).catch((function(){t.$i18n.locale=r})).then((function(){return r})).finally((function(){o.a.set("languageId",r)})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}},ac7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("f936")),o=n("1cee"),s=n("2667").a.clipto,c={init:function(){return i()(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.settings.toCollection().first();case 2:if(t=e.sent,n=a.a.getSettings(),t){e.next=11;break}return n.isFirstLaunch=!0,e.next=8,s.settings.put(n);case 8:n.id=e.sent,e.next=13;break;case 11:(n=t.normalize(n)).isFirstLaunch=!1;case 13:return n=n.normalize(),a.a.setSettings(n),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))()},save:function(){return i()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.a.getSettings(),e.next=3,s.settings.put(t);case 3:return t.id=e.sent,a.a.setSettings(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()},saveLater:function(){c.save().then((function(){return o.a.debug("save settings later")}))},clear:function(){return i()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.a.getSettings()).disableSync){e.next=4;break}return t.disableSync=!1,e.abrupt("return",c.save());case 4:case"end":return e.stop()}}),e)})))()},get:function(){return a.a.getSettings()}}},ad89:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={INTERNAL:{id:0},INTERNAL_GENERATED:{id:3},EXTERNAL_SNIPPET:{id:1},EXTERNAL_SNIPPET_KIT:{id:2},READONLY:{id:4}};r.byId={0:r.INTERNAL,1:r.EXTERNAL_SNIPPET,2:r.EXTERNAL_SNIPPET_KIT,3:r.INTERNAL_GENERATED,4:r.READONLY}},baab:function(e,t){},baf0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("e260"),n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var r=n("533d"),i={randomBytes:function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n},autoId:function(e){if(e)return r.a.sha1Text(e);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,a="";a.length<20;)for(var o=i.randomBytes(40),s=0;s<o.length;++s)a.length<20&&o[s]<n&&(a+=t.charAt(o[s]%t.length));return a}}},bf07:function(e,t,n){"use strict";var r=n("6374"),i=n.n(r),a=(n("d81d"),n("c9d9")),o=n("5046"),s=n("72a1"),c={name:"ClipDetailsAttachmentsBlock",components:{HorizontalScrollView:n("cd82").a},props:["clip","editable","attachments"],watch:{getUpdateFilesProgress:function(e){var t=this.getAttachments;if(s.a.isArray(t)){var n,r=i()(this.getAttachments);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=e[a.id];o&&a.apply(o)}}catch(e){r.e(e)}finally{r.f()}}}},asyncComputed:{getAttachments:function(){var e=this.attachments;if(s.a.isArray(e))return e;var t=this.getClipFileIds;return s.a.arrayIsEmpty(t)?[]:this.$store.dispatch(a.a.onGetFilesByIds,{ids:t})}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getChipStyle:function(){return"max-width: 280px;"},getChipTextStyle:function(){return"max-width: 200px"},getBlockHeight:function(){return o.a.getBarStandardHeight()},canHideScrollbars:function(){return!this.getAttachments||this.getAttachments.length<5},getAttachmentsModels:function(){var e=this.getTheme;return(this.getAttachments||[]).map((function(t){var n=t.getState(e),r=n.progressTrackColor,i=n.getIcon(t),a=t.progress,o=t.getTitle();return{attachment:t,progressTrackColor:r,iconColor:n.iconColor,progress:a,title:o,icon:i}}))},getUpdateFilesProgress:function(){return this.$store.getters.getUpdateFilesProgress},getClip:function(){return this.clip},getClipFileIds:function(){return this.getClip.getFileIds()}},methods:{onAttachmentOpen:function(e){this.$store.dispatch(a.a.onViewClipFiles,{files:this.getAttachments,clip:this.getClip,file:e})},onAttachmentRemove:function(e){this.$store.dispatch(a.a.onRemoveClipFiles,{files:[e],clip:this.getClip})}}},u=n("2877"),l=n("b047"),d=n("58ea"),p=n("0016"),f=n("eebe"),h=n.n(f),g=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("HorizontalScrollView",{staticClass:"q-mt-md non-selectable",attrs:{height:e.getBlockHeight,"hide-scrollbar":e.canHideScrollbars}},e._l(e.getAttachmentsModels,(function(t){return n("q-chip",{key:t.attachment.id,staticClass:"text-no-wrap ellipsis q-ml-none q-mr-sm",attrs:{color:t.iconColor,removable:e.editable,dark:e.isDarkMode,clickable:"",outline:""},on:{remove:function(n){return e.onAttachmentRemove(t.attachment)},click:function(n){return n.stopPropagation(),e.onAttachmentOpen(t.attachment)}}},[n("q-circular-progress",{staticClass:"q-mr-xs",attrs:{size:"20px",thickness:.15,"track-color":t.progressTrackColor,value:t.progress,color:"positive","show-value":""}},[n("q-icon",{attrs:{name:t.icon,size:"16px"}})],1),n("span",{staticClass:"ellipsis",style:e.getChipTextStyle},[e._v(e._s(t.title))])],1)})),1)}),[],!1,null,null,null);t.a=g.exports;h()(g,"components",{QChip:l.a,QCircularProgress:d.a,QIcon:p.a})},c1d9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a9e3"),n("9911");var r=n("72a1"),i=n("6fbd"),a=n("1cee"),o=n("2667").a.clipto.publicLinks.defineClass({id:Number,uid:String,link:String,title:String,locked:Boolean,password:String,createDate:Date,updateDate:Date,passwordClue:String,unavailable:Boolean,oneTimeOpening:Boolean,expiresAtDate:Date,expiresInMillis:Number,postponeAtDate:Date,postponeInMillis:Number,items:Array,serverTime:Date,legacy:Boolean});o.prototype.apply=function(e){return a.a.debug("public link :: apply",e),e?(e.id&&(this.id=e.id),this.uid=e.uid,this.expiresAtDate=e.expiresAtDate,this.expiresInMillis=e.expiresInMillis,this.postponeAtDate=e.postponeAtDate,this.postponeInMillis=e.postponeInMillis,this.oneTimeOpening=e.oneTimeOpening,this.passwordClue=e.passwordClue,this.unavailable=e.unavailable,this.createDate=e.createDate,this.updateDate=e.updateDate,this.password=e.password,this.locked=e.locked,this.items=e.items,this.link=e.link,this):this},o.prototype.isLocked=function(){return this.locked},o.prototype.isUnavailable=function(){return this.unavailable},o.prototype.isAvailable=function(){return r.a.arrayIsNotEmpty(this.items)},o.prototype.setLocked=function(e){this.locked=e},o.prototype.isOneTimeOpening=function(){return this.oneTimeOpening},o.prototype.setOneTimeOpening=function(e){this.oneTimeOpening=e},o.prototype.hasLink=function(){return!r.a.isNullOrZero(this.link)},o.prototype.getItems=function(){return this.items||[]},o.prototype.isAlreadyOpened=function(){return this.oneTimeOpening&&this.openedTimes>0},o.prototype.isExpired=function(){return this.expired&&this.expired.getTime()<=Date.now()},o.prototype.canBeExpired=function(){var e=this.serverTime,t=this.expired;return r.a.isDate(e)&&r.a.isDate(t)&&t.getTime()>e.getTime()},o.prototype.isPostponed=function(){return this.postponed&&this.postponed.getTime()>Date.now()},o.prototype.getClip=function(){var e=this.getItems();if(r.a.arrayIsEmpty(e))return null;var t=e[0],n=t.data,a=t.entityTypeId;return r.a.isNull(n)||a!==i.a.CLIP.id?null:n},o.prototype.getAppearance=function(){var e=this.link;return r.a.isNull(e)?null:this.isUnavailable()?{icon:"link",iconColor:"negative"}:{icon:"link",iconColor:"positive"}},o.newInstance=function(e){var t=(new o).apply(e);return t.oneTimeOpening=t.oneTimeOpening||!1,t.unavailable=t.unavailable||!1,t.locked=t.locked||!1,t.legacy=t.legacy||!1,t},o.unavailable=function(){var e=new o;return e.unavailable=!0,e}},c466:function(e,t,n){"use strict";var r=n("1cee"),i=n("a8e6"),a=n("cd82"),o=n("c9d9"),s={name:"HorizontalAttrItem",components:{VerticalSeparatorItem:n("891b").a},props:["option"],computed:{getLabel:function(){return this.option.label},getValue:function(){return this.option.value},isSeparator:function(){return this.option.separator}},methods:{onCopyValue:function(){this.$store.dispatch(o.a.onCopyText,{text:this.getValue})}}},c=n("2877"),u=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSeparator?n("VerticalSeparatorItem"):n("div",{staticClass:"column q-gutter-y-xs items-center",staticStyle:{cursor:"copy"},on:{click:function(t){return t.stopPropagation(),e.onCopyValue(t)}}},[n("div",{staticClass:"text-no-wrap text-textColorPrimary text-caption text-weight-medium"},[e._v(e._s(e.getValue))]),n("div",{staticClass:"text-no-wrap text-textColorSecondary text-caption"},[e._v(e._s(e.getLabel))])])}),[],!1,null,null,null).exports,l={name:"AttrsRowBlock",components:{HorizontalScrollView:a.a,HorizontalAttrItem:u},props:["options"]},d={name:"FileDetailsAttrsBlock",components:{AttrsRowBlock:Object(c.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("HorizontalScrollView",{attrs:{"hide-scrollbar":this.options.length<10,height:"48"}},[t("div",{staticClass:"row no-wrap q-gutter-x-md fit items-center"},this._l(this.options,(function(e){return t("HorizontalAttrItem",{key:e.id,attrs:{option:e}})})),1)])}),[],!1,null,null,null).exports},props:["file"],computed:{getOptions:function(){var e=this.file;return r.a.debug("file attrs",e),[{label:this.$t("attachments_attr_size"),value:i.a.formatSize(e.size)},{separator:!0},{label:this.$t("attachments_attr_type"),value:e.mediaType},{separator:!0},{label:this.$t("attachments_attr_created"),value:i.a.formatDate(e.createDate)},{separator:!0},{label:this.$t("file_attr_last_modified"),value:i.a.formatDate(e.modifyDate)},{separator:!0},{label:this.$t("file_attr_updated"),value:i.a.formatDate(e.updateDate)}]}}},p=Object(c.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("AttrsRowBlock",{attrs:{options:this.getOptions}})}),[],!1,null,null,null);t.a=p.exports},c9d9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={onInitHome:"onInitHome",onShowHint:"onShowHint",onShowError:"onShowError",onShowConfirm:"onShowConfirm",onShowNotification:"onShowNotification",onHandleReferralLink:"onHandleReferralLink",onGenerateReferralLink:"onGenerateReferralLink",onOpenLink:"onOpenLink",onInitElectron:"onInitElectron",onOpenLinkElectron:"onOpenLinkElectron",onPrintClipElectron:"onPrintClipElectron",onAutoLaunchElectron:"onAutoLaunchElectron",onHideOnCopyElectron:"onHideOnCopyElectron",onUpdateElectronState:"onUpdateElectronState",onUpdateHotkeyElectron:"onUpdateHotkeyElectron",onDownloadFileElectron:"onDownloadFileElectron",onCancelDownloadFileElectron:"onCancelDownloadFileElectron",onPasteFromClipboardElectron:"onPasteFromClipboardElectron",onStartElectronInternalAuthFlow:"onStartElectronInternalAuthFlow",onStartElectronExternalAuthFlow:"onStartElectronExternalAuthFlow",onCancelElectronExternalAuthFlow:"onCancelElectronExternalAuthFlow",onElectronAppBarMaximizeMinimize:"onElectronAppBarMaximizeMinimize",onElectronAppBarDoubleClick:"onElectronAppBarDoubleClick",onElectronAppBarClose:"onElectronAppBarClose",onElectronAppBarHide:"onElectronAppBarHide",onElectronCopyText:"onElectronCopyText",onInitApp:"onInitApp",onSelectClip:"onSelectClip",onSyncNewClips:"onSyncNewClips",onSelectAllClips:"onSelectAllClips",onClearClipboard:"onClearClipboard",onClearRecycleBin:"onClearRecycleBin",onUnselectAllClips:"onUnselectAllClips",onSyncSelectedClips:"onSyncSelectedClips",onCopySelectedClips:"onCopySelectedClips",onDeleteSelectedClips:"onDeleteSelectedClips",onUndoDeleteSelectedClips:"onUndoDeleteSelectedClips",onFavSelectedClips:"onFavSelectedClips",onTagSelectedClips:"onTagSelectedClips",onInitClipsSync:"onInitClipsSync",onInitFilesSync:"onInitFilesSync",onCompleteDragAndDrop:"onCompleteDragAndDrop",onCancelDragAndDrop:"onCancelDragAndDrop",onUpdateAvailableAttachments:"onUpdateAvailableAttachments",onAutoSaveSelectedClip:"onAutoSaveSelectedClip",onSaveSelectedClip:"onSaveSelectedClip",onCreateNewClip:"onCreateNewClip",onGetClipText:"onGetClipText",onPrintClip:"onPrintClip",onEditClip:"onEditClip",onSaveClip:"onSaveClip",onCopyClip:"onCopyClip",onRemoveClipFiles:"onRemoveClipFiles",onAddClipFiles:"onAddClipFiles",onAddOrRemoveClipAttachment:"onAddOrRemoveClipAttachment",onViewClipFiles:"onViewClipFiles",onGetLinkPreview:"onGetLinkPreview",onCopyText:"onCopyText",onInitFirebase:"onInitFirebase",onInitAnalytics:"onInitAnalytics",onSignInWithCustomToken:"onSignInWithCustomToken",onSignIn:"onSignIn",onSignOut:"onSignOut",onInitAuth:"onInitAuth",onStartSession:"onStartSession",onCheckSession:"onCheckSession",onInitCloudSync:"onInitCloudSync",onStartAuthFlow:"onStartAuthFlow",onStartInternalAuthFlow:"onStartInternalAuthFlow",onStartExternalAuthFlow:"onStartExternalAuthFlow",onStartMobileAuthFlow:"onStartMobileAuthFlow",onStartZapierAuthFlow:"onStartZapierAuthFlow",onInitSettings:"onInitSettings",onChangeNoteAdditionalAttrsState:"onChangeNoteAdditionalAttrsState",onChangeLeftNavigationState:"onChangeLeftNavigationState",onChangeTextSeparator:"onChangeTextSeparator",onCompleteFirstLaunch:"onCompleteFirstLaunch",onChangeSettingsMode:"onChangeSettingsMode",onChangeWindowSize:"onChangeWindowSize",onRefreshSettings:"onRefreshSettings",onShowHidePreview:"onShowHidePreview",onChangeLanguage:"onChangeLanguage",onChangeTextFont:"onChangeTextFont",onChangeTextSize:"onChangeTextSize",onSaveSettings:"onSaveSettings",onChangeTheme:"onChangeTheme",onApplyAdvancedFilter:"onApplyAdvancedFilter",onSaveAndApplyFilter:"onSaveAndApplyFilter",onToggleFilterGroup:"onToggleFilterGroup",onChangeListStyle:"onChangeListStyle",onChangeSortOrder:"onChangeSortOrder",onCreateNewSnippetKit:"onCreateNewSnippetKit",onCreateNewFilter:"onCreateNewFilter",onCreateNewTag:"onCreateNewTag",onResumeFilter:"onResumeFilter",onDeleteFilter:"onDeleteFilter",onPauseFilter:"onPauseFilter",onResetFilter:"onResetFilter",onApplyFilter:"onApplyFilter",onSaveFilter:"onSaveFilter",onInitFiltersSync:"onInitFiltersSync",onUploadFile:"onUploadFile",onDownloadFile:"onDownloadFile",onGetFileShareUrl:"onGetFileShareUrl",onGetFileDownloadUrl:"onGetFileDownloadUrl",onAutoSaveSelectedFile:"onAutoSaveSelectedFile",onCancelFileUploadProgress:"onCancelFileUploadProgress",onCancelFileDownloadProgress:"onCancelFileDownloadProgress",onGetFilesByIds:"onGetFilesByIds",onReUploadFile:"onReUploadFile",onSaveFile:"onSaveFile",onStartShowFilterDetailsUseCase:"onStartShowFilterDetailsUseCase",onStartEditCommonTagsUseCase:"onStartEditCommonTagsUseCase",onStartAdvancedFilterUseCase:"onStartAdvancedFilterUseCase",onStartShowSettingsUseCase:"onStartShowSettingsUseCase",onStartSelectPlanUseCase:"onStartSelectPlanUseCase",onStartMergeClipsUseCase:"onStartMergeClipsUseCase",onStartEditTagsUseCase:"onStartEditTagsUseCase",onShowBannerUseCase:"onShowBannerUseCase",onRefreshPublicLink:"onRefreshPublicLink",onUnlockPublicLink:"onUnlockPublicLink",onRemovePublicLink:"onRemovePublicLink",onSavePublicLink:"onSavePublicLink",onInitPublicLink:"onInitPublicLink",onGetPublicLink:"onGetPublicLink"}},ca69:function(e,t,n){"use strict";var r={name:"MenuView",props:["autoClose"],computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppContextMenuStyle:function(){return this.$store.getters.getAppContextMenuStyle}}},i=n("2877"),a=n("4e73"),o=n("eebe"),s=n.n(o),c=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("q-menu",{attrs:{dark:this.isDarkMode,"auto-close":this.autoClose,"content-style":this.$store.getters.getAppContextMenuStyle}},[this._t("default")],2)}),[],!1,null,null,null);t.a=c.exports;s()(c,"components",{QMenu:a.a})},cd82:function(e,t,n){"use strict";n("99af");var r=n("5046"),i={name:"HorizontalScrollView",props:["height","hideScrollbar"],data:function(){return{width:"100%"}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getScrollStyle:function(){return"height: ".concat(this.height,"px; width: ").concat(this.width)},getThumbStyle:function(){var e=10;return this.hideScrollbar&&(e=0),r.a.getScrollAreaThumbStyle(e)}}},a=n("2877"),o=n("4983"),s=n("eebe"),c=n.n(s),u=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("q-scroll-area",{staticClass:"non-selectable overflow-hidden-y",style:this.getScrollStyle,attrs:{horizontal:"",dark:this.isDarkMode,"thumb-style":this.getThumbStyle}},[t("div",{staticClass:"row no-wrap fit items-center q-mx-md"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=u.exports;c()(u,"components",{QScrollArea:o.a})},cda8:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("61b4")),o=n("72a1"),s=n("5046"),c=n("1cee"),u=n("c9d9"),l=n("782d"),d=n("cdde");document.onCopyEncodedText=function(e){a.a.runOnUI((function(t){var n=p.decodeText(e),r={clip:l.a.newInstance(n,!0),copied:!0};return c.a.debug("CLIPBOARD :: onCopyEncodedText",n),t.$store.dispatch(u.a.onSaveClip,r)}))};var p={encodedTexts:[],clearEncodedTexts:function(){this.encodedTexts=[]},encodeText:function(e){return this.encodedTexts.push(e)-1},decodeText:function(e){var t=parseInt(e);return c.a.debug("CLIPBOARD :: decodeText",t),this.encodedTexts[t]},onCopyText:function(e,t,n,r){return i()(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(c.a.debug("CLIPBOARD :: onCopyText",e),!e){i.next=3;break}return i.abrupt("return",Object(d.a)(e).then((function(){return p.onNotify(e,t,n,r)})).catch((function(e){return c.a.error("CLIPBOARD :: onCopyText",e)})));case 3:case"end":return i.stop()}}),i)})))()},onNotify:function(e,t,n,r){if(!o.a.isNull(t))if(n&&r){var i=new Notification(t.$t(n),{body:e});i.onclick=function(){i.close()}}else s.a.showToast(t.$t("clip_snackbar_text_copied"))}}},d0a2:function(e,t,n){"use strict";var r=n("61b4"),i=n("72a1"),a=n("e2db"),o=n("c9d9"),s={name:"ObjectTitleBlock",components:{ActionButton:n("deff").a},props:["onNavigateNextInput","hasAdditionalAttrs","hideAdditionalAttrs","hintTextRes","autofocus","readonly","disable","value"],data:function(){return{title:this.value}},watch:{value:function(e){this.title=e},autofocus:function(){var e=this;r.a.nextTick((function(){return a.a.setFocus(e.$refs.titleView,!0)}))}},computed:{getAttrsIcon:function(){return this.canShowAdditionalAttributes?"expand_less":"expand_more"},getInputMaxLength:function(){return this.$store.getters.remoteConfigMaxLengthTitle},canShowAdditionalAttributes:function(){return this.$store.getters.canShowAdditionalAttributes},isAutoFocus:function(){return!i.a.isNull(this.autofocus)}},methods:{onNavigateNext:function(){i.a.execFunction(this.onNavigateNextInput)},onShowHideAttrs:function(){this.$store.dispatch(o.a.onChangeNoteAdditionalAttrsState)},onInput:function(){this.$emit("input",this.title)}}},c=n("2877"),u=n("27f9"),l=n("0016"),d=n("eebe"),p=n.n(d),f=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-input",{ref:"titleView",staticClass:"text-textColorPrimary q-ml-md q-mr-sm",attrs:{inputClass:"text-textColorPrimary text-h5 scroll-x ellipsis",placeholder:e.$t(e.hintTextRes),maxlength:e.getInputMaxLength,autofocus:e.isAutoFocus,readonly:e.readonly,disable:e.disable,borderless:"",dense:""},on:{input:e.onInput,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onNavigateNext(t)}},scopedSlots:e._u([e.hideAdditionalAttrs?null:{key:"append",fn:function(){return[n("div",{staticClass:"row q-mr-xs text-no-wrap"},[e._t("actions",[n("ActionButton",{attrs:{icon:e.getAttrsIcon,"on-click":e.onShowHideAttrs}}),!e.canShowAdditionalAttributes&&e.hasAdditionalAttrs?n("q-icon",{staticClass:"absolute-top-right q-mx-sm q-my-sm",attrs:{color:"negative",name:"circle",size:"6px"}}):e._e()])],2)]},proxy:!0}],null,!0),model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})}),[],!1,null,null,null);t.a=f.exports;p()(f,"components",{QInput:u.a,QIcon:l.a})},d0c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("e260"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("5319"),n("498a"),n("4de4");var r=n("72a1"),i=n("e55f"),a=n("c0c4"),o=n.n(a),s=n("abc8"),c=n.n(s),u=new Map,l={"<":"&lt;",">":"&gt;"};function d(e){return l[e]||e}var p={toPascalCase:function(e,t){if(r.a.isNull(e))return null;var n={pascalCase:!0};return t?e.split(t).map((function(e){return c()(e,n)})).join(t):c()(e,n)},inBrackets:function(e){return"(".concat(e,")")},htmlLines:function(e){return e.replace(/\n/g,"<br />")},trimLines:function(e){return e.split("\n").map((function(e){return e.trim()})).join("\n")},sanitize:function(e){return o.a.sanitize(e,{ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})},safe:function(e){return e?e.replace(/[&<>]/g,d):null},highlight:function(e,t,n){if(!e)return"";var a=e;if(n&&(a=p.safe(e)),t){var o=u.get(t);return o||(o=r.a.isArray(t)?t:t.split(",").map((function(e){return e.trim()})).filter((function(e){return e&&e.length>0})),u.set(t,o),0!==o.length)?Object(i.findAll)({searchWords:o,autoEscape:!0,caseSensitive:!1,textToHighlight:a}).map((function(e){var t=e.end,n=e.highlight,r=e.start,i=a.substr(r,t-r);return n?"<mark class='bg-colorAccent'>".concat(i,"</mark>"):i})).join(""):a}return a}}},d1c6:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("970b"),i=n.n(r),a=n("9523"),o=n.n(a),s=n("37f6"),c=n("29a4"),u=function e(){i()(this,e),o()(this,"filterId",void 0),o()(this,"tagIds",void 0),o()(this,"tagIdsWhereType",void 0),o()(this,"locatedInWhereType",void 0),o()(this,"starred",void 0),o()(this,"untagged",void 0),o()(this,"clipboard",void 0),o()(this,"recycled",void 0),o()(this,"snippets",void 0),o()(this,"pinStarred",void 0),o()(this,"pinSnippets",void 0),o()(this,"textLike",void 0),o()(this,"sortBy",void 0),o()(this,"showOnlyWithPublicLink",void 0),o()(this,"showOnlyWithAttachments",void 0),o()(this,"showOnlyNotSynced",void 0),o()(this,"textTypeIn",void 0),o()(this,"createDateFrom",void 0),o()(this,"createDateTo",void 0),o()(this,"createDatePeriod",void 0),o()(this,"updateDateFrom",void 0),o()(this,"updateDateTo",void 0),o()(this,"updateDatePeriod",void 0),o()(this,"cleanupRequest",void 0),o()(this,"snippetSetIds",void 0),o()(this,"snippetSetIdsWhereType",void 0),o()(this,"listStyle",void 0),o()(this,"fileIds",void 0),o()(this,"fileIdsWhereType",void 0),o()(this,"limit",void 0),o()(this,"offset",void 0)};u.prototype.copy=function(e){return this.filterId=e.uid||e.filterId,this.tagIds=e.tagIds,this.tagIdsWhereType=e.tagIdsWhereType,this.textLike=e.textLike,this.starred=e.starred,this.untagged=e.untagged,this.clipboard=e.clipboard,this.recycled=e.recycled,this.snippets=e.snippets,this.sortBy=e.sortBy,this.showOnlyWithPublicLink=e.showOnlyWithPublicLink,this.showOnlyWithAttachments=e.showOnlyWithAttachments,this.showOnlyNotSynced=e.showOnlyNotSynced,this.textTypeIn=e.textTypeIn,this.createDateFrom=e.createDateFrom,this.createDateTo=e.createDateTo,this.createDatePeriod=e.createDatePeriod,this.updateDateFrom=e.updateDateFrom,this.updateDateTo=e.updateDateTo,this.updateDatePeriod=e.updateDatePeriod,this.locatedInWhereType=e.locatedInWhereType,this.snippetSetIds=e.snippetSetIds,this.snippetSetIdsWhereType=e.snippetSetIdsWhereType,this.listStyle=e.listStyle,this.fileIds=e.fileIds,this.fileIdsWhereType=e.fileIdsWhereType,this.offset=e.offset,this.limit=e.limit,this},u.prototype.getCreateTimeInterval=function(){var e=s.a.byId[this.createDatePeriod];return e?e.toInterval(this.createDateFrom,this.createDateTo):new c.a},u.prototype.getUpdateTimeInterval=function(){var e=s.a.byId[this.updateDatePeriod];return e?e.toInterval(this.updateDateFrom,this.updateDateTo):new c.a},u.newInstance=function(e,t){var n=new u;return n.limit=e,n.offset=t,n}},d1fd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CLICK:"CLICK",KEYBOARD:"KEYBOARD"}},d577:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("448a"),i=n.n(r),a=n("6374"),o=n.n(a),s=n("c973"),c=n.n(s),u=(n("d3b7"),n("159b"),n("4de4"),n("3ca3"),n("e260"),n("ddb0"),n("caad"),n("2532"),n("e6cf"),n("a79d"),n("7db0"),n("fb6a"),n("99af"),n("a4d3"),n("e01a"),n("d81d"),n("2ca0"),n("96cf"),n("96e4")),l=n("e6d6"),d=n("89da"),p=n("403c"),f=n("f52e"),h=n("e8ea"),g=n("27f0"),m=n("2063"),_=n("25d0"),T=n("fb10"),E=n("f936"),v=n("72a1"),S=n("5046"),C=n("ed99"),b=n("1cee"),I=n("c9d9"),y=n("d975"),A=n("782d"),D={terminate:function(){d.a.stopSync()},initSync:function(e){return c()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.a.startSync(e,(function(t){return L(e,t)}),(function(t){return R(e,t)}),(function(t){return k(e,t)}),(function(t){return k(e,t)}));case 1:case"end":return t.stop()}}),t)})))()},getNotSynced:function(){return _.a.getNotSynced()},favAll:function(e,t,n){return t.forEach((function(e){return e.setStarred(n)})),y.a.inTx("update fav",(function(){return _.a.saveAll(t)})).then(c()(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.getters.getAuthUserCollection){r.next=7;break}return(i={})[l.a.ATTR_CLIP_FAV]=n,a=t.filter((function(e){return e.isSynced()})),r.next=7,l.a.splitBatches(e,a,function(){var t=c()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.inTx("fav",c()(regeneratorRuntime.mark((function t(){var r,a,s,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.a.createFirebaseBatch(),a=[],s=o()(n);try{for(s.s();!(c=s.n()).done;)u=c.value,d.a.saveInBatch(e,u,r,i)&&a.push(u)}catch(e){s.e(e)}finally{s.f()}if(!v.a.arrayIsNotEmpty(a)){t.next=7;break}return t.next=7,_.a.saveAll(a);case 7:r.commit().then((function(){return b.a.debug("batch completed for fav")}));case 8:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return r.stop()}}),r)}))))},syncAll:function(e,t){return c()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.getters.getAuthUser,e.getters.getAuthUserCollection){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,l.a.splitBatches(e,t,function(){var t=c()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getters.isSyncRestricted){t.next=10;break}return t.next=3,y.a.inTx("Update synced clips",c()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.createFirebaseBatch(),n.forEach((function(t){return d.a.saveInBatch(e,t,r)})),t.next=4,_.a.saveAll(n,e);case 4:r.commit().then((function(){return b.a.debug("batch completed")}));case 5:case"end":return t.stop()}}),t)}))));case 3:return t.next=5,_.a.getSyncedClipsCount();case 5:if(!(t.sent>=e.getters.getSyncLimit)){t.next=10;break}return r.syncIsRestricted=!0,t.next=10,T.a.save(r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)})))()},tagAll:function(e,t,n,r){return y.a.inTx("update tags",c()(regeneratorRuntime.mark((function e(){var a,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=o()(t),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=13;break}return u=c.value,e.next=8,_.a.getById(u.id);case 8:if(!(l=e.sent)){e.next=11;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(o=u.getTagIds()).filter((function(e){return!r.includes(e)})),(t=o).push.apply(t,i()(n.filter((function(e){return!o.includes(e)})))),u.setTagIds(o),v.a.areObjectsTheSame(l.getTagIds(),o)){e.next=9;break}return e.next=7,m.a.update(l,u);case 7:l.setTagIds(o),a.push(l);case 9:case"end":return e.stop()}}),e)}))(),"t0",11);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(2),s.e(e.t1);case 18:return e.prev=18,s.f(),e.finish(18);case 21:if(!v.a.arrayIsNotEmpty(a)){e.next=24;break}return e.next=24,_.a.saveAll(a);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})))).then(function(){var t=c()(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.getters.getAuthUserCollection){t.next=5;break}return r=n.filter((function(e){return e.isSynced()})),t.next=5,l.a.splitBatches(e,r,function(){var t=c()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.inTx("assign tags",c()(regeneratorRuntime.mark((function t(){var r,i,a,s,c,u,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.a.createFirebaseBatch(),i=l.a.getServerTimestamp(),a=[],s=o()(n);try{for(s.s();!(c=s.n()).done;)u=c.value,(p={})[l.a.ATTR_CLIP_UPDATE_DATE]=i,p[l.a.ATTR_CLIP_TAG_IDS]=u.tagIds,p[l.a.ATTR_API_VERSION]=g.a.apiVersion,d.a.saveInBatch(e,u,r,p)&&a.push(u)}catch(e){s.e(e)}finally{s.f()}if(!v.a.arrayIsNotEmpty(a)){t.next=8;break}return t.next=8,_.a.saveAll(a);case 8:r.commit().then((function(){return b.a.debug("batch completed for assign tags")}));case 9:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},clearRecycleBin:function(e){return c()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.getDeletedCleanupClips();case 2:return n=t.sent,t.abrupt("return",D.deleteAll(e,n,!1,!0));case 4:case"end":return t.stop()}}),t)})))()},clearClipboard:function(e){return c()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.getClipboardCleanupClips();case 2:return n=t.sent,t.abrupt("return",D.deleteAll(e,n,!1,!0));case 4:case"end":return t.stop()}}),t)})))()},deleteAll:function(e,t,n,r){return c()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return S.a.showLoadingState(),a.abrupt("return",y.a.inTx("delete clips",c()(regeneratorRuntime.mark((function n(){var a,s,c,u,l,d,p,f,h,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r&&null!=t.find((function(e){return!e.isDeleted()}))){n.next=6;break}return n.next=3,_.a.deleteAll(t,e);case 3:return n.abrupt("return",t);case 6:a=new Date,s=[],c=[],u=o()(t),n.prev=10,u.s();case 12:if((l=u.n()).done){n.next=20;break}return d=l.value,n.next=16,m.a.update(d,null);case 16:d.deleteDate=a,s.push(d);case 18:n.next=12;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(10),u.e(n.t0);case 25:return n.prev=25,u.f(),n.finish(25);case 28:return n.next=30,_.a.saveAll(s);case 30:if((f=E.a.getFilters()).deleted&&(p=f.deleted.limit),p||(p=e.getters.remoteConfigLimitDeletedNotesDefault),!(p>0)){n.next=46;break}return n.next=36,_.a.getDeletedClipsCount();case 36:if(h=n.sent,!((g=h-p)>0)){n.next=46;break}if(!(g>0)){n.next=46;break}return n.next=42,_.a.getDeletedCleanupClips();case 42:return c=(c=n.sent).slice(0,g),n.next=46,_.a.deleteAll(c);case 46:return n.abrupt("return",s.concat.apply(s,i()(c)));case 47:case"end":return n.stop()}}),n,null,[[10,22,25,28]])})))).then(function(){var t=c()(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.getters.getAuthUserCollection){t.next=4;break}return r=n.filter((function(e){return e.isSynced()})),t.next=4,l.a.splitBatches(e,r,(function(t){var n=l.a.createFirebaseBatch();d.a.deleteAllInBatch(e,t,n),n.commit().then((function(){return b.a.debug("batch completed")}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){var r=v.a.takeIf(t,(function(){return n}));e.commit(C.a.REQUEST_UNDO_DELETE,r),e.commit(C.a.UPDATE_CLIP,t)})).then((function(){return e.dispatch(I.a.onUnselectAllClips)})).then((function(){return e.commit(C.a.REQUEST_SHOW_FILTER_DETAILS)})).finally((function(){S.a.hideLoadingState()})));case 2:case"end":return a.stop()}}),a)})))()},undoDeleteAll:function(e,t){return c()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S.a.showLoadingState(),n.abrupt("return",y.a.inTx("undo delete clips",(function(){return _.a.undoDeleteAll(t)})).then(c()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.getters.getAuthUserCollection){n.next=5;break}return r=t.filter((function(e){return e.isSynced()})),n.next=5,l.a.splitBatches(e,r,function(){var t=c()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.inTx("undo delete",c()(regeneratorRuntime.mark((function t(){var r,i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.a.createFirebaseBatch(),i=[],a=o()(n);try{for(a.s();!(s=a.n()).done;)c=s.value,d.a.saveInBatch(e,c,r)&&i.push(c)}catch(e){a.e(e)}finally{a.f()}if(!v.a.arrayIsNotEmpty(i)){t.next=7;break}return t.next=7,_.a.saveAll(i);case 7:r.commit().then((function(){return b.a.debug("batch completed for undo")}));case 8:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})))).then((function(){return e.dispatch(I.a.onUnselectAllClips)})).then((function(){return e.commit(C.a.UPDATE_CLIP,t)})).then((function(){return e.dispatch(I.a.onApplyFilter)})).finally((function(){return S.a.hideLoadingState()})));case 2:case"end":return n.stop()}}),n)})))()},canSync:function(e,t){return e.getters.canSyncNotes&&(!t.isTracked()||E.a.getSettings().universalClipboard)},save:function(e,t,n,r){return c()(regeneratorRuntime.mark((function i(){var a,o,s,p,h,m,T,S,C,I,L,x,R,w,k,P,N,F,O;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.getKitIds(),o=t.getFileIds(),s=t.getFileIds(),p=t.getTagIds(),h=t.abbreviation,m=t.description,T=t.objectType,S=t.modifyDate,C=t.deleteDate,I=t.usageCount,L=t.snippetId,x=t.textType,R=t.title,w=t.text,k=t.fav,P=!1,N=!1,F=!1,i.next=20,_.a.getById(t.id);case 20:if((O=i.sent)||!t.isTracked()){i.next=25;break}return i.next=24,_.a.getByText(t.text);case 24:O=i.sent;case 25:if(!O){i.next=47;break}a=O.getKitIds(),o=O.getFileIds(),h=O.abbreviation,m=O.description,T=O.objectType,S=O.modifyDate,C=O.deleteDate,I=O.usageCount,L=O.snippetId,p=O.getTagIds(),x=O.textType,R=O.title,w=O.text,k=O.fav,n=n||!t.id&&t.isTracked(),N=n||!A.a.areTheSame(O,t),P=!v.a.areObjectsTheSame(s,o),F=!v.a.areObjectsTheSame(t.publicLink,O.publicLink),b.a.debug("clip changed? contentChanged =",N,"filesChanged =",P,"publicLinkChanged =",F),i.next=53;break;case 47:if(N=!0,F=!1,P=v.a.arrayIsNotEmpty(s),!n||e.getters.canTrackClipboard){i.next=53;break}return b.a.debug("skip save due to disabled clipboard tracking",w),i.abrupt("return",t);case 53:return i.abrupt("return",y.a.inTx("save clip",c()(regeneratorRuntime.mark((function i(){var o,c,y,A,B,U,M,V,H;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(c=null,y=!1,A=(o=t).isSynced(),B=e.getters.isAuthorized,U=B&&D.canSync(e,o),O||!o.isTracked()){i.next=14;break}return i.next=9,_.a.getClipboardExceedingClips(o);case 9:if(c=i.sent,!v.a.arrayIsNotEmpty(c)){i.next=14;break}return i.next=13,_.a.deleteAll(c,e);case 13:U||(U=B&&!e.getters.isSyncDisabled&&E.a.getSettings().universalClipboard,b.a.debug("CLIPBOARD :: update sync state",U));case 14:if(B&&(U||O)&&(M=o.firestoreId,o.firestoreId=d.a.getFirestoreId(o),y=M!==o.firestoreId),!(y||N||P||F)){i.next=59;break}return i.next=18,_.a.createOrUpdate(o,n,e);case 18:if(o=i.sent,!v.a.arrayIsNotEmpty(r)){i.next=22;break}return i.next=22,_.a.deleteAll(r,e);case 22:if(!B){i.next=59;break}if(A){i.next=34;break}if(!(U||v.a.arrayIsNotEmpty(r)||v.a.arrayIsNotEmpty(c))){i.next=32;break}if(!U||!d.a.save(e,o)){i.next=28;break}return i.next=28,_.a.save(o);case 28:return i.next=30,l.a.splitBatches(e,r,(function(t){var n=l.a.createFirebaseBatch();d.a.deleteAllInBatch(e,t,n),n.commit().then((function(){return b.a.debug("mergedClips :: batch completed")}))}));case 30:return i.next=32,l.a.splitBatches(e,c,(function(t){var n=l.a.createFirebaseBatch();d.a.deleteAllInBatch(e,t,n),n.commit().then((function(){return b.a.debug("sourceClips :: batch completed")}))}));case 32:i.next=59;break;case 34:if(!O){i.next=59;break}if(V={},H=!1,R!==o.title&&(V[l.a.ATTR_CLIP_TITLE]=o.title,H=!0),L!==o.snippetId&&(V[l.a.ATTR_CLIP_SNIPPET_ID]=o.snippetId,H=!0),w!==o.text&&(V[l.a.ATTR_CLIP_TEXT]=o.text,H=!0),I!==o.usageCount&&(V[l.a.ATTR_CLIP_UPDATE_DATE]=l.a.getServerTimestamp(),V[l.a.ATTR_CLIP_USAGE_COUNT]=o.usageCount,H=!0),v.a.areNumbersTheSame(x,o.textType)||(V[l.a.ATTR_CLIP_TEXT_TYPE]=o.textType,H=!0),v.a.areNumbersTheSame(T,o.objectType)||(V[l.a.ATTR_CLIP_OBJECT_TYPE]=o.objectType,H=!0),v.a.areObjectsTheSame(p,o.getTagIds())||(V[l.a.ATTR_CLIP_TAG_IDS]=o.getTagIds(),H=!0),v.a.areObjectsTheSame(a,o.getKitIds())||(V[l.a.ATTR_CLIP_SNIPPET_SETS_IDS]=o.getKitIds(),H=!0),h!==o.abbreviation&&(V[l.a.ATTR_CLIP_ABBREVIATION]=o.abbreviation,H=!0),m!==o.description&&(V[l.a.ATTR_CLIP_DESCRIPTION]=o.description,H=!0),k!==o.fav&&(V[l.a.ATTR_CLIP_FAV]=o.isStarred(),H=!0),o.modifyDate&&!v.a.areDatesTheSame(S,o.modifyDate,"modifyDate")&&(V[l.a.ATTR_CLIP_MODIFY_DATE]=f.a.toTimestamp(o.modifyDate),H=!0),v.a.areDatesTheSame(C,o.deleteDate,"deleteDate")||(V[l.a.ATTR_CLIP_DELETE_DATE]=f.a.toTimestamp(o.deleteDate,!0),H=!0),P&&(V[l.a.ATTR_CLIP_FILE_IDS]=s,H=!0),F&&(V[l.a.ATTR_CLIP_PUBLIC_LINK]=u.a.toMap(o.publicLink),H=!0),!H){i.next=59;break}if(V[l.a.ATTR_API_VERSION]=g.a.apiVersion,!d.a.save(e,o,V)){i.next=57;break}return i.next=57,_.a.save(o);case 57:return i.next=59,l.a.splitBatches(e,r,(function(t){var n=l.a.createFirebaseBatch();d.a.deleteAllInBatch(e,t,n),n.commit().then((function(){return b.a.debug("mergedClips :: batch completed")}))}));case 59:return i.abrupt("return",o);case 60:case"end":return i.stop()}}),i)})))));case 54:case"end":return i.stop()}}),i)})))()}};function L(e,t){return x.apply(this,arguments)}function x(){return(x=c()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return"removed"!==e.type&&!e.doc.metadata.hasPendingWrites&&!e.doc.id.startsWith("b_")})).map((function(e){return p.a.fromMap(e)})),!v.a.arrayIsNotEmpty(r)){e.next=4;break}return S.a.showLoadingState(),e.abrupt("return",y.a.inTx("initialClips",c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.a.saveAllInitial(r));case 1:case"end":return e.stop()}}),e)})))).then((function(){return h.a.migrate(t,r.filter((function(e){return v.a.arrayIsNotEmpty(e.files)})))})).finally((function(){return S.a.hideLoadingState()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return w.apply(this,arguments)}function w(){return(w=c()(regeneratorRuntime.mark((function e(t,n){var r,i,a,s,u,l,d,f,g,T,S,D,L,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return"removed"!==e.type&&!e.doc.metadata.hasPendingWrites&&!e.doc.id.startsWith("b_")})).map((function(e){return p.a.fromMap(e)})),!v.a.arrayIsNotEmpty(r)){e.next=39;break}i=1===r.length&&E.a.getSettings().universalClipboard,a=[],s=[],u=null,l=o()(r),e.prev=7,f=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,n=s.find((function(e){return e.firestoreId===t.firestoreId}))){e.next=6;break}return e.next=5,_.a.getByFirestoreId(t.firestoreId);case 5:n=e.sent;case 6:n&&A.a.areTheSame(n,t)||(n&&!n.isDeleted()&&t.isDeleted()?a.push({prevClip:n,newClip:null}):n&&n.isDeleted()&&!t.isDeleted()?a.push({prevClip:null,newClip:t}):a.push({prevClip:n,newClip:t}),n&&(t.id=n.id),s.push(t),i&&!u&&(n?n.usageCount<t.usageCount&&(u=t):t.isTracked()&&(u=t)));case 7:case"end":return e.stop()}}),e)})),l.s();case 10:if((d=l.n()).done){e.next=14;break}return e.delegateYield(f(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(7),l.e(e.t1);case 19:return e.prev=19,l.f(),e.finish(19);case 22:if(!v.a.arrayIsNotEmpty(s)){e.next=35;break}return b.a.debug("snapshotClips :: to be changed",s.length),g=t,T=s[0],S=t.getters.isStateEdit,D=t.getters.getSelectedClip,1===s.length&&S&&D&&D.id===T.id&&(g=null),e.next=31,y.a.inTx("sync with server state",c()(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o()(a),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,m.a.update(r.prevClip,r.newClip);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:return e.next=19,_.a.saveAll(s,g);case 19:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))));case 31:if(L=s.filter((function(e){return v.a.arrayIsNotEmpty(e.files)})),v.a.arrayIsEmpty(L)){e.next=35;break}return e.next=35,h.a.migrate(t,L);case 35:if(!u||u.isDeleted()){e.next=39;break}return x={titleRes:"settings_universal_clipboard_title",descriptionRes:"clip_snackbar_text_copied",text:u.text},e.next=39,t.dispatch(I.a.onCopyText,x).then((function(){return t.commit(C.a.SET_ACTIVE_CLIPBOARD_CLIP,u)}));case 39:case"end":return e.stop()}}),e,null,[[7,16,19,22]])})))).apply(this,arguments)}function k(e,t){return P.apply(this,arguments)}function P(){return(P=c()(regeneratorRuntime.mark((function e(t,n){var r,i,a,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return"removed"!==e.type&&!e.doc.metadata.hasPendingWrites})).map((function(e){return p.a.fromMap(e)})),!v.a.arrayIsNotEmpty(r)){e.next=25;break}i=[],a=o()(r),e.prev=4,a.s();case 6:if((s=a.n()).done){e.next=14;break}return u=s.value,e.next=10,_.a.getByFirestoreId(u.firestoreId);case 10:(l=e.sent)&&i.push(l);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:if(!v.a.arrayIsNotEmpty(i)){e.next=25;break}return e.next=25,y.a.inTx("sync with server state",c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.deleteAll(i,t);case 2:case"end":return e.stop()}}),e)}))));case 25:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)}},d975:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1cee"),i=n("2667").a.clipto,a={tables:[i.clips,i.tags,i.users,i.filters,i.settings,i.fileRefs],inTx:function(e,t){return r.a.debug("inTx",e),i.transaction("rw",a.tables,(function(){return t()}))}}},de99:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("278c"),i=n.n(r),a=n("970b"),o=n.n(a),s=n("9523"),c=n.n(s),u=(n("4de4"),n("d3b7"),n("07ac"),n("b0c0"),n("7db0"),n("159b"),n("4fadc"),n("caad"),n("2532"),n("6f2e")),l=n("72a1"),d=n("fab3"),p=n("886e"),f=n("bc78"),h=n("25da"),g=function e(){o()(this,e),c()(this,"all",void 0),c()(this,"untagged",void 0),c()(this,"starred",void 0),c()(this,"clipboard",void 0),c()(this,"deleted",void 0),c()(this,"last",void 0),c()(this,"snippets",void 0),c()(this,"groupTags",void 0),c()(this,"groupNotes",void 0),c()(this,"groupFilters",void 0),c()(this,"groupSnippets",void 0),c()(this,"filtersByUid",void 0),c()(this,"initial",void 0),c()(this,"syncedCount",void 0),c()(this,"tags",void 0)};c()(g,"getDefault",(function(){var e=new g;return e.filtersByUid={},e})),c()(g,"getLuminosity",(function(e){return e?f.a.luminosity(e):0})),c()(g,"getFilterIndexInGroup",(function(e,t){return(t.tagIds||[]).indexOf(e.uid)})),c()(g,"sorted",(function(e,t){var n=[];switch(e.sortBy){case d.a.NOTES_COUNT_ASC.id:n.push({asc:function(e){return e.getNotesCount()}}),n.push({asc:function(e){return e.name}});break;case d.a.NOTES_COUNT_DESC.id:n.push({desc:function(e){return e.getNotesCount()}}),n.push({asc:function(e){return e.name}});break;case d.a.COLOR_ASC.id:n.push({asc:function(e){return g.getLuminosity(e.color)}}),n.push({asc:function(e){return e.name}});break;case d.a.COLOR_DESC.id:n.push({desc:function(e){return g.getLuminosity(e.color)}}),n.push({asc:function(e){return e.name}});break;case d.a.MANUAL_ASC.id:n.push({asc:function(t){return g.getFilterIndexInGroup(t,e)}}),n.push({asc:function(e){return e.name}});break;case d.a.MANUAL_DESC.id:n.push({desc:function(t){return g.getFilterIndexInGroup(t,e)}}),n.push({asc:function(e){return e.name}});break;case d.a.NAME_ASC.id:n.push({asc:function(e){return e.name}});break;case d.a.NAME_DESC.id:n.push({desc:function(e){return e.name}});break;default:n.push({asc:function(e){return e.name}})}return Object(h.a)(t).by(n),t})),c()(g,"REMOVABLE_TYPES",[u.a.TAG.id,u.a.LINK.id,u.a.NAMED.id,u.a.CONTEXT.id,u.a.CUSTOM.id,u.a.SNIPPET_KIT.id]),g.prototype.getFilteredNotesCount=function(){return this.last.notesCount},g.prototype.hasFilteredNotes=function(){return this.getFilteredNotesCount()>0},g.prototype.hasTags=function(){return this.getTags().length>0},g.prototype.hasActiveFilter=function(){return this.last.hasActiveFilter()},g.prototype.getByUid=function(e){return this.filtersByUid[e]},g.prototype.getTags=function(){return Object.values(this.filtersByUid).filter((function(e){return e.isTag()&&!l.a.isNull(e.name)}))},g.prototype.getSorted=function(e){return e.isGroupNotes()?this.getSortedCategories():e.isGroupTags()?this.getSortedTags():e.isGroupFilters()?this.getSortedNamedFilters():e.isGroupSnippets()?this.getSortedSnippetKits():null},g.prototype.getSortedTags=function(){return g.sorted(this.groupTags,this.getTags())},g.prototype.getSnippetKits=function(){return Object.values(this.filtersByUid).filter((function(e){return e.isSnippetKit()&&!l.a.isNull(e.name)}))},g.prototype.getSortedCategories=function(){return g.sorted(this.groupNotes,this.getCategories())},g.prototype.getSortedSnippetKits=function(){return g.sorted(this.groupSnippets,this.getSnippetKits())},g.prototype.getNamedFilters=function(){return Object.values(this.filtersByUid).filter((function(e){return e.isNamedFilter()}))},g.prototype.getSortedNamedFilters=function(){return g.sorted(this.groupFilters,this.getNamedFilters())},g.prototype.getCategories=function(){return[this.all,this.starred,this.untagged,this.clipboard,this.snippets,this.deleted]},g.prototype.getGroups=function(){return[this.groupNotes,this.groupTags,this.groupFilters,this.groupSnippets]},g.prototype.findFilterByTagId=function(e,t){var n=this.filtersByUid[e],r=l.a.takeIf(n,(function(e){return e&&e.isTag()}));return l.a.isNull(r)&&e&&t&&l.a.isNull(n)&&(r=p.a.createTagFromId(e),this.filtersByUid[e]=r),r},g.prototype.findFilterBySnippetKitId=function(e,t){var n=this.filtersByUid[e],r=l.a.takeIf(n,(function(e){return e&&e.isSnippetKit()}));return l.a.isNull(r)&&e&&t&&l.a.isNull(n)&&(r=p.a.createSnippetKit(e),this.filtersByUid[e]=r),r},g.prototype.findFilterByTagName=function(e){return Object.values(this.filtersByUid).find((function(t){return t.isTag()&&t.name===e}))},g.prototype.findFilterByName=function(e){return Object.values(this.filtersByUid).find((function(t){return t.isNamedFilter()&&t.name===e}))},g.prototype.findFilterBySnippetKitName=function(e){return Object.values(this.filtersByUid).find((function(t){return t.isSnippetKit()&&t.name===e}))},g.prototype.findGroup=function(e){return e.isTag()?this.groupTags:e.isNamedFilter()?this.groupFilters:e.isSnippetKit()?this.groupSnippets:e.isNotesCategory()?this.groupNotes:null},g.prototype.clear=function(){var e=this,t=g.REMOVABLE_TYPES;Object.entries(this.filtersByUid).forEach((function(n){var r=i()(n,2),a=r[0],o=r[1];t.includes(o.type)&&delete e.filtersByUid[a]})),this.last.withFilter(this.all)},g.prototype.findActive=function(e){var t=this.getByUid(e.activeFilterId);if(t)return t;if(e.isNamedFilter())return e;if(e.isTag(this)){var n=e.getTagIds()[0];return this.getByUid(n)||e}if(e.isSnippetKit(this)){var r=e.getKitIds()[0];return this.getByUid(r)||e}return e.isGroup()||e.isContext()?e:e.isStarred()?this.starred:e.isUntagged()?this.untagged:e.isClipboard()?this.clipboard:e.isDeleted()?this.deleted:e.isSnippets()?this.snippets:e.isAll()?this.all:e},g.prototype.isActive=function(e,t){var n=this.last,r=n.tagIds||[];return e===n||(!(!t||!n.activeFilterId||n.activeFilterId!==e.uid)||(!t&&n.activeFilterId?this.last.activeFilterId===e.uid:!(!e.isTag()||!r.includes(e.uid))||(!(!n.starred||!e.isStarred())||(!(!n.untagged||!e.isUntagged())||(!(!n.clipboard||!e.isClipboard())||(!(!n.recycled||!e.isDeleted())||(!(!n.snippets||!e.isSnippets())||(!!e.isSame(n)||!(!e.isAll()||!n.isAll())))))))))}},deff:function(e,t,n){"use strict";var r=n("72a1"),i={name:"ActionButton",props:["tooltipLabelRes","tooltipLabel","onMouseEnter","buttonClass","outline","onClick","disable","color","dense","icon"],computed:{getClass:function(){return this.buttonClass?this.buttonClass:this.color?null:"text-textColorPrimary"},getSize:function(){return this.outline?null:"12px"},canShowTooltips:function(){return this.$store.getters.canShowTooltips&&this.getTooltipLabel},getTooltipLabel:function(){return this.tooltipLabel||this.$t(this.tooltipLabelRes)}},methods:{onClicked:function(){r.a.execFunction(this.onClick)},onMouseEntered:function(){r.a.execFunction(this.onMouseEnter)}}},a=n("2877"),o=n("9c40"),s=n("05c0"),c=n("eebe"),u=n.n(c),l=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-btn",{class:e.getClass,attrs:{disable:e.disable,color:e.color,dense:e.dense,icon:e.icon,outline:e.outline,flat:!e.outline,size:e.getSize,round:""},on:{mouseenter:e.onMouseEntered,click:function(t){return t.stopPropagation(),e.onClicked(t)}}},[e.canShowTooltips?n("q-tooltip",[e._v(e._s(e.getTooltipLabel))]):e._e(),e._t("default")],2)}),[],!1,null,null,null);t.a=l.exports;u()(l,"components",{QBtn:o.a,QTooltip:s.a})},e507:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("99af"),n("498a");var r=n("7561"),i=n("c9d9"),a={name:"ObjectDescriptionBlock",props:["hasDescription","closable","onClose","hideHint","textSize","readonly","value"],data:function(){return{description:this.value}},watch:{value:function(e){this.description=e}},computed:{getSettings:function(){return this.$store.getters.getSettings},getTextSize:function(){return this.textSize||this.getSettings.textSize-4},getInputMaxLength:function(){return this.$store.getters.remoteConfigMaxLengthDescription},getViewModeTextStyle:function(){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              padding-top: 11px;\n              padding-start: 12px;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(22+this.getTextSize,"px !important;\n              ").trim()},getInputStyle:function(){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(22+this.getTextSize,"px !important;\n              ").trim()},getPreviewText:function(){return r.a.marked(this.description,{normalize:!0,trimLines:!0,sanitize:!0})},getHintTitle:function(){return this.$t("common_label_description")},getHintDescription:function(){var e=this.$store.getters.remoteConfigMaxLengthDescription;return r.a.marked(this.$tc("hint_description",null,{n:e}),{trimLines:!0})}},methods:{onShowHint:function(){this.$store.dispatch(i.a.onShowHint,{icon:"help_outline",title:this.getHintTitle,message:this.getHintDescription,isFormatted:!0})},onInput:function(){this.$emit("input",this.description)}}},o=(n("5fb5"),n("2877")),s=n("9c40"),c=n("27f9"),u=n("eebe"),l=n.n(u),d=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.readonly&&e.hasDescription?n("div",{staticClass:"bg-info text-black markdown-body q-mx-md q-mt-md q-pa-sm rounded-borders",style:e.getViewModeTextStyle},[n("div",{domProps:{innerHTML:e._s(e.getPreviewText)}}),e.closable?n("div",{staticClass:"row justify-end"},[e.closable?n("q-btn",{staticClass:"text-weight-medium",attrs:{label:e.$t("button_got_it"),color:"positive",dense:"",flat:""},on:{click:function(t){return t.stopPropagation(),e.onClose(t)}}}):e._e()],1):e._e()]):n("q-input",{ref:"descriptionView",staticClass:"text-black q-mt-md q-px-md",style:e.getInputStyle,attrs:{"input-style":e.getInputStyle,inputClass:"text-black",placeholder:e.$t("common_label_description"),maxlength:e.getInputMaxLength,disable:e.readonly,autogrow:!0,type:"textarea","bg-color":"info",hideBottomSpace:"",standout:"",dense:""},on:{input:e.onInput},scopedSlots:e._u([e.readonly||e.hideHint?null:{key:"append",fn:function(){return[n("q-btn",{staticClass:"text-textColorSecondary absolute-top-right",attrs:{icon:"info",size:"8px",round:"",dense:"",flat:""},on:{click:function(t){return t.stopPropagation(),e.onShowHint(t)}}})]},proxy:!0}],null,!0),model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})}),[],!1,null,null,null);t.a=d.exports;l()(d,"components",{QBtn:s.a,QInput:c.a})},e6d6:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("d3b7"),n("159b"),n("b64b"),n("e6cf"),n("a79d"),n("4de4"),n("d81d"),n("fb6a"),n("970b")),o=n.n(a),s=n("5bc3"),c=n.n(s),u=n("9523"),l=n.n(u),d=(n("99af"),function(){function e(t){o()(this,e),l()(this,"userRef",null),l()(this,"clipsRef",null),l()(this,"filesRef",null),l()(this,"filtersRef",null),l()(this,"firebaseId",null),l()(this,"publicNotesRef",null),l()(this,"clipsDeletedRef",null),l()(this,"filesDeletedRef",null),l()(this,"firestore",null);var n=C.getFirebaseFirestore();this.firebaseId=t,this.firestore=n,this.publicNotesRef=n.collection(C.COLLECTION_PUBLIC_NOTES).doc(t).collection(C.COLLECTION_PUBLIC_NOTES),this.userRef=n.collection(C.COLLECTION_USERS).doc(t),this.clipsDeletedRef=this.userRef.collection(C.COLLECTION_USER_CLIPS_DELETED),this.filtersRef=this.userRef.collection(C.COLLECTION_USER_FILTERS),this.clipsRef=this.userRef.collection(C.COLLECTION_USER_CLIPS),this.filesRef=this.userRef.collection(C.COLLECTION_USER_FILES),this.filesDeletedRef=this.userRef.collection(C.COLLECTION_USER_FILES_DELETED)}return c()(e,[{key:"getActiveClipsRef",value:function(){return this.clipsRef}},{key:"getDeletedClipsRef",value:function(){return this.clipsDeletedRef}},{key:"getFiltersRef",value:function(){return this.filtersRef}},{key:"getFilterRef",value:function(e){return this.getFiltersRef().doc(e)}},{key:"getFileStorageRef",value:function(e){return C.getFirebaseStorage().ref().child("".concat(this.firebaseId,"/").concat(e.folder,"/").concat(e.getUid()))}},{key:"getActiveFilesRef",value:function(){return this.filesRef}},{key:"getDeletedFilesRef",value:function(){return this.filesDeletedRef}},{key:"getFileRef",value:function(e){return this.filesRef.doc(e)}},{key:"getPublicNoteRef",value:function(e){return this.publicNotesRef.doc(e)}},{key:"createBatch",value:function(){return this.firestore.batch()}}]),e}()),p=n("f52e"),f=n("53e6"),h=n("e2db"),g=n("72a1"),m=n("ed99"),_=n("1cee"),T=n("260b"),E=(n("8934"),n("e71f"),n("588e"),T.a.storage()),v=T.a.firestore(),S=!h.a.isDesktop()&&!h.a.isSafari();v.settings({experimentalAutoDetectLongPolling:!0}),v.enablePersistence({synchronizeTabs:S});var C={userCollections:{},getFirebaseAuth:function(){return T.a.auth()},getFirebaseFunctions:function(){return T.a.functions()},getFirebaseStorage:function(){return E},getFirebaseFirestore:function(){return v},createFirebaseBatch:function(){return v.batch()},getFirestoreTimestamp:function(){return T.a.firestore.Timestamp},getServerTimestamp:function(){return T.a.firestore.FieldValue.serverTimestamp()},getFieldValueDelete:function(){return T.a.firestore.FieldValue.delete()},getUserCollection:function(e){var t=this.userCollections,n=t[e];return _.a.debug("getUserCollection",e,n),n||(n=new d(e),t[e]=n),n},normalizeMap:function(e,t){var n=this;return Object.keys(e).forEach((function(r){var i=e[r],a=g.a.isNull(i);(a=(a=(a=a||g.a.isBoolean(i)&&!i)||g.a.arrayIsEmpty(i))||g.a.isString(i)&&g.a.isEmpty(i))&&(t?e[r]=n.getFieldValueDelete():delete e[r])})),_.a.debug("normalizeMap:",e),e},terminate:function(e){var t=this;return v.terminate().catch((function(){})).then((function(){if(e.getters.remoteConfigFirestoreClearCacheOnLogout)return v.clearPersistence()})).then((function(){return t.getFirebaseAuth().signOut()})).finally((function(){return t.userCollections={},(v=T.a.firestore()).settings({experimentalAutoDetectLongPolling:!0}),v.enablePersistence({synchronizeTabs:S})}))},createListener:function(e,t,n,r,a,o){var s=new f.a(!0);return _.a.debug("createListener: ref =",e),n.onSnapshot({includeMetadataChanges:!0},function(){var t=i()(regeneratorRuntime.mark((function t(n){var i,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.metadata,c=n.docChanges(),u=s.compareAndSet(!0,!1),!r||!u){t.next=9;break}return _.a.debug("createListener::initialCallback:",e,"changes =",c.length,"size",n.size),t.next=7,a(n);case 7:t.next=19;break;case 9:if(u){t.next=15;break}return _.a.debug("createListener::snapshotCallback: fromCache =",i.fromCache,"id =",e,"changes =",c.length,"size",n.size),t.next=13,o(n);case 13:t.next=19;break;case 15:if(i.fromCache){t.next=19;break}return _.a.debug("createListener::snapshot: fromCache =",i.fromCache,"id =",e,"changes =",c.length,"size",n.size),t.next=19,o(n);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(n){_.a.error("createListener error :: id=",e,n.code,n.message,n),t.commit(m.a.SHOW_ERROR,n)}))},getNewDate:function(e){try{var t=this.getNewDates(e);return g.a.isEmpty(t)?null:t.reduce((function(e,t){return e.getTime()>t.getTime()?e:t}))}catch(e){return null}},getNewDates:function(e){return e.map((function(e){return e.doc||e})).map((function(e){return p.a.toDate(e.data()[C.ATTR_CHANGE_TIMESTAMP])})).filter((function(e){return g.a.isDate(e)}))},splitBatches:function(e,t,n){return i()(regeneratorRuntime.mark((function r(){var i,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(g.a.isArray(t)){r.next=2;break}return r.abrupt("return");case 2:if(i=e.getters.remoteConfigFirestoreBatchSize,!(t.length<=i)){r.next=8;break}return r.next=6,n(t);case 6:r.next=17;break;case 8:a=0;case 9:if(!(a<t.length)){r.next=17;break}return o=a,a=Math.min(o+i,t.length),_.a.debug("splitBatches",o,a),r.next=15,n(t.slice(o,a));case 15:r.next=9;break;case 17:case"end":return r.stop()}}),r)})))()},ATTR_DEVICE_ID:"iid",ATTR_API_VERSION:"av",ATTR_CHANGE_TIMESTAMP:"cts",COLLECTION_USERS:"u",COLLECTION_USER_CLIPS:"c",COLLECTION_USER_CLIPS_DELETED:"cd",COLLECTION_USER_FILTERS:"f",COLLECTION_USER_FILES:"fs",COLLECTION_USER_FILES_DELETED:"fsd",COLLECTION_PUBLIC_NOTES:"n",ATTR_DEVICE_APP_VERSION:"v",ATTR_DEVICE_CREATE_DATE:"c",ATTR_DEVICE_USAGE_DATE:"u",ATTR_DEVICE_LANGUAGE:"l",ATTR_DEVICE_MODEL:"m",ATTR_CLIP_TAGS:"l",ATTR_CLIP_USAGE_COUNT:"n",ATTR_CLIP_CREATE_DATE:"c",ATTR_CLIP_UPDATE_DATE:"u",ATTR_CLIP_MODIFY_DATE:"m",ATTR_CLIP_DELETE_DATE:"d",ATTR_CLIP_OBJECT_TYPE:"ot",ATTR_CLIP_TEXT_TYPE:"v",ATTR_CLIP_TITLE:"h",ATTR_CLIP_TEXT:"t",ATTR_CLIP_TAG_IDS:"li",ATTR_CLIP_FILE_IDS:"fi",ATTR_CLIP_SNIPPET_ID:"s",ATTR_CLIP_TRACKED:"a",ATTR_CLIP_FAV:"f",ATTR_CLIP_FILE_METADATA:"fm",ATTR_CLIP_PUBLIC_LINK:"pl",ATTR_CLIP_SNIPPET_SETS_IDS:"si",ATTR_CLIP_ABBREVIATION:"abr",ATTR_CLIP_DESCRIPTION:"dsc",ATTR_FILTER_NAME:"name",ATTR_FILTER_DESCRIPTION:"description",ATTR_FILTER_OBJECT_TYPE:"obj_type",ATTR_FILTER_TYPE:"type",ATTR_FILTER_LIMIT:"limit",ATTR_FILTER_COLOR:"color",ATTR_FILTER_SORT_BY:"sortBy",ATTR_FILTER_LIST_STYLE:"listStyle",ATTR_FILTER_AUTO_RULE_ENABLED:"autoRuleEnabled",ATTR_FILTER_AUTO_RULE_TEXT:"autoRuleText",ATTR_FILTER_EXCLUDE_WITH_CUSTOM_ATTRS:"excludeCustomAttrs",ATTR_FILTER_TAG_IDS:"tagIds",ATTR_FILTER_TAG_IDS_WHERE_TYPE:"tagIdsWhereType",ATTR_FILTER_SNIPPET_SETS_IDS:"snippetSetsIds",ATTR_FILTER_SNIPPET_SETS_WHERE_TYPE:"snippetSetsWhereType",ATTR_FILTER_LOCATED_IN_WHERE_TYPE:"locatedInWhereType",ATTR_FILTER_SHOW_ONLY_WITH_PUBLIC_LINKS:"showOnlyWithPublicLink",ATTR_FILTER_SHOW_ONLY_WITH_ATTACHMENTS:"showOnlyWithAttachments",ATTR_FILTER_SHOW_ONLY_NOT_SYNCED:"showOnlyNotSynced",ATTR_FILTER_TEXT_TYPE_IN:"textTypeIn",ATTR_FILTER_CREATE_DATE_FROM:"createDateFrom",ATTR_FILTER_CREATE_DATE_TO:"createDateTo",ATTR_FILTER_CREATE_DATE_PERIOD:"createDatePeriod",ATTR_FILTER_UPDATE_DATE_FROM:"updateDateFrom",ATTR_FILTER_UPDATE_DATE_TO:"updateDateTo",ATTR_FILTER_UPDATE_DATE_PERIOD:"updateDatePeriod",ATTR_FILTER_TEXT_LIKE:"textLike",ATTR_FILTER_STARRED:"starred",ATTR_FILTER_UNTAGGED:"untagged",ATTR_FILTER_CLIPBOARD:"clipboard",ATTR_FILTER_RECYCLED:"recycled",ATTR_FILTER_UPDATED:"updated",ATTR_FILTER_DELETED:"deleted",ATTR_FILTER_SNIPPETS:"snippets",ATTR_FILTER_PIN_STARRED_ENABLED:"pinStarred",ATTR_FILTER_HIDE_HINT:"hideHint",ATTR_FILTER_SNIPPET_KIT:"snippetKit",ATTR_SNIPPET_KIT_ID:"id",ATTR_SNIPPET_KIT_NAME:"name",ATTR_SNIPPET_KIT_CREATED:"created",ATTR_SNIPPET_KIT_UPDATED:"updated",ATTR_SNIPPET_KIT_INSTALLS:"installs",ATTR_SNIPPET_KIT_USER_ID:"userId",ATTR_SNIPPET_KIT_USER_NAME:"userName",ATTR_SNIPPET_KIT_COLOR:"color",ATTR_SNIPPET_KIT_COUNTRY:"country",ATTR_SNIPPET_KIT_LANGUAGE:"language",ATTR_SNIPPET_KIT_FILTER_ID:"filterId",ATTR_SNIPPET_KIT_SNIPPETS_COUNT:"snippetsCount",ATTR_SNIPPET_KIT_SNIPPETS:"snippets",ATTR_SNIPPET_KIT_PUBLIC_LINK:"publicLink",ATTR_SNIPPET_KIT_DESCRIPTION:"description",ATTR_SNIPPET_KIT_PUBLIC_STATUS:"publicStatus",ATTR_SNIPPET_KIT_UPDATE_REASON:"updateReason",ATTR_SNIPPET_KIT_CATEGORY_ID:"categoryId",ATTR_SNIPPET_KIT_SHARABLE:"sharable",ATTR_SNIPPET_KIT_SORT_BY:"sortBy",ATTR_SNIPPET_KIT_LIST_STYLE:"listStyle",ATTR_SNIPPET_ID:"id",ATTR_SNIPPET_TEXT:"text",ATTR_SNIPPET_TITLE:"title",ATTR_SNIPPET_CREATED:"created",ATTR_SNIPPET_UPDATED:"updated",ATTR_SNIPPET_ABBREVIATION:"abbreviation",ATTR_SNIPPET_DESCRIPTION:"description",ATTR_SNIPPET_TEXT_TYPE:"textType",ATTR_PUBLIC_NOTE_POSTPONE_IN_MILLIS:"postponeInMillis",ATTR_PUBLIC_NOTE_POSTPONE_AT_DATE:"postponeAtDate",ATTR_PUBLIC_NOTE_EXPIRES_IN_MILLIS:"expiresInMillis",ATTR_PUBLIC_NOTE_EXPIRES_AT_DATE:"expiresAtDate",ATTR_PUBLIC_NOTE_LINK:"link",ATTR_PUBLIC_NOTE_LOCKED:"locked",ATTR_PUBLIC_NOTE_UNAVAILABLE:"unavailable",ATTR_PUBLIC_NOTE_PASSWORD_CLUE:"passwordClue",ATTR_PUBLIC_NOTE_OPENED_TIMES:"openedTimes",ATTR_PUBLIC_NOTE_ONETIME:"oneTimeOpening",FILE_META_NAME:"n",FILE_META_LABEL:"l",FILE_META_FOLDER:"f",FILE_META_TYPE:"t",FILE_META_MEDIA_TYPE:"m",FILE_META_SIZE:"s",FILE_META_MD5:"h",FILE_META_CREATED:"c",FILE_META_UPDATED:"u",FILE_META_UPLOADED:"r",FILE_META_ERROR:"e",FILE_META_PLATFORM:"pl",FILE_META_LOCAL_PATH:"p",FILE_MD5:"md5",FILE_SIZE:"size",FILE_TYPE:"type",FILE_NAME:"name",FILE_PATH:"path",FILE_FOLDER:"folder",FILE_DESCRIPTION:"description",FILE_ABBREVIATION:"abbreviation",FILE_CREATED:"created",FILE_UPDATED:"updated",FILE_DELETED:"deleted",FILE_MODIFIED:"modified",FILE_MEDIA_TYPE:"mediaType",FILE_UPLOADED:"uploaded",FILE_UPLOAD_URL:"uploadUrl",FILE_PLATFORM:"platform",FILE_ERROR:"error",FILE_TAG_IDS:"tagIds",FILE_KIT_IDS:"kitIds"}},e8ea:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r,i,a,o,s,c,u,l,d,p,f=n("448a"),h=n.n(f),g=n("6374"),m=n.n(g),_=n("c973"),T=n.n(_),E=(n("96cf"),n("d3b7"),n("e6cf"),n("a79d"),n("498a"),n("a15b"),n("d81d"),n("99af"),n("3ca3"),n("e260"),n("ddb0"),n("159b"),n("4de4"),n("7db0"),n("e6d6")),v=n("22a9"),S=(n("b0c0"),n("a4d3"),n("e01a"),n("f52e")),C=n("27f0"),b=n("72a1"),I=n("a8e6"),y=n("e2db"),A=n("586c"),D=n("1cee"),L=n("31a0"),x=n("baf0"),R=function(e){var t=new L.a;return t.path="/",t.platform=e.platform||y.a.getPlatform(),t.mediaType=e.mediaType,t.firestoreId=e.name,t.createDate=e.created,t.updateDate=e.updated,t.folder=e.folder,t.error=e.error,t.name=e.label,t.size=e.size,t.type=e.type,t.md5=e.md5,t.setUploaded(!0),t.setDownloaded(!1),t.setDeleted(!1),t},w=function(e){var t=new L.a,n=new Date;return t.path="/",t.size=e.size,t.name=e.name,t.mediaType=e.type,t.uploadUrl=e.path,t.downloadUrl=e.path,t.type=A.a.FILE.id,t.firestoreId=x.a.autoId(),t.platform=y.a.getPlatform(),t.createDate=n,t.modifyDate=I.a.fromJsonDate(e.lastModified)||n,t.folder=I.a.formatDate(n,"YYYYMMDD"),t.setDownloaded(!b.a.isNullOrBlank(t.downloadUrl)),t.setUploaded(!1),t.setDeleted(!1),D.a.debug("file",e,t),t},k=function(e){var t={};return t[E.a.FILE_MD5]=e.md5,t[E.a.FILE_SIZE]=e.size,t[E.a.FILE_TYPE]=e.type,t[E.a.FILE_NAME]=e.name,t[E.a.FILE_PATH]=e.path,t[E.a.FILE_FOLDER]=e.folder,t[E.a.FILE_CREATED]=e.createDate,t[E.a.FILE_UPDATED]=e.updateDate,t[E.a.FILE_MODIFIED]=e.modifyDate,t[E.a.FILE_DELETED]=e.deleteDate,t[E.a.FILE_MEDIA_TYPE]=e.mediaType,t[E.a.FILE_UPLOADED]=e.isUploaded(),t[E.a.FILE_UPLOAD_URL]=e.uploadUrl,t[E.a.FILE_PLATFORM]=e.platform,t[E.a.FILE_ERROR]=e.error,t[E.a.FILE_ABBREVIATION]=e.abbreviation,t[E.a.FILE_DESCRIPTION]=e.description,t[E.a.FILE_TAG_IDS]=e.getTagIds(),t[E.a.FILE_KIT_IDS]=e.getKitIds(),t[E.a.ATTR_DEVICE_ID]=y.a.getDeviceId(),t[E.a.ATTR_API_VERSION]=C.a.apiVersion,t[E.a.ATTR_CHANGE_TIMESTAMP]=E.a.getServerTimestamp(),E.a.normalizeMap(t,!0)},P=function(e){var t=e.doc.data(),n=new L.a;return n.firestoreId=e.doc.id,n.md5=t[E.a.FILE_MD5],n.size=t[E.a.FILE_SIZE],n.type=t[E.a.FILE_TYPE],n.name=t[E.a.FILE_NAME],n.path=t[E.a.FILE_PATH],n.folder=t[E.a.FILE_FOLDER],n.createDate=S.a.toDate(t[E.a.FILE_CREATED]),n.updateDate=S.a.toDate(t[E.a.FILE_UPDATED]),n.modifyDate=S.a.toDate(t[E.a.FILE_MODIFIED]),n.deleteDate=S.a.toDate(t[E.a.FILE_DELETED]),n.setDeleted(n.isDeleted()),n.mediaType=t[E.a.FILE_MEDIA_TYPE],n.setUploaded(t[E.a.FILE_UPLOADED]),n.uploadUrl=t[E.a.FILE_UPLOAD_URL],n.platform=t[E.a.FILE_PLATFORM],n.error=t[E.a.FILE_ERROR],n.abbreviation=t[E.a.FILE_ABBREVIATION],n.description=t[E.a.FILE_DESCRIPTION],n.setTagIds(t[E.a.FILE_TAG_IDS]),n.setKitIds(t[E.a.FILE_KIT_IDS]),n},N=n("5046"),F={changesListener:null,stopSync:function(){var e=F.changesListener;e&&(e.dispose(),F.changesListener=null)},startSync:function(e,t,n,r,i){F.stopSync();var a=e.getters.getAuthUserCollection;if(a){var o=e.getters.isAuthForceSync;o&&N.a.showLoadingState();var s=new v.a("files",e,a.getActiveFilesRef(),a.getDeletedFilesRef(),"activeFilesLatestDate","deletedFilesLatestDate",E.a.FILE_CREATED,t,n,r,r,i);F.changesListener=s.subscribe(o)}},save:function(e,t){var n=e.getters.getAuthUserCollection;return n?(n.getFileRef(t.getUid()).set(k(t),{merge:!0}),t):null},saveInBatch:function(e,t,n){var r=e.getters.getAuthUserCollection;if(r){var i=r.getFileRef(t.getUid());return n.set(i,k(t),{merge:!0}),t}return null}},O=n("89da"),B=n("2063"),U=n("8376"),M=n("25d0"),V=n("f936"),H=n("71a7"),W=n("ed99"),q=n("d975"),z=n("21a6"),G=n("3a75"),K=void 0,j={_uploadDisposableList:{},_downloadDisposableList:{},terminate:function(){F.stopSync()},initSync:function(e,t){return T()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:F.startSync(e,(function(t){return $(e,t)}),(function(t){return Q(e,t)}),(function(t){return J(e,t)}),(function(){j.migrate(e).then((function(e){return D.a.debug("migrated",e)})).finally(t)}));case 1:case"end":return n.stop()}}),n)})))()},save:function(e,t){return q.a.inTx("save file",T()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.save(t);case 2:return F.save(e,t),e.commit(W.a.SET_FILE_PROGRESS,t),n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)}))))},getFilePublicLink:(p=T()(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.a.getFilePublicLink(n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return p.apply(this,arguments)}),getFiles:function(e){return U.a.getFiles(e)},getFilesByIds:function(e){return U.a.getFilesByIds(e)},update:(d=T()(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w(r),a=i.title,(i=n.with(i)).modifyDate=new Date,i.isUploaded()&&!b.a.isNull(i.path)||(i.title=a),i.path=i.path||"/",i.uploaded=!1,e.abrupt("return",j._uploadFile(t,i,r));case 8:case"end":return e.stop()}}),e)}))),function(e,t,n){return d.apply(this,arguments)}),cancelUploadProgress:(l=T()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j._uploadDisposableList[n.id],b.a.execFunction(r)&&delete j._uploadDisposableList[n.id],n.isUploaded()){e.next=6;break}return n.setError(t.getters.getUI.$t("file_error_canceled")),e.next=6,q.a.inTx("cancel file progress",T()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.save(n);case 2:F.save(t,n),t.commit(W.a.SET_FILE_PROGRESS,n);case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)}),cancelDownloadProgress:(u=T()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j._downloadDisposableList[n.id],b.a.execFunction(r)&&delete j._downloadDisposableList[n.id],e.next=4,q.a.inTx("cancel file progress",T()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setDownloaded(!1),n.downloadUrl=null,e.next=4,U.a.save(n);case 4:F.save(t,n),t.commit(W.a.SET_FILE_PROGRESS,n);case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return u.apply(this,arguments)}),getDownloadUrl:(c=T()(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.downloadUrl,b.a.isNull(r)){e.next=6;break}return D.a.debug("getDownloadUrl from cache",r),e.abrupt("return",r);case 6:D.a.debug("getDownloadUrl",n);case 7:if(!(i=t.getters.getAuthUserCollection)){e.next=11;break}return a=i.getFileStorageRef(n),e.abrupt("return",a.getDownloadURL());case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)}),upload:(s=T()(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.getters.getAuthUserCollection){e.next=23;break}r=[],i=m()(n),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=14;break}return o=a.value,s=w(o),e.next=11,j._uploadFile(t,s,o);case 11:r.push(s);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",r);case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[4,16,19,22]])}))),function(e,t){return s.apply(this,arguments)}),download:(o=T()(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getters.remoteConfigAttachmentDownloadInMemoryLimit,n.getSize()<=i?((a=new XMLHttpRequest).responseType="blob",a.onload=function(){var e=a.response;Object(z.saveAs)(e,n.getName()),t.commit(W.a.SET_FILE_PROGRESS,n)},a.onprogress=function(){var e=T()(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.lengthComputable&&(n.progress=r.loaded/r.total*100,t.commit(W.a.SET_FILE_PROGRESS,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onerror=function(){},a.onabort=function(){n.progress=0,t.commit(W.a.SET_FILE_PROGRESS,n)},a.onloadend=function(){n.progress=0,t.commit(W.a.SET_FILE_PROGRESS,n)},j._downloadDisposableList[n.id]=a.abort,a.open("GET",r),a.send()):Object(z.saveAs)(r,n.getName());case 2:case"end":return e.stop()}}),e)}))),function(e,t,n){return o.apply(this,arguments)}),getFilesAsString:(a=T()(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=V.a.getUI()){e.next=3;break}return e.abrupt("return",null);case 3:i=[],a=m()(n),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=15;break}return s=o.value,e.next=11,U.a.getById(s);case 11:(c=e.sent)&&i.push(c);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return e.abrupt("return",i.map((function(e){var t="".concat(r.$t("attachments_attr_name"),": ").concat(e.getLabel());t+="\n".concat(r.$t("attachments_attr_size"),": ").concat(e.getFormattedSize());var n=e.getMediaType();return n&&(t+="\n".concat(r.$t("attachments_attr_type"),": ").concat(n)),t.trim()})).join(H.a.MD).trim());case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])}))),function(e,t){return a.apply(this,arguments)}),migrate:(i=T()(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.getters.getAuthUserCollection)){e.next=24;break}if(e.t0=n,e.t0){e.next=7;break}return e.next=6,M.a.getWithFiles();case 6:e.t0=e.sent;case 7:i=e.t0,a=m()(i),e.prev=9,s=regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.value,e.prev=1,i=n.files.map((function(e){return R(e)})),a=i.map((function(e){return e.getUid()})),n.getFileIds().forEach((function(e){return b.a.arrayRemoveItem(a,e)})),b.a.arrayIsEmpty(a)){e.next=9;break}return D.a.debug("migrate :: clip",n),e.next=9,q.a.inTx("upgrade file",T()(regeneratorRuntime.mark((function e(){var o,s,c,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push.apply(a,h()(n.getFileIds())),n.setFileIds(b.a.arrayDistinct(a)),o=r.createBatch(),s=m()(i),e.prev=4,s.s();case 6:if((c=s.n()).done){e.next=18;break}return u=c.value,e.next=10,U.a.getByUid(u.getUid());case 10:if(l=e.sent,!b.a.isNull(l)){e.next=16;break}return e.next=14,U.a.save(u);case 14:D.a.debug("migrate :: save new file from meta",u),F.saveInBatch(t,u,o);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),s.e(e.t0);case 23:return e.prev=23,s.f(),e.finish(23);case 26:return e.next=28,M.a.save(n);case 28:(d={})[E.a.ATTR_CLIP_FILE_IDS]=n.getFileIds(),O.a.saveInBatch(t,n,o,d),o.commit().then((function(){return D.a.debug("upgrade completed for a clip",n)}));case 32:case"end":return e.stop()}}),e,null,[[4,20,23,26]])}))));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),D.a.error("upgrade error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})),a.s();case 12:if((o=a.n()).done){e.next=16;break}return e.delegateYield(s(),"t1",14);case 14:e.next=12;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(9),a.e(e.t2);case 21:return e.prev=21,a.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,18,21,24]])}))),function(e,t){return i.apply(this,arguments)}),_uploadFile:(r=T()(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.getters.getAuthUserCollection)){e.next=10;break}return a=i.getFileStorageRef(n),e.next=5,q.a.inTx("upload file",T()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.save(n);case 2:F.save(t,n);case 3:case"end":return e.stop()}}),e)}))));case 5:return(o={})[E.a.ATTR_API_VERSION]=C.a.apiVersion,s=a.put(r,o),j._uploadDisposableList[n.id]=s.on("state_changed",(function(e){n.progress=e.bytesTransferred/e.totalBytes*100,D.a.debug("progress",n.getUid(),n.progress),t.commit(W.a.SET_FILE_PROGRESS,n)}),(function(e){K._saveError(t,n,e),delete j._uploadDisposableList[n.id]}),(function(){return q.a.inTx("uploadAttachment :: success",T()(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.getById(n.id);case 2:return n=e.sent,r=s.snapshot.metadata,n.mediaType=r.contentType,n.md5=r.md5Hash,n.setUploaded(!0),n.error=null,e.next=10,U.a.save(n);case 10:F.save(t,n),t.commit(W.a.SET_FILE_PROGRESS,n),delete j._uploadDisposableList[n.id];case 13:case"end":return e.stop()}}),e)}))))})),e.abrupt("return",n);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return r.apply(this,arguments)}),_saveError:function(e,t,n){return q.a.inTx("_saveError",T()(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,U.a.getById(t.id);case 2:return(i=r.sent).error="".concat(n.code,": ").concat(n.message),r.next=6,U.a.save(i);case 6:F.save(e,i),e.commit(W.a.SET_FILE_PROGRESS,i),e.commit(W.a.UPDATE_CLIP,clip);case 9:case"end":return r.stop()}}),r)}))))}};function $(e,t){return Y.apply(this,arguments)}function Y(){return(Y=T()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return"removed"!==e.type&&!e.doc.metadata.hasPendingWrites})).map((function(e){return P(e)})),!b.a.arrayIsNotEmpty(r)){e.next=4;break}return N.a.showLoadingState(),e.abrupt("return",q.a.inTx("initialFiles",T()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.a.saveAll(r));case 1:case"end":return e.stop()}}),e)})))).finally((function(){return N.a.hideLoadingState()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return X.apply(this,arguments)}function X(){return(X=T()(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return"removed"!==e.type&&!e.doc.metadata.hasPendingWrites})).map((function(e){return P(e)})),!b.a.arrayIsNotEmpty(r)){e.next=24;break}D.a.debug("snapshotFiles :: to be changed",r.length),i=[],a=[],o=m()(r),e.prev=6,c=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.value,n=a.find((function(e){return e.firestoreId===t.firestoreId}))){e.next=6;break}return e.next=5,U.a.getByUid(t.firestoreId);case 5:n=e.sent;case 6:n&&L.a.areTheSame(n,t)||(n&&!n.isDeleted()&&t.isDeleted()?i.push({prevFile:n,newFile:null}):n&&n.isDeleted()&&!t.isDeleted()?i.push({prevFile:null,newFile:t}):i.push({prevFile:n,newFile:t}),n&&(t.id=n.id),a.push(t));case 7:case"end":return e.stop()}}),e)})),o.s();case 9:if((s=o.n()).done){e.next=13;break}return e.delegateYield(c(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),o.e(e.t1);case 18:return e.prev=18,o.f(),e.finish(18);case 21:if(!(a.length>0)){e.next=24;break}return e.next=24,q.a.inTx("sync with server state",T()(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m()(i),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,B.a.update(r.prevFile,r.newFile);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:return e.next=19,U.a.saveAll(a);case 19:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))));case 24:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})))).apply(this,arguments)}function J(e,t){return Z.apply(this,arguments)}function Z(){return(Z=T()(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return"removed"!==e.type&&!e.doc.metadata.hasPendingWrites})).map((function(e){return P(e)})),!b.a.arrayIsNotEmpty(r)){e.next=25;break}i=[],a=m()(r),e.prev=4,a.s();case 6:if((o=a.n()).done){e.next=14;break}return s=o.value,e.next=10,U.a.getByUid(s.firestoreId);case 10:(c=e.sent)&&i.push(c);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:if(!b.a.arrayIsNotEmpty(i)){e.next=25;break}return e.next=25,q.a.inTx("sync with server state",T()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.deleteAll(i);case 2:case"end":return e.stop()}}),e)}))));case 25:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)}},ed99:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SET_LANGUAGE:"SET_LANGUAGE",UPDATE_THEME:"UPDATE_THEME",SET_THEME:"SET_THEME",SET_VIEW_MODE:"SET_VIEW_MODE",SHOW_CONFIRM:"SHOW_CONFIRM",SHOW_UPDATE:"SHOW_UPDATE",SHOW_ERROR:"SHOW_ERROR",SHOW_HINT:"SHOW_HINT",SET_CLIPS_LOADING:"SET_CLIPS_LOADING",SET_CLIPS:"SET_CLIPS",SET_LIST_STYLE:"SET_LIST_STYLE",SET_LIST_SORT_BY:"SET_LIST_SORT_BY",SET_SELECTED_CLIPS:"SET_SELECTED_CLIPS",SET_FILTER_BY_TEXT:"SET_FILTER_BY_TEXT",REQUEST_UNDO_DELETE:"REQUEST_UNDO_DELETE",REQUEST_FOCUS_ON_SEARCH:"REQUEST_FOCUS_ON_SEARCH",SET_DRAG_AND_DROP_SORT_FILTERS_MODE:"SET_DRAG_AND_DROP_SORT_FILTERS_MODE",SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS:"SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS",SET_DRAG_AND_DROP_TARGET_FILTER:"SET_DRAG_AND_DROP_TARGET_FILTER",RESET_DRAG_AND_DROP:"RESET_DRAG_AND_DROP",NEW_CLIP:"NEW_CLIP",VIEW_CLIP:"VIEW_CLIP",EDIT_CLIP:"EDIT_CLIP",UPDATE_CLIP:"UPDATE_CLIP",CANCEL_EDIT_CLIP:"CANCEL_EDIT_CLIP",SELECT_NEXT_CLIP:"SELECT_NEXT_CLIP",SELECT_PREV_CLIP:"SELECT_PREV_CLIP",UPDATE_CLIP_INDEX:"UPDATE_CLIP_INDEX",SET_AVAILABLE_ATTACHMENTS_FILTER:"SET_AVAILABLE_ATTACHMENTS_FILTER",UPDATE_PREVIEW:"UPDATE_PREVIEW",PLAY_PREVIEW:"PLAY_PREVIEW",HIDE_PREVIEW:"HIDE_PREVIEW",SHOW_PREVIEW:"SHOW_PREVIEW",SET_ACTIVE_CLIPBOARD_CLIP:"SET_ACTIVE_CLIPBOARD_CLIP",SET_ACTIVE_CLIPBOARD_TEXT:"SET_ACTIVE_CLIPBOARD_TEXT",SET_REMOTE_CONFIG:"SET_REMOTE_CONFIG",SET_AUTH_USER:"SET_AUTH_USER",SET_AUTH_VERIFIED:"SET_AUTH_VERIFIED",SET_AUTH_FORCE_SYNC:"SET_AUTH_FORCE_SYNC",SET_AUTH_SESSION_STARTED:"SET_AUTH_SESSION_STARTED",SET_AUTH_SHOW_SYNC_LIMIT_BANNER:"SET_AUTH_SHOW_SYNC_LIMIT_BANNER",REQUEST_WEB_AUTH:"REQUEST_WEB_AUTH",CANCEL_WEB_AUTH:"CANCEL_WEB_AUTH",SET_AUTH_TOKEN:"SET_AUTH_TOKEN",REQUEST_DOWNLOAD:"REQUEST_DOWNLOAD",TOGGLE_ADDITIONAL_ATTRS:"TOGGLE_ADDITIONAL_ATTRS",UPDATE_SETTINGS:"UPDATE_SETTINGS",SET_TEXT_SIZE:"SET_TEXT_SIZE",SET_ACTIVE_FILTER:"SET_ACTIVE_FILTER",SET_ADVANCED_FILTER:"SET_ADVANCED_FILTER",SET_FILE_PROGRESS:"SET_FILE_PROGRESS",SELECT_NEXT_FILE:"SELECT_NEXT_FILE",SELECT_PREV_FILE:"SELECT_PREV_FILE",CANCEL_VIEW_FILE:"CANCEL_VIEW_FILE",UPDATE_FILE:"UPDATE_FILE",SET_FILES:"SET_FILES",VIEW_FILE:"VIEW_FILE",EDIT_FILE:"EDIT_FILE",SET_SELECTED_ATTACHMENTS:"SET_SELECTED_ATTACHMENTS",SET_AVAILABLE_ATTACHMENTS:"SET_AVAILABLE_ATTACHMENTS",REQUEST_EDIT_TAGS:"REQUEST_EDIT_TAGS",REQUEST_SHOW_BANNER:"REQUEST_SHOW_BANNER",REQUEST_MERGE_CLIPS:"REQUEST_MERGE_CLIPS",REQUEST_SELECT_PLAN:"REQUEST_SELECT_PLAN",REQUEST_SHOW_LEFT_NAV:"REQUEST_SHOW_LEFT_NAV",REQUEST_HIDE_LEFT_NAV:"REQUEST_HIDE_LEFT_NAV",REQUEST_SHOW_SETTINGS:"REQUEST_SHOW_SETTINGS",REQUEST_SHOW_FILTER_DETAILS:"REQUEST_SHOW_FILTER_DETAILS",REQUEST_SHOW_ADVANCED_FILTER:"REQUEST_SHOW_ADVANCED_FILTER",VIEW_PUBLIC_LINK:"VIEW_PUBLIC_LINK",SET_PUBLIC_LINK_PASSWORD:"SET_PUBLIC_LINK_PASSWORD"}},f175:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("970b"),i=n.n(r),a=n("9523"),o=n.n(a),s=n("bd4c"),c=n("72a1"),u=function e(t){i()(this,e),o()(this,"value",void 0),this.value=t||new Date};u.prototype.withDate=function(e){var t=e||Date.now();return this.value.setDate(t),this},u.prototype.withDays=function(e){return this.value=s.b.addToDate(this.value,{days:e}),this},u.prototype.withSeconds=function(e){return this.value=s.b.addToDate(this.value,{seconds:e}),this},u.prototype.withoutTime=function(){return this.value=s.b.adjustDate(this.value,{hours:0,minutes:0,seconds:0,milliseconds:0}),this},u.prototype.adjustTime=function(e){if(!c.a.isDate(e))return this;var t={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()};return this.value=s.b.adjustDate(this.value,t),this},u.prototype.adjustDate=function(e){if(!c.a.isDate(e))return this;var t={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()};return this.value=s.b.adjustDate(this.value,t),this},u.prototype.getTime=function(){return this.value},u.getInstance=function(e){return new u(e)}},f3c5:function(e,t,n){"use strict";var r={name:"SpaceBlock",props:["heightInPx"],computed:{getStyle:function(){return"height: ".concat(this.heightInPx,"px")}}},i=n("2877"),a=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.getStyle})}),[],!1,null,null,null);t.a=a.exports},f52e:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("e6d6"),i={toTimestamp:function(e,t){if(!e)return t?null:r.a.getServerTimestamp();try{return r.a.getFirestoreTimestamp().fromDate(e)}catch(e){return r.a.getServerTimestamp()}},toDate:function(e){return e?e.toDate?e.toDate():e:null}}},f936:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("e260"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("a630"),n("a9e3"),n("07ac"),n("e9c4"),n("b64b");var r=n("a987"),i=n("e2db"),a=n("a849"),o=n("0477"),s=n("2667"),c=n("96e0"),u=n("8e0d"),l=n("0967"),d=s.a.clipto.settings.defineClass({id:Number,theme:Number,language:String,launchOnStartup:Boolean,restoreFilterOnStart:Boolean,trackClipboardChanges:Boolean,textFont:Number,textSize:Number,universalClipboard:Boolean,pinStarred:Boolean,referralId:String,disableSync:Boolean,hotkeysMap:String,hideOnCopy:Boolean,tagListWidth:Number,clipListWidth:Number,textSeparator:String,isFirstLaunch:Boolean,leftNavClosed:Boolean,hideFromTaskBar:Boolean,textType:Number,autoSave:Boolean,focusOnTitle:Boolean,filtersLatestDate:Date,activeClipsLatestDate:Date,deletedClipsLatestDate:Date,activeFilesLatestDate:Date,deletedFilesLatestDate:Date,filterGroupSnippetsCollapsed:Boolean,filterGroupFiltersCollapsed:Boolean,filterGroupNotesCollapsed:Boolean,filterGroupTagsCollapsed:Boolean,dynamicValueSelectedTab:String,dynamicValueSnippetSearchBy:String,doNotPreviewLinks:Boolean,settingsFlatMode:Boolean,noteShowAdditionalAttributes:Boolean,clipDetailsHeight:Number,clipDetailsTab:String});function p(e){return l.b.is.mac?"command+".concat(e):"ctrl+".concat(e)}d.prototype.getTheme=function(){return c.a.getById(this.theme)},d.prototype.getFont=function(){var e=this;if(!this.textFont)return u.a.ROBOTO;var t=Object.values(u.a).find((function(t){return t.id===e.textFont}));return t||u.a.ROBOTO},d.prototype.getHotkeysMap=function(){return this._hotkeysMap||(this._hotkeysMap=JSON.parse(this.hotkeysMap)),this._hotkeysMap},d.prototype.setHotkeysMap=function(e){this.hotkeysMap=JSON.stringify(e),this._hotkeysMap=e},d.prototype.hasHotkeys=function(){for(var e=this.getHotkeysMap(),t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("notePaste"!==r&&null!==e[r])return!0}return!1},d.prototype.normalize=function(e){return e&&(this.disableSync||(this.disableSync=!1),this.hideOnCopy||(this.hideOnCopy=!1),this.autoSave||(this.autoSave=!1),this.focusOnTitle||(this.focusOnTitle=!1),this.noteShowAdditionalAttributes||(this.noteShowAdditionalAttributes=!1),this.tagListWidth||(this.tagListWidth=e.tagListWidth),this.clipListWidth||(this.clipListWidth=e.clipListWidth),this.textFont||(this.textFont=e.textFont),this.textType||(this.textType=e.textType),this.filterGroupNotesCollapsed||(this.filterGroupNotesCollapsed=!1),this.filterGroupTagsCollapsed||(this.filterGroupTagsCollapsed=!1),this.filterGroupSnippetsCollapsed||(this.filterGroupSnippetsCollapsed=!1),this.filterGroupFiltersCollapsed||(this.filterGroupFiltersCollapsed=!1),this.doNotPreviewLinks||(this.doNotPreviewLinks=!1),this.settingsFlatMode||(this.settingsFlatMode=!1),this.restoreFilterOnStart||(this.restoreFilterOnStart=!1)),this.hotkeysMap||this.setHotkeysMap({noteNext:"down",notePrev:"up",noteOpen:"enter",noteCopy:p("c"),notePaste:p("v"),notePrint:p("p"),noteNew:p("n"),noteEdit:p("e"),noteSave:p("s"),noteFind:p("f"),noteDelete:p("del"),modeFullscreen:p("1"),modeComfortable:p("2"),modeCompact:p("3"),tagNext:p("down"),tagPrev:p("up"),showHideApp:p("shift+e"),trackClipboard:p("shift+p"),contextModeCancel:"esc",contextModeSelect:"space",contextModeSelectAll:p("a")}),this},d.getDefault=function(){var e=new d;return e.textSize=16,e.hideOnCopy=!1,e.disableSync=!1,e.launchOnStartup=!1,e.trackClipboardChanges=!1,e.textFont=u.a.ROBOTO.id,e.textType=o.a.TEXT_PLAIN.id,e.language=r.a.getLanguage(),e.theme=a.a.getCurrentTheme().id,e.universalClipboard=i.a.isDesktop(),e.tagListWidth=20,e.clipListWidth=50,e.isFirstLaunch=!1,e.leftNavClosed=!1,e.hideFromTaskBar=!1,e.autoSave=!1,e.focusOnTitle=!0,e.restoreFilterOnStart=!0,e.noteShowAdditionalAttributes=!1,e.filterGroupSnippetsCollapsed=!0,e.filterGroupFiltersCollapsed=!0,e.filterGroupNotesCollapsed=!0,e.filterGroupTagsCollapsed=!0,e.doNotPreviewLinks=!1,e.settingsFlatMode=!1,e};var f=n("de99"),h={settings:d.getDefault(),filters:f.a.getDefault(),selectedClipsMap:new Map,updateFilesProgress:{},deletedClips:[],availableAttachments:[],clips:[],files:[],ui:null,removeAll:function(){h.selectedClipsMap.clear(),h.updateFilesProgress={},h.deletedClips=[],h.clips=[],h.files=[]},getUpdateFilesProgress:function(){return h.updateFilesProgress},setFileProgress:function(e){var t=h.getFiles().find((function(t){return t.id===e.id}));t&&t.apply(e),h.updateFilesProgress[e.id]=e},setUI:function(e){h.ui=e},getUI:function(){return h.ui},setFilters:function(e){h.filters=e},getFilters:function(){return h.filters},getFilterLast:function(){return h.filters.last},getFilterClipboard:function(){return h.filters.clipboard},getFilterAll:function(){return h.filters.all},setSettings:function(e){h.settings=e},getSettings:function(){return h.settings},setClips:function(e){h.clips=e||[]},getClips:function(){return h.clips},setFiles:function(e){h.files=e||[]},getFiles:function(){return h.files},setAvailableAttachments:function(e){h.availableAttachments=e||[]},getAvailableAttachments:function(){return h.availableAttachments},setDeletedClips:function(e){h.deletedClips=e||[]},getDeletedClips:function(){return h.deletedClips},setSelectedClipsMap:function(e){h.selectedClipsMap=e||new Map},getSelectedClipsMap:function(){return h.selectedClipsMap},getSelectedClips:function(){return Array.from(h.selectedClipsMap.values())},getSelectedClipsIds:function(){return Array.from(h.selectedClipsMap.keys())}}},fab3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={USAGE_DATE_DESC:{id:0,desc:!0,titleRes:"sort_order_usage_date",attrTitleRes:"clip_attr_updated",reverse:function(){return r.USAGE_DATE_ASC}},CREATE_DATE_DESC:{id:1,desc:!0,titleRes:"sort_order_create_date",attrTitleRes:"clip_attr_created",reverse:function(){return r.CREATE_DATE_ASC}},USAGE_COUNT_DESC:{id:2,desc:!0,titleRes:"sort_order_usage_count",attrTitleRes:"clip_attr_usageCount",reverse:function(){return r.USAGE_COUNT_ASC}},TITLE_DESC:{id:3,desc:!0,titleRes:"sort_order_title",attrTitleRes:"clip_attr_created",reverse:function(){return r.TITLE_ASC}},TEXT_DESC:{id:4,desc:!0,titleRes:"sort_order_text",attrTitleRes:"clip_attr_created",reverse:function(){return r.TEXT_ASC}},USAGE_DATE_ASC:{id:5,titleRes:"sort_order_usage_date",attrTitleRes:"clip_attr_updated",reverse:function(){return r.USAGE_DATE_DESC}},CREATE_DATE_ASC:{id:6,titleRes:"sort_order_create_date",attrTitleRes:"clip_attr_created",reverse:function(){return r.CREATE_DATE_DESC}},USAGE_COUNT_ASC:{id:7,titleRes:"sort_order_usage_count",attrTitleRes:"clip_attr_usageCount",reverse:function(){return r.USAGE_COUNT_DESC}},TITLE_ASC:{id:8,titleRes:"sort_order_title",attrTitleRes:"clip_attr_created",reverse:function(){return r.TITLE_DESC}},TEXT_ASC:{id:9,titleRes:"sort_order_text",attrTitleRes:"clip_attr_created",reverse:function(){return r.TEXT_DESC}},TAGS_DESC:{id:10,desc:!0,titleRes:"sort_order_tags",attrTitleRes:"clip_attr_created",reverse:function(){return r.TAGS_ASC}},TAGS_ASC:{id:11,titleRes:"sort_order_tags",attrTitleRes:"clip_attr_created",reverse:function(){return r.TAGS_DESC}},SIZE_ASC:{id:12,titleRes:"sort_order_size",attrTitleRes:"clip_attr_size",reverse:function(){return r.SIZE_DESC}},SIZE_DESC:{id:13,desc:!0,titleRes:"sort_order_size",attrTitleRes:"clip_attr_size",reverse:function(){return r.SIZE_ASC}},MODIFY_DATE_ASC:{id:14,titleRes:"sort_order_modify_date",attrTitleRes:"clip_attr_edited",reverse:function(){return r.MODIFY_DATE_DESC}},MODIFY_DATE_DESC:{id:15,desc:!0,titleRes:"sort_order_modify_date",attrTitleRes:"clip_attr_edited",reverse:function(){return r.MODIFY_DATE_ASC}},DELETE_DATE_ASC:{id:16,titleRes:"sort_order_delete_date",attrTitleRes:"clip_attr_deleted",reverse:function(){return r.DELETE_DATE_DESC}},DELETE_DATE_DESC:{id:17,desc:!0,titleRes:"sort_order_delete_date",attrTitleRes:"clip_attr_deleted",reverse:function(){return r.DELETE_DATE_ASC}},CHARACTERS_ASC:{id:18,titleRes:"clip_attr_charsCount",attrTitleRes:"clip_attr_charsCount",reverse:function(){return r.CHARACTERS_DESC}},CHARACTERS_DESC:{id:19,desc:!0,titleRes:"clip_attr_charsCount",attrTitleRes:"clip_attr_charsCount",reverse:function(){return r.CHARACTERS_ASC}},NAME_ASC:{id:20,titleRes:"sort_order_name",attrTitleRes:"clip_attr_created",reverse:function(){return r.NAME_DESC}},NAME_DESC:{id:21,desc:!0,titleRes:"sort_order_name",attrTitleRes:"clip_attr_created",reverse:function(){return r.NAME_ASC}},NOTES_COUNT_ASC:{id:22,titleRes:"sort_order_notes_count",attrTitleRes:"clip_attr_created",reverse:function(){return r.NOTES_COUNT_DESC}},NOTES_COUNT_DESC:{id:23,desc:!0,titleRes:"sort_order_notes_count",attrTitleRes:"clip_attr_created",reverse:function(){return r.NOTES_COUNT_ASC}},COLOR_ASC:{id:24,titleRes:"sort_order_color",attrTitleRes:"clip_attr_created",reverse:function(){return r.COLOR_DESC}},COLOR_DESC:{id:25,desc:!0,titleRes:"sort_order_color",attrTitleRes:"clip_attr_created",reverse:function(){return r.COLOR_ASC}},MANUAL_ASC:{id:26,titleRes:"sort_order_manual",attrTitleRes:"clip_attr_created",reverse:function(){return r.MANUAL_DESC}},MANUAL_DESC:{id:27,desc:!0,titleRes:"sort_order_manual",attrTitleRes:"clip_attr_created",reverse:function(){return r.MANUAL_ASC}}};r.byId={0:r.USAGE_DATE_DESC,1:r.CREATE_DATE_DESC,2:r.USAGE_COUNT_DESC,3:r.TITLE_DESC,4:r.TEXT_DESC,5:r.USAGE_DATE_ASC,6:r.CREATE_DATE_ASC,7:r.USAGE_COUNT_ASC,8:r.TITLE_ASC,9:r.TEXT_ASC,10:r.TAGS_DESC,11:r.TAGS_ASC,12:r.SIZE_ASC,13:r.SIZE_DESC,14:r.MODIFY_DATE_ASC,15:r.MODIFY_DATE_DESC,16:r.DELETE_DATE_ASC,17:r.DELETE_DATE_DESC,18:r.CHARACTERS_ASC,19:r.CHARACTERS_DESC,20:r.NAME_ASC,21:r.NAME_DESC,22:r.NOTES_COUNT_ASC,23:r.NOTES_COUNT_DESC,24:r.COLOR_ASC,25:r.COLOR_DESC,26:r.MANUAL_ASC,27:r.MANUAL_DESC},r.rulesForNotes=[r.CREATE_DATE_DESC,r.MODIFY_DATE_DESC,r.USAGE_DATE_DESC,r.USAGE_COUNT_DESC,r.TITLE_ASC,r.TEXT_ASC,r.TAGS_ASC,r.SIZE_DESC,r.CHARACTERS_DESC],r.rulesForRecycleBin=[r.DELETE_DATE_DESC,r.CREATE_DATE_DESC,r.MODIFY_DATE_DESC,r.USAGE_DATE_DESC,r.USAGE_COUNT_DESC,r.TITLE_ASC,r.TEXT_ASC,r.TAGS_ASC,r.SIZE_DESC,r.CHARACTERS_DESC],r.rulesForTagsGroup=[r.NAME_ASC,r.NOTES_COUNT_DESC,r.COLOR_ASC,r.MANUAL_ASC],r.rulesForSnippetsGroup=[r.NAME_ASC,r.NOTES_COUNT_DESC,r.COLOR_ASC,r.MANUAL_ASC],r.rulesForFiltersGroup=[r.NAME_ASC,r.COLOR_ASC,r.MANUAL_ASC],r.rulesForNotesGroup=[r.NAME_ASC,r.NOTES_COUNT_DESC,r.MANUAL_ASC],r.rulesForSnippetKit=[r.TITLE_ASC,r.TEXT_ASC,r.CREATE_DATE_DESC,r.MODIFY_DATE_DESC],r.getItems=function(e){return e.isDeleted()?r.rulesForRecycleBin:e.isGroupTags()?r.rulesForTagsGroup:e.isGroupNotes()?r.rulesForNotesGroup:e.isGroupFilters()?r.rulesForFiltersGroup:e.isGroupSnippets()?r.rulesForSnippetsGroup:e.isSnippetKit()?r.rulesForSnippetKit:r.rulesForNotes}},fb10:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("c973"),i=n.n(r),a=(n("96cf"),n("72a1")),o=n("1cee"),s=n("16c9"),c=n("2667").a.clipto,u={getUser:function(){return c.users.toCollection().first()},login:function(e){return i()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.uid){t.next=19;break}return t.next=3,c.users.where("firebaseId").equals(e.uid).first();case 3:if(n=t.sent,!a.a.isNull(n)){t.next=16;break}return t.next=7,c.users.clear();case 7:return(r=new s.a).email=e.email,r.firebaseId=e.uid,r.photoUrl=e.photoUrl,r.displayName=e.displayName,t.next=14,c.users.add(r);case 14:r.id=t.sent,n=r;case 16:return t.abrupt("return",n);case 19:return t.next=21,c.users.clear();case 21:return t.abrupt("return",null);case 22:case"end":return t.stop()}}),t)})))()},save:function(e){return o.a.debug("save user",e),c.users.put(e)},clear:function(){return c.users.clear()}}},fdf6:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"isPreviewDisabled",(function(){return a})),n.d(r,"isLinkPreviewUpdated",(function(){return o})),n.d(r,"getLinkPreviewToPlay",(function(){return s}));var i=n("8896");function a(e){return e.hideLinkPreviews}function o(e){return e.linkPreviewUpdate}function s(e){return e.linkPreviewToPlay}var c,u=n("9523"),l=n.n(u),d=n("ed99"),p=(c={},l()(c,d.a.HIDE_PREVIEW,(function(e){i.a.set("hideLinkPreviews",!0),e.linkPreviewUpdate=Date.now(),e.hideLinkPreviews=!0})),l()(c,d.a.SHOW_PREVIEW,(function(e){i.a.set("hideLinkPreviews",!1),e.linkPreviewUpdate=Date.now(),e.hideLinkPreviews=!1})),l()(c,d.a.UPDATE_PREVIEW,(function(e){e.linkPreviewUpdate=Date.now()})),l()(c,d.a.PLAY_PREVIEW,(function(e,t){e.linkPreviewToPlay={preview:t,date:Date.now()}})),c),f=(n("e9c4"),n("d3b7"),n("e6cf"),n("a4d3"),n("e01a"),n("2ca0"),n("8a79"),n("61b4")),h=n("5046"),g=function(e){return e&&(e.endsWith("jpeg")||e.endsWith("jpg")||e.endsWith("png"))},m=n("c9d9"),_=n("3a75"),T=n("f303"),E=l()({},m.a.onGetLinkPreview,(function(e,t){var n=t.previewCache||v,r=t.forcePreview,i=t.url,a=t.ui,o=t.id;return!r&&a.$store.getters.isPreviewDisabled?S(o).then((function(e){return I(a,e,i,n,r)})):S(o).then((function(e){var t=n.get(i);return t?y(a,e,t,i,n,r):(I(a,e,i,n,r),_.a.getLinkPreview(i).then((function(e){if(e){var t=C(o);t&&y(a,t,e,i,n,r)}n.put(i,e)})))})).catch((function(){var e=C(o);e&&function(e,t){t.innerHTML=""}(0,e)}))})),v={put:function(e,t){try{t?(delete t.url,i.a.set(e,JSON.stringify(t))):i.a.remove(e)}catch(e){}},get:function(e){try{var t=i.a.get(e);if(t){var n=JSON.parse(t);return n.url=e,n}}catch(e){return null}return null}};function S(e){return new Promise((function(t,n){f.a.nextTick((function(){var r=C(e);r?t(r):n("not found")}))}))}function C(e){return document.getElementById(e)}function b(e,t){return e&&T.c.css(e,{"padding-left":"12px","padding-right":"12px","margin-top":"4px","box-shadow":"2px 0px ".concat(t," inset")}),e}function I(e,t,n,r,i){var a;!i&&e.$store.getters.isPreviewDisabled?(a=function(e){var t=document.createElement("a");t.href=e;var n=h.a.getTextColorSecondary(),r=document.createElement("div");return T.c.css(r,{color:"".concat(n),display:"inline-block","font-size":"70%","font-weight":"bold"}),r.innerHTML=t.hostname,r}(n),t.appendChild(a)):(a=function(e){var t=h.a.getTextColorSecondary(),n=document.createElement("div");return T.c.css(n,{color:"".concat(t),display:"inline-block","font-size":"70%"}),n.innerHTML=e.$t("link_preview_label"),n}(e),t.appendChild(a));var o=D(e,n,r,i);return t.appendChild(o),A(t,a,o),b(t,h.a.getTextColorSecondary())}function y(e,t,n,r,i,a){t.innerHTML=null;var o=D(e,r,i,a),s=function(e){var t=document.createElement("div");return T.c.css(t,{display:"inline-block","font-size":"70%"}),t.appendChild(function(e){var t=h.a.getActionIconColorHighlight(),n=document.createElement("div");if(T.c.css(n,{color:"".concat(t),"font-weight":"bold"}),e.siteName)n.innerHTML=e.siteName;else if(e.url){var r=document.createElement("a");r.href=e.url,n.innerHTML=r.hostname}return n}(e)),t}(n),c=function(e,t,n){var r=document.createElement("div"),i=h.a.getTextColorPrimary();T.c.css(r,{"font-size":"70%",color:"".concat(i)});var a=function(e){if(e.title){var t=document.createElement("div");return T.c.css(t,{"font-weight":"bold"}),t.innerHTML=e.title,t}return null}(t);a&&r.appendChild(a);var o=function(e){if(e.description){var t=e.description,n=document.createElement("div");if(t&&t.length>200){var r=t.indexOf(".",200);-1===r&&(r=t.indexOf("\n\n",200)),-1!==r&&r<t.length-1&&(t="".concat(t.substring(0,r),""))}return n.innerHTML=t,n}return null}(t);o&&r.appendChild(o);var s=function(e,t,n){var r=t.imageUrl;!r&&g(t.url)&&(r=t.url);if(r){var i=function(e){return e.embedUrl&&(e.mediaType&&e.mediaType.startsWith("video")||e.imageUrl&&e.imageUrl.endsWith(".mp4"))}(t),a=document.createElement("div");T.c.css(a,{"margin-top":"8px",width:"fit-content",height:"fit-content",position:"relative"});var o=document.createElement("img");return o.src=r,T.c.css(o,{"border-radius":"".concat(h.a.getBorderRadius(),"px")}),n||(i&&(o.addEventListener("click",(function(){e.$store.commit(d.a.PLAY_PREVIEW,{imageUrl:r})})),T.c.css(o,{cursor:"zoom-in"})),o.onload=function(){if(!(64>=o.width)){var n,r=document.createElement("div");T.c.css(r,{background:"rgba(0,0,0,0.4)","border-radius":"50%",width:"72px",height:"72px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer",position:"absolute"}),r.addEventListener("click",(function(){e.$store.commit(d.a.PLAY_PREVIEW,t)})),n=i?"url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' height='".concat(48,"' viewBox='0 0 24 24' width='").concat(48,"'><path d='M0 0h24v24H0z' fill='none'/><path style='fill: white' d='M8 5v14l11-7z'/></svg>\")"):"url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' height='".concat(48,"' viewBox='0 0 24 24' width='").concat(48,"'><path d='M0 0h24v24H0V0z' fill='none'/><path style='fill: white' d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' /><path style='fill: white' d='M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z'/></svg>\")");var s=document.createElement("div");T.c.css(s,{"background-image":n,transform:"translate(-50%, -50%)",position:"absolute",top:"50%",left:"50%",width:"".concat(48,"px"),height:"".concat(48,"px")}),r.appendChild(s),a.appendChild(r)}}),a.appendChild(o),a}}(e,t,n);s&&r.appendChild(s);return r}(e,n,a);return t.appendChild(s),t.appendChild(o),t.appendChild(c),A(t,s,o),b(t,h.a.getActionIconColorHighlight())}function A(e,t,n){var r=T.c.width(e)-T.c.width(n)-28;T.c.css(t,{width:"".concat(r,"px")})}function D(e,t,n,r){if(r)return document.createElement("div");var i,a=e.$store.getters.isPreviewDisabled,o=h.a.getTextColorSecondary(),s=document.createElement("a");return a?(i=e.$t("link_preview_show"),s.addEventListener("click",(function(){e.$store.commit(d.a.SHOW_PREVIEW)}))):(i=e.$t("link_preview_hide"),s.addEventListener("click",(function(){n.put(t,null),e.$store.commit(d.a.HIDE_PREVIEW)}))),T.c.css(s,{color:"".concat(o),display:"inline-block","text-align":"right","font-size":"70%",position:"relative",float:"right"}),s.innerHTML=i,s.href="#",s}t.a={namespaced:!1,state:function(){return{linkPreviewToPlay:{},linkPreviewUpdate:Date.now(),hideLinkPreviews:i.a.getBoolean("hideLinkPreviews")}},getters:r,mutations:p,actions:E}}}]);