(window.webpackJsonp=window.webpackJsonp||[]).push([[93,3,98],{"0196":function(t,e,n){var i=n("5a88"),r=n("bbf0");function o(t){this.mode=r.BYTE,this.data=i.from(t)}o.getBitsLength=function(t){return 8*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=o},"03c0":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"isTrayMode",(function(){return l})),n.d(i,"getViewMode",(function(){return u})),n.d(i,"isInFullScreen",(function(){return d})),n.d(i,"isSeparatorDisabled",(function(){return h})),n.d(i,"getSeparatorClass",(function(){return p})),n.d(i,"getSplitterClass",(function(){return f})),n.d(i,"isCompactMode",(function(){return g})),n.d(i,"isDesktopMode",(function(){return m})),n.d(i,"isDesktopOrDesktopBrowser",(function(){return v})),n.d(i,"isWindowsDesktop",(function(){return y})),n.d(i,"isMac",(function(){return _})),n.d(i,"getUpdateRequest",(function(){return b})),n.d(i,"getUI",(function(){return S})),n.d(i,"getUnexpectedErrorRequest",(function(){return C})),n.d(i,"getConfirmDialogRequest",(function(){return T})),n.d(i,"getHintDialogRequest",(function(){return w}));var r=n("1ce4"),o={viewMode:r.a.DEFAULT,unexpectedErrorRequest:null,confirmDialogRequest:null,hintDialogRequest:null,updateRequest:null},a=n("f936"),s=n("09f9"),c=n("0967");function l(){return s.a.lt.sm&&c.b.is.electron&&s.a.width<=400}function u(t){return s.a.lt.sm?r.a.DEFAULT:t.viewMode}function d(t,e){return e.getViewMode===r.a.FOCUS}function h(t){return t.viewMode!==r.a.DEFAULT&&!s.a.lt.sm}function p(t){return t.viewMode===r.a.DEFAULT?"bg-colorDividerLight":"hidden"}function f(t){return t.viewMode===r.a.DEFAULT?"fit":"fullscreen"}function g(){return s.a.lt.md&&c.b.is.electron}function m(){return c.b.is.electron}function v(){return c.b.is.electron||c.b.is.desktop}function y(){return c.b.is.win&&c.b.is.electron}function _(){return c.b.is.mac}function b(t){return t.updateRequest}function S(){return a.a.getUI()}function C(t){return t.unexpectedErrorRequest}function T(t){return t.confirmDialogRequest}function w(t){return t.hintDialogRequest}var I,E,A=n("9523"),x=n.n(A),k=n("ed99"),D=(I={},x()(I,k.a.SET_VIEW_MODE,(function(t,e){t.viewMode=e})),x()(I,k.a.SHOW_UPDATE,(function(t,e){t.updateRequest=e})),x()(I,k.a.SHOW_ERROR,(function(t,e){t.unexpectedErrorRequest=e})),x()(I,k.a.SHOW_CONFIRM,(function(t,e){t.confirmDialogRequest=e})),x()(I,k.a.SHOW_HINT,(function(t,e){t.hintDialogRequest=e})),I),R=(n("a4d3"),n("e01a"),n("ac1f"),n("466d"),n("d3b7"),n("e6cf"),n("a79d"),n("ac7d")),L=n("8896"),F=n("533d"),O=n("a087"),P=n("e2db"),N=n("5046"),B=n("c9d9"),M=n("3a75"),q=(E={},x()(E,B.a.onShowNotification,(function(t,e){var n=t.getters.getUI;if(n){var i=e.titleRes,r=e.descriptionRes,o=e.description||n.$t(r);if(i&&o){var a=new Notification(n.$t(i),{body:o});a.onclick=function(){a.close()}}}})),x()(E,B.a.onShowError,(function(t,e){var n=t.getters.getUI,i={date:Date.now(),icon:"error",iconColor:"negative",title:e.code,message:e.message,actionLabel:n.$t("about_label_issue"),onActionClicked:function(){O.a.email(n,e.code,e)}};t.commit(k.a.SHOW_HINT,i)})),x()(E,B.a.onShowConfirm,(function(t,e){e.date=Date.now(),t.commit(k.a.SHOW_CONFIRM,e)})),x()(E,B.a.onShowHint,(function(t,e){e.date=Date.now(),t.commit(k.a.SHOW_HINT,e)})),x()(E,B.a.onHandleReferralLink,(function(){var t=(L.a.remove("search")||"").match(/r=(.*)/);if(t&&2===t.length){var e=t[1];if(e){var n=F.a.decryptText(e);if(n)return a.a.getSettings().referralId=n,R.a.save()}}})),x()(E,B.a.onGenerateReferralLink,(function(){return N.a.showLoadingState(),M.a.getInvitationLink().finally((function(){return N.a.hideLoadingState()}))})),x()(E,B.a.onOpenLink,(function(t,e){if(P.a.isDesktop())return t.dispatch(B.a.onOpenLinkElectron,e);N.a.openURL(e)})),E);e.a={namespaced:!1,state:o,getters:i,mutations:D,actions:q}},"0425":function(t,e){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return r.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},"0477":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7");var i={TEXT_PLAIN:{id:0,iconRes:"text_fields",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_text_plain"},LINK:{id:1,iconRes:"link",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_link"},MARKDOWN:{id:2,iconRes:"fab fa-markdown",iconSize:"16px",iconOuterClass:"q-mr-sm q-ml-xs",labelRes:"clip_text_type_markdown"},HTML:{id:3,iconRes:"fas fa-code",iconSize:"16px",iconOuterClass:"q-mr-sm q-ml-xs",labelRes:"clip_text_type_html"},LINE_CLICKABLE:{id:4,iconRes:"line_weight",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_line_clickable"},WORD_CLICKABLE:{id:5,iconRes:"line_style",iconSize:"18px",iconOuterClass:"q-mr-sm",labelRes:"clip_text_type_word_clickable"},QRCODE:{id:6,iconRes:"fas fa-qrcode",iconSize:"16px",iconOuterClass:"q-mr-sm q-ml-xs",labelRes:"clip_text_type_qrcode"}};i.byId={0:i.TEXT_PLAIN,1:i.LINK,2:i.MARKDOWN,3:i.HTML,4:i.LINE_CLICKABLE,5:i.WORD_CLICKABLE,6:i.QRCODE},i.values=[i.TEXT_PLAIN,i.LINK,i.QRCODE,i.MARKDOWN,i.HTML,i.LINE_CLICKABLE,i.WORD_CLICKABLE]},"05f0":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("34bb"),r=n("72a1"),o=n("1cee"),a={uniqueCommands:{},sendCommand:function(t,e,n){var s=!0;if(n){var c=a.uniqueCommands[t];s=!r.a.areObjectsTheSame(c,e),o.a.debug("can send unique :: ",s,c,e),a.uniqueCommands[t]=e}s?(o.a.debug("send command",t,e),i.ipcRenderer.send(t,e)):o.a.debug("send command skip :: not unique",t,e)},registerCommand:function(t,e){i.ipcRenderer.on(t,(function(t,n){o.a.debug("on command",t,n),e(t,n)}))},showFileInFolder:function(t){i.shell.showItemInFolder(t)}}},"080d":function(t,e,n){"use strict";var i={name:"ItemRune",components:{IconRune:n("6849").a},props:["rune","width","onRuneClicked"],data:function(){return{hovered:!1}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getCardStyle:function(){return"border-radius: ".concat(this.$store.getters.getBorderRadius,"px;")},getCardClass:function(){return this.hovered?"q-pt-sm q-pb-xs cursor-pointer bg-colorDialog non-selectable shadow-8":"q-pt-sm q-pb-xs cursor-pointer bg-colorDialog non-selectable shadow-4"},getWidth:function(){return this.width||88},getRuneStyle:function(){return"width: ".concat(this.getWidth,"px")},getIconSize:function(){return"".concat(this.getWidth/2+4,"px")},getTitleStyle:function(){return"width: ".concat(this.getWidth-16,"px")},getTitleClass:function(){return this.isActive?"text-textColorPrimary text-caption q-mt-sm ellipsis-2-lines text-center":"text-textColorSecondary text-caption q-mt-sm ellipsis-2-lines text-center"},isActive:function(){return this.rune.isActive},getTitle:function(){return this.rune.title||this.$t(this.rune.titleRes)}},methods:{onClick:function(){this.onRuneClicked(this.rune)}}},r=n("2877"),o=n("f09f"),a=n("a370"),s=n("eebe"),c=n.n(s),l=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{class:t.getCardClass,style:t.getCardStyle,attrs:{dark:t.isDarkMode},on:{mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1},click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("q-card-section",{staticClass:"column items-center content-center q-pa-sm",style:t.getRuneStyle},[n("IconRune",{attrs:{rune:t.rune,size:t.getIconSize}}),n("div",{class:t.getTitleClass,style:t.getTitleStyle},[t._v("\n      "+t._s(t.getTitle)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=l.exports;c()(l,"components",{QCard:o.a,QCardSection:a.a})},"0860":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("970b"),r=n.n(i),o=n("9523"),a=n.n(o),s=(n("b0c0"),n("a4d3"),n("e01a"),function t(){r()(this,t),a()(this,"id",void 0),a()(this,"name",void 0),a()(this,"created",void 0),a()(this,"updated",void 0),a()(this,"installs",void 0),a()(this,"userId",void 0),a()(this,"userName",void 0),a()(this,"color",void 0),a()(this,"country",void 0),a()(this,"language",void 0),a()(this,"filterId",void 0),a()(this,"snippetsCount",void 0),a()(this,"publicLink",void 0),a()(this,"description",void 0),a()(this,"publicStatus",void 0),a()(this,"updateReason",void 0),a()(this,"categoryId",void 0),a()(this,"sharable",void 0),a()(this,"sortBy",void 0),a()(this,"listStyle",void 0),a()(this,"snippets",void 0)});a()(s,"areTheSame",(function(t,e){return!t&&!e||!(!t||!e)&&(t.id===e.id&&t.name===e.name&&t.created===e.created&&t.updated===e.updated&&t.installs===e.installs&&t.userId===e.userId&&t.userName===e.userName&&t.color===e.color&&t.country===e.country&&t.language===e.language&&t.filterId===e.filterId&&t.snippetsCount===e.snippetsCount&&t.publicLink===e.publicLink&&t.description===e.description&&t.publicStatus===e.publicStatus&&t.updateReason===e.updateReason&&t.categoryId===e.categoryId&&t.sharable===e.sharable&&t.sortBy===e.sortBy&&t.listStyle===e.listStyle)}))},"08ff":function(t,e,n){"use strict";var i=n("72a1"),r={name:"SwitchBlock",props:["descriptionRes","notClickable","titleRes","onChecked","progress","iconRes","checked","disable","value"],data:function(){return{switchValue:this.checked||this.value||!1}},watch:{value:function(t){this.switchValue=t},checked:function(t){this.switchValue=t}},computed:{getTag:function(){return this.notClickable?"div":"label"},getIcon:function(){return this.iconRes},getTitle:function(){return this.$t(this.titleRes)},getDescription:function(){return this.$t(this.descriptionRes)}},methods:{onChanged:function(t){this.$emit("input",t),i.a.execFunction(this.onChecked,[t])}}},o=n("2877"),a=n("66e5"),s=n("4074"),c=n("0016"),l=n("0170"),u=n("8380"),d=n("9564"),h=n("eebe"),p=n.n(h),f=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"q-pr-sm q-pl-md q-my-none",attrs:{tag:t.getTag,disable:t.disable,dense:!t.descriptionRes}},[t.getIcon?n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{size:"24px",name:t.getIcon,color:"textColorPrimary"}})],1):t._e(),n("q-item-section",[n("q-item-label",{staticClass:"text-textColorPrimary"},[t._v("\n      "+t._s(t.getTitle)+"\n      "),t.progress?n("q-spinner-dots",{staticClass:"q-ml-sm",attrs:{color:"textColorPrimary"}}):t._e(),t._t("titleSuffix")],2),t.descriptionRes?n("q-item-label",{staticClass:"text-textColorSecondary",attrs:{caption:""}},[t._v("\n      "+t._s(t.getDescription)+"\n    ")]):t._e()],1),n("q-item-section",{attrs:{side:""}},[n("q-toggle",{attrs:{color:"colorAccent",disable:t.disable},on:{input:t.onChanged},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}})],1)],1)}),[],!1,null,null,null);e.a=f.exports;p()(f,"components",{QItem:a.a,QItemSection:s.a,QIcon:c.a,QItemLabel:l.a,QSpinnerDots:u.a,QToggle:d.a})},"0a49":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getSettings",(function(){return c})),n.d(i,"getSelectedFont",(function(){return l})),n.d(i,"getTextSize",(function(){return u})),n.d(i,"canPreviewLinks",(function(){return d})),n.d(i,"isSettingsFlatMode",(function(){return h})),n.d(i,"isTagNavOpened",(function(){return p})),n.d(i,"isDarkMode",(function(){return f})),n.d(i,"isFirstLaunch",(function(){return g})),n.d(i,"isAutoSaveEnabled",(function(){return m})),n.d(i,"canTrackClipboard",(function(){return v})),n.d(i,"canShowAdditionalAttributes",(function(){return y})),n.d(i,"getSelectedFontClass",(function(){return _})),n.d(i,"getClipListLimits",(function(){return b})),n.d(i,"getTagListLimits",(function(){return S})),n.d(i,"getClipListWidth",(function(){return C})),n.d(i,"getTagListWidth",(function(){return T})),n.d(i,"getClipboardLimitRange",(function(){return w})),n.d(i,"getClipboardLimitDefault",(function(){return I})),n.d(i,"getClipboardLimitMax",(function(){return E})),n.d(i,"getClipboardLimitMin",(function(){return A})),n.d(i,"getRecycleBinLimitRange",(function(){return x})),n.d(i,"getRecycleBinLimitDefault",(function(){return k})),n.d(i,"getRecycleBinLimitMax",(function(){return D})),n.d(i,"getRecycleBinLimitMin",(function(){return R})),n.d(i,"getRunes",(function(){return L}));n("d3b7"),n("159b"),n("7db0");var r=n("f936"),o=n("72a1"),a=n("96e0"),s=n("25da");function c(t){return t.settings||r.a.getSettings()}function l(t,e){return e.getSettings.getFont()}function u(t,e){return t.selectedTextSize||e.getSettings.textSize}function d(t,e){return!e.getSettings.doNotPreviewLinks}function h(t,e){return e.getSettings.settingsFlatMode}function p(t,e){return!e.getSettings.leftNavClosed}function f(t,e){return e.getSelectedTheme.dark}function g(t,e){return e.getSettings.isFirstLaunch}function m(t,e){return e.getSettings.autoSave}function v(t,e){return e.getSettings.trackClipboardChanges}function y(t,e){return e.getSettings.noteShowAdditionalAttributes}function _(t,e){var n=e.getSelectedFont;return n?n.styleClass:null}function b(){return[25,70]}function S(t,e){return e.isTagNavOpened?[15,30]:[0,0]}function C(t,e){return e.getSettings.clipListWidth}function T(t,e){return e.isTagNavOpened?e.getSettings.tagListWidth:0}function w(t,e){var n=e.remoteConfigLimitClipboardNotesDefault,i=e.remoteConfigLimitClipboardNotesRange;return-1===i.indexOf(n)&&i.push(n),Object(s.a)(i),-1===i[0]&&i.push(i.shift()),i}function I(t,e){var n=e.remoteConfigLimitClipboardNotesDefault;return e.getClipboardLimitRange.indexOf(n)}function E(t,e){return e.getClipboardLimitRange.length-1}function A(){return 0}function x(t,e){var n=e.remoteConfigLimitDeletedNotesDefault,i=e.remoteConfigLimitDeletedNotesRange;return-1===i.indexOf(n)&&i.push(n),Object(s.a)(i),-1===i[0]&&i.push(i.shift()),i}function k(t,e){var n=e.remoteConfigLimitDeletedNotesDefault;return e.getRecycleBinLimitRange.indexOf(n)}function D(t,e){return e.getRecycleBinLimitRange.length-1}function R(){return 0}function L(t,e){var n=e.remoteConfigRuneConfigs,i=e.isDesktopMode,r=e.isAuthorized,s=e.getSettings,c=e.getUI,l=[{id:"instant_sync",isAvailable:!0,isActive:r,color:"#00E5FF",titleRes:"runes_instant_sync_title",description:c.$t("runes_instant_sync_description")},{id:"theme",isAvailable:!0,isActive:s.theme!==a.a.DEFAULT.id,color:"#76FF03",titleRes:"runes_theme_title",description:c.$t("runes_theme_description")},{id:"clipboard",isAvailable:i,isActive:s.trackClipboardChanges,color:"#82B1FF",titleRes:"runes_clipboard_title",description:c.$t("runes_clipboard_description")},{id:"link_preview",isAvailable:!0,isActive:!s.doNotPreviewLinks,color:"#00B0FF",titleRes:"runes_link_preview_title",description:c.$t("runes_link_preview_description")},{id:"hide_on_copy",isAvailable:i,isActive:s.hideOnCopy&&i,color:"#00E5FF",titleRes:"runes_hide_on_copy_title",description:c.$t("runes_hide_on_copy_description")},{id:"auto_save",isAvailable:!0,isActive:s.autoSave,color:"#3D5AFE",titleRes:"runes_auto_save_title",description:c.$t("runes_auto_save_description")},{id:"focus_on_title",isAvailable:!0,isActive:s.focusOnTitle,color:"#C6FF00",titleRes:"runes_focus_on_title_title",description:c.$t("runes_focus_on_title_description")},{id:"remember_last_filter",isActive:s.restoreFilterOnStart,color:"#FF3D00",titleRes:"runes_remember_last_filter_title",description:c.$t("runes_remember_last_filter_description")},{id:"hotkeys",isAvailable:i,isActive:s.hasHotkeys()&&i,color:"#18ffbe",titleRes:"runes_hotkeys_title",description:c.$t("runes_hotkeys_description")},{id:"loyalty",isAvailable:!0,isActive:r,color:"#FF1744",titleRes:"runes_loyalty_title",description:c.$t("runes_loyalty_description")}];return o.a.isNull(n)||n.forEach((function(t){var e=l.find((function(e){return e.id===t.id}));e&&(e.colorLight=t.colorLight,e.colorDark=t.colorDark)})),l}var F,O=n("9523"),P=n.n(O),N=n("ed99"),B=n("1cee"),M=(F={},P()(F,N.a.UPDATE_SETTINGS,(function(t){q(t)})),P()(F,N.a.SET_TEXT_SIZE,(function(t,e){t.selectedTextSize=e})),P()(F,N.a.TOGGLE_ADDITIONAL_ATTRS,(function(t){q(t,(function(t){t.noteShowAdditionalAttributes=!t.noteShowAdditionalAttributes,B.a.debug("attrs",t.noteShowAdditionalAttributes)}))})),F);function q(t,e){var n=r.a.getSettings();e&&e(n),t.selectedTextSize=n.textSize,t.selectedFont=n.getFont(),t.settings=n}var U,$=n("c973"),j=n.n($),V=(n("96cf"),n("ac7d")),H=n("61b4"),z=n("c9d9"),W=function(t){H.a.runWithDelay(z.a.onSaveSettings,H.a.getDefaultDelay(),(function(){return B.a.debug("save settings"),V.a.save().then((function(){if(t.getters.isDesktopMode)return t.dispatch(z.a.onUpdateElectronState)}))}))},K=n("1074"),G=n("a987"),Q=(U={},P()(U,z.a.onInitSettings,(function(t,e){return r.a.setUI(e),K.a.initAll(t).then(j()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.a.getSettings(),n.next=3,G.a.setLanguage(e,i.language);case 3:return t.commit(N.a.SET_THEME,i.getTheme()),t.commit(N.a.SET_LANGUAGE,i.language),t.commit(N.a.UPDATE_SETTINGS),n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)}))))})),P()(U,z.a.onSaveSettings,(function(t){return t.commit(N.a.UPDATE_SETTINGS),W(t)})),P()(U,z.a.onChangeWindowSize,(function(t,e){var n=o.a.zeroIfNull(e.clipListWidth),i=o.a.zeroIfNull(e.tagListWidth),a=r.a.getSettings();if(a.tagListWidth!==i&&0!==i||a.clipListWidth!==n)return B.a.debug("onChangeWindowSize",a.clipListWidth,n,a.tagListWidth,i),a.clipListWidth=n,a.tagListWidth=i,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onRefreshSettings,(function(t,e){var n=r.a.getSettings(),i=n.getTheme(),o=n.language;return t.dispatch(z.a.onChangeTheme,{theme:i}).then((function(){return G.a.setLanguage(e,o)}))})),P()(U,z.a.onChangeTextSize,(function(t,e){return r.a.getSettings().textSize=e.textSize,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onShowHidePreview,(function(t,e){return r.a.getSettings().doNotPreviewLinks=!e.show,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onChangeTextFont,(function(t,e){var n=r.a.getSettings(),i=e.textFont.id;if(n.textFont!==i)return n.textFont=i,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onChangeNoteAdditionalAttrsState,(function(t){var e=r.a.getSettings();return e.noteShowAdditionalAttributes=!e.noteShowAdditionalAttributes,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onChangeLeftNavigationState,(function(t){var e=r.a.getSettings();return e.leftNavClosed=!e.leftNavClosed,t.commit(N.a.REQUEST_SHOW_LEFT_NAV),t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onChangeTheme,(function(t,e){var n=r.a.getSettings(),i=e.theme;return n.theme=i.id,t.dispatch(z.a.onSaveSettings).then((function(){t.commit(N.a.SET_THEME,i),t.commit(N.a.UPDATE_PREVIEW)}))})),P()(U,z.a.onChangeLanguage,(function(t,e){return H.a.runOnUI((function(n){var i=e.lang;return G.a.setLanguage(n,i).then((function(){return r.a.getSettings().language=i,t.commit(N.a.SET_LANGUAGE,i),t.dispatch(z.a.onSaveSettings)}))}))})),P()(U,z.a.onCompleteFirstLaunch,(function(t){return r.a.getSettings().isFirstLaunch=!1,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onChangeSettingsMode,(function(t,e){return r.a.getSettings().settingsFlatMode=e.flatMode,t.dispatch(z.a.onSaveSettings)})),P()(U,z.a.onChangeTextSeparator,(function(t,e){return r.a.getSettings().textSeparator=e.textSeparator,t.dispatch(z.a.onSaveSettings)})),U);e.a={namespaced:!1,state:{selectedTextSize:null,selectedFont:null,settings:null},getters:i,mutations:M,actions:Q}},"0b57":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("72a1")),a=n("1cee"),s=n("4dec"),c={liveQueries:{},isLiveQueryDisposed:function(t){var e=c.liveQueries[t];return!e||e.closed},disposeLiveQuery:function(t){var e=c.liveQueries[t];o.a.isNull(e)||(delete c.liveQueries[t],a.a.debug("DexieUtils :: disposeLiveQuery",t),o.a.execFunction(e.unsubscribe))},createLiveQuery:function(t,e,n){c.disposeLiveQuery(t),c.liveQueries[t]=Object(s.b)(e).subscribe(function(){var e=r()(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.a.debug("DexieUtils :: on live changes ::","id =",t,"count =",o.a.getLength(i)),e.prev=1,e.next=4,n(i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a.a.error("DexieUtils :: on live changes error ::",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}}},"0d0a":function(t,e,n){"use strict";var i={name:"PrimaryButton",props:["titleRes","onClicked","onLongClicked","unelevated","disable","dense","size"],methods:{onClick:function(){this.onClicked&&this.onClicked()},onLongClick:function(){this.onLongClicked&&this.onLongClicked()}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getTitle:function(){return this.$t(this.titleRes)}}},r=n("2877"),o=n("9c40"),a=n("eebe"),s=n.n(a),c=Object(r.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-btn",{staticClass:"q-mx-md",style:t.getAppButtonStyle,attrs:{"no-caps":"",size:t.size,dense:t.dense,label:t.getTitle,disable:t.disable,color:"colorAccent",unelevated:t.unelevated,"text-color":"textColorOnSurface"},on:{click:[function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.onLongClick(e):null},function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onClick(e)}]}})}),[],!1,null,null,null);e.a=c.exports;s()(c,"components",{QBtn:o.a})},"0d3b":function(t,e,n){var i=n("d039"),r=n("b622"),o=n("c430"),a=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0ebd":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("c9d9"),r={NOTES:{id:1,isExpanded:!1,titleRes:"main_filter_notes",actionTitleRes:"main_action_notes_new_title",apply:function(t){t.filterGroupNotesCollapsed=!this.isExpanded},restore:function(t){this.isExpanded=!t.filterGroupNotesCollapsed},execute:function(t){return t.$store.dispatch(i.a.onCreateNewClip)}},FILTERS:{id:2,isExpanded:!1,titleRes:"main_filter_filters",actionTitleRes:"main_action_organize_filter_title",apply:function(t){t.filterGroupFiltersCollapsed=!this.isExpanded},restore:function(t){this.isExpanded=!t.filterGroupFiltersCollapsed},execute:function(t){return t.$store.dispatch(i.a.onCreateNewFilter)}},TAGS:{id:3,isExpanded:!1,titleRes:"main_filter_tags",actionTitleRes:"main_action_organize_tag_title",apply:function(t){t.filterGroupTagsCollapsed=!this.isExpanded},restore:function(t){this.isExpanded=!t.filterGroupTagsCollapsed},execute:function(t){return t.$store.dispatch(i.a.onCreateNewTag)}},SNIPPET_KITS:{id:4,isExpanded:!1,titleRes:"clip_details_tab_snippet_kits",actionTitleRes:"main_action_snippets_set_title",apply:function(t){t.filterGroupSnippetsCollapsed=!this.isExpanded},restore:function(t){this.isExpanded=!t.filterGroupSnippetsCollapsed},execute:function(t){return t.$store.dispatch(i.a.onCreateNewSnippetKit)}}};r.byId={1:r.NOTES,2:r.FILTERS,3:r.TAGS,4:r.SNIPPET_KITS}},1074:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("ac7d")),a=n("8376"),s=n("2063"),c=n("fb10"),l=n("25d0"),u=n("2667").a.clipto,d=function(){return u.tags.clear()},h=n("d975"),p={initAll:function(t){return h.a.inTx("initAll",r()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.init(t);case 2:return e.next=4,s.a.init(t);case 4:case"end":return e.stop()}}),e)}))))},removeAll:function(t){return h.a.inTx("removeAll",r()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return e.next=4,c.a.clear(t);case 4:return e.next=6,a.a.clear(t);case 6:return e.next=8,l.a.clear(t);case 8:return e.next=10,s.a.clear(t);case 10:return e.next=12,o.a.clear(t);case 12:case"end":return e.stop()}}),e)}))))}}},"10b0":function(t,e,n){"use strict";var i={single_source_shortest_paths:function(t,e,n){var r={},o={};o[e]=0;var a,s,c,l,u,d,h,p=i.PriorityQueue.make();for(p.push(e,0);!p.empty();)for(c in s=(a=p.pop()).value,l=a.cost,u=t[s]||{})u.hasOwnProperty(c)&&(d=l+u[c],h=o[c],(void 0===o[c]||h>d)&&(o[c]=d,p.push(c,d),r[c]=s));if(void 0!==n&&void 0===o[n]){var f=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(f)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],i=e;i;)n.push(i),t[i],i=t[i];return n.reverse(),n},find_path:function(t,e,n){var r=i.single_source_shortest_paths(t,e,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e,n=i.PriorityQueue,r={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=i},"16c9":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a9e3");var i=n("2667"),r=n("72a1"),o={NONE:{id:0,titleRes:"account_plan_free"},CONTRIBUTOR:{id:1,titleRes:"account_plan_contributor"},PERSONAL:{id:2,titleRes:"account_plan_personal"},SUBSCRIPTION:{id:3,titleRes:"account_plan_subscription"}};o.byId={0:o.NONE,1:o.CONTRIBUTOR,2:o.PERSONAL,3:o.SUBSCRIPTION};var a=i.a.clipto.users.defineClass({id:Number,email:String,status:String,photoUrl:String,firebaseId:String,displayName:String,syncIsRestricted:Boolean,syncLimit:Number,license:Number});a.prototype.canCreateNotes=function(){return!this.syncIsRestricted},a.prototype.isAuthorized=function(){return!r.a.isNullOrBlank(this.firebaseId)},a.prototype.getLicenseType=function(){return o.byId[this.license]||o.NONE},a.prototype.copy=function(){var t=new a;return t.id=this.id,t.email=this.email,t.status=this.status,t.photoUrl=this.photoUrl,t.firebaseId=this.firebaseId,t.displayName=this.displayName,t.syncIsRestricted=this.syncIsRestricted,t.syncLimit=this.syncLimit,t.license=this.license,t},a.NULL=new a},"176d":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7");var i={DEFAULT:{id:0,height:72,separator:!0,titleRes:"list_style_default"},COMFORTABLE:{id:1,height:72,separator:!0,titleRes:"list_style_comfortable"},COMPACT:{id:2,height:36,separator:!0,titleRes:"list_style_compact"},PREVIEW:{id:3,height:124,separator:!1,titleRes:"list_style_preview"},GRID:{id:4,height:124,separator:!1,titleRes:"list_style_grid"}};i.byId={0:i.DEFAULT,1:i.COMFORTABLE,2:i.COMPACT,3:i.PREVIEW,4:i.GRID},i.values=[i.DEFAULT,i.GRID,i.COMFORTABLE,i.COMPACT,i.PREVIEW]},"178d":function(t,e,n){"use strict";function i(t,e){var n=t.ownerDocument,i=n.activeElement;i!==t&&t.focus(),n.execCommand("insertText",!1,e)||function(t,e){t.setRangeText(e,t.selectionStart||0,t.selectionEnd||0,"end"),t.dispatchEvent(new InputEvent("input",{data:e,inputType:"insertText"}))}(t,e),i===n.body?t.blur():i instanceof HTMLElement&&i!==t&&i.focus()}n.d(e,"a",(function(){return i}))},"19cf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("add5"),r=n.n(i),o={print:function(t,e){r()({documentTitle:e,printable:t,header:e,scanStyles:!1,type:"html"})}}},"1ce4":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={DEFAULT:{icon:"fullscreen",color:"myBackgroundHighlight",textColor:"textColorPrimary",next:function(){return i.FOCUS}},FOCUS:{icon:"fullscreen_exit",color:"myBackgroundHighlight",textColor:"textColorPrimary",next:function(){return i.DEFAULT}}}},"1fca":function(t,e,n){"use strict";var i=n("c9d9"),r=n("a987"),o={name:"ButtonLang",components:{MenuView:n("ca69").a},props:["lang"],data:function(){return{countryOptions:r.a.getLanguagesFlags(),langOptions:r.a.getLanguages()}},computed:{getSelectedLanguageIcon:function(){return this.getLanguageItemCountry(this.lang)},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle}},methods:{onLanguageItemSelected:function(t){this.$store.dispatch(i.a.onChangeLanguage,{ui:this,lang:t})},getLanguageItemClass:function(t){return t===this.$store.getters.getSelectedLanguage?"text-colorAccent text-bold":"text-textColorPrimary"},getLanguageItemLabel:function(t){return r.a.getLanguageLabel(t)},getLanguageItemCountry:function(t){return this.countryOptions[t]}}},a=n("2877"),s=n("9c40"),c=n("0016"),l=n("1c1c"),u=n("66e5"),d=n("4074"),h=n("7f67"),p=n("eebe"),f=n.n(p),g=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",{staticClass:"q-mx-sm",style:t.getAppButtonStyle,attrs:{flat:"",dense:""}},[n("q-icon",{attrs:{name:t.getSelectedLanguageIcon,size:"sm"}}),n("MenuView",{attrs:{"auto-close":!0}},[n("q-list",{staticClass:"bg-colorDialog non-selectable"},t._l(t.langOptions,(function(e){return n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e,attrs:{clickable:""},on:{click:function(n){return t.onLanguageItemSelected(e)}}},[n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:t.getLanguageItemCountry(e),size:"sm"}})],1),n("q-item-section",{class:t.getLanguageItemClass(e)},[t._v(t._s(t.getLanguageItemLabel(e)))])],1)})),1)],1)],1)}),[],!1,null,null,null);e.a=g.exports;f()(g,"components",{QBtn:s.a,QIcon:c.a,QList:l.a,QItem:u.a,QItemSection:d.a}),f()(g,"directives",{ClosePopup:h.a})},2063:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("6374"),r=n.n(i),o=n("c973"),a=n.n(o),s=(n("96cf"),n("d3b7"),n("e6cf"),n("7db0"),n("4de4"),n("159b"),n("b0c0"),n("caad"),n("2532"),n("f936")),c=n("72a1"),l=n("6f2e"),u=n("176d"),d=n("1cee"),h=n("de99"),p=n("886e"),f=n("fab3"),g=n("2667"),m=n("c9d9"),v=g.a.clipto,y={rebuildFilters:!1,consumeRebuildFilters:function(){var t=this.rebuildFilters;return this.rebuildFilters=!1,t},init:function(t){var e=this;return a()(regeneratorRuntime.mark((function n(){var i,o,a,g,y,_,b,S,C,T,w,I,E,A,x,k,D,R,L,F,O,P;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.filters.toArray();case 2:return i=n.sent,o=0===i.length,a=new Date,g=[],y=[],(_=i.find((function(t){return t.type===l.a.ALL.id})))||((_=p.a.newInstance()).uid=l.a.ALL.createUid(),_.sortBy=f.a.CREATE_DATE_DESC.id,_.listStyle=u.a.DEFAULT.id,_.type=l.a.ALL.id,_.createDate=a,_.updateDate=a,g.push(_)),(b=i.find((function(t){return t.type===l.a.STARRED.id})))||((b=p.a.newInstance()).uid=l.a.STARRED.createUid(),b.sortBy=f.a.CREATE_DATE_DESC.id,b.listStyle=u.a.DEFAULT.id,b.type=l.a.STARRED.id,b.createDate=a,b.updateDate=a,b.starred=!0,g.push(b)),(S=i.find((function(t){return t.type===l.a.UNTAGGED.id})))||((S=p.a.newInstance()).uid=l.a.UNTAGGED.createUid(),S.sortBy=f.a.CREATE_DATE_DESC.id,S.listStyle=u.a.DEFAULT.id,S.type=l.a.UNTAGGED.id,S.createDate=a,S.updateDate=a,S.untagged=!0,g.push(S)),(C=i.find((function(t){return t.type===l.a.SNIPPETS.id})))?C.snippets=!0:((C=p.a.newInstance()).uid=l.a.SNIPPETS.createUid(),C.sortBy=f.a.CREATE_DATE_DESC.id,C.listStyle=u.a.DEFAULT.id,C.type=l.a.SNIPPETS.id,C.createDate=a,C.updateDate=a,C.snippets=!0,g.push(C)),(T=i.find((function(t){return t.type===l.a.CLIPBOARD.id})))||((T=p.a.newInstance()).uid=l.a.CLIPBOARD.createUid(),T.excludeWithCustomAttributes=!0,T.sortBy=f.a.USAGE_DATE_DESC.id,T.listStyle=u.a.COMPACT.id,T.type=l.a.CLIPBOARD.id,T.createDate=a,T.updateDate=a,T.clipboard=!0,g.push(T)),c.a.isNullOrZero(T.limit)&&(T.limit=t.getters.remoteConfigLimitClipboardNotesDefault),(w=i.find((function(t){return t.type===l.a.DELETED.id})))||((w=p.a.newInstance()).uid=l.a.DELETED.createUid(),w.sortBy=f.a.DELETE_DATE_DESC.id,w.listStyle=u.a.DEFAULT.id,w.type=l.a.DELETED.id,w.createDate=a,w.updateDate=a,w.recycled=!0,g.push(w)),c.a.isNullOrZero(w.limit)&&(w.limit=t.getters.remoteConfigLimitDeletedNotesDefault),(I=i.find((function(t){return t.type===l.a.LAST.id})))||((I=p.a.newInstance()).uid=l.a.LAST.createUid(),I.sortBy=f.a.CREATE_DATE_DESC.id,I.listStyle=u.a.DEFAULT.id,I.type=l.a.LAST.id,I.createDate=a,I.updateDate=a,g.push(I)),(E=i.find((function(t){return t.type===l.a.GROUP_NOTES.id})))||((E=p.a.newInstance()).uid=l.a.GROUP_NOTES.createUid(),E.type=l.a.GROUP_NOTES.id,E.sortBy=f.a.MANUAL_ASC.id,E.createDate=a,E.updateDate=a,E.tagIds=[l.a.ALL.createUid(),l.a.STARRED.createUid(),l.a.UNTAGGED.createUid(),l.a.CLIPBOARD.createUid(),l.a.SNIPPETS.createUid(),l.a.DELETED.createUid()],g.push(E)),(A=i.find((function(t){return t.type===l.a.GROUP_FILTERS.id})))||((A=p.a.newInstance()).uid=l.a.GROUP_FILTERS.createUid(),A.type=l.a.GROUP_FILTERS.id,A.sortBy=f.a.NAME_ASC.id,A.createDate=a,A.updateDate=a,A.tagIds=c.a.arrayMapNotNull(h.a.sorted(A,i.filter((function(t){return t.isNamedFilter()}))),(function(t){return t.uid})),g.push(A)),(x=i.find((function(t){return t.type===l.a.GROUP_SNIPPETS.id})))||((x=p.a.newInstance()).uid=l.a.GROUP_SNIPPETS.createUid(),x.type=l.a.GROUP_SNIPPETS.id,x.sortBy=f.a.NAME_ASC.id,x.createDate=a,x.updateDate=a,x.tagIds=c.a.arrayMapNotNull(h.a.sorted(x,i.filter((function(t){return t.isSnippetKit()}))),(function(t){return t.uid})),g.push(x)),(k=i.find((function(t){return t.type===l.a.GROUP_TAGS.id})))||((k=p.a.newInstance()).uid=l.a.GROUP_TAGS.createUid(),k.type=l.a.GROUP_TAGS.id,k.sortBy=f.a.NAME_ASC.id,k.createDate=a,k.updateDate=a,k.tagIds=c.a.arrayMapNotNull(h.a.sorted(k,i.filter((function(t){return t.isTag()}))),(function(t){return t.uid})),g.push(k)),D={},g.forEach((function(t){D[t.uid]=t.normalize()})),i.forEach((function(t){var e=t.uid;e&&!D[e]&&(D[e]=t.normalize())})),(R=new h.a).all=_.normalize(),R.untagged=S.normalize(),R.starred=b.normalize(),R.clipboard=T.normalize(),R.deleted=w.normalize(),R.last=I.normalize(),R.snippets=C.normalize(),R.groupTags=k.normalize(),R.groupNotes=E.normalize(),R.groupFilters=A.normalize(),R.groupSnippets=x.normalize(),R.filtersByUid=D,R.initial=o,s.a.setFilters(R),n.next=51,v.tags.toArray();case 51:if(L=n.sent,!c.a.arrayIsNotEmpty(L)){n.next=61;break}return T.excludeWithCustomAttributes||(T.excludeWithCustomAttributes=!0,g.push(T)),e.rebuildFilters=!0,L.forEach((function(t){var e=t.name,n=R.findFilterByTagName(e);if(n)n.notesCount!==t.clipCount&&(n.notesCount=t.clipCount,g.push(n));else{var i=p.a.createTag(e,!0);i.notesCount=t.clipCount,g.push(i),R.filtersByUid[i.uid]=i}})),n.next=58,v.clips.toArray();case 58:n.sent.forEach((function(t){var e=c.a.arrayMapNotNull(t.tagsIn,(function(t){return R.findFilterByTagName(t)}));e=c.a.arrayMapNotNull(e,(function(t){return t.uid})),e=c.a.arrayDistinct(e),t.setTagIds(e),y.push(t)})),t.dispatch(m.a.onShowBannerUseCase,{title:"Action Required",message:"It is recommended to re-login to rebuild the local index"}).then((function(){return d.a.debug(m.a.onShowBannerUseCase)}));case 61:if(!c.a.arrayIsNotEmpty(g)&&!e.rebuildFilters){n.next=86;break}d.a.debug("created filters",g.length,"updated clips",y.length),F=r()(g),n.prev=64,F.s();case 66:if((O=F.n()).done){n.next=74;break}return(P=O.value).hideHint=!1,n.next=71,v.filters.put(P);case 71:P.id=n.sent;case 72:n.next=66;break;case 74:n.next=79;break;case 76:n.prev=76,n.t0=n.catch(64),F.e(n.t0);case 79:return n.prev=79,F.f(),n.finish(79);case 82:return n.next=84,v.clips.bulkPut(y);case 84:return n.next=86,v.tags.clear();case 86:return R.getTags().forEach((function(t){t.hideHint=!0})),s.a.getSettings().restoreFilterOnStart||I.withFilter(_),n.abrupt("return",R);case 90:case"end":return n.stop()}}),n,null,[[64,76,79,82]])})))()},clear:function(){return a()(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.a.REMOVABLE_TYPES,t.next=3,v.filters.where("type").anyOf(e).delete();case 3:s.a.getFilters().clear();case 4:case"end":return t.stop()}}),t)})))()},getFilters:function(){return s.a.getFilters()},getAllFilters:function(){return v.filters.toArray()},getFilterByUid:function(t){return t?v.filters.where("uid").equals(t).first():null},save:function(t){var e=this;return a()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.normalize(),t.updateDate=new Date,n.next=4,v.filters.put(t);case 4:if(t.id=n.sent,i=t.uid){n.next=8;break}throw new Error("Please report this issue to the developer. Probably he has implemented something wrongly.");case 8:return c.a.getOrPut(i,e.getFilters().filtersByUid,(function(){return t})).withFilter(t,!0),n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})))()},remove:function(t){var e=this;return a()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.uid){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,v.filters.where("uid").equals(i).delete();case 5:return delete e.getFilters().filtersByUid[i],n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))()},update:function(t,e){var n=this;return a()(regeneratorRuntime.mark((function i(){var o,a,s,l,u,d,h,p,f,g,m,v,y,_,b,S,C,T,w,I;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=t?t.getTagIds():[],a=e?e.getTagIds():[],!t||t.isDeleted()){i.next=24;break}s=r()(o),i.prev=4,s.s();case 6:if((l=s.n()).done){i.next=16;break}if(u=l.value,a.includes(u)){i.next=14;break}if(!(d=n.getFilters().findFilterByTagId(u,!0))){i.next=14;break}return d.notesCount=c.a.zeroIfNull(d.notesCount)-1,i.next=14,n.save(d);case 14:i.next=6;break;case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(4),s.e(i.t0);case 21:return i.prev=21,s.f(),i.finish(21);case 24:if(!e||e.isDeleted()){i.next=46;break}h=r()(a),i.prev=26,h.s();case 28:if((p=h.n()).done){i.next=38;break}if(f=p.value,o.includes(f)){i.next=36;break}if(!(g=n.getFilters().findFilterByTagId(f,!0))){i.next=36;break}return g.notesCount=c.a.zeroIfNull(g.notesCount)+1,i.next=36,n.save(g);case 36:i.next=28;break;case 38:i.next=43;break;case 40:i.prev=40,i.t1=i.catch(26),h.e(i.t1);case 43:return i.prev=43,h.f(),i.finish(43);case 46:if(m=t?t.getKitIds():[],v=e?e.getKitIds():[],!t||t.isDeleted()){i.next=70;break}y=r()(m),i.prev=50,y.s();case 52:if((_=y.n()).done){i.next=62;break}if(b=_.value,v.includes(b)){i.next=60;break}if(!(S=n.getFilters().findFilterBySnippetKitId(b,!0))){i.next=60;break}return S.notesCount=c.a.zeroIfNull(S.notesCount)-1,i.next=60,n.save(S);case 60:i.next=52;break;case 62:i.next=67;break;case 64:i.prev=64,i.t2=i.catch(50),y.e(i.t2);case 67:return i.prev=67,y.f(),i.finish(67);case 70:if(!e||e.isDeleted()){i.next=92;break}C=r()(v),i.prev=72,C.s();case 74:if((T=C.n()).done){i.next=84;break}if(w=T.value,m.includes(w)){i.next=82;break}if(!(I=n.getFilters().findFilterBySnippetKitId(w,!0))){i.next=82;break}return I.notesCount=c.a.zeroIfNull(I.notesCount)+1,i.next=82,n.save(I);case 82:i.next=74;break;case 84:i.next=89;break;case 86:i.prev=86,i.t3=i.catch(72),C.e(i.t3);case 89:return i.prev=89,C.f(),i.finish(89);case 92:case"end":return i.stop()}}),i,null,[[4,18,21,24],[26,40,43,46],[50,64,67,70],[72,86,89,92]])})))()}}},"206d":function(t,e,n){},"21a6":function(t,e,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,a){var s=r.URL||r.webkitURL,c=document.createElement("a");o=o||t.name||"download",c.download=o,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):n(c.href)?e(t,o,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),r);else if(n(t))e(t,r,o);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){i(a)}))}}:function(t,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},u.readAsDataURL(t)}else{var d=r.URL||r.webkitURL,h=d.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});r.saveAs=a.saveAs=a,t.exports=a})?i.apply(e,r):i)||(t.exports=o)},"22a9":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("c973"),r=n.n(i),o=n("970b"),a=n.n(o),s=n("5bc3"),c=n.n(s),l=n("9523"),u=n.n(l),d=(n("96cf"),n("1cee")),h=n("72a1"),p=n("f936"),f=n("53e6"),g=n("61b4"),m=n("ac7d"),v=n("e6d6"),y=function(){function t(e,n,i,r,o,s,c,l,d,h,p,g){a()(this,t),u()(this,"activeListener",null),u()(this,"deletedListener",null),u()(this,"activeLatestDate",null),u()(this,"deletedLatestDate",null),u()(this,"id",null),u()(this,"context",null),u()(this,"activeRef",null),u()(this,"deletedRef",null),u()(this,"collection",null),u()(this,"defaultSortOrderBy",null),u()(this,"settingsActiveDateField",null),u()(this,"settingsDeletedDateField",null),u()(this,"activeInitialCallback",null),u()(this,"activeSnapshotCallback",null),u()(this,"deletedInitialCallback",null),u()(this,"deletedSnapshotCallback",null),u()(this,"queryOnlyLatestChangedNotesMinimumInterval",null),u()(this,"queryOnlyLatestChangedNotesReconnectDelay",null),u()(this,"queryOnlyLatestChangedNotesThreshold",null),u()(this,"queryOnlyLatestChangedNotesOperator",">"),u()(this,"firstCallback",null),u()(this,"firstCallbackConsumed",new f.a(!1)),this.id=e,this.context=n,this.activeRef=i,this.deletedRef=r,this.defaultSortOrderBy=c,this.settingsActiveDateField=o,this.settingsDeletedDateField=s,this.queryOnlyLatestChangedNotesMinimumInterval=n.getters.remoteConfigQueryOnlyLatestChangedNotesMinimumInterval,this.queryOnlyLatestChangedNotesReconnectDelay=n.getters.remoteConfigQueryOnlyLatestChangedNotesReconnectDelay,this.queryOnlyLatestChangedNotesThreshold=n.getters.remoteConfigQueryOnlyLatestChangedNotesThreshold,this.activeInitialCallback=l,this.activeSnapshotCallback=d,this.deletedInitialCallback=h,this.deletedSnapshotCallback=p,this.firstCallback=g}return c()(t,[{key:"subscribe",value:function(t){return this._getDeletedChanges(t,!1),this._getActiveChanges(t,!1),this}},{key:"dispose",value:function(){this._disposeActive(),this._disposeDeleted()}},{key:"_disposeActive",value:function(){g.a.dispose(this._getActiveChangesId());var t=h.a.execFunction(this.activeListener);d.a.debug("FIREBASE LISTENER :: disposed",this._getActiveChangesId(),t)}},{key:"_disposeDeleted",value:function(){g.a.dispose(this._getDeletedChangesId());var t=h.a.execFunction(this.deletedListener);d.a.debug("FIREBASE LISTENER :: disposed",this._getDeletedChangesId(),t)}},{key:"_reconnectActiveChanges",value:function(t){var e=this,n=e._getActiveChangesId(),i=e.queryOnlyLatestChangedNotesReconnectDelay||0;t&&(i=0),d.a.debug("FIREBASE LISTENER :: request reconnectActiveChanges","id",n,"delay",i),g.a.runWithDelay(n,i,(function(){e._getActiveChanges(!1,!0)}))}},{key:"_reconnectDeletedChanges",value:function(t){var e=this,n=e._getDeletedChangesId(),i=e.queryOnlyLatestChangedNotesReconnectDelay||0;t&&(i=0),d.a.debug("FIREBASE LISTENER :: request reconnectDeletedChanges","id",n,"delay",i),g.a.runWithDelay(n,i,(function(){e._getDeletedChanges(!1,!0)}))}},{key:"_getActiveChangesId",value:function(){return"active_listener_".concat(this.id)}},{key:"_getDeletedChangesId",value:function(){return"deleted_listener_".concat(this.id)}},{key:"_getActiveChanges",value:function(t,e){var n=this;this._disposeActive(),d.a.debug("FIREBASE LISTENER :: getActiveChanges","id",this._getActiveChangesId(),"forceSync",t,"isReconnected",e);var i=this,o=i.activeRef,a=i.context,s=t,c=p.a.getSettings(),l=i.activeInitialCallback,u=i.activeSnapshotCallback;s?(c[i.settingsActiveDateField]=null,i.activeLatestDate=null,m.a.saveLater()):i.activeLatestDate=c[i.settingsActiveDateField];var f,g=i.activeLatestDate;if(d.a.debug("FIREBASE LISTENER :: getActiveChanges","id",i._getActiveChangesId(),"last date",g),g)f=o.where(v.a.ATTR_CHANGE_TIMESTAMP,i.queryOnlyLatestChangedNotesOperator,g).orderBy(v.a.ATTR_CHANGE_TIMESTAMP);else{d.a.debug("FIREBASE LISTENER :: WARN :: no last date",i._getActiveChangesId());var y=i.defaultSortOrderBy;f=y?o.orderBy(y):o}i.activeListener=v.a.createListener(i._getActiveChangesId(),a,f,t,function(){var o=r()(regeneratorRuntime.mark((function r(o){var a,s,u,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=o.metadata,s=o.docChanges(),r.next=4,h.a.execFunctionAsync(l,[s,e]);case 4:if(i.firstCallbackConsumed.compareAndSet(!1,!0)&&h.a.execFunction(i.firstCallback),a.fromCache||!(s.length>0)){r.next=21;break}if(u=v.a.getNewDate(s)||new Date,!h.a.isDate(u)){r.next=21;break}return c[i.settingsActiveDateField]=u,i.activeLatestDate=u,r.next=12,m.a.save();case 12:if(i._reconnectActiveChanges(t),!n.deletedRef){r.next=21;break}if((d=i.deletedLatestDate)&&!(d.getTime()>u.getTime())){r.next=21;break}return c[i.settingsDeletedDateField]=u,i.deletedLatestDate=u,r.next=20,m.a.save();case 20:i._reconnectDeletedChanges(t);case 21:case"end":return r.stop()}}),r)})));return function(t){return o.apply(this,arguments)}}(),function(){var o=r()(regeneratorRuntime.mark((function r(o){var a,s,l,p,f,g;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=o.metadata,s=o.docChanges(),r.next=4,h.a.execFunctionAsync(u,[s,e]);case 4:if(i.firstCallbackConsumed.compareAndSet(!1,!0)&&h.a.execFunction(i.firstCallback),i.activeLatestDate&&(a.fromCache||!(s.length>0||o.size>i.queryOnlyLatestChangedNotesThreshold))){r.next=18;break}if(l=v.a.getNewDate(s)||v.a.getNewDate(o.docs)||new Date,d.a.debug("FIREBASE LISTENER :: check if reconnect","id",i._getActiveChangesId(),"hasPendingWrites",a.hasPendingWrites,"newDate",l,"prevDate",i.activeLatestDate,"interval",i.queryOnlyLatestChangedNotesMinimumInterval,"snapshot.size",o.size,"notesThreshold",i.queryOnlyLatestChangedNotesThreshold,"changes",s.length),!h.a.isDate(l)){r.next=18;break}if(p=i.activeLatestDate,!((f=!p||l.getTime()-p.getTime()>i.queryOnlyLatestChangedNotesMinimumInterval||o.size>i.queryOnlyLatestChangedNotesThreshold)||p.getTime()>l.getTime())){r.next=18;break}return c[i.settingsActiveDateField]=l,i.activeLatestDate=l,n.deletedRef&&(!(g=i.deletedLatestDate)||g.getTime()>l.getTime())&&(c[i.settingsDeletedDateField]=l,i.deletedLatestDate=l),r.next=17,m.a.save();case 17:f&&i._reconnectActiveChanges(t);case 18:case"end":return r.stop()}}),r)})));return function(t){return o.apply(this,arguments)}}())}},{key:"_getDeletedChanges",value:function(t,e){if(this._disposeDeleted(),this.deletedRef){d.a.debug("FIREBASE LISTENER :: getDeletedChanges","id",this._getDeletedChangesId(),"forceSync",t,"isReconnected",e);var n=this,i=n.deletedRef,o=n.context,a=t,s=p.a.getSettings(),c=n.deletedInitialCallback,l=n.deletedSnapshotCallback;n.deletedLatestDate=a?new Date:n.deletedLatestDate||s[n.settingsDeletedDateField]||this.activeLatestDate,s[n.settingsDeletedDateField]=n.deletedLatestDate,m.a.saveLater();var u,f=n.deletedLatestDate;if(!h.a.isDate(f))return null;d.a.debug("FIREBASE LISTENER :: getDeletedChanges","id",n._getDeletedChangesId(),"last date",f),u=a?i.where(v.a.ATTR_CHANGE_TIMESTAMP,n.queryOnlyLatestChangedNotesOperator,f).orderBy(v.a.ATTR_CHANGE_TIMESTAMP,"desc").limit(1):i.where(v.a.ATTR_CHANGE_TIMESTAMP,n.queryOnlyLatestChangedNotesOperator,f).orderBy(v.a.ATTR_CHANGE_TIMESTAMP),n.deletedListener=v.a.createListener(n._getDeletedChangesId(),o,u,t,function(){var i=r()(regeneratorRuntime.mark((function i(r){var o,a,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=r.docChanges(),i.next=3,h.a.execFunctionAsync(c,[o,e]);case 3:if(a=v.a.getNewDate(o),!h.a.isDate(a)){i.next=12;break}if((l=n.deletedLatestDate)&&l.getTime()===a.getTime()){i.next=12;break}return s[n.settingsDeletedDateField]=a,n.deletedLatestDate=a,i.next=11,m.a.save();case 11:n._reconnectDeletedChanges(t);case 12:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),function(){var i=r()(regeneratorRuntime.mark((function i(r){var o,a,c,u,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=r.metadata,a=r.docChanges(),i.next=4,h.a.execFunctionAsync(l,[a,e]);case 4:if(o.fromCache||!(a.length>0||r.size>n.queryOnlyLatestChangedNotesThreshold)){i.next=16;break}if(c=v.a.getNewDate(a)||v.a.getNewDate(r.docs)||new Date,d.a.debug("FIREBASE LISTENER :: check if reconnect","id",n._getDeletedChangesId(),"hasPendingWrites",o.hasPendingWrites,"newDate",c,"prevDate",n.deletedLatestDate,"interval",n.queryOnlyLatestChangedNotesMinimumInterval,"snapshot.size",r.size,"notesThreshold",n.queryOnlyLatestChangedNotesThreshold,"changes",a.length),!h.a.isDate(c)){i.next=16;break}if(u=n.deletedLatestDate,!((p=!u||c.getTime()-u.getTime()>n.queryOnlyLatestChangedNotesMinimumInterval||r.size>n.queryOnlyLatestChangedNotesThreshold)||u.getTime()>c.getTime())){i.next=16;break}return s[n.settingsDeletedDateField]=c,n.deletedLatestDate=c,i.next=15,m.a.save();case 15:p&&n._reconnectDeletedChanges(t);case 16:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}}}]),t}()},2402:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getFiles",(function(){return a})),n.d(i,"getFilesCount",(function(){return s})),n.d(i,"getSelectedFileState",(function(){return c})),n.d(i,"getSelectedFile",(function(){return l})),n.d(i,"getOriginalFile",(function(){return u})),n.d(i,"getSelectedFileIndex",(function(){return d})),n.d(i,"getSelectedFileError",(function(){return h})),n.d(i,"isFileSelected",(function(){return p})),n.d(i,"getUpdateFilesProgress",(function(){return f})),n.d(i,"isFileContentChanged",(function(){return g}));var r=n("f936"),o=n("72a1");function a(t){var e=t.requestUpdateFiles;return r.a.getFiles(e)}function s(t,e){return e.getFiles.length}function c(t){return t.selectedFileState}function l(t){return t.selectedFileState.file}function u(t){return t.selectedFileState.original}function d(t,e){var n=e.getSelectedFileState;return n?n.listIndex:-1}function h(t,e){var n=e.getSelectedFileState;return n?n.error:null}function p(t){return!o.a.isNull(t.selectedFileState)}function f(t){return r.a.getUpdateFilesProgress(t.requestUpdateFilesProgress)}function g(t){return t.selectedFileState.isEdited()}var m=n("9523"),v=n.n(m),y=(n("c740"),n("970b")),_=n.n(y),b=n("1cee"),S=n("6683"),C=n("31a0"),T=function t(){_()(this,t),v()(this,"file",void 0),v()(this,"original",void 0),v()(this,"listIndex",void 0)};v()(T,"createState",(function(t,e,n){var i=new T;return i.listIndex=n||r.a.getFiles().findIndex((function(e){return e.id===t.id})),i.original=(new C.a).apply(t),i.file=(new C.a).apply(t),i.viewMode=e,b.a.debug("create state:",i),i})),T.prototype.getOriginal=function(){return this.original},T.prototype.isEditMode=function(){return this.viewMode===S.a.EDIT},T.prototype.isViewMode=function(){return this.viewMode===S.a.VIEW},T.prototype.isEdited=function(){return!this.file.areContentTheSame(this.original)};var w,I=n("ed99"),E=(w={},v()(w,I.a.SET_FILE_PROGRESS,(function(t,e){r.a.setFileProgress(e),t.requestUpdateFilesProgress=Date.now()})),v()(w,I.a.SET_FILES,(function(t,e){r.a.setFiles(e),t.requestUpdateFiles=Date.now()})),v()(w,I.a.SELECT_NEXT_FILE,(function(t){var e,n=r.a.getFiles(),i=t.selectedFileState,o=n[e=i&&i.listIndex<n.length-1?i.listIndex+1:0];A(t,{viewMode:S.a.VIEW,listIndex:e,file:o})})),v()(w,I.a.SELECT_PREV_FILE,(function(t){var e,n=r.a.getFiles(),i=t.selectedFileState;((e=i?i.listIndex-1:n.length-1)<0||e>n.length-1)&&(e=n.length-1);var o=n[e];A(t,{viewMode:S.a.VIEW,listIndex:e,file:o})})),v()(w,I.a.VIEW_FILE,(function(t,e){A(t,{viewMode:S.a.VIEW,file:e})})),v()(w,I.a.UPDATE_FILE,(function(t,e){A(t,{file:e})})),v()(w,I.a.EDIT_FILE,(function(t){A(t,{viewMode:S.a.EDIT})})),v()(w,I.a.CANCEL_VIEW_FILE,(function(t){t.selectedFileState=null})),w);function A(t,e){var n=t.selectedFileState,i=e.viewMode||n.viewMode,o=e.file||n.file,a=e.listIndex||r.a.getFiles().findIndex((function(t){return t.firestoreId===o.firestoreId}));t.selectedFileState=T.createState(o,i,a)}var x,k=n("c973"),D=n.n(k),R=(n("96cf"),n("d3b7"),n("e6cf"),n("a79d"),n("b0c0"),n("e8ea")),L=n("61b4"),F=n("e2db"),O=n("5046"),P=n("c9d9"),N=(x={},v()(x,P.a.onSaveFile,(function(t,e){return B(e.fileRef)?R.a.save(t,e.fileRef).then((function(e){return t.commit(I.a.VIEW_FILE,e)})):null})),v()(x,P.a.onAutoSaveSelectedFile,(function(t,e){return B(e.fileRef)?R.a.save(t,e.fileRef).then((function(e){return t.commit(I.a.UPDATE_FILE,e)})):null})),v()(x,P.a.onUploadFile,(function(t,e){return R.a.upload(t,[e.file])})),v()(x,P.a.onReUploadFile,(function(t,e){return R.a.update(t,e.fileRef,e.file)})),v()(x,P.a.onCancelFileUploadProgress,(function(t,e){return R.a.cancelUploadProgress(t,e.fileRef)})),v()(x,P.a.onCancelFileDownloadProgress,(function(t,e){return F.a.isDesktop()?t.dispatch(P.a.onCancelDownloadFileElectron,{fileRef:e.fileRef}):R.a.cancelDownloadProgress(t,e.fileRef)})),v()(x,P.a.onGetFileDownloadUrl,(function(t,e){var n=e.withSilentOnError,i=e.withLoadingState,r=e.fileRef;return i&&O.a.showLoadingState(),R.a.getDownloadUrl(t,r).catch((function(e){if(!n)return t.dispatch(P.a.onShowError,e)})).finally((function(){i&&O.a.hideLoadingState()}))})),v()(x,P.a.onDownloadFile,(function(t,e){return D()(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.fileRef,n.next=3,t.dispatch(P.a.onGetFileDownloadUrl,{withLoadingState:!0,fileRef:i});case 3:if(!(r=n.sent)){n.next=10;break}if(!F.a.isDesktop()){n.next=9;break}return n.abrupt("return",t.dispatch(P.a.onDownloadFileElectron,{fileRef:i,url:r}));case 9:return n.abrupt("return",R.a.download(t,i,r));case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n)})))()})),v()(x,P.a.onGetFileShareUrl,(function(t,e){return D()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.fileRef,O.a.showLoadingState(),n.abrupt("return",R.a.getFilePublicLink(t,i).then((function(e){if(!o.a.isNull(e))return t.dispatch(P.a.onCopyText,{text:e})})).finally((function(){return O.a.hideLoadingState()})));case 3:case"end":return n.stop()}}),n)})))()})),v()(x,P.a.onGetFilesByIds,(function(t,e){return b.a.debug("onGetFilesByIds",e.ids),R.a.getFilesByIds(e.ids)})),x);function B(t){var e=t.name;return!o.a.isNullOrBlank(e)||(L.a.runOnUI((function(t){O.a.showToast(t.$t("file_error_name_required"))})),!1)}e.a={namespaced:!1,state:{selectedFileState:null,requestUpdateFiles:null,requestUpdateFilesProgress:null},getters:i,mutations:E,actions:N}},2404:function(t,e,n){"use strict";n("99af"),n("2ca0"),n("8a79");var i=n("5046"),r=n("2b0e"),o=n("8a46"),a=n.n(o);r.default.component("pinch-zoom",a.a);var s={name:"PreviewLinkUseCase",data:function(){return{isShown:null}},watch:{getLinkPreviewToPlay:function(t){this.isShown=null!==t}},computed:{getLinkPreviewToPlay:function(){return this.$store.getters.getLinkPreviewToPlay.preview},getAppBarHeight:function(){return this.$store.getters.getAppBarHeight},getButtonStyle:function(){var t=this.getAppBarHeight||12,e=i.a.getColorBrand("white",{alpha:.7});return"background-color: rgba(0,0,0,0.4); color: ".concat(e,"; margin-top: ").concat(t,"px;")},isVideo:function(){var t=this.getLinkPreviewToPlay;return t.embedUrl&&(t.mediaType&&t.mediaType.startsWith("video")||t.imageUrl&&t.imageUrl.endsWith(".mp4"))},getVideoUrl:function(){return this.getLinkPreviewToPlay.embedUrl},getImageUrl:function(){return this.getLinkPreviewToPlay.imageUrl}},methods:{onClose:function(){this.isShown=!1}}},c=n("2877"),l=n("24e8"),u=n("6ac0"),d=n("068f"),h=n("9c40"),p=n("eebe"),f=n.n(p),g=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getLinkPreviewToPlay?n("q-dialog",{attrs:{maximized:"",persistent:""},model:{value:t.isShown,callback:function(e){t.isShown=e},expression:"isShown"}},[n("div",{staticClass:"non-selectable bg-black fit"},[t.isVideo?n("q-video",{staticClass:"fit",attrs:{src:t.getVideoUrl}}):n("pinch-zoom",{staticClass:"fit",attrs:{"limit-zoom":20}},[n("q-img",{staticClass:"fit cursor-pointer",attrs:{contain:"",ratio:16/9,src:t.getImageUrl,"spinner-color":"colorAccent"}})],1),n("q-btn",{staticClass:"absolute-top-left q-ma-sm",style:t.getButtonStyle,attrs:{icon:"close",size:"12px",round:"",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}})],1)]):t._e()}),[],!1,null,null,null);e.a=g.exports;f()(g,"components",{QDialog:l.a,QVideo:u.a,QImg:d.a,QBtn:h.a})},"25d0":function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var i=n("448a"),r=n.n(i),o=n("6374"),a=n.n(o),s=n("c973"),c=n.n(s),l=(n("96cf"),n("d3b7"),n("e6cf"),n("4e82"),n("26e9"),n("7db0"),n("3ca3"),n("e260"),n("ddb0"),n("159b"),n("4de4"),n("caad"),n("2532"),n("d81d"),n("ac1f"),n("841c"),n("9911"),n("00b4"),n("a4d3"),n("e01a"),n("2063")),u=n("f936"),d=n("78c8"),h=n("72a1"),p=n("8841"),f=n("78ef"),g=n("ed99"),m=n("0477"),v=n("1cee"),y=n("baf0"),_=n("fab3"),b=n("782d"),S=n("25da"),C=n("2667").a.clipto,T={INDEX_CLIPBOARD_CLEANUP:"[tracked+deleted+fav+tagIdsCount+snippetSetsIdsCount+filesCount+snippet+title]",INDEX_CLIPBOARD_CLEANUP_VALUE:[1,0,0,0,0,0,0,""],INDEX_CLIPBOARD_CLEANUP_UNSAFE:"[tracked+deleted]",INDEX_CLIPBOARD_CLEANUP_UNSAFE_VALUE:[1,0],clipsCountChanged:!0,postClipsCountChanged:function(){this.clipsCountChanged=!0},consumeClipsCountChanged:function(){var t=this.clipsCountChanged;return this.clipsCountChanged=!1,t},clear:function(t){var e=this;return c()(regeneratorRuntime.mark((function n(){var i,r,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.getters.remoteConfigCanRemoveNotSyncedNotesOnLogout){n.next=6;break}return n.next=4,C.clips.clear();case 4:n.next=28;break;case 6:return n.next=8,C.clips.where("firestoreId").notEqual("").delete();case 8:return n.next=10,C.clips.toArray();case 10:i=n.sent,r=a()(i),n.prev=12,r.s();case 14:if((o=r.n()).done){n.next=20;break}return s=o.value,n.next=18,l.a.update(null,s);case 18:n.next=14;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(12),r.e(n.t0);case 25:return n.prev=25,r.f(),n.finish(25);case 28:e.postClipsCountChanged();case 29:case"end":return n.stop()}}),n,null,[[12,22,25,28]])})))()},getNotSynced:function(){return C.clips.where("firestoreId").equals("").sortBy("modifyDate")},getWithFiles:function(){return C.clips.where("filesCount").notEqual(0).and((function(t){return h.a.isArray(t.files)&&(h.a.arrayIsEmpty(t.fileIds)||!h.a.isArray(t.fileIds))})).toArray()},getAllClipsCount:function(){return C.clips.count()},getUntaggedClipsCount:function(){return C.clips.where("[tagIdsCount+deleted]").equals([0,0]).count()},getClipboardClipsCount:function(){var t=u.a.getFilterClipboard();return t&&t.excludeWithCustomAttributes?C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).count():C.clips.where(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE).equals(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE_VALUE).count()},getDeletedClipsCount:function(){return C.clips.where({deleted:1}).count()},getFavClipsCount:function(){return C.clips.where("[fav+deleted]").equals([1,0]).count()},getNotSyncedClipsCount:function(){return C.clips.where("firestoreId").equals("").count()},getSnippetsCount:function(){return C.clips.where("[snippet+deleted]").equals([1,0]).count()},getFilteredCount:function(t){return this._createFilterQuery(t).count()},getFiltered:function(t){return this._createFilterQuery(t).toArray()},getFilteredAndSorted:function(t){var e=this;return this.getFiltered(t).then((function(n){return e.sort(n,t)}))},getSyncedClipsCount:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.a.getFilters(),e.next=3,t.getNotSyncedClipsCount();case 3:return i=e.sent,r=n.all.getNotesCount()+n.deleted.getNotesCount(),e.abrupt("return",r-i);case 6:case"end":return e.stop()}}),e)})))()},getDeletedCleanupClips:function(){return C.clips.where("deleted").equals(1).sortBy("deleteDate")},getClipboardCleanupClips:function(){return C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).sortBy("updateDate")},getClipboardAutoCleanupClips:function(t){return C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).reverse().offset(t).sortBy("updateDate")},getSyncedClips:function(){return C.clips.where("firestoreId").notEqual("")},getClipboardExceedingClips:function(t){var e=this;return c()(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isTracked()){n.next=11;break}if((r=u.a.getFilterClipboard())&&(i=r.limit),i||(i=0),!(i>0)){n.next=11;break}return n.next=7,e._getClipboardAutoCleanupClipsCount();case 7:if(o=n.sent,v.a.debug("found clips to clean up: ",o),!(o>=i)){n.next=11;break}return n.abrupt("return",e.getClipboardAutoCleanupClips(i-1));case 11:return n.abrupt("return",null);case 12:case"end":return n.stop()}}),n)})))()},_getClipboardAutoCleanupClipsCount:function(){return C.clips.where(this.INDEX_CLIPBOARD_CLEANUP).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE).count()},getById:function(t){return t?C.clips.get(t):null},getByFirestoreId:function(t){return C.clips.where({firestoreId:t}).first()},getBySnippetId:function(t){return c()(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return n=C.clips.where({snippetId:t}),e.next=4,n.toArray();case 4:if(i=e.sent,!h.a.arrayIsNotEmpty(i)){e.next=7;break}return e.abrupt("return",i[0]);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))()},getByText:function(t){return c()(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.clips.where({text:t}).toArray();case 2:return n=e.sent,i=n.find((function(t){return t.isTracked()})),h.a.arrayIsNotEmpty(n)&&(Object(S.a)(n).by([{desc:function(t){return t.createDate}}]),i=n[0]),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))()},deleteAll:function(t,e){var n=this;return c()(regeneratorRuntime.mark((function i(){var r,o,s,c,u;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=[],o=a()(t),i.prev=2,o.s();case 4:if((s=o.n()).done){i.next=12;break}return c=s.value,i.next=8,l.a.update(c,null);case 8:r.push(c.id),c.deleteDate=null;case 10:i.next=4;break;case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(2),o.e(i.t0);case 17:return i.prev=17,o.f(),i.finish(17);case 20:return n.postClipsCountChanged(),i.next=23,C.clips.bulkDelete(r);case 23:return e&&(u=e.getters.getSelectedClip)&&u.id&&t.find((function(t){return t.id===u.id}))&&e.commit(g.a.NEW_CLIP),i.abrupt("return",t);case 25:case"end":return i.stop()}}),i,null,[[2,14,17,20]])})))()},save:function(t,e){var n=this;return c()(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.shake();case 2:return e&&!t.isNew()||n.postClipsCountChanged(),i.next=5,C.clips.put(t);case 5:return t.id=i.sent,i.abrupt("return",t);case 7:case"end":return i.stop()}}),i)})))()},saveAllInitial:function(t){var e=this;return c()(regeneratorRuntime.mark((function n(){var i,r,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getNotSynced();case 2:i=n.sent,r=a()(t),n.prev=4,s=regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.value,null!=(n=i.find((function(t){return t.text===e.text})))&&(e.id=n.id),t.next=5,l.a.update(n,e);case 5:return t.next=7,e.shake();case 7:case"end":return t.stop()}}),t)})),r.s();case 7:if((o=r.n()).done){n.next=11;break}return n.delegateYield(s(),"t0",9);case 9:n.next=7;break;case 11:n.next=16;break;case 13:n.prev=13,n.t1=n.catch(4),r.e(n.t1);case 16:return n.prev=16,r.f(),n.finish(16);case 19:return e.postClipsCountChanged(),n.next=22,C.clips.bulkPut(t);case 22:return n.abrupt("return",t);case 23:case"end":return n.stop()}}),n,null,[[4,13,16,19]])})))()},saveAll:function(t,e){var n=this;return c()(regeneratorRuntime.mark((function i(){var r,o,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=a()(t),i.prev=1,r.s();case 3:if((o=r.n()).done){i.next=9;break}return s=o.value,i.next=7,s.shake();case 7:i.next=3;break;case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(1),r.e(i.t0);case 14:return i.prev=14,r.f(),i.finish(14);case 17:return n.postClipsCountChanged(),i.next=20,C.clips.bulkPut(t);case 20:e&&e.commit(g.a.UPDATE_CLIP,t);case 21:case"end":return i.stop()}}),i,null,[[1,11,14,17]])})))()},createOrUpdate:function(t,e,n){var i=this;return c()(regeneratorRuntime.mark((function o(){var a,s,c,u,d,p,f,g,m,v,_;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=new Date,s=t,t.snippet&&!t.isSnippet()&&(t.snippetId=t.firestoreId||y.a.autoId()),!s.id){o.next=18;break}return o.next=6,i.getById(s.id);case 6:return c=o.sent,u=s.text!==c.text,!e&&u&&i.applyAutoTags(s,n),o.next=11,l.a.update(c,s);case 11:return e?(s.updateDate=a,s.usageCount+=1):s.areContentTheSame(c)||(s.modifyDate=a),c.firestoreId&&(s.firestoreId=c.firestoreId),s.tracked=c.tracked,s.deleteDate=null,o.abrupt("return",i.save(s,e));case 18:if(d=null,!s.isTracked()){o.next=23;break}return o.next=22,i.getByText(s.text);case 22:d=o.sent;case 23:if(!d){o.next=36;break}return p=s.areContentTheSame(d),f=(new b.a).apply(d),g=s.text!==d.text,s.isTracked()||(v=d.getTagIds(),s.getTagIds().filter((function(t){return!v.includes(t)})).forEach((function(t){return v.push(t)})),d.setFileIds((m=d.getFileIds()).push.apply(m,r()(s.getFileIds()))),d.setTagIds(v),h.a.isNullOrBlank(s.title)||(d.title=s.title),s.textType&&(d.textType=s.textType)),e?(d.updateDate=a,d.usageCount+=1):p||(d.modifyDate=a),d.deleteDate=null,!e&&g&&i.applyAutoTags(d,n),o.next=33,l.a.update(f,d);case 33:return o.abrupt("return",i.save(d,e));case 36:return _=s.createDate||a,s.usageCount=0,s.updateDate=_,s.modifyDate=_,s.createDate=_,i.applyTextType(s),i.applyAutoTags(s,n),o.next=45,l.a.update(null,s);case 45:return o.abrupt("return",i.save(s,e));case 46:case"end":return o.stop()}}),o)})))()},undoDeleteAll:function(t){var e=this;return c()(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=a()(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=12;break}return(o=r.value).deleteDate=null,n.next=8,e.save(o);case 8:return n.next=10,l.a.update(null,o);case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),i.e(n.t0);case 17:return n.prev=17,i.f(),n.finish(17);case 20:return n.abrupt("return",t);case 21:case"end":return n.stop()}}),n,null,[[1,14,17,20]])})))()},applyAutoTags:function(t,e){if(e.getters.remoteConfigCanCreateTagAutoRules&&t.canApplyAutoTags()){var n=t.text,i=t.getTagIds(),o=t.getExcludedTagIds(),a=u.a.getFilters().getSortedTags().filter((function(t){return t.autoRulesEnabled})).filter((function(t){return!i.includes(t.uid)})).filter((function(t){return!o.includes(t.uid)})).map((function(t){var e=t.autoRuleByTextIn;if(h.a.isNullOrBlank(e))return null;var i=p.a.createSearchRegExp(e);return-1!==n.search(i)?t.uid:null})).filter((function(t){return!h.a.isNull(t)}));if(h.a.arrayIsNotEmpty(a)){var s,c=i;(s=c).push.apply(s,r()(a)),c=h.a.arrayDistinct(c),t.setTagIds(c)}}},applyTextType:function(t){t.textType||(d.a.hasLinks(t.text)?t.textType=m.a.LINK.id:t.textType=m.a.TEXT_PLAIN.id)},sort:function(t,e){var n=[];switch(e.pinSnippets&&n.push({desc:function(t){return t.snippet}}),e.pinStarred&&n.push({desc:function(t){return t.fav}}),_.a.byId[e.sortBy]){case _.a.MODIFY_DATE_DESC:n.push({desc:function(t){return t.modifyDate}});break;case _.a.CREATE_DATE_DESC:n.push({desc:function(t){return t.createDate}});break;case _.a.USAGE_DATE_DESC:n.push({desc:function(t){return t.updateDate}}),n.push({desc:function(t){return t.createDate}});break;case _.a.DELETE_DATE_DESC:n.push({desc:function(t){return t.deleteDate}}),n.push({desc:function(t){return t.createDate}});break;case _.a.USAGE_COUNT_DESC:n.push({desc:function(t){return t.usageCount}}),n.push({desc:function(t){return t.createDate}});break;case _.a.TITLE_DESC:n.push({desc:function(t){return h.a.nullIfEmpty(t.title)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.TEXT_DESC:n.push({desc:function(t){return t.text}}),n.push({desc:function(t){return t.createDate}});break;case _.a.TAGS_DESC:n.push({desc:function(t){return h.a.nullIfEmpty(t.tags)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.SIZE_DESC:n.push({desc:function(t){return h.a.zeroIfNull(t.size)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.CHARACTERS_DESC:n.push({desc:function(t){return h.a.zeroIfNull(t.characters)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.MODIFY_DATE_ASC:n.push({asc:function(t){return t.modifyDate}});break;case _.a.CREATE_DATE_ASC:n.push({asc:function(t){return t.createDate}});break;case _.a.USAGE_DATE_ASC:n.push({asc:function(t){return t.updateDate}}),n.push({desc:function(t){return t.createDate}});break;case _.a.DELETE_DATE_ASC:n.push({asc:function(t){return t.deleteDate}}),n.push({desc:function(t){return t.createDate}});break;case _.a.USAGE_COUNT_ASC:n.push({asc:function(t){return t.usageCount}}),n.push({desc:function(t){return t.createDate}});break;case _.a.TITLE_ASC:n.push({asc:function(t){return h.a.nullIfEmpty(t.title)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.TEXT_ASC:n.push({asc:function(t){return t.text}}),n.push({desc:function(t){return t.createDate}});break;case _.a.TAGS_ASC:n.push({asc:function(t){return h.a.nullIfEmpty(t.tags)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.SIZE_ASC:n.push({asc:function(t){return h.a.zeroIfNull(t.size)}}),n.push({desc:function(t){return t.createDate}});break;case _.a.CHARACTERS_ASC:n.push({asc:function(t){return h.a.zeroIfNull(t.characters)}}),n.push({desc:function(t){return t.createDate}});break;default:n.push({desc:function(t){return t.createDate}})}return Object(S.a)(t).by(n),t},_createFilterQuery:function(t){var e=!1,n=C.clips;if(v.a.debug("createFilterQuery",t),t.locatedInWhereType===f.a.NONE_OF.id)v.a.debug("query by located in none of"),t.untagged&&(v.a.debug("query by located in untagged"),n=e?n.filter((function(t){return t.tagIdsCount})):n.where("tagIdsCount").notEqual(0),e=!0),t.clipboard&&(v.a.debug("query by located in clipboard"),n=e?n.filter((function(t){return!t.tracked})):n.where("tracked").equals(0),e=!0),t.recycled&&(v.a.debug("query by located in recycled"),n=e?n.filter((function(t){return!t.deleted})):n.where("deleted").equals(0),e=!0),t.starred&&(v.a.debug("query by located in starred"),n=e?n.filter((function(t){return!t.fav})):n.where("fav").equals(0),e=!0),t.snippets&&(v.a.debug("query by located in snippet"),n=e?n.filter((function(t){return!t.snippet})):n.where("snippet").equals(0),e=!0);else{if(t.untagged&&(n=n.where("[tagIdsCount+deleted]").equals([0,0]),v.a.debug("query by untagged"),e=!0),t.clipboard){var i=u.a.getFilters();n=i.clipboard&&i.clipboard.excludeWithCustomAttributes?(n=e?n.or(this.INDEX_CLIPBOARD_CLEANUP):n.where(this.INDEX_CLIPBOARD_CLEANUP)).equals(this.INDEX_CLIPBOARD_CLEANUP_VALUE):(n=e?n.or(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE):n.where(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE)).equals(this.INDEX_CLIPBOARD_CLEANUP_UNSAFE_VALUE),v.a.debug("query by clipboard"),e=!0}t.recycled&&(n=(n=e?n.or("deleted"):n.where("deleted")).equals(1),v.a.debug("query by recycled"),e=!0),t.starred&&(n=(n=e?n.or("[fav+deleted]"):n.where("[fav+deleted]")).equals([1,0]),v.a.debug("query by starred"),e=!0),t.snippets&&(n=(n=e?n.or("[snippet+deleted]"):n.where("[snippet+deleted]")).equals([1,0]),v.a.debug("query by snippets"),e=!0)}var r=t.getCreateTimeInterval();if(r.isValid()){var o=r.from,a=r.to;v.a.debug("query by create interval",o,a),o&&a?(n=e?n.and((function(t){return t.createDate&&t.createDate.getTime()>=o.getTime()&&t.createDate.getTime()<=a.getTime()})):n.where("createDate").between(o,a,!0,!0),e=!0):o?(n=e?n.and((function(t){return t.createDate&&t.createDate.getTime()>=o.getTime()})):n.where("createDate").aboveOrEqual(o),e=!0):a&&(n=e?n.and((function(t){return t.createDate&&t.createDate.getTime()<=a.getTime()})):n.where("createDate").belowOrEqual(a),e=!0)}var s=t.getUpdateTimeInterval();if(s.isValid()){var c=s.from,l=s.to;v.a.debug("query by update interval",c,l),c&&l?(n=e?n.and((function(t){return t.modifyDate&&t.modifyDate.getTime()>=c.getTime()&&t.modifyDate.getTime()<=l.getTime()})):n.where("modifyDate").between(c,l,!0,!0),e=!0):c?(n=e?n.and((function(t){return t.modifyDate&&t.modifyDate.getTime()>=c.getTime()})):n.where("modifyDate").aboveOrEqual(c),e=!0):l&&(n=e?n.and((function(t){return t.modifyDate&&t.modifyDate.getTime()<=l.getTime()})):n.where("modifyDate").belowOrEqual(l),e=!0)}var d=t.tagIds;if(h.a.arrayIsNotEmpty(d)){var g=t.tagIdsWhereType===f.a.ALL_OF.id;e?n=g?n.and((function(t){return h.a.arrayIncludesAll(t.tagIds,d)})):n.and((function(t){return h.a.arrayIncludesAny(t.tagIds,d)})):(n=n.where("tagIds").anyOf(d).distinct(),g&&(n=n.and((function(t){return h.a.arrayIncludesAll(t.tagIds,d)})))),v.a.debug("query by tagIds:",d,"multipleConditions =",e),e=!0}var m=t.snippetSetIds;if(h.a.arrayIsNotEmpty(m)){var y=t.snippetSetIdsWhereType===f.a.ALL_OF.id;e?n=y?n.and((function(t){return h.a.arrayIncludesAll(t.snippetSetIds,m)})):n.and((function(t){return h.a.arrayIncludesAny(t.snippetSetIds,m)})):(n=n.where("snippetSetsIds").anyOf(m).distinct(),y&&(n=n.and((function(t){return h.a.arrayIncludesAll(t.snippetSetIds,m)})))),v.a.debug("query by snippetSetIds:",m,"multipleConditions =",e),e=!0}t.showOnlyWithPublicLink&&(n=n.filter((function(t){return t.publicLink&&t.publicLink.link})),v.a.debug("query by showOnlyWithAttachments: multipleConditions =",e),e=!0),t.showOnlyNotSynced&&(n=e?n.and((function(t){return h.a.isEmpty(t.firestoreId)})):n.where("firestoreId").equals(""),v.a.debug("query by showOnlyNotSynced: multipleConditions =",e),e=!0),t.showOnlyWithAttachments&&(n=e?n.and((function(t){return t.filesCount})):n.where("filesCount").notEqual(0),v.a.debug("query by showOnlyWithAttachments: multipleConditions =",e),e=!0);var _=t.textTypeIn;if(h.a.arrayIsNotEmpty(_)&&(n=e?n.and((function(t){return h.a.arrayIncludesItem(_,t.textType)})):n.where("textType").anyOf(_).distinct(),v.a.debug("query by textType:",_,"multipleConditions =",e),e=!0),t.recycled||(n=e?n.and((function(t){return!t.deleted})):n.filter((function(t){return!t.deleted})),v.a.debug("query by deleted :: multipleConditions",e)),t.textLike){v.a.debug("query by textLike:",t.textLike);var b=p.a.createSearchRegExp(t.textLike);n=n.filter((function(t){return b.test(t.abbreviation)||b.test(t.description)||b.test(t.title)||b.test(t.text)}))}return n}}},2667:function(t,e,n){"use strict";var i=new(n("4dec").a)("clipto",{chromeTransactionDurability:"relaxed"});i.version(42).stores({tags:"++id",settings:"++id",users:"++id,firebaseId",filters:"++id,uid,type",clips:"++id,createDate,modifyDate,text,firestoreId,snippetId,snippet,deleted,textType,*tagIds,tagIdsCount,*snippetSetsIds,snippetSetsIdsCount,tracked,fav,filesCount,[tagIdsCount+deleted],[tracked+deleted],[fav+deleted],[snippet+deleted],[tracked+deleted+fav+tagIdsCount+snippetSetsIdsCount+filesCount+snippet+title]",fileRefs:"++id,name,folder,path,firestoreId,deleted,[path+name]",publicLinks:"++id,uid"}),e.a={clipto:i}},2732:function(t,e,n){var i=n("5a88"),r=n("699e");e.mul=function(t,e){for(var n=i.alloc(t.length+e.length-1),o=0;o<t.length;o++)for(var a=0;a<e.length;a++)n[o+a]^=r.mul(t[o],e[a]);return n},e.mod=function(t,e){for(var n=i.from(t);n.length-e.length>=0;){for(var o=n[0],a=0;a<e.length;a++)n[a]^=r.mul(e[a],o);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(t){for(var n=i.from([1]),o=0;o<t;o++)n=e.mul(n,[1,r.exp(o)]);return n}},"27a3":function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},2858:function(t,e,n){"use strict";n("99af"),n("498a"),n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("fb6a"),n("5319");var i={getSelectionStart:function(t){return t&&t.selectionStart||0},getSelectionEnd:function(t){return t&&t.selectionEnd||0},getSelectionRange:function(t){return[this.getSelectionStart(t),this.getSelectionEnd(t)]},isRangeSelected:function(t){var e=this.getSelectionRange(t);return e[1]>e[0]}},r=n("61b4"),o=n("e2db");n("25f0");const a=t=>function(t){const e=function(t){const e=-1!==[16,17,18,91,93,224].indexOf(t.keyCode);return{character:e?null:t.code.replace(/^Key([A-Z01-9])/,"$1"),modifiers:{cmd:t.metaKey,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey}}}(t),n=Object.entries(e.modifiers).reduce((t,[e,n])=>(n&&t.push(s[e]),t),[]);e.character&&n.push(e.character);return n}(t).join(s.joinWith);let s={alt:"Alt",cmd:"Cmd",ctrl:"Ctrl",shift:"Shift",joinWith:"+"};var c=n("1cee"),l=function(t){t.preventDefault(),t.stopPropagation(),c.a.debug("handle event",t)},u=function(t){return a(t)},d=n("178d"),h={handleKeyEvent:function(t,e){if(e&&!o.a.isMobile()){var n=u(t),i=h.IDE_KEYS[n];if(i){c.a.debug("TextEditorManager :: handleKeyEvent",e.id,n),l(t);try{i(e)}catch(t){c.a.error("TextEditorManager :: handleKeyEvent :: error",t)}}else c.a.debug("TextEditorManager :: skip",n)}},_processIndent:function(t){var e,n=t.value,o=i.getSelectionRange(t),a=o[0],s=o[1],c=n.slice(a,s);if((null===(e=/\n/g.exec(c))||void 0===e?void 0:e.length)>0){var l=n.lastIndexOf("\n",a-1)+1,u=n.slice(l,s-1),h=u.replace(/^|\n/g,"$&\t"),p=h.length-u.length;t.setSelectionRange(l,s-1),Object(d.a)(t,h),r.a.nextTick((function(){t.setSelectionRange(a+1,s+p)}))}else Object(d.a)(t,"\t")},_processOutdent:function(t){var e=t.value,n=i.getSelectionRange(t),o=n[0],a=n[1],s=e.lastIndexOf("\n",o-1)+1,c=h._findLineEnd(e,a),l=e.slice(s,c),u=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),p=l.length-u.length;t.setSelectionRange(s,c),Object(d.a)(t,u);var f=/\t| {1,2}/.exec(e.slice(s,o)),g=0;f&&(g=f[0].length);var m=o-g;r.a.nextTick((function(){t.setSelectionRange(o-g,Math.max(m,a-p))}))},_processMoveLinesUp:function(t){var e=t.value,n=i.getSelectionRange(t),o=n[0],a=n[1],s=e.lastIndexOf("\n",o-1)+1,c=e.indexOf("\n",a);if(-1===c&&(c=e.length),s>0){var l=s-1,u=e.lastIndexOf("\n",l-1);if(-1===u?u=0:u+=1,u>l){var h=[l,u];u=h[0],l=h[1]}t.setSelectionRange(u,c);var p,f=e.substring(s,c),g=e.substring(u,l),m=0;"\n"===g?p="".concat(f).concat(g):(p="".concat(f,"\n").concat(g),m=1),Object(d.a)(t,p),r.a.nextTick((function(){t.setSelectionRange(o-g.length-m,a-g.length-m)}))}},_processMoveLinesDown:function(t){var e=t.value,n=i.getSelectionRange(t),o=n[0],a=n[1],s=e.lastIndexOf("\n",o-1)+1,c=e.indexOf("\n",a);if(-1!==c){var l=c+1,u=e.indexOf("\n",l);-1===u&&(u=e.length),t.setSelectionRange(s,u);var h=e.substring(l,u),p=e.substring(s,c),f="".concat(h,"\n").concat(p);Object(d.a)(t,f),r.a.nextTick((function(){t.setSelectionRange(o+h.length+1,a+h.length+1)}))}},_processDuplicateLines:function(t){var e,n=t.value,o=i.getSelectionRange(t),a=o[0],s=o[1],c=a,l=s;if(a===s){c=n.lastIndexOf("\n",a-1)+1,-1===(l=n.indexOf("\n",s))&&(l=n.length);var u=n.substring(c,l);a+=u.length+1,s+=u.length+1,e="".concat(u,"\n").concat(u)}else{var h=n.substring(c,l);a+=h.length,s+=h.length,e="".concat(h).concat(h)}t.setSelectionRange(c,l),Object(d.a)(t,e),r.a.nextTick((function(){t.setSelectionRange(a,s)}))},_processUpperCaseLines:function(t){h._processCase(t,!0)},_processLowerCaseLines:function(t){h._processCase(t,!1)},_processCase:function(t,e){var n=t.value,o=i.getSelectionRange(t),a=o[0],s=o[1],c=a,l=s;a===s&&(c=n.lastIndexOf("\n",a-1)+1,-1===(l=n.indexOf("\n",s))&&(l=n.length));var u=n.substring(c,l);u=e?u.toUpperCase():u.toLowerCase(),t.setSelectionRange(c,l),Object(d.a)(t,u),r.a.nextTick((function(){t.setSelectionRange(a,s)}))},_findLineEnd:function(t,e){var n=t.lastIndexOf("\n",e-1)+1;return"\t"!==t.charAt(n)?e:n+1}};h.IDE_KEYS={Tab:h._processIndent,"Shift+Tab":h._processOutdent,"Alt+Shift+ArrowUp":h._processMoveLinesUp,"Alt+Shift+ArrowDown":h._processMoveLinesDown,"Ctrl+D":h._processDuplicateLines,"Cmd+D":h._processDuplicateLines,"Ctrl+U":h._processUpperCaseLines,"Cmd+U":h._processUpperCaseLines,"Ctrl+Shift+U":h._processLowerCaseLines,"Cmd+Shift+U":h._processLowerCaseLines};var p=n("cda8"),f=n("7561"),g=n("78c8"),m=n("72a1"),v=n("d0c5"),y=n("0477"),_=n("c9d9"),b=n("d055"),S=n.n(b),C={name:"ClipDetailsTextBlock",props:["minHeightInPx","staticText","isEditMode","clip"],data:function(){return{qrCodeWidth:0,qrCodeUrl:null,previewModeDate:new Date}},asyncComputed:{clipTextPreview:function(){return this.staticText?this.getClip.text:this.previewModeDate?this.$store.dispatch(_.a.onGetClipText,this.getClip):""}},created:function(){this.requestFocus()},watch:{getSelectedClipState:function(t){c.a.debug("getSelectedClipState",t),this.requestFocus()}},computed:{canPreviewLinks:function(){return this.$store.getters.canPreviewLinks},isSelectedClipFocusOnText:function(){return this.$store.getters.isSelectedClipFocusOnText},getSelectedClipState:function(){return this.$store.getters.getSelectedClipState},getClip:function(){return this.clip},isViewAsMarkdown:function(){return this.isViewAs(y.a.MARKDOWN)},isViewAsQrCode:function(){return this.isViewAs(y.a.QRCODE)},isViewAsTextWithLinks:function(){return this.isViewAs(y.a.LINK,this.$store.getters.isLinkPreviewUpdated)},isViewAsHtml:function(){return this.isViewAs(y.a.HTML)},isViewAsTextWithClickableLines:function(){return this.isViewAs(y.a.LINE_CLICKABLE)},isViewAsTextWithClickableWords:function(){return this.isViewAs(y.a.WORD_CLICKABLE)},isViewAsPlainText:function(){return this.isViewAs(y.a.TEXT_PLAIN)},getFilterByText:function(){return this.$store.getters.getFilterByText},getTextSize:function(){return this.$store.getters.getTextSize},getText:function(){return v.a.sanitize(this.getClip.text)},getQrTextStyle:function(){return"width: ".concat(this.qrCodeWidth,"px; height: ").concat(this.qrCodeWidth,"px;")},getViewModeTextStyle:function(){var t="\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(this.minHeightInPx,"px;\n              ");return(this.isViewAsTextWithLinks||this.isViewAsPlainText)&&(t+="white-space: pre-wrap;"),t.trim()},getEditModeTextStyle:function(){var t="\n              resize: none;\n              text-indent: 0;\n              padding-top: 7px;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(this.minHeightInPx-24,"px;\n              ");return(this.isViewAsTextWithLinks||this.isViewAsPlainText)&&(t+="white-space: pre-wrap;"),t.trim()}},methods:{isViewAs:function(t){return!this.isEditMode&&this.getClip.textType===t.id},asPlainText:function(){return p.a.clearEncodedTexts(),this.clipTextPreview},asTextWithLinks:function(){p.a.clearEncodedTexts();var t=this,e=this.canPreviewLinks,n=this.getFilterByText,i=g.a.linkify(this.clipTextPreview,(function(i){var r=v.a.highlight(i.getMatchedText(),n,!1);return g.a.preview(t,i.getAnchorHref(),r,null,!1,e)}));return v.a.sanitize(i)},asHtml:function(){p.a.clearEncodedTexts();var t=v.a.highlight(this.clipTextPreview,this.getFilterByText,!1);return v.a.sanitize(t)},asMarkdown:function(){p.a.clearEncodedTexts();var t=f.a.marked(this.clipTextPreview);return t=v.a.highlight(t,this.getFilterByText,!1),v.a.sanitize(t)},asTextWithClickableLines:function(){p.a.clearEncodedTexts();var t=this.clipTextPreview;if(!t)return null;var e="<div>",n=this.getFilterByText;return t.split("\n").forEach((function(t){if(!m.a.isNullOrBlank(t)){var i=p.a.encodeText(t),r=v.a.highlight(t,n,!0),o="<a href='#' onclick='document.onCopyEncodedText(\"".concat(i,"\")'>").concat(r,"</a>");e+=o}e+="<br />"})),e+="</div>"},asTextWithClickableWords:function(){p.a.clearEncodedTexts();var t=this.clipTextPreview;if(!t)return null;var e="<div>",n=this.getFilterByText;return t.split("\n").forEach((function(t){m.a.isNullOrBlank(t)||t.split(" ").forEach((function(t){if(!m.a.isNullOrBlank(t)){var i=p.a.encodeText(t),r=v.a.highlight(t,n,!0),o="<a href='#' onclick='document.onCopyEncodedText(\"".concat(i,"\")'>").concat(r,"</a>");e+=o}e+="&nbsp;"}));e+="<br />"})),e+="</div>"},asQrCode:function(){p.a.clearEncodedTexts();var t=this.clipTextPreview,e=this;return t&&S.a.toDataURL(t,{type:"svg"},(function(t,n){t||e.setQrCodeUrl(n)})),null},setQrCodeUrl:function(t){this.qrCodeUrl=t},onResized:function(t){this.qrCodeWidth=Math.min(t.width,o.a.getScreenWidth()/2)},requestFocus:function(){if(this.isSelectedClipFocusOnText){var t=this;r.a.nextTick((function(){return o.a.setFocus(t.$refs.textView,!0)}))}},onEditorEvent:function(t){var e=this.$refs.textView;e&&e.getNativeElement&&h.handleKeyEvent(t,e.getNativeElement())}}},T=n("2877"),w=n("3980"),I=n("27f9"),E=n("eebe"),A=n.n(E),x=Object(T.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isViewAsQrCode?n("div",{staticClass:"row justify-center"},[n("img",{staticClass:"text-textColorPrimary q-pa-md",style:t.getQrTextStyle,attrs:{src:t.qrCodeUrl}}),t._v("\n  "+t._s(t.asQrCode())+"\n  "),n("q-resize-observer",{on:{resize:t.onResized}})],1):t.isViewAsMarkdown?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:t.getViewModeTextStyle,domProps:{innerHTML:t._s(t.asMarkdown())}}):t.isViewAsHtml?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:t.getViewModeTextStyle,domProps:{innerHTML:t._s(t.asHtml())}}):t.isViewAsTextWithLinks?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:t.getViewModeTextStyle,domProps:{innerHTML:t._s(t.asTextWithLinks())}}):t.isViewAsTextWithClickableLines?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:t.getViewModeTextStyle,domProps:{innerHTML:t._s(t.asTextWithClickableLines())}}):t.isViewAsTextWithClickableWords?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:t.getViewModeTextStyle,domProps:{innerHTML:t._s(t.asTextWithClickableWords())}}):t.isViewAsPlainText?n("div",{staticClass:"q-pa-md markdown-body text-textColorPrimary selectable-text",style:t.getViewModeTextStyle},[t._v(t._s(t.asPlainText()))]):n("q-input",{ref:"textView",staticClass:"q-pa-md markdown-body selectable-text text-textColorPrimary",style:t.getEditModeTextStyle,attrs:{placeholder:t.$t("clip_hint_text"),autofocus:t.isSelectedClipFocusOnText,"input-class":"text-textColorPrimary",inputStyle:t.getEditModeTextStyle,disable:!t.isEditMode,autogrow:!0,hideBottomSpace:"",type:"textarea",borderless:"",dense:""},on:{keydown:t.onEditorEvent},model:{value:t.getClip.text,callback:function(e){t.$set(t.getClip,"text",e)},expression:"getClip.text"}})}),[],!1,null,null,null);e.a=x.exports;A()(x,"components",{QResizeObserver:w.a,QInput:I.a})},"29a4":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("970b"),r=n.n(i),o=n("9523"),a=n.n(o),s=n("37f6"),c=n("72a1"),l=function t(){r()(this,t),a()(this,"period",void 0),a()(this,"from",void 0),a()(this,"to",void 0)};l.prototype.isValid=function(){return c.a.isDate(this.from)||c.a.isDate(this.to)},l.prototype.getPeriodValue=function(){var t=this.period;return t?t.id:null},l.prototype.getFromValue=function(){var t=this.period;return t&&t.id===s.a.CUSTOM_INTERVAL.id?this.from:null},l.prototype.getToValue=function(){var t=this.period;return t&&t.id===s.a.CUSTOM_INTERVAL.id?this.to:null},l.newInstance=function(t){var e=new l;return t&&(e.period=t.period,e.from=t.from,e.to=t.to),e}},"2b3d":function(t,e,n){"use strict";n("3ca3");var i,r=n("23e7"),o=n("83ab"),a=n("0d3b"),s=n("da84"),c=n("0366"),l=n("c65b"),u=n("e330"),d=n("37e8"),h=n("6eeb"),p=n("19aa"),f=n("1a2d"),g=n("60da"),m=n("4df4"),v=n("f36a"),y=n("6547").codeAt,_=n("5fb2"),b=n("577e"),S=n("d44e"),C=n("9861"),T=n("69f3"),w=T.set,I=T.getterFor("URL"),E=C.URLSearchParams,A=C.getState,x=s.URL,k=s.TypeError,D=s.parseInt,R=Math.floor,L=Math.pow,F=u("".charAt),O=u(/./.exec),P=u([].join),N=u(1..toString),B=u([].pop),M=u([].push),q=u("".replace),U=u([].shift),$=u("".split),j=u("".slice),V=u("".toLowerCase),H=u([].unshift),z=/[a-z]/i,W=/[\d+-.a-z]/i,K=/\d/,G=/^0x/i,Q=/^[0-7]+$/,Y=/^\d+$/,X=/^[\da-f]+$/i,Z=/[\0\t\n\r #%/:<>?@[\\\]^|]/,J=/[\0\t\n\r #/:<>?@[\\\]^|]/,tt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,et=/[\t\n\r]/g,nt=function(t,e){var n,i,r;if("["==F(e,0)){if("]"!=F(e,e.length-1))return"Invalid host";if(!(n=rt(j(e,1,-1))))return"Invalid host";t.host=n}else if(ht(t)){if(e=_(e),O(Z,e))return"Invalid host";if(null===(n=it(e)))return"Invalid host";t.host=n}else{if(O(J,e))return"Invalid host";for(n="",i=m(e),r=0;r<i.length;r++)n+=ut(i[r],at);t.host=n}},it=function(t){var e,n,i,r,o,a,s,c=$(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=c[i]))return t;if(o=10,r.length>1&&"0"==F(r,0)&&(o=O(G,r)?16:8,r=j(r,8==o?1:2)),""===r)a=0;else{if(!O(10==o?Y:8==o?Q:X,r))return t;a=D(r,o)}M(n,a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=L(256,5-e))return null}else if(a>255)return null;for(s=B(n),i=0;i<n.length;i++)s+=n[i]*L(256,3-i);return s},rt=function(t){var e,n,i,r,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return F(t,d)};if(":"==h()){if(":"!=F(t,1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;n<4&&O(X,h());)e=16*e+D(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(i=0;h();){if(r=null,i>0){if(!("."==h()&&i<4))return;d++}if(!O(K,h()))return;for(;O(K,h());){if(o=D(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}c[l]=256*c[l]+r,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=e}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c},ot=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)H(e,t%256),t=R(t/256);return P(e,".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=N(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},st=g({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=g({},st,{"#":1,"?":1,"{":1,"}":1}),lt=g({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ut=function(t,e){var n=y(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},dt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ht=function(t){return f(dt,t.scheme)},pt=function(t){return""!=t.username||""!=t.password},ft=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},gt=function(t,e){var n;return 2==t.length&&O(z,F(t,0))&&(":"==(n=F(t,1))||!e&&"|"==n)},mt=function(t){var e;return t.length>1&&gt(j(t,0,2))&&(2==t.length||"/"===(e=F(t,2))||"\\"===e||"?"===e||"#"===e)},vt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&gt(e[0],!0)||e.length--},yt=function(t){return"."===t||"%2e"===V(t)},_t={},bt={},St={},Ct={},Tt={},wt={},It={},Et={},At={},xt={},kt={},Dt={},Rt={},Lt={},Ft={},Ot={},Pt={},Nt={},Bt={},Mt={},qt={},Ut=function(t,e,n,r){var o,a,s,c,l,u=n||_t,d=0,h="",p=!1,g=!1,y=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=q(e,tt,"")),e=q(e,et,""),o=m(e);d<=o.length;){switch(a=o[d],u){case _t:if(!a||!O(z,a)){if(n)return"Invalid scheme";u=St;continue}h+=V(a),u=bt;break;case bt:if(a&&(O(W,a)||"+"==a||"-"==a||"."==a))h+=V(a);else{if(":"!=a){if(n)return"Invalid scheme";h="",u=St,d=0;continue}if(n&&(ht(t)!=f(dt,h)||"file"==h&&(pt(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(ht(t)&&dt[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?u=Lt:ht(t)&&r&&r.scheme==t.scheme?u=Ct:ht(t)?u=Et:"/"==o[d+1]?(u=Tt,d++):(t.cannotBeABaseURL=!0,M(t.path,""),u=Bt)}break;case St:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=v(r.path),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=qt;break}u="file"==r.scheme?Lt:wt;continue;case Ct:if("/"!=a||"/"!=o[d+1]){u=wt;continue}u=At,d++;break;case Tt:if("/"==a){u=xt;break}u=Nt;continue;case wt:if(t.scheme=r.scheme,a==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=v(r.path),t.query=r.query;else if("/"==a||"\\"==a&&ht(t))u=It;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=v(r.path),t.query="",u=Mt;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=v(r.path),t.path.length--,u=Nt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=v(r.path),t.query=r.query,t.fragment="",u=qt}break;case It:if(!ht(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=Nt;continue}u=xt}else u=At;break;case Et:if(u=At,"/"!=a||"/"!=F(h,d+1))continue;d++;break;case At:if("/"!=a&&"\\"!=a){u=xt;continue}break;case xt:if("@"==a){p&&(h="%40"+h),p=!0,s=m(h);for(var _=0;_<s.length;_++){var b=s[_];if(":"!=b||y){var S=ut(b,lt);y?t.password+=S:t.username+=S}else y=!0}h=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&ht(t)){if(p&&""==h)return"Invalid authority";d-=m(h).length+1,h="",u=kt}else h+=a;break;case kt:case Dt:if(n&&"file"==t.scheme){u=Ot;continue}if(":"!=a||g){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&ht(t)){if(ht(t)&&""==h)return"Invalid host";if(n&&""==h&&(pt(t)||null!==t.port))return;if(c=nt(t,h))return c;if(h="",u=Pt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),h+=a}else{if(""==h)return"Invalid host";if(c=nt(t,h))return c;if(h="",u=Rt,n==Dt)return}break;case Rt:if(!O(K,a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&ht(t)||n){if(""!=h){var C=D(h,10);if(C>65535)return"Invalid port";t.port=ht(t)&&C===dt[t.scheme]?null:C,h=""}if(n)return;u=Pt;continue}return"Invalid port"}h+=a;break;case Lt:if(t.scheme="file","/"==a||"\\"==a)u=Ft;else{if(!r||"file"!=r.scheme){u=Nt;continue}if(a==i)t.host=r.host,t.path=v(r.path),t.query=r.query;else if("?"==a)t.host=r.host,t.path=v(r.path),t.query="",u=Mt;else{if("#"!=a){mt(P(v(o,d),""))||(t.host=r.host,t.path=v(r.path),vt(t)),u=Nt;continue}t.host=r.host,t.path=v(r.path),t.query=r.query,t.fragment="",u=qt}}break;case Ft:if("/"==a||"\\"==a){u=Ot;break}r&&"file"==r.scheme&&!mt(P(v(o,d),""))&&(gt(r.path[0],!0)?M(t.path,r.path[0]):t.host=r.host),u=Nt;continue;case Ot:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&gt(h))u=Nt;else if(""==h){if(t.host="",n)return;u=Pt}else{if(c=nt(t,h))return c;if("localhost"==t.host&&(t.host=""),n)return;h="",u=Pt}continue}h+=a;break;case Pt:if(ht(t)){if(u=Nt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=i&&(u=Nt,"/"!=a))continue}else t.fragment="",u=qt;else t.query="",u=Mt;break;case Nt:if(a==i||"/"==a||"\\"==a&&ht(t)||!n&&("?"==a||"#"==a)){if(".."===(l=V(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(vt(t),"/"==a||"\\"==a&&ht(t)||M(t.path,"")):yt(h)?"/"==a||"\\"==a&&ht(t)||M(t.path,""):("file"==t.scheme&&!t.path.length&&gt(h)&&(t.host&&(t.host=""),h=F(h,0)+":"),M(t.path,h)),h="","file"==t.scheme&&(a==i||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)U(t.path);"?"==a?(t.query="",u=Mt):"#"==a&&(t.fragment="",u=qt)}else h+=ut(a,ct);break;case Bt:"?"==a?(t.query="",u=Mt):"#"==a?(t.fragment="",u=qt):a!=i&&(t.path[0]+=ut(a,at));break;case Mt:n||"#"!=a?a!=i&&("'"==a&&ht(t)?t.query+="%27":t.query+="#"==a?"%23":ut(a,at)):(t.fragment="",u=qt);break;case qt:a!=i&&(t.fragment+=ut(a,st))}d++}},$t=function(t){var e,n,i=p(this,jt),r=arguments.length>1?arguments[1]:void 0,a=b(t),s=w(i,{type:"URL"});if(void 0!==r)try{e=I(r)}catch(t){if(n=Ut(e={},b(r)))throw k(n)}if(n=Ut(s,a,null,e))throw k(n);var c=s.searchParams=new E,u=A(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=b(c)||null},o||(i.href=l(Vt,i),i.origin=l(Ht,i),i.protocol=l(zt,i),i.username=l(Wt,i),i.password=l(Kt,i),i.host=l(Gt,i),i.hostname=l(Qt,i),i.port=l(Yt,i),i.pathname=l(Xt,i),i.search=l(Zt,i),i.searchParams=l(Jt,i),i.hash=l(te,i))},jt=$t.prototype,Vt=function(){var t=I(this),e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==r?(l+="//",pt(t)&&(l+=n+(i?":"+i:"")+"@"),l+=ot(r),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+P(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Ht=function(){var t=I(this),e=t.scheme,n=t.port;if("blob"==e)try{return new $t(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&ht(t)?e+"://"+ot(t.host)+(null!==n?":"+n:""):"null"},zt=function(){return I(this).scheme+":"},Wt=function(){return I(this).username},Kt=function(){return I(this).password},Gt=function(){var t=I(this),e=t.host,n=t.port;return null===e?"":null===n?ot(e):ot(e)+":"+n},Qt=function(){var t=I(this).host;return null===t?"":ot(t)},Yt=function(){var t=I(this).port;return null===t?"":b(t)},Xt=function(){var t=I(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+P(e,"/"):""},Zt=function(){var t=I(this).query;return t?"?"+t:""},Jt=function(){return I(this).searchParams},te=function(){var t=I(this).fragment;return t?"#"+t:""},ee=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&d(jt,{href:ee(Vt,(function(t){var e=I(this),n=b(t),i=Ut(e,n);if(i)throw k(i);A(e.searchParams).updateSearchParams(e.query)})),origin:ee(Ht),protocol:ee(zt,(function(t){var e=I(this);Ut(e,b(t)+":",_t)})),username:ee(Wt,(function(t){var e=I(this),n=m(b(t));if(!ft(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=ut(n[i],lt)}})),password:ee(Kt,(function(t){var e=I(this),n=m(b(t));if(!ft(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=ut(n[i],lt)}})),host:ee(Gt,(function(t){var e=I(this);e.cannotBeABaseURL||Ut(e,b(t),kt)})),hostname:ee(Qt,(function(t){var e=I(this);e.cannotBeABaseURL||Ut(e,b(t),Dt)})),port:ee(Yt,(function(t){var e=I(this);ft(e)||(""==(t=b(t))?e.port=null:Ut(e,t,Rt))})),pathname:ee(Xt,(function(t){var e=I(this);e.cannotBeABaseURL||(e.path=[],Ut(e,b(t),Pt))})),search:ee(Zt,(function(t){var e=I(this);""==(t=b(t))?e.query=null:("?"==F(t,0)&&(t=j(t,1)),e.query="",Ut(e,t,Mt)),A(e.searchParams).updateSearchParams(e.query)})),searchParams:ee(Jt),hash:ee(te,(function(t){var e=I(this);""!=(t=b(t))?("#"==F(t,0)&&(t=j(t,1)),e.fragment="",Ut(e,t,qt)):e.fragment=null}))}),h(jt,"toJSON",(function(){return l(Vt,this)}),{enumerable:!0}),h(jt,"toString",(function(){return l(Vt,this)}),{enumerable:!0}),x){var ne=x.createObjectURL,ie=x.revokeObjectURL;ne&&h($t,"createObjectURL",c(ne,x)),ie&&h($t,"revokeObjectURL",c(ie,x))}S($t,"URL"),r({global:!0,forced:!a,sham:!o},{URL:$t})},"2e98":function(t,e,n){var i={"./":["12cb"],"./ar":["95e2",8],"./ar/":["95e2",8],"./ar/index":["95e2",8],"./ar/index.js":["95e2",8],"./be":["7bfb",9],"./be/":["7bfb",9],"./be/index":["7bfb",9],"./be/index.js":["7bfb",9],"./bg":["5a54",10],"./bg/":["5a54",10],"./bg/index":["5a54",10],"./bg/index.js":["5a54",10],"./ca":["2002",11],"./ca/":["2002",11],"./ca/index":["2002",11],"./ca/index.js":["2002",11],"./da":["ea34",12],"./da/":["ea34",12],"./da/index":["ea34",12],"./da/index.js":["ea34",12],"./de":["d921",13],"./de/":["d921",13],"./de/index":["d921",13],"./de/index.js":["d921",13],"./el":["414b",14],"./el/":["414b",14],"./el/index":["414b",14],"./el/index.js":["414b",14],"./en-us":["923f"],"./en-us/":["923f"],"./en-us/index":["923f"],"./en-us/index.js":["923f"],"./es":["0815",16],"./es-us":["4e0b",15],"./es-us/":["4e0b",15],"./es-us/index":["4e0b",15],"./es-us/index.js":["4e0b",15],"./es/":["0815",16],"./es/index":["0815",16],"./es/index.js":["0815",16],"./et":["1848",17],"./et/":["1848",17],"./et/index":["1848",17],"./et/index.js":["1848",17],"./fil":["e0a1",18],"./fil/":["e0a1",18],"./fil/index":["e0a1",18],"./fil/index.js":["e0a1",18],"./fr":["18b5",19],"./fr/":["18b5",19],"./fr/index":["18b5",19],"./fr/index.js":["18b5",19],"./hi":["97bd",20],"./hi/":["97bd",20],"./hi/index":["97bd",20],"./hi/index.js":["97bd",20],"./hu":["5b8c",21],"./hu/":["5b8c",21],"./hu/index":["5b8c",21],"./hu/index.js":["5b8c",21],"./id":["3440",22],"./id/":["3440",22],"./id/index":["3440",22],"./id/index.js":["3440",22],"./index":["12cb"],"./index.js":["12cb"],"./it":["9a86",23],"./it/":["9a86",23],"./it/index":["9a86",23],"./it/index.js":["9a86",23],"./ja":["c6de",24],"./ja/":["c6de",24],"./ja/index":["c6de",24],"./ja/index.js":["c6de",24],"./ko-kr":["e9b1",25],"./ko-kr/":["e9b1",25],"./ko-kr/index":["e9b1",25],"./ko-kr/index.js":["e9b1",25],"./nl":["c071",26],"./nl/":["c071",26],"./nl/index":["c071",26],"./nl/index.js":["c071",26],"./pl":["1b21",27],"./pl/":["1b21",27],"./pl/index":["1b21",27],"./pl/index.js":["1b21",27],"./policy":["05ca",87],"./policy.js":["05ca",87],"./pt-br":["cb63",28],"./pt-br/":["cb63",28],"./pt-br/index":["cb63",28],"./pt-br/index.js":["cb63",28],"./ru":["479e",29],"./ru/":["479e",29],"./ru/index":["479e",29],"./ru/index.js":["479e",29],"./sl":["341a",30],"./sl/":["341a",30],"./sl/index":["341a",30],"./sl/index.js":["341a",30],"./sv":["ebd8",31],"./sv/":["ebd8",31],"./sv/index":["ebd8",31],"./sv/index.js":["ebd8",31],"./tr":["811a",32],"./tr/":["811a",32],"./tr/index":["811a",32],"./tr/index.js":["811a",32],"./uk":["c9af",33],"./uk/":["c9af",33],"./uk/index":["c9af",33],"./uk/index.js":["c9af",33],"./vi":["c278",34],"./vi/":["c278",34],"./vi/index":["c278",34],"./vi/index.js":["c278",34],"./zh-hans":["2f3a",35],"./zh-hans/":["2f3a",35],"./zh-hans/index":["2f3a",35],"./zh-hans/index.js":["2f3a",35],"./zh-hant":["6299",36],"./zh-hant/":["6299",36],"./zh-hant/index":["6299",36],"./zh-hant/index.js":["6299",36]};function r(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],r=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id="2e98",t.exports=r},"2eba":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("27f0"),r=n("72a1"),o=n("260b"),a=(n("8934"),n("ea7b"),{getFirebaseAuth:function(){return o.a.auth()},getFirebaseFunctions:function(){return o.a.functions()},getFirebaseConfig:function(){return{apiKey:"AIzaSyDlvJYB8KenW92W8hETxM8VMYuCZvmzyHs",authDomain:"clipto.pro",databaseURL:"https://wb-clipto.firebaseio.com",projectId:"wb-clipto",storageBucket:"wb-clipto.appspot.com",messagingSenderId:"909984326025",appId:"1:909984326025:web:b53edfb0db670449e58158",measurementId:"G-L1RQ3K142P"}},getFirebaseAuthConfig:function(t,e){return{callbacks:{signInSuccessWithAuthResult:function(t){return r.a.execFunction(e,[t]),!1}},privacyPolicyUrl:i.a.privacyPolicyUrl,tosUrl:i.a.tosUrl,signInFlow:t||"popup",signInOptions:[{provider:o.a.auth.GoogleAuthProvider.PROVIDER_ID,customParameters:{prompt:"select_account",auth_type:"reauthenticate"}},o.a.auth.EmailAuthProvider.PROVIDER_ID,o.a.auth.FacebookAuthProvider.PROVIDER_ID,o.a.auth.PhoneAuthProvider.PROVIDER_ID]}}})},"2f3ab":function(t,e,n){var i=n("bbf0"),r=n("7bf0");function o(t){this.mode=i.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=r.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=o},"30d6":function(t,e,n){"use strict";var i={name:"ObjectNavigatorBlock",props:["onPrev","onNext","count","currentIndex","hasNavigator"],components:{ActionButton:n("deff").a}},r=n("2877"),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row text-caption q-gutter-x-xs items-center text-no-wrap no-wrap non-selectable"},[t._t("before"),t.hasNavigator?[n("ActionButton",{attrs:{"button-class":"text-textColorPrimary q-ml-none",icon:"chevron_left","on-click":t.onPrev,dense:!0}}),n("div",{staticClass:"text-textColorPrimary"},[t._v(t._s(t.currentIndex+1))]),n("div",{staticClass:"text-textColorSecondary"},[t._v("/ "+t._s(t.count))]),n("ActionButton",{attrs:{"on-click":t.onNext,icon:"chevron_right",dense:!0}})]:t._e()],2)}),[],!1,null,null,null);e.a=o.exports},"31a0":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("a9e3"),n("b0c0"),n("a4d3"),n("e01a"),n("99af"),n("2ca0"),n("8a79");var i=n("72a1"),r=n("a8e6"),o=n("586c"),a={Normal:{id:"Normal",isInProgress:!1,iconColor:"textColorPrimary",progressTrackColor:"transparent",getIcon:function(t){return t.getType()===o.a.PHOTO.id?"photo_camera":"insert_drive_file"}},Upload:{id:"Upload",isInProgress:!0,progressTrackColor:"textColorPrimary",iconColor:"textColorPrimary",getIcon:function(){return"publish"}},Download:{id:"Download",isInProgress:!0,progressTrackColor:"textColorPrimary",iconColor:"textColorPrimary",getIcon:function(){return"save_alt"}},Downloaded:{id:"Downloaded",isInProgress:!1,progressTrackColor:"transparent",iconColor:"textColorPrimary",getIcon:function(t){return a.Normal.getIcon(t)}},Uploaded:{id:"Uploaded",isInProgress:!1,progressTrackColor:"transparent",iconColor:"textColorPrimary",getIcon:function(t){return a.Normal.getIcon(t)}},Error:{id:"Error",isInProgress:!1,progressTrackColor:"transparent",iconColor:"negative",getIcon:function(){return"error_outline"}}},s=n("2667").a.clipto.fileRefs.defineClass({id:Number,md5:String,size:Number,type:Number,name:String,path:String,folder:String,createDate:Date,modifyDate:Date,updateDate:Date,deleteDate:Date,mediaType:String,firestoreId:String,downloaded:Number,uploaded:Number,deleted:Number,progress:Number,downloadUrl:String,uploadUrl:String,platform:String,error:String,description:String,abbreviation:String,tagIds:Array,tagIdsCount:Number,snippetSetsIds:Array,snippetSetsIdsCount:Number});s.areTheSame=function(t,e){return i.a.areStringsTheSame(t.md5,e.md5)&&i.a.areNumbersTheSame(t.size,e.size)&&i.a.areNumbersTheSame(t.type,e.type)&&i.a.areStringsTheSame(t.name,e.name)&&i.a.areStringsTheSame(t.path,e.path)&&i.a.areStringsTheSame(t.folder,e.folder)&&i.a.areDatesTheSame(t.modifyDate,e.modifyDate)&&i.a.areDatesTheSame(t.updateDate,e.updateDate)&&i.a.areDatesTheSame(t.deleteDate,e.deleteDate)&&i.a.areStringsTheSame(t.mediaType,e.mediaType)&&i.a.areNumbersTheSame(t.uploaded,e.uploaded)&&i.a.areStringsTheSame(t.uploadUrl,e.uploadUrl)&&i.a.areStringsTheSame(t.platform,e.platform)&&i.a.areStringsTheSame(t.error,e.error)&&i.a.areStringsTheSame(t.description,e.description)&&i.a.areStringsTheSame(t.abbreviation,e.abbreviation)&&i.a.areObjectsTheSame(t.getTagIds(),e.getTagIds())&&i.a.areObjectsTheSame(t.getKitIds(),e.getKitIds())},s.prototype.with=function(t){return this.md5=t.md5,this.size=t.size,this.mediaType=t.mediaType,this.downloaded=t.downloaded,this.modifyDate=t.modifyDate,this.deleteDate=t.deleteDate,this.uploaded=t.uploaded,this.progress=t.progress,this.downloadUrl=t.downloadUrl,this.uploadUrl=t.uploadUrl,this.platform=t.platform,this.updateDate=new Date,this.error=t.error,this},s.prototype.apply=function(t){return this.id=t.id,this.md5=t.md5,this.size=t.size,this.type=t.type,this.name=t.name,this.path=t.path,this.folder=t.folder,this.createDate=t.createDate,this.modifyDate=t.modifyDate,this.updateDate=t.updateDate,this.deleteDate=t.deleteDate,this.mediaType=t.mediaType,this.firestoreId=t.firestoreId,this.downloaded=t.downloaded,this.uploaded=t.uploaded,this.deleted=t.deleted,this.progress=t.progress,this.downloadUrl=t.downloadUrl,this.uploadUrl=t.uploadUrl,this.platform=t.platform,this.error=t.error,this.abbreviation=t.abbreviation,this.description=t.description,this},s.prototype.areContentTheSame=function(t){return i.a.areStringsTheSame(this.name,t.name)&&i.a.areStringsTheSame(this.abbreviation,t.abbreviation)&&i.a.areStringsTheSame(this.description,t.description)},s.prototype.hasDescription=function(){return!i.a.isNullOrBlank(this.description)},s.prototype.hasAbbreviation=function(){return!i.a.isNullOrBlank(this.abbreviation)},s.prototype.getUid=function(){return this.firestoreId},s.prototype.isDeleted=function(){return!i.a.isNull(this.deleteDate)},s.prototype.setTagIds=function(t){var e=t||[];this.tagIds=e,this.tagIdsCount=e.length},s.prototype.getTagIds=function(){return this.tagIds||[]},s.prototype.getKitIds=function(){return this.snippetSetsIds||[]},s.prototype.setKitIds=function(t){var e=t||[];this.snippetSetsIdsCount=e.length,this.snippetSetsIds=e},s.prototype.getType=function(){return this.type||o.a.FILE.id},s.prototype.getMediaType=function(){return this.mediaType},s.prototype.getName=function(){return this.name},s.prototype.getFolder=function(){return this.folder},s.prototype.getSize=function(){return this.size},s.prototype.isDeleted=function(){return!i.a.isNull(this.deleteDate)},s.prototype.setDeleted=function(t){this.deleted=i.a.booleanToInt(t),this.deleteDate=t?this.deleteDate||new Date:null},s.prototype.isUploaded=function(){return 1===this.uploaded},s.prototype.setError=function(t){this.error=t,this.setUploaded(!1)},s.prototype.setUploaded=function(t){this.uploaded=i.a.booleanToInt(t),this.progress=0},s.prototype.isDownloaded=function(){return 1===this.downloaded&&this.downloadUrl},s.prototype.setDownloaded=function(t){this.downloaded=i.a.booleanToInt(t),this.progress=0},s.prototype.getFormattedSize=function(){return r.a.formatSize(this.size)},s.prototype.getDownloadUrl=function(){return this.downloadUrl},s.prototype.getTitle=function(){return"".concat(this.getName()," (").concat(this.getFormattedSize(),")")},s.prototype.isInProgress=function(){return this.getState().isInProgress},s.prototype.getState=function(){return i.a.isNull(this.error)?this.isUploaded()?this.isDownloaded()?a.Downloaded:!this.isUploaded()||i.a.isNull(this.downloadUrl)||this.isDownloaded()?this.isUploaded()?a.Uploaded:a.Normal:a.Download:a.Upload:a.Error},s.prototype.isImage=function(){var t=this.getMediaType();return t&&t.toLowerCase().startsWith("image")},s.prototype.isVideo=function(){var t=this.getMediaType();return t&&(t.toLowerCase().startsWith("video")||t.endsWith("octet-stream"))},s.prototype.isAudio=function(){var t=this.getMediaType();return t&&t.toLowerCase().startsWith("audio")},s.prototype.isPdf=function(){var t=this.getMediaType(),e=this.getName();return t&&"application/pdf"===t.toLowerCase()||e&&e.toLowerCase().endsWith(".pdf")},s.prototype.hasPreview=function(){return this.isUploaded()&&this.isImage()},s.prototype.hasError=function(){return!i.a.isNullOrBlank(this.error)},s.prototype.hasUploadError=function(){return this.hasError()&&!this.isUploaded()},s.prototype.getExtension=function(){var t=this.getName();if(i.a.isNullOrBlank(t))return null;var e=t.lastIndexOf(".");return-1!==e?t.substring(e+1).toLowerCase():null},s.prototype.getPreviewText=function(){return this.getExtension()},s.prototype.getDescriptionText=function(){var t=r.a.formatSize(this.size),e=r.a.formatDateShort(this.createDate);return"".concat(t,", ").concat(e)},s.newInstance=function(){var t=new s;return t.path="/",t}},"34fc":function(t,e,n){var i=n("7a43"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case i.L:return r[4*(t-1)+0];case i.M:return r[4*(t-1)+1];case i.Q:return r[4*(t-1)+2];case i.H:return r[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case i.L:return o[4*(t-1)+0];case i.M:return o[4*(t-1)+1];case i.Q:return o[4*(t-1)+2];case i.H:return o[4*(t-1)+3];default:return}}},"37f6":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("498a"),n("99af");var i=n("29a4"),r=n("a8e6"),o=n("72a1"),a=n("f175"),s={TODAY:{id:0,code:"today",titleRes:"where_date_today",toInterval:function(){var t=new i.a;return t.period=this,t.from=a.a.getInstance().withoutTime().getTime(),t.to=null,t},getLabel:function(t){return t.$t("where_date_today")}},YESTERDAY:{id:1,code:"yesterday",titleRes:"where_date_yesterday",toInterval:function(){var t=new i.a;return t.period=this,t.from=a.a.getInstance().withoutTime().withDays(-1).getTime(),t.to=a.a.getInstance().withoutTime().withSeconds(-1).getTime(),t},getLabel:function(t){return t.$t("where_date_yesterday")}},LAST_7_DAYS:{id:2,titleRes:"where_date_last_7_days",toInterval:function(){var t=new i.a;return t.period=this,t.from=a.a.getInstance().withoutTime().withDays(-7).getTime(),t.to=null,t},getLabel:function(t){return t.$t("where_date_last_7_days")}},LAST_30_DAYS:{id:3,titleRes:"where_date_last_30_days",toInterval:function(){var t=new i.a;return t.period=this,t.from=a.a.getInstance().withoutTime().withDays(-30).getTime(),t.to=null,t},getLabel:function(t){return t.$t("where_date_last_30_days")}},LAST_90_DAYS:{id:4,titleRes:"where_date_last_90_days",toInterval:function(){var t=new i.a;return t.period=this,t.from=a.a.getInstance().withoutTime().withDays(-90).getTime(),t.to=null,t},getLabel:function(t){return t.$t("where_date_last_90_days")}},CUSTOM_INTERVAL:{id:5,titleRes:"where_date_custom",toInterval:function(t,e){var n=new i.a;return n.period=this,o.a.isDate(t)&&o.a.isDate(e)&&t.getTime()>e.getTime()?(n.from=e,n.to=t):(n.from=t,n.to=e),n},getLabel:function(t,e,n){return o.a.isDate(e)&&o.a.isDate(n)?"\n          ".concat(t.$t("where_from")," ").concat(r.a.formatDate(e),"\n          ").concat(t.$t("where_to")," ").concat(r.a.formatDate(n),"\n        ").trim():o.a.isDate(e)?"".concat(t.$t("where_after")," ").concat(r.a.formatDate(e)):o.a.isDate(n)?"".concat(t.$t("where_before")," ").concat(r.a.formatDate(n)):null}},CUSTOM_DATE:{id:6,titleRes:"where_date_custom",toInterval:function(t){var e=new i.a;return e.period=this,e.from=t,e.to=null,e},getLabel:function(t,e){return r.a.formatDateShort(e)}},TOMORROW:{id:7,code:"tomorrow",titleRes:"where_date_tomorrow",toInterval:function(){var t=new i.a;return t.period=this,t.from=a.a.getInstance().withoutTime().withDays(1).getTime(),t.to=null,t},getLabel:function(t){return t.$t("where_date_tomorrow")}}};s.byId={0:s.TODAY,1:s.YESTERDAY,2:s.LAST_7_DAYS,3:s.LAST_30_DAYS,4:s.LAST_90_DAYS,5:s.CUSTOM_INTERVAL,6:s.CUSTOM_DATE,7:s.TOMORROW},s.byCode={today:s.TODAY,yesterday:s.YESTERDAY,tomorrow:s.TOMORROW},s.periods=[s.CUSTOM_INTERVAL,s.TODAY,s.YESTERDAY,s.LAST_7_DAYS,s.LAST_30_DAYS,s.LAST_90_DAYS],s.datePeriods=[s.YESTERDAY,s.TODAY,s.TOMORROW]},"3a75":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("e9c4"),n("ded3")),a=n.n(o),s=(n("d3b7"),n("159b"),n("b64b"),n("72a1")),c=n("a8e6"),l=function(t){var e=a()({},t);return Object.keys(e).forEach((function(t){var n=e[t];s.a.isDate(n)?e[t]=c.a.toJsonDate(n):s.a.isNull(n)&&delete e[t]})),e},u=n("27f0"),d=n("25d0"),h=n("f936"),p=n("e2db"),f=n("2eba"),g=n("1cee");function m(t,e){return e.then((function(e){return g.a.debug("API :: SUCCESS",t,e),e})).catch((function(e){throw g.a.error("API :: ERROR",t,e),e}))}var v,y={deleteAccount:function(){return m("deleteAccount",f.a.getFirebaseFunctions().httpsCallable("deleteAccount")())},signIn:function(){return m("signIn",f.a.getFirebaseFunctions().httpsCallable("signIn")({version:u.a.apiVersion}).then((function(t){return t.data})))},startSession:(v=r()(regeneratorRuntime.mark((function t(){var e,n,i,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.a.getSettings(),n=e.referralId,i=p.a.isDesktop()?"startSessionDesktop":"startSessionWeb",t.next=5,d.a.getNotSyncedClipsCount();case 5:return r=t.sent,t.next=8,d.a.getAllClipsCount();case 8:return o=t.sent,a=o-r,g.a.debug("startSession","notSyncedCount",r,"syncedCount",a),t.abrupt("return",m("startSession",f.a.getFirebaseFunctions().httpsCallable(i)({settings:JSON.stringify(e),notSyncedNotesCount:r,syncedNotesCount:a,appVersion:p.a.getAppVersion(),deviceModel:p.a.getPlatform(),deviceId:p.a.getPlatformId(),language:p.a.getLocale(),version:u.a.apiVersion,referral:n})));case 12:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)}),checkSession:function(t){return m("checkSession",f.a.getFirebaseFunctions().httpsCallable("checkUserSession")(t).then((function(t){return t.data})))},getInvitationLink:function(){return m("getInvitationLink",f.a.getFirebaseFunctions().httpsCallable("generateAppLink")().then((function(t){return t.data.shortLink})))},createNotePublicLink:function(t){var e=t.publicLink,n=t.title,i=t.clip,r={oneTimeOpening:e.oneTimeOpening||!1,postponeInMillis:e.postponeInMillis,postponeAtDate:c.a.toJsonDate(e.postponeAtDate),expiresInMillis:e.expiresInMillis,expiresAtDate:c.a.toJsonDate(e.expiresAtDate),passwordClue:e.passwordClue,password:e.password,locked:e.locked,noteId:i.firestoreId,title:n};return m("createNotePublicLink",f.a.getFirebaseFunctions().httpsCallable("notePublicLinkGenerate")(r).then((function(t){return t&&t.data||{}})))},getPublicLink:function(t,e,n){return m("getPublicLink",f.a.getFirebaseFunctions().httpsCallable("getPublicLink")({password:e,legacy:n,id:t}).then((function(t){return t.data})))},removePublicLink:function(t,e){return m("removePublicLink",f.a.getFirebaseFunctions().httpsCallable("removePublicLink")({legacy:e,id:t}).then((function(t){return t.data})))},savePublicLink:function(t){var e=l(t);return m("savePublicLink",f.a.getFirebaseFunctions().httpsCallable("savePublicLink")(e).then((function(t){return t.data})))},getFilePublicLink:function(t){return m("getFilePublicLink",f.a.getFirebaseFunctions().httpsCallable("filePublicLinkGet")({name:t.getUid(),folder:t.getFolder(),title:t.getName()}).then((function(t){return t.data.shortLink})).catch((function(){return null})))},getLinkPreview:function(t){return m("getLinkPreview",f.a.getFirebaseFunctions().httpsCallable("getLinkPreview")({url:t}).then((function(t){return t.data})))},getIpAddress:function(){return m("getIpAddress",f.a.getFirebaseFunctions().httpsCallable("getIpAddress")().then((function(t){return t.data.ip})))},getSnippetKitCategories:function(){},getSnippetKits:function(t){},publishSnippetKit:function(t,e,n){},unpublishSnippetKit:function(t){},createSnippetKitLink:function(t){},removeSnippetKitLink:function(t){},getSnippetKit:function(t){}}},4006:function(t,e,n){var i=n("45be");function r(t,e){var n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function o(t,e,n){var i=t+e;return void 0!==n&&(i+=" "+n),i}e.render=function(t,e,n){var a=i.getOptions(e),s=t.modules.size,c=t.modules.data,l=s+2*a.margin,u=a.color.light.a?"<path "+r(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+r(a.color.dark,"stroke")+' d="'+function(t,e,n){for(var i="",r=0,a=!1,s=0,c=0;c<t.length;c++){var l=Math.floor(c%e),u=Math.floor(c/e);l||a||(a=!0),t[c]?(s++,c>0&&l>0&&t[c-1]||(i+=a?o("M",l+n,.5+u+n):o("m",r,0),r=0,a=!1),l+1<e&&t[c+1]||(i+=o("h",s),s=0)):r++}return i}(c,s,a.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,p),p}},"403c":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n("a4d3"),n("e01a");var i=n("96e4"),r=(n("d81d"),n("b0c0"),n("e6d6")),o=n("f52e"),a=(n("72a1"),n("970b")),s=n.n(a),c=n("9523"),l=n.n(c),u=(n("ac1f"),n("99af"),n("586c")),d=n("bd4c"),h=n("1732"),p=function t(){s()(this,t),l()(this,"type",void 0),l()(this,"size",void 0),l()(this,"md5",void 0),l()(this,"name",void 0),l()(this,"label",void 0),l()(this,"created",void 0),l()(this,"updated",void 0),l()(this,"folder",void 0),l()(this,"uploaded",void 0),l()(this,"mediaType",void 0),l()(this,"localUrl",void 0),l()(this,"error",void 0),l()(this,"platform",void 0)};p.prototype.apply=function(t,e){var n,i=/(?:\.([^.]+))?$/.exec(t.name)[1];return n=i?"".concat(Object(h.a)(),".").concat(i):Object(h.a)(),this.type=e||u.a.FILE.id,this.ref=t,this.name=n,this.size=t.size,this.label=t.name,this.localUrl=t.path,this.mediaType=t.type,this.created=t.lastModifiedDate,this.created||(this.created=new Date),this.folder=d.b.formatDate(this.created,"YYYYMMDD"),this};var f=function(t){return t?t.map((function(t){var e=new p;return e.error=t[r.a.FILE_META_ERROR],e.name=t[r.a.FILE_META_NAME],e.label=t[r.a.FILE_META_LABEL],e.folder=t[r.a.FILE_META_FOLDER],e.type=t[r.a.FILE_META_TYPE],e.mediaType=t[r.a.FILE_META_MEDIA_TYPE],e.size=t[r.a.FILE_META_SIZE],e.md5=t[r.a.FILE_META_MD5],e.platform=t[r.a.FILE_META_PLATFORM],e.created=o.a.toDate(t[r.a.FILE_META_CREATED]),e.updated=o.a.toDate(t[r.a.FILE_META_UPDATED]),e.uploaded=t[r.a.FILE_META_UPLOADED],e.localUrl=t[r.a.FILE_META_LOCAL_PATH],e})):[]},g=n("27f0"),m=n("e2db"),v=n("782d"),y={toMap:function(t){var e={};return e[r.a.ATTR_DEVICE_ID]=m.a.getDeviceId(),e[r.a.ATTR_API_VERSION]=g.a.apiVersion,e[r.a.ATTR_CHANGE_TIMESTAMP]=r.a.getServerTimestamp(),e[r.a.ATTR_CLIP_USAGE_COUNT]=t.usageCount,e[r.a.ATTR_CLIP_OBJECT_TYPE]=t.objectType,e[r.a.ATTR_CLIP_CREATE_DATE]=o.a.toTimestamp(t.createDate),e[r.a.ATTR_CLIP_MODIFY_DATE]=o.a.toTimestamp(t.modifyDate),e[r.a.ATTR_CLIP_UPDATE_DATE]=o.a.toTimestamp(t.updateDate),e[r.a.ATTR_CLIP_DELETE_DATE]=o.a.toTimestamp(t.deleteDate,!0),e[r.a.ATTR_CLIP_TEXT_TYPE]=t.textType,e[r.a.ATTR_CLIP_TAG_IDS]=t.getTagIds(),e[r.a.ATTR_CLIP_TEXT]=t.text,e[r.a.ATTR_CLIP_TITLE]=t.title,e[r.a.ATTR_CLIP_SNIPPET_ID]=t.snippetId,e[r.a.ATTR_CLIP_TRACKED]=t.isTracked(),e[r.a.ATTR_CLIP_FAV]=t.isStarred(),e[r.a.ATTR_CLIP_PUBLIC_LINK]=i.a.toMap(t.publicLink),e[r.a.ATTR_CLIP_ABBREVIATION]=t.abbreviation,e[r.a.ATTR_CLIP_DESCRIPTION]=t.description,e[r.a.ATTR_CLIP_SNIPPET_SETS_IDS]=t.getKitIds(),e[r.a.ATTR_CLIP_FILE_IDS]=t.getFileIds(),r.a.normalizeMap(e,!0)},fromMap:function(t){var e=t.doc.data(),n=new v.a;return n.firestoreId=t.doc.id,n.setUsageCount(e[r.a.ATTR_CLIP_USAGE_COUNT]),n.setObjectType(e[r.a.ATTR_CLIP_OBJECT_TYPE]),n.createDate=o.a.toDate(e[r.a.ATTR_CLIP_CREATE_DATE]),n.modifyDate=o.a.toDate(e[r.a.ATTR_CLIP_MODIFY_DATE])||n.createDate,n.updateDate=o.a.toDate(e[r.a.ATTR_CLIP_UPDATE_DATE]),n.deleteDate=o.a.toDate(e[r.a.ATTR_CLIP_DELETE_DATE]),n.setTextType(e[r.a.ATTR_CLIP_TEXT_TYPE]),n.setTagIds(e[r.a.ATTR_CLIP_TAG_IDS]),n.tags=e[r.a.ATTR_CLIP_TAGS],n.text=e[r.a.ATTR_CLIP_TEXT],n.title=e[r.a.ATTR_CLIP_TITLE],n.snippetId=e[r.a.ATTR_CLIP_SNIPPET_ID],n.setTracked(e[r.a.ATTR_CLIP_TRACKED]),n.setStarred(e[r.a.ATTR_CLIP_FAV]),n.setFileIds(e[r.a.ATTR_CLIP_FILE_IDS]),n.files=f(e[r.a.ATTR_CLIP_FILE_METADATA]),n.publicLink=i.a.fromMap(e[r.a.ATTR_CLIP_PUBLIC_LINK]),n.setKitIds(e[r.a.ATTR_CLIP_SNIPPET_SETS_IDS]),n.abbreviation=e[r.a.ATTR_CLIP_ABBREVIATION],n.description=e[r.a.ATTR_CLIP_DESCRIPTION],n}}},4146:function(t,e,n){var i=n("45be");e.render=function(t,e,n){var r=n,o=e;void 0!==r||e&&e.getContext||(r=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=i.getOptions(r);var a=i.getImageWidth(t.modules.size,r),s=o.getContext("2d"),c=s.createImageData(a,a);return i.qrToImageData(c.data,t,r),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,o,a),s.putImageData(c,0,0),o},e.renderToDataURL=function(t,n,i){var r=i;void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={});var o=e.render(t,n,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}},"45be":function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){var i=e.getScale(t,n);return Math.floor((t+2*n.margin)*i)},e.qrToImageData=function(t,n,i){for(var r=n.modules.size,o=n.modules.data,a=e.getScale(r,i),s=Math.floor((r+2*i.margin)*a),c=i.margin*a,l=[i.color.light,i.color.dark],u=0;u<s;u++)for(var d=0;d<s;d++){var h=4*(u*s+d),p=i.color.light;if(u>=c&&d>=c&&u<s-c&&d<s-c)p=l[o[Math.floor((u-c)/a)*r+Math.floor((d-c)/a)]?1:0];t[h++]=p.r,t[h++]=p.g,t[h++]=p.b,t[h]=p.a}}},4793:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getEditTagsRequest",(function(){return r})),n.d(i,"getBannerRequest",(function(){return o})),n.d(i,"getMergeClipsRequest",(function(){return a})),n.d(i,"getShowAdvancedFilterRequest",(function(){return s})),n.d(i,"getSelectPlanRequest",(function(){return c})),n.d(i,"canSelectPlan",(function(){return l})),n.d(i,"getShowSettingsRequest",(function(){return u})),n.d(i,"getShowLeftNavRequest",(function(){return d})),n.d(i,"getHideLeftNavRequest",(function(){return h})),n.d(i,"getFilterDetails",(function(){return p}));n("4de4"),n("d3b7");function r(t){return t.editTagsRequest}function o(t){return t.bannerRequest}function a(t){return t.mergeClipsRequest}function s(t){return t.showAdvancedFilterRequest}function c(t){return t.selectPlanRequest}function l(t,e){return e.remoteConfigCanSelectPlan}function u(t){return t.showSettingsRequest}function d(t){return t.showLeftNavRequest}function h(t){return t.hideLeftNavRequest}function p(t){var e=t.showFilterDetailsRequest;return e?e.filter:null}var f,g,m=n("9523"),v=n.n(m),y=n("f936"),_=n("8841"),b=n("72a1"),S=n("71a7"),C=n("ed99"),T=n("1cee"),w=n("c9d9"),I=n("782d"),E=(f={},v()(f,w.a.onStartEditTagsUseCase,(function(t,e){var n={clips:[e],date:Date.now()};t.commit(C.a.REQUEST_EDIT_TAGS,n)})),v()(f,w.a.onShowBannerUseCase,(function(t,e){e&&(e.date=Date.now()),t.commit(C.a.REQUEST_SHOW_BANNER,e)})),v()(f,w.a.onStartEditCommonTagsUseCase,(function(t,e){var n={clips:e,date:Date.now()};t.commit(C.a.REQUEST_EDIT_TAGS,n)})),v()(f,w.a.onStartMergeClipsUseCase,(function(t,e){var n=y.a.getSettings().textSeparator||S.a.NEW_LINE,i=I.a.newInstance();i.title=_.a.getClipsCommonTitle(e),i.text=_.a.getClipsText(e,n),i.setTagIds(_.a.getClipsDistinctTagIds(e)),i.setFileIds(_.a.getClipsDistinctFileIds(e));var r={clip:i,clips:e,date:Date.now(),separator:n};t.commit(C.a.REQUEST_MERGE_CLIPS,r)})),v()(f,w.a.onStartAdvancedFilterUseCase,(function(t){t.commit(C.a.REQUEST_SHOW_ADVANCED_FILTER)})),v()(f,w.a.onStartShowSettingsUseCase,(function(t){t.commit(C.a.REQUEST_SHOW_SETTINGS)})),v()(f,w.a.onStartShowFilterDetailsUseCase,(function(t,e){var n=e;b.a.isNull(n)||!n.isNew()&&!n.isLast()||n.isTag()||n.isSnippetKit()||(T.a.debug("edit as a new filter",e),n=n.asNewNamedFilter()),t.commit(C.a.REQUEST_SHOW_FILTER_DETAILS,n)})),v()(f,w.a.onStartSelectPlanUseCase,(function(t){t.commit(C.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,!1),t.getters.canSelectPlan&&t.commit(C.a.REQUEST_SELECT_PLAN)})),f),A=(g={},v()(g,C.a.REQUEST_EDIT_TAGS,(function(t,e){t.editTagsRequest=e})),v()(g,C.a.REQUEST_MERGE_CLIPS,(function(t,e){t.mergeClipsRequest=e})),v()(g,C.a.REQUEST_SHOW_ADVANCED_FILTER,(function(t){t.showAdvancedFilterRequest=Date.now()})),v()(g,C.a.REQUEST_SELECT_PLAN,(function(t){t.selectPlanRequest=Date.now()})),v()(g,C.a.REQUEST_SHOW_SETTINGS,(function(t){t.showSettingsRequest=Date.now()})),v()(g,C.a.REQUEST_SHOW_LEFT_NAV,(function(t){t.showLeftNavRequest=Date.now()})),v()(g,C.a.REQUEST_HIDE_LEFT_NAV,(function(t){t.hideLeftNavRequest=Date.now()})),v()(g,C.a.REQUEST_SHOW_BANNER,(function(t,e){t.bannerRequest=e})),v()(g,C.a.REQUEST_SHOW_FILTER_DETAILS,(function(t,e){T.a.debug(C.a.REQUEST_SHOW_FILTER_DETAILS,e),t.showFilterDetailsRequest={date:Date.now(),filter:e}})),g);e.a={namespaced:!1,state:{showAdvancedFilterRequest:null,showFilterDetailsRequest:null,showSettingsRequest:null,showLeftNavRequest:null,hideLeftNavRequest:null,selectPlanRequest:null,mergeClipsRequest:null,editTagsRequest:null,bannerRequest:null},getters:i,mutations:A,actions:E}},5046:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("bc78"),r=n("2a19"),o=n("f508"),a=n("b06b"),s=n("09f9"),c=n("61b4"),l=n("72a1"),u={},d=null,h={getBorderRadius:function(){return 12},getBorderRadiusSm:function(){return 8},getBorderRadiusLg:function(){return 18},getToolbarHeight:function(){return 50},getSeparatorHeight:function(){return 1},getBarDenseHeight:function(){return 26},getBarStandardHeight:function(){return 32},getScreenMinWidth:function(){return Math.min(260,s.a.width)},getColorAccent:function(){return h.getColorBrand("colorAccent")},getTextColorPrimary:function(){return h.getColorBrand("textColorPrimary")},getTextColorSecondary:function(){return h.getColorBrand("textColorSecondary")},getColorBackgroundHighlight:function(){return h.getColorBrand("myBackgroundHighlight")},getActionIconColorInactive:function(){return h.getColorBrand("actionIconColorInactive")},getActionIconColorNormal:function(){return h.getColorBrand("actionIconColorNormal")},getActionIconColorHighlight:function(){return h.getColorBrand("actionIconColorHighlight")},getColorDisabled:function(t,e){return i.a.changeAlpha(t,e||.2)},getColorBackgroundDim:function(t){return"rgba(0,0,0,0.5)"},getColorBrand:function(t,e){var n=i.a.getBrand(t);return e&&(e.alpha&&(n=i.a.changeAlpha(n,e.alpha)),e.rgb&&(n=i.a.hexToRgb(n))),n},getColorOnSurface:function(t){if(!t)return null;var e=u[t];return e||(e=i.a.luminosity(t)<.4?"#fff":"#000",u[t]=e,e)},getScrollAreaThumbStyle:function(t){return l.a.isNull(t)||t>0?{right:"0px",borderRadius:"5px",backgroundColor:i.a.getBrand("textColorSecondary"),height:"".concat(t||10,"px"),width:"".concat(t||10,"px"),opacity:.5}:{borderRadius:"0px",right:"0px",width:"0px",height:"0px",opacity:0}},showToast:function(t){d&&(d(),d=null),d=r.a.create({message:t,position:"top",timeout:1e3})},showLoadingState:function(t){if(!o.a.isActive){var e=300;t&&(e=0),o.a.show({delay:e,spinnerSize:56})}var n=Date.now();c.a.runWithDelay("showLoadingState",3e4,(function(){Date.now()-n>=29e3&&h.hideLoadingState()}))},hideLoadingState:function(){c.a.dispose("showLoadingState"),o.a.hide()},openURL:function(t){return Object(a.a)(t)}}},"53e6":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("970b"),r=n.n(i),o=n("9523"),a=n.n(o),s=function t(e){r()(this,t),a()(this,"value",void 0),this.value=e};s.prototype.compareAndSet=function(t,e){var n=this.value;return this.value=e,n===t}},"577e4":function(t,e,n){var i=n("5a88");function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=i.alloc(t*t),this.reservedBit=i.alloc(t*t)}r.prototype.set=function(t,e,n,i){var r=t*this.size+e;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(t,e){return this.data[t*this.size+e]},r.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},r.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=r},"586c":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={FILE:{id:0,name:"file"},PHOTO:{id:1,name:"photo"},SEND:{id:2,name:"send"}}},"588e":function(t,e,n){"use strict";var i=n("cc84"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))}function s(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function c(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}Object.create;var l=n("a8e9"),u=n("ffa6"),d=function(t){function e(n,i){var r=t.call(this,h(n),"Firebase Storage: "+i+" ("+h(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,e.prototype),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return h(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(l.c);function h(t){return"storage/"+t}function p(){return new d("unknown","An unknown error occurred, please check the error payload for server response.")}function f(){return new d("canceled","User canceled the upload/download.")}function g(){return new d("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function m(t){return new d("invalid-argument",t)}function v(){return new d("app-deleted","The Firebase app was deleted.")}function y(t){return new d("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(t,e){return new d("invalid-format","String does not match format '"+t+"': "+e)}function b(t){throw new d("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},C=function(t,e){this.data=t,this.contentType=e||null};function T(t,e){switch(t){case S.RAW:return new C(w(e));case S.BASE64:case S.BASE64URL:return new C(I(t,e));case S.DATA_URL:return new C((n=new E(e)).base64?I(S.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(S.DATA_URL,"Malformed data URL.")}return w(e)}(n.rest),function(t){return new E(t).contentType}(e))}var n;throw p()}function w(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i);else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function I(t,e){switch(t){case S.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw _(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case S.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw _(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var E=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(i=n,r=";base64",i.length>=r.length&&i.substring(i.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var i,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var A,x={STATE_CHANGED:"state_changed"},k={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function D(t){switch(t){case"running":case"pausing":case"canceling":return k.RUNNING;case"paused":return k.PAUSED;case"success":return k.SUCCESS;case"canceled":return k.CANCELED;case"error":default:return k.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(A||(A={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var R=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=A.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=A.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=A.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw b("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw b("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var L=function(){function t(){}return t.prototype.createConnection=function(){return new R},t}(),F=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(n){return new t(e,"")}if(""===i.path)return i;throw new d("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var i=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],u=l.regex.exec(e);if(u){var h=u[l.indices.bucket],p=u[l.indices.path];p||(p=""),i=new t(h,p),l.postModify(i);break}}if(null==i)throw function(t){return new d("invalid-url","Invalid URL '"+t+"'.")}(e);return i},t}(),O=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t){return"string"==typeof t||t instanceof String}function N(t){return B()&&t instanceof Blob}function B(){return"undefined"!=typeof Blob}function M(t,e,n,i){if(i<e)throw m("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw m("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e){var n=e.match(/^(\w+):\/\/.+/),i=e;return null==(null==n?void 0:n[1])&&(i="https://"+e),i+"/v0"+t}function U(t){var e=encodeURIComponent,n="?";for(var i in t){if(t.hasOwnProperty(i))n=n+(e(i)+"="+e(t[i]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(){function t(t,e,n,i,r,o,a,s,c,l,u){var d=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=c,this.pool_=u,this.promise_=new Promise((function(t,e){d.resolve_=t,d.reject_=e,d.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?r(s):r()}catch(t){o(t)}else null!==a?((i=p()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,i)):o(i)):n.canceled?o(i=t.appDelete_?v():f()):o(i=new d("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new j(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var i=1,r=null,o=!1,a=0;function s(){return 2===a}var l=!1;function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];l||(l=!0,e.apply(null,t))}function d(e){r=setTimeout((function(){r=null,t(h,s())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)u.call.apply(u,c([null,t],e));else{var r,h=s()||o;if(h)u.call.apply(u,c([null,t],e));else i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),d(r)}}var p=!1;function f(t){p||(p=!0,l||(null!==r?(t||(a=2),clearTimeout(r),d(0)):t||(a=1)))}return d(0),setTimeout((function(){o=!0,f(!0)}),n),f}((function(e,n){if(n)e(!1,new j(!1,null,!0));else{var i=t.pool_.createConnection();t.pendingConnection_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingConnection_=null;var n=i.getErrorCode()===A.NO_ERROR,o=i.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new j(a,i))}else{var s=i.getErrorCode()===A.ABORT;e(!1,new j(!1,null,s))}}))}function r(e){var n=e.loaded,i=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,i)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),j=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=V();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(B())return new Blob(t);throw new d("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var z=function(){function t(t,e){var n=0,i="";N(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(N(this.data_)){var i=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(B()){var i=e.map((function(e){return e instanceof t?e.data_:e}));return new t(H.apply(null,i))}var r=e.map((function(t){return P(t)?T(S.RAW,t).data:t.data_})),o=0;r.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return r.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t,e){return e}var Q=function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||G},Y=null;function X(){if(Y)return Y;var t=[];t.push(new Q("bucket")),t.push(new Q("generation")),t.push(new Q("metageneration")),t.push(new Q("name","fullPath",!0));var e=new Q("name");e.xform=function(t,e){return function(t){return!P(t)||t.length<2?t:K(t)}(e)},t.push(e);var n=new Q("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Q("timeCreated")),t.push(new Q("updated")),t.push(new Q("md5Hash",null,!0)),t.push(new Q("cacheControl",null,!0)),t.push(new Q("contentDisposition",null,!0)),t.push(new Q("contentEncoding",null,!0)),t.push(new Q("contentLanguage",null,!0)),t.push(new Q("contentType",null,!0)),t.push(new Q("metadata","customMetadata",!0)),Y=t}function Z(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var a=n[o];i[a.local]=a.xform(i,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,i=t.fullPath,r=new F(n,i);return e._makeStorageReference(r)}})}(i,t),i}function J(t,e,n){var i=W(e);return null===i?null:Z(t,i,n)}function tt(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e,n){var i=W(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,o=n.prefixes;r<o.length;r++){var a=o[r].replace(/\/$/,""),s=t._makeStorageReference(new F(e,a));i.prefixes.push(s)}if(n.items)for(var c=0,l=n.items;c<l.length;c++){var u=l[c];s=t._makeStorageReference(new F(e,u.name));i.items.push(s)}return i}(t,e,i)}var nt=function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){if(!t)throw p()}function rt(t,e){return function(n,i){var r=J(t,i,e);return it(null!==r),r}}function ot(t,e){return function(n,i){var r=J(t,i,e);return it(null!==r),function(t,e,n){var i=W(e);if(null===i)return null;if(!P(i.downloadTokens))return null;var r=i.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map((function(e){var i=t.bucket,r=t.fullPath;return q("/b/"+o(i)+"/o/"+o(r),n)+U({alt:"media",token:e})}))[0]}(r,i,t.host)}}function at(t){return function(e,n){var i,r,o;return 401===e.getStatus()?i=e.getResponseText().includes("Firebase App Check token is invalid")?new d("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new d("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,i=new d("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,i=new d("unauthorized","User does not have permission to access '"+r+"'.")):i=n,i.serverResponse=n.serverResponse,i}}function st(t){var e=at(t);return function(n,i){var r,o=e(n,i);return 404===n.getStatus()&&(r=t.path,o=new d("object-not-found","Object '"+r+"' does not exist.")),o.serverResponse=i.serverResponse,o}}function ct(t,e,n){var i=q(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new nt(i,"GET",rt(t,n),r);return o.errorHandler=st(e),o}function lt(t,e,n,i,r){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);var a=q(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,c=new nt(a,"GET",function(t,e){return function(n,i){var r=et(t,e,i);return it(null!==r),r}}(t,e.bucket),s);return c.urlParams=o,c.errorHandler=at(e),c}function ut(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}var dt=function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null};function ht(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){it(!1)}return it(!!n&&-1!==(e||["active"]).indexOf(n)),n}function pt(t,e,n,i,r,o,a,s){var c=new dt(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new d("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,u=l;r>0&&(u=Math.min(u,r));var h=c.current,p=h+u,f={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},m=i.slice(h,p);if(null===m)throw g();var v=e.maxUploadRetryTime,y=new nt(n,"POST",(function(t,n){var r,a=ht(t,["active","final"]),s=c.current+u,l=i.size();return r="final"===a?rt(e,o)(t,n):null,new dt(s,l,"final"===a,r)}),v);return y.headers=f,y.body=m.uploadData(),y.progressCallback=s||null,y.errorHandler=at(t),y}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=X(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise((function(t,e){i._resolve=t,i._reject=e,i._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var i=n[0],r=n[1];switch(e._state){case"running":t(i,r);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var i=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),a=ut(e,i,r),s={name:a.fullPath},c=q(o,t.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=tt(a,n),d=t.maxUploadRetryTime,h=new nt(c,"POST",(function(t){var e;ht(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){it(!1)}return it(P(e)),e}),d);return h.urlParams=s,h.headers=l,h.body=u,h.errorHandler=at(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,i){var r=function(t,e,n,i){var r=t.maxUploadRetryTime,o=new nt(n,"POST",(function(t){var e=ht(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){it(!1)}n||it(!1);var r=Number(n);return it(!isNaN(r)),new dt(r,i.size(),"final"===e)}),r);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=at(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(r,n,i);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new dt(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(r,o){var a;try{a=pt(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var s=t._ref.storage._makeRequest(a,r,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var i=ct(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var i=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var c=ut(e,i,r),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tt(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=z.getBlob(l,i,u);if(null===d)throw g();var h={name:c.fullPath},p=q(o,t.host),f=t.maxUploadRetryTime,m=new nt(p,"POST",rt(t,n),f);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=at(e),m}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=f(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=D(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,o=new ft(e,n,i);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(D(this._state)){case k.SUCCESS:gt(this._resolve.bind(null,this.snapshot))();break;case k.CANCELED:case k.ERROR:gt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(D(this._state)){case k.RUNNING:case k.PAUSED:t.next&&gt(t.next.bind(t,this.snapshot))();break;case k.SUCCESS:t.complete&&gt(t.complete.bind(t))();break;case k.CANCELED:case k.ERROR:t.error&&gt(t.error.bind(t,this._error))();break;default:t.error&&gt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),vt=function(){function t(t,e){this._service=t,this._location=e instanceof F?e:F.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new F(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return K(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new F(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw y(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){var e={prefixes:[],items:[]};return function t(e,n,i){return a(this,void 0,void 0,(function(){var r,o,a;return s(this,(function(s){switch(s.label){case 0:return[4,_t(e,{pageToken:i})];case 1:return r=s.sent(),(o=n.prefixes).push.apply(o,r.prefixes),(a=n.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,t(e,n,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}function _t(t,e){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return null!=e&&"number"==typeof e.maxResults&&M("options.maxResults",1,1e3,e.maxResults),n=e||{},i=lt(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}}))}))}function bt(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,i){var r=q(e.fullServerUrl(),t.host),o=tt(n,i),a=t.maxOperationRetryTime,s=new nt(r,"PATCH",rt(t,i),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=st(e),s}(t.storage,t._location,e,X()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}}))}))}function St(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var i=q(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new nt(i,"GET",ot(t,n),r);return o.errorHandler=st(e),o}(t.storage,t._location,X()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new d("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function Ct(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=q(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,r=new nt(n,"DELETE",(function(t,e){}),i);return r.successCodes=[200,204],r.errorHandler=st(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function Tt(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new F(t._location.bucket,n);return new vt(t.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return/^[A-Za-z]+:\/\//.test(t)}function It(t,e){if(t instanceof xt){var n=t;if(null==n._bucket)throw new d("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new vt(n,n._bucket);return null!=e?It(i,e):i}return void 0!==e?Tt(t,e):t}function Et(t,e){if(e&&wt(e)){if(t instanceof xt)return new vt(t,e);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return It(t,e)}function At(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:F.makeFromBucketSpec(n,t)}var xt=function(){function t(t,e,n,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?F.makeFromBucketSpec(r,this._host):At(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=F.makeFromBucketSpec(this._url,t):this._bucket=At(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){M("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){M("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new vt(this,t)},t.prototype._makeRequest=function(t,e,n){var i=this;if(this._deleted)return new O(v());var r=function(t,e,n,i,r,o){var a=U(t.urlParams),s=t.url+a,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,i),new $(s,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return i._requests.delete(r)}),(function(){return i._requests.delete(r)})),r},t.prototype.makeRequestWithTokens=function(t){return a(this,void 0,void 0,(function(){var e,n,i;return s(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=r.sent(),n=e[0],i=e[1],[2,this._makeRequest(t,n,i)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new mt(t,new z(e),n)}(t=Object(l.j)(t),e,n)}function Dt(t){return function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ct(t.storage,t._location,X()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(l.j)(t))}function Rt(t,e){return Et(t=Object(l.j)(t),e)}function Lt(t,e,n,i){void 0===i&&(i={}),function(t,e,n,i){void 0===i&&(i={}),t.host="http://"+e+":"+n;var r=i.mockUserToken;r&&(t._overrideAuthToken="string"==typeof r?r:Object(l.f)(r,t.app.options.projectId))}(t,e,n,i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ot,Pt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Nt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Pt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Pt(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,i){var r=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Pt(t,r,r._ref))}:{next:e.next?function(t){return e.next(new Pt(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,i||void 0)},t}(),Bt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Mt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Mt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Mt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Tt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Nt(kt(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=S.RAW),this._throwIfRoot("putString");var i=T(e,t),r=o({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new Nt(new mt(this._delegate,new z(i.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,yt(t=Object(l.j)(t))).then((function(t){return new Bt(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return _t(t=Object(l.j)(t),e)}(this._delegate,t||void 0).then((function(t){return new Bt(t,e.storage)}))},t.prototype.getMetadata=function(){return Dt(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return bt(t=Object(l.j)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,St(t=Object(l.j)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,Ct(t=Object(l.j)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw y(t)},t}(),qt=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(wt(t))throw m("ref() expected a child path but got a URL, use refFromURL instead.");return new Mt(Rt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!wt(t))throw m("refFromURL() expected a full URL but got a child path, use ref() instead.");try{F.makeFromUrl(t,this._delegate.host)}catch(t){throw m("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mt(Rt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Lt(this._delegate,t,e,n)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new qt(r,new xt(r,o,a,new L,n,i.a.SDK_VERSION))}Ft=i.a,Ot={TaskState:k,TaskEvent:x,StringFormat:S,Storage:xt,Reference:Mt},Ft.INTERNAL.registerComponent(new u.a("storage",Ut,"PUBLIC").setServiceProps(Ot).setMultipleInstances(!0)),Ft.registerVersion("@firebase/storage","0.7.0")},"58ea":function(t,e,n){"use strict";var i=n("ded3"),r=n.n(i),o=(n("a9e3"),n("26e9"),n("99af"),n("2b0e")),a=n("87e8"),s=n("6642"),c=n("dde5"),l=n("7937"),u=100*Math.PI,d=Math.round(1e3*u)/1e3;e.a=o.default.extend({name:"QCircularProgress",mixins:[a.a,s.a],props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:function(t){return t>=0&&t<=1}},angle:{type:Number,default:0},indeterminate:Boolean,showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},computed:{normalizedValue:function(){return Object(l.a)(this.value,this.min,this.max)},svgStyle:function(){var t=!0===this.$q.lang.rtl?-this.angle:this.angle;return{transform:this.reverse!==(!0===this.$q.lang.rtl)?"scale3d(-1, 1, 1) rotate3d(0, 0, 1, ".concat(-90-t,"deg)"):"rotate3d(0, 0, 1, ".concat(t-90,"deg)")}},circleStyle:function(){if(!0!==this.instantFeedback&&!0!==this.indeterminate)return{transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},viewBox:function(){return 100/(1-this.thickness/2)},viewBoxAttr:function(){return"".concat(this.viewBox/2," ").concat(this.viewBox/2," ").concat(this.viewBox," ").concat(this.viewBox)},strokeDashOffset:function(){return(1-(this.normalizedValue-this.min)/(this.max-this.min))*u},strokeWidth:function(){return this.thickness/2*this.viewBox},attrs:function(){return{role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":!0===this.indeterminate?void 0:this.normalizedValue}}},methods:{__getCircle:function(t,e){var n=e.thickness,i=e.offset,r=e.color;return t("circle",{staticClass:"q-circular-progress__"+e.cls,class:void 0!==r?"text-".concat(r):null,style:this.circleStyle,attrs:{fill:"transparent",stroke:"currentColor","stroke-width":n,"stroke-dasharray":d,"stroke-dashoffset":i,cx:this.viewBox,cy:this.viewBox,r:50}})}},render:function(t){var e=[];void 0!==this.centerColor&&"transparent"!==this.centerColor&&e.push(t("circle",{staticClass:"q-circular-progress__center",class:"text-".concat(this.centerColor),attrs:{fill:"currentColor",r:50-this.strokeWidth/2,cx:this.viewBox,cy:this.viewBox}})),void 0!==this.trackColor&&"transparent"!==this.trackColor&&e.push(this.__getCircle(t,{cls:"track",thickness:this.strokeWidth,offset:0,color:this.trackColor})),e.push(this.__getCircle(t,{cls:"circle",thickness:this.strokeWidth,offset:this.strokeDashOffset,color:this.color}));var n=[t("svg",{staticClass:"q-circular-progress__svg",style:this.svgStyle,attrs:{focusable:"false",viewBox:this.viewBoxAttr,"aria-hidden":"true"}},e)];return!0===this.showValue&&n.push(t("div",{staticClass:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:this.fontSize}},void 0!==this.$scopedSlots.default?this.$scopedSlots.default():[t("div",[this.normalizedValue])])),t("div",{staticClass:"q-circular-progress",class:"q-circular-progress--".concat(!0===this.indeterminate?"in":"","determinate"),style:this.sizeStyle,on:r()({},this.qListeners),attrs:this.attrs},Object(c.b)(n,this,"internal"))}})},"596c":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("1cee"),r={registerModule:function(t,e,n){var r=t.$store;r.hasModule(e)&&(i.a.debug("unregister module",e),r.unregisterModule(e)),r.registerModule(e,n)}}},"5a88":function(t,e,n){"use strict";var i=n("e3db");o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var r=o.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function o(t,e,n){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof t?c(this,t):function(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return function(t,e,n,i){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;r=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);o.TYPED_ARRAY_SUPPORT?r.__proto__=o.prototype:r=l(t,r);return r}(t,e,n,i);if("string"==typeof e)return function(t,e){var n=0|d(e),i=s(t,n),r=i.write(e);r!==n&&(i=i.slice(0,r));return i}(t,e);return function(t,e){if(o.isBuffer(e)){var n=0|a(e.length),i=s(t,n);return 0===i.length||e.copy(i,0,0,n),i}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):l(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,n):new o(t,e,n)}function a(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function s(t,e){var n;return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=o.prototype:(null===(n=t)&&(n=new o(e)),n.length=e),n}function c(t,e){var n=s(t,e<0?0:0|a(e));if(!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)n[i]=0;return n}function l(t,e){for(var n=e.length<0?0:0|a(e.length),i=s(t,n),r=0;r<n;r+=1)i[r]=255&e[r];return i}function u(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function d(t){return o.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:u(t).length)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(t,e,n){void 0===e||void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,i){return function(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}(u(e,t.length-n),t,n,i)}(this,t,e,n)},o.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=o.prototype;else{var r=e-t;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+t]}return n},o.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,a=i-n;if(this===t&&n<e&&e<i)for(r=a-1;r>=0;--r)t[r+e]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=o.isBuffer(t)?t:new o(t),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this},o.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c(null,e),a=0;for(n=0;n<t.length;++n){var l=t[n];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(r,a),a+=l.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports.alloc=function(t){var e=new o(t);return e.fill(0),e},t.exports.from=function(t){return new o(t)}},"5bc3":function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t},t.exports.default=t.exports,t.exports.__esModule=!0},"5fb2":function(t,e,n){"use strict";var i=n("da84"),r=n("e330"),o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=i.RangeError,l=r(a.exec),u=Math.floor,d=String.fromCharCode,h=r("".charCodeAt),p=r([].join),f=r([].push),g=r("".replace),m=r("".split),v=r("".toLowerCase),y=function(t){return t+22+75*(t<26)},_=function(t,e,n){var i=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;i+=36)t=u(t/35);return u(i+36*t/(t+38))},b=function(t){var e,n,i=[],r=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=h(t,n++);if(r>=55296&&r<=56319&&n<i){var o=h(t,n++);56320==(64512&o)?f(e,((1023&r)<<10)+(1023&o)+65536):(f(e,r),n--)}else f(e,r)}return e}(t)).length,o=128,a=0,l=72;for(e=0;e<t.length;e++)(n=t[e])<128&&f(i,d(n));var g=i.length,m=g;for(g&&f(i,"-");m<r;){var v=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<v&&(v=n);var b=m+1;if(v-o>u((2147483647-a)/b))throw c(s);for(a+=(v-o)*b,o=v,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw c(s);if(n==o){for(var S=a,C=36;;C+=36){var T=C<=l?1:C>=l+26?26:C-l;if(S<T)break;var w=S-T,I=36-T;f(i,d(y(T+w%I))),S=u(w/I)}f(i,d(y(S))),l=_(a,b,m==g),a=0,++m}}++a,++o}return p(i,"")};t.exports=function(t){var e,n,i=[],r=m(g(v(t),a,"."),".");for(e=0;e<r.length;e++)n=r[e],f(i,l(o,n)?"xn--"+b(n):n);return p(i,".")}},"5fb5":function(t,e,n){"use strict";n("206d")},"612c":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getRequestFocusOnSearch",(function(){return pl})),n.d(i,"isInClipsLoadingState",(function(){return fl})),n.d(i,"getClips",(function(){return gl})),n.d(i,"getClipsCount",(function(){return ml})),n.d(i,"hasSelectedClips",(function(){return vl})),n.d(i,"getSelectedClipsCount",(function(){return yl})),n.d(i,"getSelectedClipsMap",(function(){return _l})),n.d(i,"getSelectedClips",(function(){return bl})),n.d(i,"getListStyle",(function(){return Sl})),n.d(i,"getListSortBy",(function(){return Cl})),n.d(i,"getFilterByText",(function(){return Tl})),n.d(i,"getDeletedClips",(function(){return wl})),n.d(i,"isOnlyStarredSelected",(function(){return Il})),n.d(i,"isOnlyDeletedSelected",(function(){return El})),n.d(i,"isOnlyNotSyncedSelected",(function(){return Al})),n.d(i,"hasAttachmentsInSelected",(function(){return xl})),n.d(i,"hasDeletedInSelected",(function(){return kl})),n.d(i,"getNoteViewContentClass",(function(){return Dl}));var r={};n.r(r),n.d(r,"getAuthUI",(function(){return Wl})),n.d(r,"getAuthUserCollection",(function(){return Kl})),n.d(r,"getAuthUser",(function(){return Gl})),n.d(r,"getAuthUserId",(function(){return Ql})),n.d(r,"isAuthorized",(function(){return Yl})),n.d(r,"isSyncRestricted",(function(){return Xl})),n.d(r,"isSyncDisabled",(function(){return Zl})),n.d(r,"getSyncLimit",(function(){return Jl})),n.d(r,"getAuthPlanLabel",(function(){return tu})),n.d(r,"canSyncNotes",(function(){return eu})),n.d(r,"isAuthFlowStarted",(function(){return nu})),n.d(r,"isAuthSessionStarted",(function(){return iu})),n.d(r,"isAuthForceSync",(function(){return ru})),n.d(r,"showSyncLimitBanner",(function(){return ou})),n.d(r,"isAuthVerified",(function(){return au}));var o={};n.r(o),n.d(o,"canBeSavedAsFilter",(function(){return Mu})),n.d(o,"hasActiveFilters",(function(){return qu})),n.d(o,"getAdvancedFilterRequestDate",(function(){return Uu})),n.d(o,"getFiltersData",(function(){return $u})),n.d(o,"getFilters",(function(){return ju})),n.d(o,"getActiveFilter",(function(){return Vu})),n.d(o,"getActiveFilterNotesCount",(function(){return Hu})),n.d(o,"isActiveFilterCanBeSavedAsFilter",(function(){return zu})),n.d(o,"getNamedFilters",(function(){return Wu})),n.d(o,"hasNamedFilters",(function(){return Ku})),n.d(o,"getActiveFilterIconColor",(function(){return Gu})),n.d(o,"getActiveFilterCategoryOptions",(function(){return Qu})),n.d(o,"getActiveFilterTextTypeOptions",(function(){return Yu}));var a={};n.r(a),n.d(a,"getDragAndDropMode",(function(){return vd})),n.d(a,"isDragAndDropActive",(function(){return yd})),n.d(a,"isDragAndDropInSortFiltersMode",(function(){return _d})),n.d(a,"isDragAndDropInAssignClipTagsMode",(function(){return bd})),n.d(a,"getDragAndDropFilterId",(function(){return Sd})),n.d(a,"getDragAndDropTargetFilterId",(function(){return Cd})),n.d(a,"getDragAndDropClips",(function(){return Td}));n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0"),n("a79d");var s=n("c9d9"),c=n("596c"),l=n("72a1"),u=(n("99af"),n("a849")),d={name:"Splashscreen",computed:{getContentStyle:function(){var t=u.a.getCurrentTheme().colorPrimaryInverse;return"background-color: ".concat(t,"; ").concat(this.getAppFrameStyle)},getAppFrameStyle:function(){return this.$store.getters.getAppFrameStyle}}},h=n("2877"),p=n("068f"),f=n("eebe"),g=n.n(f),m=Object(h.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"absolute-full",style:this.getContentStyle},[e("q-img",{staticClass:"absolute-center",attrs:{src:"app-icon-lg.png","spinner-color":"white",height:"192px",width:"192px"}})],1)}),[],!1,null,null,null),v=m.exports;g()(m,"components",{QImg:p.a});var y=n("6374"),_=n.n(y),b=(n("498a"),n("dca8"),n("159b"),{name:"FilterSeparatorItem"}),S=n("eb85"),C=Object(h.a)(b,(function(){var t=this.$createElement;return(this._self._c||t)("q-separator",{staticClass:"bg-colorDividerDark"})}),[],!1,null,null,null),T=C.exports;g()(C,"components",{QSeparator:S.a});var w=n("e2db"),I=n("deff"),E={name:"AccountItem",components:{ActionButton:I.a},computed:{getAppName:function(){return this.$t("app_name")},getAppVersion:function(){var t=w.a.getAppVersion();return t?"(".concat(t,")"):null}},methods:{onSettings:function(){this.$store.dispatch(s.a.onStartShowSettingsUseCase)}}},A=n("65c6"),x=n("cb32"),k=n("6ac5"),D=n("2c91"),R=Object(h.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toolbar",{staticClass:"non-selectable cursor-pointer bg-colorPrimaryDark",staticStyle:{height:"48px","min-height":"48px"},on:{click:function(e){return e.stopPropagation(),t.onSettings(e)}}},[n("q-avatar",{staticClass:"text-actionIconColorHighlight q-mx-xs",attrs:{size:"20px"}},[n("q-img",{attrs:{src:"app-icon.png"}})],1),n("q-toolbar-title",{attrs:{shrink:""}},[n("div",{staticClass:"row text-no-wrap q-gutter-x-xs items-center ellipsis no-wrap text-weight-thin"},[n("div",{staticClass:"text-subtitle2 text-actionIconColorNormal"},[t._v(t._s(t.getAppName))]),n("div",{staticClass:"text-caption text-actionIconColorInactive"},[t._v(t._s(t.getAppVersion))])])]),n("q-space"),n("ActionButton",{attrs:{icon:"settings",dense:!0,color:"actionIconColorInactive","on-click":t.onSettings}})],1)}),[],!1,null,null,null),L=R.exports;g()(R,"components",{QToolbar:A.a,QAvatar:x.a,QImg:p.a,QToolbarTitle:k.a,QSpace:D.a});n("b0c0"),n("4de4");var F=n("0ebd"),O={name:"FilterGroupItem",components:{ActionButton:I.a},props:["filterData"],computed:{getNameLabel:function(){return this.filterData.name},getCount:function(){return this.filterData.count||0},getLimit:function(){return this.filterData.limit},inProgress:function(){return-1===this.filterData.count},getCountClass:function(){return this.getLimit>0&&this.getCount>=this.getLimit?"text-caption text-bold text-negative":"text-caption text-actionIconColorInactive"},getTooltipLabel:function(){var t=this.filterData,e=F.a.byId[t.id];return e?this.$t(e.actionTitleRes):null},getIconRes:function(){return this.filterData.isExpanded?"expand_more":"chevron_right"}},methods:{onClicked:function(){var t=this.filterData;this.$store.dispatch(s.a.onToggleFilterGroup,t.id)},onActionClicked:function(){var t=this.filterData,e=F.a.byId[t.id];e&&e.execute(this)},onShowDetails:function(){this.$store.dispatch(s.a.onStartShowFilterDetailsUseCase,this.filterData.filter)}}},P=n("66e5"),N=n("4074"),B=n("0016"),M=n("0170"),q=n("8380"),U=Object(h.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"caption text-no-wrap ellipsis text-actionIconColorNormal q-pr-sm",staticStyle:{height:"48px"},attrs:{clickable:""},on:{click:function(e){return e.stopPropagation(),t.onClicked(e)}}},[n("q-item-section",[n("div",{staticClass:"row no-wrap items-center q-gutter-x-md"},[n("q-icon",{attrs:{name:t.getIconRes,size:"20px",color:"actionIconColorInactive"}}),n("q-item-label",{staticClass:"ellipsis row no-wrap items-center q-gutter-x-xs text-actionIconColorInactive text-caption text-weight-medium text-uppercase"},[t._v("\n        "+t._s(t.getNameLabel)+"\n        "),n("span",{staticClass:"text-caption text-actionIconColorInactive"},[t.inProgress?[t._v("\n            ("),n("q-spinner-dots"),t._v(")\n          ")]:[t._v("\n            ("),n("span",{class:t.getCountClass},[t._v(t._s(t.getCount))]),t.getLimit?n("span",{staticClass:"text-caption text-actionIconColorInactive"},[t._v(" / "+t._s(t.getLimit))]):t._e(),t._v(")\n          ")]],2)])],1)]),n("q-item-section",{attrs:{side:""}},[n("div",{staticClass:"row q-gutter-sm q-mr-xs"},[n("ActionButton",{attrs:{icon:"add","on-click":t.onActionClicked,color:"actionIconColorInactive","tooltip-label-res":t.getTooltipLabel,dense:!0}}),n("ActionButton",{attrs:{icon:"more_horiz","on-click":t.onShowDetails,color:"actionIconColorInactive",dense:!0}})],1)])],1)}),[],!1,null,null,null),$=U.exports;g()(U,"components",{QItem:P.a,QItemSection:N.a,QIcon:B.a,QItemLabel:M.a,QSpinnerDots:q.a});var j=n("5046"),V=n("ed99"),H={name:"FilterItem",components:{ActionButton:I.a},props:["filterData","onSelected"],data:function(){return{isDragging:!1}},computed:{getTheme:function(){return this.$store.getters.getSelectedTheme},getStyle:function(){return this.isDragging?"opacity: 0.5; height: 48px;":"height: 48px;"},getClass:function(){var t="caption text-actionIconColorNormal q-pr-sm";return this.isActive&&(t+=" bg-listItemSelected text-bold"),t},getAssignTagsModeStyle:function(){return"border: 2px ".concat(j.a.getColorAccent(this.getTheme)," solid; border-radius: 8px")},getIconStyle:function(){var t=this.$store.getters.getSelectedTheme,e=this.getFilter.color||j.a.getActionIconColorInactive(t);return"margin-left: 3px; margin-right: 3px; color: ".concat(e,";")},getIconRes:function(){var t=this.getFilter;return this.filterData.type.getIconRes(t)},getCountClass:function(){return this.getLimit>0&&this.getCount>=this.getLimit?"text-caption text-bold text-negative":"text-caption text-actionIconColorInactive"},isManualSorting:function(){return this.filterData.filterGroup.isManualSorting()},hasCounter:function(){return!this.getFilter.isNamedFilter()},inProgress:function(){return-1===this.filterData.count},isActive:function(){return this.filterData.isActive},isInSortFiltersMode:function(){return this.isDragAndDropInSortFiltersMode&&this.getFilter.uid===this.getDragAndDropTargetFilterId&&this.getFilter.uid!==this.getDragAndDropFilterId},isInAssignTagsMode:function(){return this.isDragAndDropInAssignClipTagsMode&&this.getFilter.uid===this.getDragAndDropTargetFilterId},isDragAndDropInSortFiltersMode:function(){return this.$store.getters.isDragAndDropInSortFiltersMode},isDragAndDropInAssignClipTagsMode:function(){return this.$store.getters.isDragAndDropInAssignClipTagsMode},getDragAndDropTargetFilterId:function(){return this.$store.getters.getDragAndDropTargetFilterId},getDragAndDropFilterId:function(){return this.$store.getters.getDragAndDropFilterId},getFilter:function(){return this.filterData.filter},getNameLabel:function(){return this.filterData.name},getCount:function(){return this.filterData.count||0},getLimit:function(){return this.filterData.limit}},methods:{onShowDetails:function(){this.$store.dispatch(s.a.onStartShowFilterDetailsUseCase,this.getFilter)},onApplyFilter:function(){var t=this.filterData,e=this.getFilter;e&&(l.a.execFunction(this.onSelected,[t]),this.$store.dispatch(s.a.onApplyFilter,{filter:e,filterNavigationDate:Date.now()}))},onDragStart:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_SORT_FILTERS_MODE,this.getFilter),this.isDragging=!0},onDragOver:function(t){t.preventDefault()},onDragEnter:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_TARGET_FILTER,this.getFilter)},onDrop:function(){this.$store.dispatch(s.a.onCompleteDragAndDrop)},onDragEnd:function(){this.$store.dispatch(s.a.onCancelDragAndDrop),this.isDragging=!1}}},z=Object(h.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"48px"},attrs:{draggable:t.isManualSorting},on:{dragstart:t.onDragStart,dragenter:t.onDragEnter,dragover:t.onDragOver,dragend:t.onDragEnd,drop:t.onDrop}},[t.isInSortFiltersMode?n("div",{staticStyle:{height:"48px"}}):t._e(),n("q-item",{class:t.getClass,style:t.getStyle,attrs:{clickable:""},on:{click:function(e){return e.stopPropagation(),t.onApplyFilter(e)}}},[n("q-item-section",{attrs:{side:""}},[n("q-icon",{style:t.getIconStyle,attrs:{name:t.getIconRes,size:"16px"}}),t.filterData.hasActiveAutoRule?n("q-icon",{staticClass:"absolute",staticStyle:{"margin-left":"22px","margin-right":"22px",color:"#FFCF01",width:"10px"},attrs:{name:"flash_on",size:"10px"}}):t._e()],1),n("q-item-section",[n("q-item-label",{staticClass:"row no-wrap items-center q-gutter-x-xs"},[n("div",{staticClass:"ellipsis-2-lines text-actionIconColorNormal"},[t._v(t._s(t.getNameLabel))]),t.hasCounter?n("span",{staticClass:"text-caption text-actionIconColorInactive"},[t.inProgress?[t._v("\n            ("),n("q-spinner-dots"),t._v(")\n          ")]:[t._v("\n            ("),n("span",{class:t.getCountClass},[t._v(t._s(t.getCount))]),t.getLimit?n("span",{staticClass:"text-caption text-actionIconColorInactive"},[t._v(" / "+t._s(t.getLimit))]):t._e(),t._v(")\n          ")]],2):t._e()])],1),n("q-item-section",{attrs:{side:""}},[n("ActionButton",{attrs:{icon:"more_horiz","on-click":t.onShowDetails,color:"actionIconColorNormal","button-class":"q-mx-xs",dense:!0}})],1),t.isManualSorting?n("div",{staticClass:"absolute-left full-height",staticStyle:{cursor:"grab",width:"48px"}},[n("q-icon",{staticClass:"q-ml-xs full-height",attrs:{name:"drag_indicator",color:"actionIconColorInactive",size:"10px"}})],1):t._e(),t.isInAssignTagsMode?n("div",{staticClass:"absolute-top fit",style:t.getAssignTagsModeStyle}):t._e()],1)],1)}),[],!1,null,null,null),W=z.exports;g()(z,"components",{QItem:P.a,QItemSection:N.a,QIcon:B.a,QItemLabel:M.a,QSpinnerDots:q.a});var K={name:"FilterListItem",props:["filterData","onSelected"],components:{FilterSeparatorItem:T,AccountItem:L,FilterGroupItem:$,FilterItem:W}},G=Object(h.a)(K,(function(){var t=this.$createElement,e=this._self._c||t;return this.filterData.isAccount?e("AccountItem"):this.filterData.isGroup?e("FilterGroupItem",{attrs:{"filter-data":this.filterData}}):this.filterData.isSeparator?e("FilterSeparatorItem"):e("FilterItem",{attrs:{"filter-data":this.filterData,"on-selected":this.onSelected}})}),[],!1,null,null,null).exports,Q={name:"DataLoadingBlock"},Y=n("0d59"),X=Object(h.a)(Q,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-center q-pa-md"},[e("q-spinner",{attrs:{color:"textColorSecondary",size:"3em",thickness:2}})],1)}),[],!1,null,null,null),Z=X.exports;g()(X,"components",{QSpinner:Y.a});var J=n("914e"),tt={name:"FilterList",components:{DataLoadingBlock:Z,VerticalScrollView:J.a,FilterListItem:G},data:function(){return{prevSelection:null}},watch:{getFiltersData:function(t){var e=this.$refs.filterList;if(e){var n,i=-1,r=-1,o=_()(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(i++,a.isActive){this.prevSelection!==a.uid&&(this.prevSelection=a.uid,r=i);break}}}catch(t){o.e(t)}finally{o.f()}-1!==r&&e.scrollTo(r)}}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getContentClass:function(){return"bg-colorPrimaryDark ".concat(this.$store.getters.getSelectedFontClass).trim()},getContentHeight:function(){return this.$store.getters.getAppAvailableHeight},hasFiltersData:function(){return l.a.arrayIsNotEmpty(this.getFiltersData)},getScrollTarget:function(){return"#filterListContainer > .scroll"},getFiltersData:function(){return Object.freeze(this.$store.getters.getFiltersData)}},methods:{onSelected:function(t){this.getFiltersData.forEach((function(e){e===t?e.isActive=!0:e.isActive&&(e.isActive=!1)}))}}},et=n("ded3"),nt=n.n(et),it=(n("caad"),n("a9e3"),n("d81d"),n("fb6a"),n("2b0e")),rt=n("1c1c"),ot=(n("0481"),n("4069"),n("b7fa")),at=n("87e8"),st=n("dde5"),ct=it.default.extend({name:"QMarkupTable",mixins:[ot.a,at.a],props:{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical","cell","none"].includes(t)}},wrapCells:Boolean},computed:{classes:function(){return"q-table--".concat(this.separator,"-separator")+(!0===this.isDark?" q-table--dark q-table__card--dark q-dark":"")+(!0===this.dense?" q-table--dense":"")+(!0===this.flat?" q-table--flat":"")+(!0===this.bordered?" q-table--bordered":"")+(!0===this.square?" q-table--square":"")+(!1===this.wrapCells?" q-table--no-wrap":"")}},render:function(t){return t("div",{staticClass:"q-markup-table q-table__container q-table__card",class:this.classes,on:nt()({},this.qListeners)},[t("table",{staticClass:"q-table"},Object(st.c)(this,"default"))])}}),lt=n("e48b"),ut=n("f376"),dt=n("0831"),ht=n("d882"),pt={list:rt.a,table:ct},ft=it.default.extend({name:"QVirtualScroll",mixins:[ut.b,at.a,lt.a],props:{type:{type:String,default:"list",validator:function(t){return["list","table","__qtable"].includes(t)}},items:{type:Array,default:function(){return[]}},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},computed:{virtualScrollLength:function(){return this.itemsSize>=0&&void 0!==this.itemsFn?parseInt(this.itemsSize,10):Array.isArray(this.items)?this.items.length:0},virtualScrollScope:function(){var t=this;if(0===this.virtualScrollLength)return[];var e=function(e,n){return{index:t.virtualScrollSliceRange.from+n,item:e}};return void 0===this.itemsFn?this.items.slice(this.virtualScrollSliceRange.from,this.virtualScrollSliceRange.to).map(e):this.itemsFn(this.virtualScrollSliceRange.from,this.virtualScrollSliceRange.to-this.virtualScrollSliceRange.from).map(e)},classes:function(){return"q-virtual-scroll q-virtual-scroll"+(!0===this.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==this.scrollTarget?"":" scroll")},attrs:function(){return void 0!==this.scrollTarget?void 0:{tabindex:0}}},watch:{virtualScrollLength:function(){this.__resetVirtualScroll()},scrollTarget:function(){this.__unconfigureScrollTarget(),this.__configureScrollTarget()}},methods:{__getVirtualScrollEl:function(){return this.$el},__getVirtualScrollTarget:function(){return this.__scrollTarget},__configureScrollTarget:function(){this.__scrollTarget=Object(dt.c)(this.$el,this.scrollTarget),this.__scrollTarget.addEventListener("scroll",this.__onVirtualScrollEvt,ht.f.passive)},__unconfigureScrollTarget:function(){void 0!==this.__scrollTarget&&(this.__scrollTarget.removeEventListener("scroll",this.__onVirtualScrollEvt,ht.f.passive),this.__scrollTarget=void 0)}},beforeMount:function(){this.__resetVirtualScroll()},mounted:function(){this.__configureScrollTarget()},beforeDestroy:function(){this.__unconfigureScrollTarget()},render:function(t){if(void 0!==this.$scopedSlots.default){var e=this.__padVirtualScroll(t,"list"===this.type?"div":"tbody",this.virtualScrollScope.map(this.$scopedSlots.default));return void 0!==this.$scopedSlots.before&&(e=this.$scopedSlots.before().concat(e)),e=Object(st.a)(e,this,"after"),"__qtable"===this.type?function(t,e,n){return t("div",nt()(nt()({},e),{},{staticClass:"q-table__middle"+(void 0!==e.staticClass?" "+e.staticClass:"")}),[t("table",{staticClass:"q-table"},n)])}(t,{staticClass:this.classes},e):t(pt[this.type],{class:this.classes,attrs:this.attrs,props:this.qAttrs,on:nt()({},this.qListeners)},e)}console.error("QVirtualScroll: default scoped slot is required for rendering",this)}}),gt=Object(h.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VerticalScrollView",{attrs:{"content-class":t.getContentClass,height:t.getContentHeight,"dom-id":"filterListContainer","thumb-width":14}},[t.hasFiltersData?n("q-virtual-scroll",{ref:"filterList",attrs:{dark:t.isDarkMode,items:t.getFiltersData,"virtual-scroll-item-size":48,"scroll-target":t.getScrollTarget},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item,r=e.index;return[n("FilterListItem",{key:r,attrs:{"on-selected":t.onSelected,"filter-data":i}})]}}],null,!1,1686833305)}):n("DataLoadingBlock")],1)}),[],!1,null,null,null),mt=gt.exports;g()(gt,"components",{QVirtualScroll:ft});n("ac1f"),n("466d"),n("a4d3"),n("e01a"),n("a15b");var vt=n("61b4"),yt=n("1cee"),_t=n("bf07"),bt=n("7561"),St={name:"ObjectAbbreviationBlock",props:["onNavigateNextInput","readonly","value"],data:function(){return{abbreviation:this.value}},watch:{value:function(t){this.abbreviation=t}},computed:{getInputMaxLength:function(){return this.$store.getters.remoteConfigMaxLengthAbbreviation},getInputStyle:function(){return"width: 160px"},getHintTitle:function(){return this.$t("common_label_abbreviation")},getHintDescription:function(){var t=this.$store.getters.remoteConfigMaxLengthAbbreviation,e=this.$store.getters.remoteConfigAbbreviationLeadingSymbol;return bt.a.marked(this.$tc("hint_abbreviation",null,{n:t,n1:e}),{trimLines:!0})}},methods:{onShowHint:function(){this.$store.dispatch(s.a.onShowHint,{icon:"help_outline",title:this.getHintTitle,message:this.getHintDescription,isFormatted:!0})},onNavigateNext:function(){this.onNavigateNextInput&&this.onNavigateNextInput()},onInput:function(){this.$emit("input",this.abbreviation)}}},Ct=n("27f9"),Tt=n("9c40"),wt=Object(h.a)(St,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{ref:"abbrView",staticClass:"text-textColorPrimary q-mt-sm q-px-md",style:t.getInputStyle,attrs:{inputClass:"text-textColorPrimary text-body2 ellipsis",placeholder:t.$t("common_label_abbreviation"),"bg-color":"myBackgroundHighlight",maxlength:t.getInputMaxLength,disable:t.readonly,standout:"",dense:""},on:{input:t.onInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onNavigateNext(e)}},scopedSlots:t._u([t.readonly?null:{key:"append",fn:function(){return[n("q-btn",{staticClass:"text-textColorSecondary absolute-top-right",attrs:{icon:"info",size:"8px",round:"",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onShowHint(e)}}})]},proxy:!0}],null,!0),model:{value:t.abbreviation,callback:function(e){t.abbreviation=e},expression:"abbreviation"}})}),[],!1,null,null,null),It=wt.exports;g()(wt,"components",{QInput:Ct.a,QBtn:Tt.a});var Et=n("e507"),At=n("2858"),xt=n("f936"),kt=(n("7db0"),n("b64b"),{GENERAL:{id:0,name:"general",labelRes:"clip_details_tab_general"},ATTACHMENTS:{id:1,name:"attachments",labelRes:"clip_details_tab_attachments"},DYNAMIC_VALUES:{id:2,name:"dynamic_values",labelRes:"clip_details_tab_dynamic"},SNIPPETS:{id:3,name:"snippets",labelRes:"clip_details_tab_snippets"},TAGS:{id:4,name:"tags",labelRes:"clip_details_tab_tags"},SNIPPET_KITS:{id:5,name:"snippet_kits",labelRes:"clip_details_tab_snippet_kits"},ATTRIBUTES:{id:6,name:"attributes",labelRes:"clip_details_tab_attributes"},VALUES:{id:7,name:"values",labelRes:"clip_details_tab_dynamic_values"},FIELDS:{id:8,name:"fields",labelRes:"clip_details_tab_dynamic_fields"}});kt.byId={0:kt.GENERAL,1:kt.ATTACHMENTS,2:kt.DYNAMIC_VALUES,3:kt.SNIPPETS,4:kt.TAGS,5:kt.SNIPPET_KITS,6:kt.ATTRIBUTES,7:kt.VALUES,8:kt.FIELDS},kt.getByName=function(t){var e=Object.keys(kt).find((function(e){return kt[e].name===t}));return e?kt[e]:null},kt.mapToFirstLevelTabName={general:kt.GENERAL.name,attachments:kt.ATTACHMENTS.name,attributes:kt.ATTRIBUTES.name,tags:kt.ATTRIBUTES.name,snippet_kits:kt.ATTRIBUTES.name,dynamic_values:kt.DYNAMIC_VALUES.name,snippets:kt.DYNAMIC_VALUES.name,values:kt.DYNAMIC_VALUES.name,fields:kt.DYNAMIC_VALUES.name};var Dt=n("0477"),Rt=n("a8e6"),Lt=n("fab3"),Ft=function(t){return t.$t("clip_attr_charsCount")},Ot=function(t){return t.text?t.text.length:"0"},Pt=function(t){return t.$t("clip_attr_created")},Nt=function(t){return Rt.a.formatDate(t.createDate)},Bt=function(t){return t.$t("clip_attr_edited")},Mt=function(t){return Rt.a.formatDate(t.modifyDate)},qt=function(t){return t.$t("clip_attr_usageCount")},Ut=function(t){return t&&t.usageCount?"".concat(t.usageCount):"0"},$t=function(t,e){var n=e||Lt.a.CREATE_DATE_DESC;return t.$t(n.attrTitleRes)},jt=function(t,e){switch(e){case Lt.a.DELETE_DATE_DESC:case Lt.a.DELETE_DATE_ASC:return Rt.a.formatDate(t.deleteDate);case Lt.a.MODIFY_DATE_DESC:case Lt.a.MODIFY_DATE_ASC:return Rt.a.formatDate(t.modifyDate);case Lt.a.USAGE_DATE_DESC:case Lt.a.USAGE_DATE_ASC:return Rt.a.formatDate(t.updateDate);case Lt.a.SIZE_DESC:case Lt.a.SIZE_ASC:return Rt.a.formatSize(t.size);case Lt.a.USAGE_COUNT_DESC:case Lt.a.USAGE_COUNT_ASC:return t.usageCount;case Lt.a.CHARACTERS_DESC:case Lt.a.CHARACTERS_ASC:return l.a.zeroIfNull(t.characters);default:return Rt.a.formatDate(t.createDate)}},Vt={name:"SeparatorBlock"},Ht=Object(h.a)(Vt,(function(){var t=this.$createElement;return(this._self._c||t)("q-separator",{staticClass:"bg-myBackgroundHighlight q-mx-md q-my-none"})}),[],!1,null,null,null),zt=Ht.exports;g()(Ht,"components",{QSeparator:S.a});var Wt=n("cd82"),Kt={name:"ChipItem",props:["option","onClicked","chipClass"],computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getChipClass:function(){return this.chipClass||"q-ml-none q-mr-sm"},getColor:function(){return this.getCustomColor?null:this.isChecked?"colorAccent":"myBackgroundHighlight"},getTextColor:function(){return this.getCustomColor?null:this.isChecked?"textColorOnSurface":"textColorPrimary"},getCustomColor:function(){this.getTheme;return this.option.color},getTextStyle:function(){var t,e=this.getCustomColor;return t=e?this.isChecked?j.a.getColorOnSurface(e):j.a.getTextColorPrimary():j.a.getColorBrand(this.getTextColor),"color: ".concat(t)},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},geChipStyle:function(){var t=this.getCustomColor;return t?this.isChecked?"background-color: ".concat(t,"; ").concat(this.getAppButtonStyle):"color: ".concat(t,"; border-width: 2px; ").concat(this.getAppButtonStyle):"background-color: ".concat(j.a.getColorBrand(this.getColor),"; ").concat(this.getAppButtonStyle)},isChecked:function(){return this.option.checked},isOutline:function(){return this.option.color&&!this.isChecked},getIcon:function(){return this.option.icon},getLabel:function(){return this.option.label}},methods:{onOptionClicked:function(){var t=this.onClicked;t&&t(this.option)}}},Gt=n("b047"),Qt=Object(h.a)(Kt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-chip",{class:t.getChipClass,style:t.geChipStyle,attrs:{outline:t.isOutline,dark:t.isDarkMode,color:t.getColor,size:"md",clickable:"",square:""},on:{click:function(e){return e.stopPropagation(),t.onOptionClicked(e)}}},[t.getIcon?n("q-icon",{staticClass:"q-mr-sm",style:t.getTextStyle,attrs:{name:t.getIcon,size:"12px"}}):t._e(),n("div",{style:t.getTextStyle},[t._v(t._s(t.getLabel))])],1)}),[],!1,null,null,null),Yt=Qt.exports;g()(Qt,"components",{QChip:Gt.a,QIcon:B.a});var Xt={name:"ChipsRowBlock",components:{HorizontalScrollView:Wt.a,ChipItem:Yt},props:["options","onClicked"],computed:{canHideScrollbars:function(){return l.a.getLength(this.options)<4}}},Zt=Object(h.a)(Xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HorizontalScrollView",{attrs:{"hide-scrollbar":t.canHideScrollbars,height:"50"}},t._l(t.options,(function(e){return n("ChipItem",{key:e.id,attrs:{"on-clicked":t.onClicked,option:e}})})),1)}),[],!1,null,null,null).exports,Jt=(n("9911"),n("c1d9")),te=n("cda8"),ee={name:"PublicLinkActionButton",props:["icon","labelRes","isActive","onClick"],computed:{getTextColor:function(){return this.isActive?"textColorOnSurface":"textColorPrimary"},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getColor:function(){return this.isActive?"colorAccent":"myBackgroundHighlight"},getLabel:function(){return this.$t(this.labelRes)}}},ne=Object(h.a)(ee,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-chip",{staticClass:"col-12 col-sm q-ma-sm",style:t.getAppButtonStyle,attrs:{label:t.getLabel,"text-color":t.getTextColor,"icon-right":"edit",color:t.getColor,icon:t.icon,clickable:"",square:""},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[t._t("default")],2)}),[],!1,null,null,null),ie=ne.exports;g()(ne,"components",{QChip:Gt.a});var re={name:"PublicLinkEditDialog",props:["icon","titleRes","descriptionRes","onCancel","onApply","value"],data:function(){return{showDialog:this.value}},watch:{value:function(t){this.showDialog=t},showDialog:function(t){this.$emit("input",t)}},computed:{getAppFragmentDialogClass:function(){return"q-pa-md ".concat(this.$store.getters.getAppDialogClass)},getAppFragmentDialogStyle:function(){return this.$store.getters.getAppFragmentDialogStyle},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getTitle:function(){return this.$t(this.titleRes)},getDescription:function(){return this.$t(this.descriptionRes)}}},oe=n("24e8"),ae=n("f09f"),se=n("a370"),ce=n("4b7e"),le=Object(h.a)(re,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showDialog?n("q-dialog",{attrs:{persistent:""},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("q-card",{class:t.getAppFragmentDialogClass,style:t.getAppFragmentDialogStyle},[n("q-card-section",[n("q-avatar",{attrs:{icon:t.icon,size:"96px",color:"myBackgroundHighlight","text-color":"textColorPrimary"}}),n("div",{staticClass:"text-textColorPrimary text-h5 q-mt-md ellipsis text-weight-medium"},[t._v(t._s(t.getTitle))]),n("div",{staticClass:"text-textColorSecondary text-body1 q-mt-sm"},[t._v(t._s(t.getDescription))]),n("div",{staticClass:"q-mt-lg"},[t._t("default")],2)],1),n("q-card-actions",{staticClass:"q-px-sm q-mt-md"},[n("q-btn",{staticClass:"col q-mx-sm",style:t.getAppButtonStyle,attrs:{label:this.$t("menu_cancel"),"text-color":"textColorSecondary",color:"textColorSecondary",unelevated:"",outline:"","no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onCancel(e)}}}),n("q-btn",{staticClass:"col q-mx-sm",style:t.getAppButtonStyle,attrs:{label:this.$t("button_apply"),"text-color":"textColorOnSurface",color:"colorAccent",unelevated:"","no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onApply(e)}}})],1)],1)],1):t._e()}),[],!1,null,null,null),ue=le.exports;g()(le,"components",{QDialog:oe.a,QCard:ae.a,QCardSection:se.a,QAvatar:x.a,QCardActions:ce.a,QBtn:Tt.a});var de={name:"PublicLinkOneTimeOpening",components:{PublicLinkEditDialog:ue,PublicLinkActionButton:ie},props:["publicLink","onUpdateLink"],data:function(){return{showDialog:null,oneTimeOpening:null}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},isActive:function(){return this.publicLink.isOneTimeOpening()}},methods:{onShowDialog:function(){this.oneTimeOpening=this.publicLink.isOneTimeOpening(),this.showDialog=!0},onCloseDialog:function(){this.showDialog=!1},onApply:function(){this.publicLink.setOneTimeOpening(this.oneTimeOpening),l.a.execFunction(this.onUpdateLink),this.onCloseDialog()},onCancel:function(){this.onCloseDialog()}}},he=n("9564"),pe=Object(h.a)(de,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PublicLinkActionButton",{attrs:{"label-res":"public_note_link_one_time_opening","on-click":t.onShowDialog,"is-active":t.isActive,icon:"looks_one"}},[t.showDialog?n("PublicLinkEditDialog",{attrs:{icon:"looks_one","title-res":"public_note_link_one_time_opening","description-res":"public_note_link_one_time_opening_description","on-cancel":t.onCancel,"on-apply":t.onApply},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("div",{staticClass:"text-center"},[n("q-toggle",{attrs:{dark:t.isDarkMode,color:"colorAccent",size:"xl"},model:{value:t.oneTimeOpening,callback:function(e){t.oneTimeOpening=e},expression:"oneTimeOpening"}})],1)]):t._e()],1)}),[],!1,null,null,null),fe=pe.exports;g()(pe,"components",{QToggle:he.a});var ge=n("f175"),me={name:"DateTimeView",props:["onChanged","value","hint"],data:function(){return{proxyDate:null,dateTime:this.value,dateMask:"YYYY-MM-DD HH:mm",dateTimeString:Rt.a.formatDate(this.value,this.dateMask,!0)}},watch:{value:function(t){this.dateTime=t},dateTime:function(t){this.dateTimeString=Rt.a.formatDate(t,this.dateMask,!0)}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppDateDialogStyle:function(){return this.$store.getters.getAppDateDialogStyle}},methods:{onInput:function(t){yt.a.debug("date time",t),this.$emit("input",t)},onUpdateProxy:function(){var t=this.dateTime||new Date;this.proxyDate=Rt.a.formatDate(t,this.dateMask,!0),yt.a.debug("update proxy",this.proxyDate)},onUpdateDate:function(){var t=Rt.a.parseDate(this.proxyDate,this.dateMask);this.dateTime=ge.a.getInstance(t).adjustTime(this.dateTime).getTime(),this.$emit("input",this.dateTime),l.a.execFunction(this.onChanged,[this.dateTime])},onUpdateTime:function(){var t=Rt.a.parseDate(this.proxyDate,this.dateMask);this.dateTime=ge.a.getInstance(t).adjustDate(this.dateTime).getTime(),this.$emit("input",this.dateTime),l.a.execFunction(this.onChanged,[this.dateTime])}}},ve=(n("fc9f"),n("4e73")),ye=n("c474"),_e=it.default.extend({name:"QPopupProxy",mixins:[ut.b,at.a,ye.a],props:{breakpoint:{type:[String,Number],default:450}},data:function(){var t=parseInt(this.breakpoint,10);return{type:this.$q.screen.width<t||this.$q.screen.height<t?"dialog":"menu"}},computed:{parsedBreakpoint:function(){return parseInt(this.breakpoint,10)},onEvents:function(){return nt()(nt()({},this.qListeners),{},{hide:this.__onHide})}},watch:{"$q.screen.width":function(t){!0!==this.$refs.popup.showing&&this.__updateType(t,this.$q.screen.height,this.parsedBreakpoint)},"$q.screen.height":function(t){!0!==this.$refs.popup.showing&&this.__updateType(this.$q.screen.width,t,this.parsedBreakpoint)},breakpoint:function(t){!0!==this.$refs.popup.showing&&this.__updateType(this.$q.screen.width,this.$q.screen.height,parseInt(t,10))}},methods:{toggle:function(t){this.$refs.popup.toggle(t)},show:function(t){this.$refs.popup.show(t)},hide:function(t){this.$refs.popup.hide(t)},__onHide:function(t){this.__updateType(this.$q.screen.width,this.$q.screen.height,this.parsedBreakpoint),this.$emit("hide",t)},__updateType:function(t,e,n){var i=t<n||e<n?"dialog":"menu";this.type!==i&&(this.type=i)}},render:function(t){var e,n=Object(st.c)(this,"default"),i="menu"===this.type&&void 0!==n&&void 0!==n[0]&&void 0!==n[0].componentOptions&&void 0!==n[0].componentOptions.Ctor&&void 0!==n[0].componentOptions.Ctor.sealedOptions&&["QDate","QTime","QCarousel","QColor"].includes(n[0].componentOptions.Ctor.sealedOptions.name)?{cover:!0,maxHeight:"99vh"}:{},r={ref:"popup",props:nt()(nt()({},i),this.qAttrs),on:this.onEvents};return"dialog"===this.type?e=oe.a:(e=ve.a,r.props.target=this.target,r.props.contextMenu=this.contextMenu,r.props.noParentEvent=!0,r.props.separateClosePopup=!0),t(e,r,n)}}),be=n("278c"),Se=n.n(be),Ce=(n("00b4"),n("4e82"),n("26e9"),n("1276"),n("2532"),n("cca6"),n("cb29"),n("a8f0")),Te=n("f89c"),we=n("7937"),Ie=["gregorian","persian"],Ee={mixins:[ot.a,Te.b,at.a],props:{value:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:function(t){return Ie.includes(t)},default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},computed:{computedMask:function(){return this.__getMask()},computedLocale:function(){return this.__getLocale()},editable:function(){return!0!==this.disable&&!0!==this.readonly},computedColor:function(){return this.color||"primary"},computedTextColor:function(){return this.textColor||"white"},computedTabindex:function(){return!0===this.editable?0:-1},headerClass:function(){var t=[];return void 0!==this.color&&t.push("bg-".concat(this.color)),void 0!==this.textColor&&t.push("text-".concat(this.textColor)),t.join(" ")}},methods:{__getLocale:function(){return this.locale||this.$q.lang.date},__getCurrentDate:function(t){var e=new Date,n=!0===t?null:0;if("persian"===this.calendar){var i=Object(Ce.c)(e);return{year:i.jy,month:i.jm,day:i.jd}}return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:n,minute:n,second:n,millisecond:n}},__getCurrentTime:function(){var t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}},__getDayHash:function(t){return t.year+"/"+Object(we.f)(t.month)+"/"+Object(we.f)(t.day)}}},Ae=n("bd4c"),xe=n("0cd3"),ke=["Calendar","Years","Months"],De=function(t){return ke.includes(t)},Re=function(t){return/^-?[\d]+\/[0-1]\d$/.test(t)},Le=it.default.extend({name:"QDate",mixins:[Ee],props:{multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Re},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Re},navigationMaxYearMonth:{type:String,validator:Re},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:De}},data:function(){var t=this.__getMask(),e=this.__getLocale(),n=this.__getViewModel(t,e),i=n.year,r=!0===this.$q.lang.rtl?"right":"left";return{view:this.defaultView,monthDirection:r,yearDirection:r,startYear:i-i%20-(i<0?20:0),editRange:void 0,innerMask:t,innerLocale:e,viewModel:n}},watch:{value:function(t){if(this.lastEmitValue===t)this.lastEmitValue=0;else{var e=this.__getViewModel(this.innerMask,this.innerLocale),n=e.year,i=e.month;this.__updateViewModel(n,i)}},view:function(){void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus()},"viewModel.year":function(t){this.$emit("navigation",{year:t,month:this.viewModel.month})},"viewModel.month":function(t){this.$emit("navigation",{year:this.viewModel.year,month:t})},computedMask:function(t){this.__updateValue(t,this.innerLocale,"mask"),this.innerMask=t},computedLocale:function(t){this.__updateValue(this.innerMask,t,"locale"),this.innerLocale=t}},computed:{classes:function(){var t=!0===this.landscape?"landscape":"portrait";return"q-date q-date--".concat(t," q-date--").concat(t,"-").concat(!0===this.minimal?"minimal":"standard")+(!0===this.isDark?" q-date--dark q-dark":"")+(!0===this.bordered?" q-date--bordered":"")+(!0===this.square?" q-date--square no-border-radius":"")+(!0===this.flat?" q-date--flat no-shadow":"")+(!0===this.disable?" disabled":!0===this.readonly?" q-date--readonly":"")},isImmediate:function(){return!0===this.emitImmediately&&!0!==this.multiple&&!0!==this.range},normalizedModel:function(){return!0===Array.isArray(this.value)?this.value:null!==this.value&&void 0!==this.value?[this.value]:[]},daysModel:function(){var t=this;return this.normalizedModel.filter((function(t){return"string"==typeof t})).map((function(e){return t.__decodeString(e,t.innerMask,t.innerLocale)})).filter((function(t){return null!==t.dateHash}))},rangeModel:function(){var t=this,e=function(e){return t.__decodeString(e,t.innerMask,t.innerLocale)};return this.normalizedModel.filter((function(t){return Object(t)===t&&void 0!==t.from&&void 0!==t.to})).map((function(t){return{from:e(t.from),to:e(t.to)}})).filter((function(t){return null!==t.from.dateHash&&null!==t.to.dateHash&&t.from.dateHash<t.to.dateHash}))},getNativeDateFn:function(){return"persian"!==this.calendar?function(t){return new Date(t.year,t.month-1,t.day)}:function(t){var e=Object(Ce.b)(t.year,t.month,t.day);return new Date(e.gy,e.gm-1,e.gd)}},encodeObjectFn:function(){var t=this;return"persian"===this.calendar?this.__getDayHash:function(e,n,i){return Object(Ae.c)(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),void 0===n?t.innerMask:n,void 0===i?t.innerLocale:i,e.year,e.timezoneOffset)}},daysInModel:function(){var t=this;return this.daysModel.length+this.rangeModel.reduce((function(e,n){return e+1+Object(Ae.d)(t.getNativeDateFn(n.to),t.getNativeDateFn(n.from))}),0)},headerTitle:function(){if(void 0!==this.title&&null!==this.title&&this.title.length>0)return this.title;if(void 0!==this.editRange){var t=this.editRange.init,e=this.getNativeDateFn(t);return this.innerLocale.daysShort[e.getDay()]+", "+this.innerLocale.monthsShort[t.month-1]+" "+t.day+" — ?"}if(0===this.daysInModel)return" — ";if(this.daysInModel>1)return"".concat(this.daysInModel," ").concat(this.innerLocale.pluralDay);var n=this.daysModel[0],i=this.getNativeDateFn(n);return!0===isNaN(i.valueOf())?" — ":void 0!==this.innerLocale.headerTitle?this.innerLocale.headerTitle(i,n):this.innerLocale.daysShort[i.getDay()]+", "+this.innerLocale.monthsShort[n.month-1]+" "+n.day},headerSubtitle:function(){if(void 0!==this.subtitle&&null!==this.subtitle&&this.subtitle.length>0)return this.subtitle;if(0===this.daysInModel)return" — ";if(this.daysInModel>1){var t=this.minSelectedModel,e=this.maxSelectedModel,n=this.innerLocale.monthsShort;return n[t.month-1]+(t.year!==e.year?" "+t.year+" — "+n[e.month-1]+" ":t.month!==e.month?" — "+n[e.month-1]:"")+" "+e.year}return this.daysModel[0].year},minSelectedModel:function(){return this.daysModel.concat(this.rangeModel.map((function(t){return t.from}))).sort((function(t,e){return t.year-e.year||t.month-e.month}))[0]},maxSelectedModel:function(){return this.daysModel.concat(this.rangeModel.map((function(t){return t.to}))).sort((function(t,e){return e.year-t.year||e.month-t.month}))[0]},dateArrow:function(){var t=[this.$q.iconSet.datetime.arrowLeft,this.$q.iconSet.datetime.arrowRight];return!0===this.$q.lang.rtl?t.reverse():t},computedFirstDayOfWeek:function(){return void 0!==this.firstDayOfWeek?Number(this.firstDayOfWeek):this.innerLocale.firstDayOfWeek},daysOfWeek:function(){var t=this.innerLocale.daysShort,e=this.computedFirstDayOfWeek;return e>0?t.slice(e,7).concat(t.slice(0,e)):t},daysInMonth:function(){var t=this.viewModel;return"persian"!==this.calendar?new Date(t.year,t.month,0).getDate():Object(Ce.a)(t.year,t.month)},today:function(){return this.__getCurrentDate()},evtColor:function(){var t=this;return"function"==typeof this.eventColor?this.eventColor:function(){return t.eventColor}},minNav:function(){if(void 0!==this.navigationMinYearMonth){var t=this.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}},maxNav:function(){if(void 0!==this.navigationMaxYearMonth){var t=this.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}},navBoundaries:function(){var t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return void 0!==this.minNav&&this.minNav.year>=this.viewModel.year&&(t.year.prev=!1,this.minNav.year===this.viewModel.year&&this.minNav.month>=this.viewModel.month&&(t.month.prev=!1)),void 0!==this.maxNav&&this.maxNav.year<=this.viewModel.year&&(t.year.next=!1,this.maxNav.year===this.viewModel.year&&this.maxNav.month<=this.viewModel.month&&(t.month.next=!1)),t},daysMap:function(){var t=this,e={};return this.daysModel.forEach((function(n){var i=t.__getMonthHash(n);void 0===e[i]&&(e[i]=[]),e[i].push(n.day)})),e},rangeMap:function(){var t=this,e={};return this.rangeModel.forEach((function(n){var i=t.__getMonthHash(n.from),r=t.__getMonthHash(n.to);if(void 0===e[i]&&(e[i]=[]),e[i].push({from:n.from.day,to:i===r?n.to.day:void 0,range:n}),i<r)for(var o,a=n.from,s=a.year,c=a.month,l=c<12?{year:s,month:c+1}:{year:s+1,month:1};(o=t.__getMonthHash(l))<=r;)void 0===e[o]&&(e[o]=[]),e[o].push({from:void 0,to:o===r?n.to.day:void 0,range:n}),l.month++,l.month>12&&(l.year++,l.month=1)})),e},rangeView:function(){if(void 0!==this.editRange){var t=this.editRange,e=t.init,n=t.initHash,i=t.final,r=n<=t.finalHash?[e,i]:[i,e],o=Se()(r,2),a=o[0],s=o[1],c=this.__getMonthHash(a),l=this.__getMonthHash(s);if(c===this.viewMonthHash||l===this.viewMonthHash){var u={};return c===this.viewMonthHash?(u.from=a.day,u.includeFrom=!0):u.from=1,l===this.viewMonthHash?(u.to=s.day,u.includeTo=!0):u.to=this.daysInMonth,u}}},viewMonthHash:function(){return this.__getMonthHash(this.viewModel)},selectionDaysMap:function(){var t=this,e={};if(void 0===this.options){for(var n=1;n<=this.daysInMonth;n++)e[n]=!0;return e}for(var i="function"==typeof this.options?this.options:function(e){return t.options.includes(e)},r=1;r<=this.daysInMonth;r++){var o=this.viewMonthHash+"/"+Object(we.f)(r);e[r]=i(o)}return e},eventDaysMap:function(){var t=this,e={};if(void 0===this.events)for(var n=1;n<=this.daysInMonth;n++)e[n]=!1;else for(var i="function"==typeof this.events?this.events:function(e){return t.events.includes(e)},r=1;r<=this.daysInMonth;r++){var o=this.viewMonthHash+"/"+Object(we.f)(r);e[r]=!0===i(o)&&this.evtColor(o)}return e},viewDays:function(){var t,e,n=this.viewModel,i=n.year,r=n.month;if("persian"!==this.calendar)t=new Date(i,r-1,1),e=new Date(i,r-1,0).getDate();else{var o=Object(Ce.b)(i,r,1);t=new Date(o.gy,o.gm-1,o.gd);var a=r-1,s=i;0===a&&(a=12,s--),e=Object(Ce.a)(s,a)}return{days:t.getDay()-this.computedFirstDayOfWeek-1,endDay:e}},days:function(){var t=this,e=[],n=this.viewDays,i=n.days,r=n.endDay,o=i<0?i+7:i;if(o<6)for(var a=r-o;a<=r;a++)e.push({i:a,fill:!0});for(var s=e.length,c=1;c<=this.daysInMonth;c++){var l={i:c,event:this.eventDaysMap[c],classes:[]};!0===this.selectionDaysMap[c]&&(l.in=!0,l.flat=!0),e.push(l)}if(void 0!==this.daysMap[this.viewMonthHash]&&this.daysMap[this.viewMonthHash].forEach((function(n){var i=s+n-1;Object.assign(e[i],{selected:!0,unelevated:!0,flat:!1,color:t.computedColor,textColor:t.computedTextColor})})),void 0!==this.rangeMap[this.viewMonthHash]&&this.rangeMap[this.viewMonthHash].forEach((function(n){if(void 0!==n.from){for(var i=s+n.from-1,r=s+(n.to||t.daysInMonth)-1,o=i;o<=r;o++)Object.assign(e[o],{range:n.range,unelevated:!0,color:t.computedColor,textColor:t.computedTextColor});Object.assign(e[i],{rangeFrom:!0,flat:!1}),void 0!==n.to&&Object.assign(e[r],{rangeTo:!0,flat:!1})}else if(void 0!==n.to){for(var a=s+n.to-1,c=s;c<=a;c++)Object.assign(e[c],{range:n.range,unelevated:!0,color:t.computedColor,textColor:t.computedTextColor});Object.assign(e[a],{flat:!1,rangeTo:!0})}else for(var l=s+t.daysInMonth-1,u=s;u<=l;u++)Object.assign(e[u],{range:n.range,unelevated:!0,color:t.computedColor,textColor:t.computedTextColor})})),void 0!==this.rangeView){for(var u=s+this.rangeView.from-1,d=s+this.rangeView.to-1,h=u;h<=d;h++)e[h].color=this.computedColor,e[h].editRange=!0;!0===this.rangeView.includeFrom&&(e[u].editRangeFrom=!0),!0===this.rangeView.includeTo&&(e[d].editRangeTo=!0)}this.viewModel.year===this.today.year&&this.viewModel.month===this.today.month&&(e[s+this.today.day-1].today=!0);var p=e.length%7;if(p>0)for(var f=7-p,g=1;g<=f;g++)e.push({i:g,fill:!0});return e.forEach((function(t){var e="q-date__calendar-item ";!0===t.fill?e+="q-date__calendar-item--fill":(e+="q-date__calendar-item--".concat(!0===t.in?"in":"out"),void 0!==t.range&&(e+=" q-date__range".concat(!0===t.rangeTo?"-to":!0===t.rangeFrom?"-from":"")),!0===t.editRange&&(e+=" q-date__edit-range".concat(!0===t.editRangeFrom?"-from":"").concat(!0===t.editRangeTo?"-to":"")),void 0===t.range&&!0!==t.editRange||(e+=" text-".concat(t.color))),t.classes=e})),e},attrs:function(){return!0===this.disable?{"aria-disabled":"true"}:!0===this.readonly?{"aria-readonly":"true"}:void 0}},methods:{setToday:function(){this.__toggleDate(this.today,this.__getMonthHash(this.today)),this.setCalendarTo(this.today.year,this.today.month)},setView:function(t){!0===De(t)&&(this.view=t)},offsetCalendar:function(t,e){["month","year"].includes(t)&&this["__goTo".concat("month"===t?"Month":"Year")](!0===e?-1:1)},setCalendarTo:function(t,e){this.view="Calendar",this.__updateViewModel(t,e)},setEditingRange:function(t,e){if(!1!==this.range&&t){var n=Object.assign(nt()({},this.viewModel),t),i=void 0!==e?Object.assign(nt()({},this.viewModel),e):n;this.editRange={init:n,initHash:this.__getDayHash(n),final:i,finalHash:this.__getDayHash(i)},this.setCalendarTo(n.year,n.month)}else this.editRange=void 0},__getMask:function(){return"persian"===this.calendar?"YYYY/MM/DD":this.mask},__decodeString:function(t,e,n){return Object(Ae.a)(t,e,n,this.calendar,{hour:0,minute:0,second:0,millisecond:0})},__getViewModel:function(t,e){var n=!0===Array.isArray(this.value)?this.value:this.value?[this.value]:[];if(0===n.length)return this.__getDefaultViewModel();var i=this.__decodeString(void 0!==n[0].from?n[0].from:n[0],t,e);return null===i.dateHash?this.__getDefaultViewModel():i},__getDefaultViewModel:function(){var t,e;if(void 0!==this.defaultYearMonth){var n=this.defaultYearMonth.split("/");t=parseInt(n[0],10),e=parseInt(n[1],10)}else{var i=void 0!==this.today?this.today:this.__getCurrentDate();t=i.year,e=i.month}return{year:t,month:e,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Object(we.f)(e)+"/01"}},__getHeader:function(t){var e=this;if(!0!==this.minimal)return t("div",{staticClass:"q-date__header",class:this.headerClass},[t("div",{staticClass:"relative-position"},[t("transition",{props:{name:"q-transition--fade"}},[t("div",{key:"h-yr-"+this.headerSubtitle,staticClass:"q-date__header-subtitle q-date__header-link",class:"Years"===this.view?"q-date__header-link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"vY",{click:function(){e.view="Years"},keyup:function(t){13===t.keyCode&&(e.view="Years")}})},[this.headerSubtitle])])]),t("div",{staticClass:"q-date__header-title relative-position flex no-wrap"},[t("div",{staticClass:"relative-position col"},[t("transition",{props:{name:"q-transition--fade"}},[t("div",{key:"h-sub"+this.headerTitle,staticClass:"q-date__header-title-label q-date__header-link",class:"Calendar"===this.view?"q-date__header-link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"vC",{click:function(){e.view="Calendar"},keyup:function(t){13===t.keyCode&&(e.view="Calendar")}})},[this.headerTitle])])]),!0===this.todayBtn?t(Tt.a,{staticClass:"q-date__header-today self-start",props:{icon:this.$q.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:this.computedTabindex},on:Object(xe.b)(this,"today",{click:this.setToday})}):null])])},__getNavigation:function(t,e){var n=this,i=e.label,r=e.view,o=e.key,a=e.dir,s=e.goTo,c=e.boundaries,l=e.cls;return[t("div",{staticClass:"row items-center q-date__arrow"},[t(Tt.a,{props:{round:!0,dense:!0,size:"sm",flat:!0,icon:this.dateArrow[0],tabindex:this.computedTabindex,disable:!1===c.prev},on:Object(xe.b)(this,"go-#"+r,{click:function(){s(-1)}})})]),t("div",{staticClass:"relative-position overflow-hidden flex flex-center"+l},[t("transition",{props:{name:"q-transition--jump-"+a}},[t("div",{key:o},[t(Tt.a,{props:{flat:!0,dense:!0,noCaps:!0,label:i,tabindex:this.computedTabindex},on:Object(xe.b)(this,"view#"+r,{click:function(){n.view=r}})})])])]),t("div",{staticClass:"row items-center q-date__arrow"},[t(Tt.a,{props:{round:!0,dense:!0,size:"sm",flat:!0,icon:this.dateArrow[1],tabindex:this.computedTabindex,disable:!1===c.next},on:Object(xe.b)(this,"go+#"+r,{click:function(){s(1)}})})])]},__getCalendarView:function(t){var e=this;return[t("div",{key:"calendar-view",staticClass:"q-date__view q-date__calendar"},[t("div",{staticClass:"q-date__navigation row items-center no-wrap"},this.__getNavigation(t,{label:this.innerLocale.months[this.viewModel.month-1],view:"Months",key:this.viewModel.month,dir:this.monthDirection,goTo:this.__goToMonth,boundaries:this.navBoundaries.month,cls:" col"}).concat(this.__getNavigation(t,{label:this.viewModel.year,view:"Years",key:this.viewModel.year,dir:this.yearDirection,goTo:this.__goToYear,boundaries:this.navBoundaries.year,cls:""}))),t("div",{staticClass:"q-date__calendar-weekdays row items-center no-wrap"},this.daysOfWeek.map((function(e){return t("div",{staticClass:"q-date__calendar-item"},[t("div",[e])])}))),t("div",{staticClass:"q-date__calendar-days-container relative-position overflow-hidden"},[t("transition",{props:{name:"q-transition--slide-"+this.monthDirection}},[t("div",{key:this.viewMonthHash,staticClass:"q-date__calendar-days fit"},this.days.map((function(n){return t("div",{staticClass:n.classes},[!0===n.in?t(Tt.a,{staticClass:!0===n.today?"q-date__today":null,props:{dense:!0,flat:n.flat,unelevated:n.unelevated,color:n.color,textColor:n.textColor,label:n.i,tabindex:e.computedTabindex},on:Object(xe.b)(e,"day#"+n.i,{click:function(){e.__onDayClick(n.i)},mouseover:function(){e.__onDayMouseover(n.i)}})},!1!==n.event?[t("div",{staticClass:"q-date__event bg-"+n.event})]:null):t("div",[n.i])])})))])])])]},__getMonthsView:function(t){var e=this,n=this.viewModel.year===this.today.year,i=function(t){return void 0!==e.minNav&&e.viewModel.year===e.minNav.year&&e.minNav.month>t||void 0!==e.maxNav&&e.viewModel.year===e.maxNav.year&&e.maxNav.month<t},r=this.innerLocale.monthsShort.map((function(r,o){var a=e.viewModel.month===o+1;return t("div",{staticClass:"q-date__months-item flex flex-center"},[t(Tt.a,{staticClass:!0===n&&e.today.month===o+1?"q-date__today":null,props:{flat:!0!==a,label:r,unelevated:a,color:!0===a?e.computedColor:null,textColor:!0===a?e.computedTextColor:null,tabindex:e.computedTabindex,disable:i(o+1)},on:Object(xe.b)(e,"month#"+o,{click:function(){e.__setMonth(o+1)}})})])}));return!0===this.yearsInMonthView&&r.unshift(t("div",{staticClass:"row no-wrap full-width"},[this.__getNavigation(t,{label:this.viewModel.year,view:"Years",key:this.viewModel.year,dir:this.yearDirection,goTo:this.__goToYear,boundaries:this.navBoundaries.year,cls:" col"})])),t("div",{key:"months-view",staticClass:"q-date__view q-date__months flex flex-center"},r)},__getYearsView:function(t){for(var e=this,n=this.startYear,i=n+20,r=[],o=function(t){return void 0!==e.minNav&&e.minNav.year>t||void 0!==e.maxNav&&e.maxNav.year<t},a=function(n){var i=e.viewModel.year===n;r.push(t("div",{staticClass:"q-date__years-item flex flex-center"},[t(Tt.a,{key:"yr"+n,staticClass:e.today.year===n?"q-date__today":null,props:{flat:!i,label:n,dense:!0,unelevated:i,color:!0===i?e.computedColor:null,textColor:!0===i?e.computedTextColor:null,tabindex:e.computedTabindex,disable:o(n)},on:Object(xe.b)(e,"yr#"+n,{click:function(){e.__setYear(n)}})})]))},s=n;s<=i;s++)a(s);return t("div",{staticClass:"q-date__view q-date__years flex flex-center"},[t("div",{staticClass:"col-auto"},[t(Tt.a,{props:{round:!0,dense:!0,flat:!0,icon:this.dateArrow[0],tabindex:this.computedTabindex,disable:o(n)},on:Object(xe.b)(this,"y-",{click:function(){e.startYear-=20}})})]),t("div",{staticClass:"q-date__years-content col self-stretch row items-center"},r),t("div",{staticClass:"col-auto"},[t(Tt.a,{props:{round:!0,dense:!0,flat:!0,icon:this.dateArrow[1],tabindex:this.computedTabindex,disable:o(i)},on:Object(xe.b)(this,"y+",{click:function(){e.startYear+=20}})})])])},__goToMonth:function(t){var e=this.viewModel.year,n=Number(this.viewModel.month)+t;13===n?(n=1,e++):0===n&&(n=12,e--),this.__updateViewModel(e,n),!0===this.isImmediate&&this.__emitImmediately("month")},__goToYear:function(t){var e=Number(this.viewModel.year)+t;this.__updateViewModel(e,this.viewModel.month),!0===this.isImmediate&&this.__emitImmediately("year")},__setYear:function(t){this.__updateViewModel(t,this.viewModel.month),this.view="Years"===this.defaultView?"Months":"Calendar",!0===this.isImmediate&&this.__emitImmediately("year")},__setMonth:function(t){this.__updateViewModel(this.viewModel.year,t),this.view="Calendar",!0===this.isImmediate&&this.__emitImmediately("month")},__getMonthHash:function(t){return t.year+"/"+Object(we.f)(t.month)},__toggleDate:function(t,e){var n=this.daysMap[e];(void 0!==n&&!0===n.includes(t.day)?this.__removeFromModel:this.__addToModel)(t)},__getShortDate:function(t){return{year:t.year,month:t.month,day:t.day}},__onDayClick:function(t){var e=nt()(nt()({},this.viewModel),{},{day:t});if(!1!==this.range)if(void 0===this.editRange){var n=this.days.find((function(e){return!0!==e.fill&&e.i===t}));if(void 0!==n.range)return void this.__removeFromModel({target:e,from:n.range.from,to:n.range.to});if(!0===n.selected)return void this.__removeFromModel(e);var i=this.__getDayHash(e);this.editRange={init:e,initHash:i,final:e,finalHash:i},this.$emit("range-start",this.__getShortDate(e))}else{var r=this.editRange.initHash,o=this.__getDayHash(e),a=r<=o?{from:this.editRange.init,to:e}:{from:e,to:this.editRange.init};this.editRange=void 0,this.__addToModel(r===o?e:nt()({target:e},a)),this.$emit("range-end",{from:this.__getShortDate(a.from),to:this.__getShortDate(a.to)})}else this.__toggleDate(e,this.viewMonthHash)},__onDayMouseover:function(t){if(void 0!==this.editRange){var e=nt()(nt()({},this.viewModel),{},{day:t});Object.assign(this.editRange,{final:e,finalHash:this.__getDayHash(e)})}},__updateViewModel:function(t,e){var n=this;void 0!==this.minNav&&t<=this.minNav.year&&(t=this.minNav.year,e<this.minNav.month&&(e=this.minNav.month)),void 0!==this.maxNav&&t>=this.maxNav.year&&(t=this.maxNav.year,e>this.maxNav.month&&(e=this.maxNav.month));var i=t+"/"+Object(we.f)(e)+"/01";i!==this.viewModel.dateHash&&(this.monthDirection=this.viewModel.dateHash<i==(!0!==this.$q.lang.rtl)?"left":"right",t!==this.viewModel.year&&(this.yearDirection=this.monthDirection),this.$nextTick((function(){n.startYear=t-t%20-(t<0?20:0),Object.assign(n.viewModel,{year:t,month:e,day:1,dateHash:i})})))},__emitValue:function(t,e,n){var i=null!==t&&1===t.length&&!1===this.multiple?t[0]:t;this.lastEmitValue=i;var r=this.__getEmitParams(e,n),o=r.reason,a=r.details;this.$emit("input",i,o,a)},__emitImmediately:function(t){var e=this,n=void 0!==this.daysModel[0]&&null!==this.daysModel[0].dateHash?nt()({},this.daysModel[0]):nt()({},this.viewModel);this.$nextTick((function(){n.year=e.viewModel.year,n.month=e.viewModel.month;var i="persian"!==e.calendar?new Date(n.year,n.month,0).getDate():Object(Ce.a)(n.year,n.month);n.day=Math.min(Math.max(1,n.day),i);var r=e.__encodeEntry(n);e.lastEmitValue=r;var o=e.__getEmitParams("",n).details;e.$emit("input",r,t,o)}))},__getEmitParams:function(t,e){return void 0!==e.from?{reason:"".concat(t,"-range"),details:nt()(nt()({},this.__getShortDate(e.target)),{},{from:this.__getShortDate(e.from),to:this.__getShortDate(e.to),changed:!0})}:{reason:"".concat(t,"-day"),details:nt()(nt()({},this.__getShortDate(e)),{},{changed:!0})}},__encodeEntry:function(t,e,n){return void 0!==t.from?{from:this.encodeObjectFn(t.from,e,n),to:this.encodeObjectFn(t.to,e,n)}:this.encodeObjectFn(t,e,n)},__addToModel:function(t){var e,n=this;if(!0===this.multiple)if(void 0!==t.from){var i=this.__getDayHash(t.from),r=this.__getDayHash(t.to),o=this.daysModel.filter((function(t){return t.dateHash<i||t.dateHash>r})),a=this.rangeModel.filter((function(t){var e=t.from;return t.to.dateHash<i||e.dateHash>r}));e=o.concat(a).concat(t).map((function(t){return n.__encodeEntry(t)}))}else{var s=this.normalizedModel.slice();s.push(this.__encodeEntry(t)),e=s}else e=this.__encodeEntry(t);this.__emitValue(e,"add",t)},__removeFromModel:function(t){if(!0!==this.noUnset){var e=null;if(!0===this.multiple&&!0===Array.isArray(this.value)){var n=this.__encodeEntry(t);0===(e=void 0!==t.from?this.value.filter((function(t){return void 0===t.from||t.from!==n.from&&t.to!==n.to})):this.value.filter((function(t){return t!==n}))).length&&(e=null)}this.__emitValue(e,"remove",t)}},__updateValue:function(t,e,n){var i=this,r=this.daysModel.concat(this.rangeModel).map((function(n){return i.__encodeEntry(n,t,e)})).filter((function(t){return void 0!==t.from?null!==t.from.dateHash&&null!==t.to.dateHash:null!==t.dateHash}));this.$emit("input",(!0===this.multiple?r:r[0])||null,n)}},render:function(t){var e=[t("div",{staticClass:"q-date__content col relative-position"},[t("transition",{props:{name:"q-transition--fade"}},[this["__get".concat(this.view,"View")](t)])])],n=Object(st.c)(this,"default");return void 0!==n&&e.push(t("div",{staticClass:"q-date__actions"},n)),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(e,"push"),t("div",{class:this.classes,attrs:this.attrs,on:nt()({},this.qListeners)},[this.__getHeader(t),t("div",{staticClass:"q-date__main col column",attrs:{tabindex:-1},ref:"blurTarget"},e)])}}),Fe=(n("c740"),n("75c3")),Oe=it.default.extend({name:"QTime",mixins:[Ee],directives:{TouchPan:Fe.a},props:{mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:function(t){return/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t)}},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},data:function(){var t=Object(Ae.a)(this.value,this.__getMask(),this.__getLocale(),this.calendar,this.__getDefaultDateModel()),e="Hour";return null!==t.hour&&(null===t.minute?e="Minute":!0===this.withSeconds&&null===t.second&&(e="Second")),{view:e,isAM:null===t.hour||t.hour<12,innerModel:t}},watch:{value:function(t){var e=Object(Ae.a)(t,this.computedMask,this.computedLocale,this.calendar,this.defaultDateModel);e.dateHash===this.innerModel.dateHash&&e.timeHash===this.innerModel.timeHash||(this.innerModel=e,null===e.hour?this.view="Hour":this.isAM=e.hour<12)},computedMask:function(){var t=this;this.$nextTick((function(){t.__updateValue()}))},computedLocale:function(){var t=this;this.$nextTick((function(){t.__updateValue()}))}},computed:{classes:function(){return"q-time q-time--".concat(!0===this.landscape?"landscape":"portrait")+(!0===this.isDark?" q-time--dark q-dark":"")+(!0===this.disable?" disabled":!0===this.readonly?" q-time--readonly":"")+(!0===this.bordered?" q-time--bordered":"")+(!0===this.square?" q-time--square no-border-radius":"")+(!0===this.flat?" q-time--flat no-shadow":"")},stringModel:function(){var t=this.innerModel;return{hour:null===t.hour?"--":!0===this.computedFormat24h?Object(we.f)(t.hour):String(!0===this.isAM?0===t.hour?12:t.hour:t.hour>12?t.hour-12:t.hour),minute:null===t.minute?"--":Object(we.f)(t.minute),second:null===t.second?"--":Object(we.f)(t.second)}},defaultDateModel:function(){return this.__getDefaultDateModel()},computedFormat24h:function(){return null!==this.format24h?this.format24h:this.$q.lang.date.format24h},pointerStyle:function(){var t="Hour"===this.view,e=!0===t?12:60,n=this.innerModel[this.view.toLowerCase()],i=Math.round(n*(360/e))-180,r="rotate(".concat(i,"deg) translateX(-50%)");return!0===t&&!0===this.computedFormat24h&&this.innerModel.hour>=12&&(r+=" scale(.7)"),{transform:r}},minLink:function(){return null!==this.innerModel.hour},secLink:function(){return!0===this.minLink&&null!==this.innerModel.minute},hourInSelection:function(){var t=this;return void 0!==this.hourOptions?function(e){return t.hourOptions.includes(e)}:void 0!==this.options?function(e){return t.options(e,null,null)}:void 0},minuteInSelection:function(){var t=this;return void 0!==this.minuteOptions?function(e){return t.minuteOptions.includes(e)}:void 0!==this.options?function(e){return t.options(t.innerModel.hour,e,null)}:void 0},secondInSelection:function(){var t=this;return void 0!==this.secondOptions?function(e){return t.secondOptions.includes(e)}:void 0!==this.options?function(e){return t.options(t.innerModel.hour,t.innerModel.minute,e)}:void 0},validHours:function(){if(void 0!==this.hourInSelection){var t=this.__getValidValues(0,11,this.hourInSelection),e=this.__getValidValues(12,11,this.hourInSelection);return{am:t,pm:e,values:t.values.concat(e.values)}}},validMinutes:function(){if(void 0!==this.minuteInSelection)return this.__getValidValues(0,59,this.minuteInSelection)},validSeconds:function(){if(void 0!==this.secondInSelection)return this.__getValidValues(0,59,this.secondInSelection)},viewValidOptions:function(){switch(this.view){case"Hour":return this.validHours;case"Minute":return this.validMinutes;case"Second":return this.validSeconds}},positions:function(){var t,e,n=0,i=1,r=void 0!==this.viewValidOptions?this.viewValidOptions.values:void 0;"Hour"===this.view?!0===this.computedFormat24h?(t=0,e=23):(t=0,e=11,!1===this.isAM&&(n=12)):(t=0,e=55,i=5);for(var o=[],a=t,s=t;a<=e;a+=i,s++){var c=a+n,l=void 0!==r&&!1===r.includes(c),u="Hour"===this.view&&0===a?!0===this.computedFormat24h?"00":"12":a;o.push({val:c,index:s,disable:l,label:u})}return o}},methods:{setNow:function(){this.__updateValue(nt()(nt()({},this.__getCurrentDate()),this.__getCurrentTime())),this.view="Hour"},__getValidValues:function(t,e,n){var i=Array.apply(null,{length:e+1}).map((function(e,i){var r=i+t;return{index:r,val:!0===n(r)}})).filter((function(t){return!0===t.val})).map((function(t){return t.index}));return{min:i[0],max:i[i.length-1],values:i,threshold:e+1}},__getWheelDist:function(t,e,n){var i=Math.abs(t-e);return Math.min(i,n-i)},__getNormalizedClockValue:function(t,e){var n=e.min,i=e.max,r=e.values,o=e.threshold;if(t===n)return n;if(t<n||t>i)return this.__getWheelDist(t,n,o)<=this.__getWheelDist(t,i,o)?n:i;var a=r.findIndex((function(e){return t<=e})),s=r[a-1],c=r[a];return t-s<=c-t?s:c},__getMask:function(){return"persian"!==this.calendar&&null!==this.mask?this.mask:"HH:mm".concat(!0===this.withSeconds?":ss":"")},__getDefaultDateModel:function(){if("string"!=typeof this.defaultDate){var t=this.__getCurrentDate(!0);return t.dateHash=this.__getDayHash(t),t}return Object(Ae.a)(this.defaultDate,"YYYY/MM/DD",void 0,this.calendar)},__click:function(t){!0!==this.__shouldAbortInteraction()&&(!0!==this.$q.platform.is.desktop&&this.__updateClock(t,this.__getClockRect()),this.__goToNextView())},__activate:function(t){!0!==this.__shouldAbortInteraction()&&this.__updateClock(t,this.__getClockRect())},__shouldAbortInteraction:function(){return!0===this._isBeingDestroyed||!0===this._isDestroyed||void 0!==this.viewValidOptions&&(0===this.viewValidOptions.values.length||"Hour"===this.view&&!0!==this.computedFormat24h&&0===this.validHours[!0===this.isAM?"am":"pm"].values.length)},__getClockRect:function(){var t=this.$refs.clock.getBoundingClientRect(),e=t.top,n=t.left,i=t.width/2;return{top:e+i,left:n+i,dist:.7*i}},__goToNextView:function(){"Hour"===this.view?this.view="Minute":this.withSeconds&&"Minute"===this.view&&(this.view="Second")},__drag:function(t){if(!0!==this.__shouldAbortInteraction()){if(!0===t.isFirst)return this.draggingClockRect=this.__getClockRect(),void(this.dragCache=this.__updateClock(t.evt,this.draggingClockRect));this.dragCache=this.__updateClock(t.evt,this.draggingClockRect,this.dragCache),!0===t.isFinal&&(this.draggingClockRect=!1,this.dragCache=null,this.__goToNextView())}},__updateClock:function(t,e,n){var i,r=Object(ht.h)(t),o=Math.abs(r.top-e.top),a=Math.sqrt(Math.pow(Math.abs(r.top-e.top),2)+Math.pow(Math.abs(r.left-e.left),2)),s=Math.asin(o/a)*(180/Math.PI);if(s=r.top<e.top?e.left<r.left?90-s:270+s:e.left<r.left?s+90:270-s,"Hour"===this.view){if(i=s/30,void 0!==this.validHours){var c=!0!==this.computedFormat24h?!0===this.isAM:this.validHours.am.values.length>0&&this.validHours.pm.values.length>0?a>=e.dist:this.validHours.am.values.length>0;i=this.__getNormalizedClockValue(i+(!0===c?0:12),this.validHours[!0===c?"am":"pm"])}else i=Math.round(i),!0===this.computedFormat24h?a<e.dist?i<12&&(i+=12):12===i&&(i=0):!0===this.isAM&&12===i?i=0:!1===this.isAM&&12!==i&&(i+=12);!0===this.computedFormat24h&&(this.isAM=i<12)}else i=Math.round(s/6)%60,"Minute"===this.view&&void 0!==this.validMinutes?i=this.__getNormalizedClockValue(i,this.validMinutes):"Second"===this.view&&void 0!==this.validSeconds&&(i=this.__getNormalizedClockValue(i,this.validSeconds));return n!==i&&this["__set".concat(this.view)](i),i},__onKeyupHour:function(t){if(13===t.keyCode)this.view="Hour";else if([37,39].includes(t.keyCode)){var e=37===t.keyCode?-1:1;if(void 0!==this.validHours){var n=!0===this.computedFormat24h?this.validHours.values:this.validHours[!0===this.isAM?"am":"pm"].values;if(0===n.length)return;if(null===this.innerModel.hour)this.__setHour(n[0]);else{var i=(n.length+n.indexOf(this.innerModel.hour)+e)%n.length;this.__setHour(n[i])}}else{var r=!0===this.computedFormat24h?24:12,o=!0!==this.computedFormat24h&&!1===this.isAM?12:0,a=null===this.innerModel.hour?-e:this.innerModel.hour;this.__setHour(o+(24+a+e)%r)}}},__onKeyupMinute:function(t){if(13===t.keyCode)this.view="Minute";else if([37,39].includes(t.keyCode)){var e=37===t.keyCode?-1:1;if(void 0!==this.validMinutes){var n=this.validMinutes.values;if(0===n.length)return;if(null===this.innerModel.minute)this.__setMinute(n[0]);else{var i=(n.length+n.indexOf(this.innerModel.minute)+e)%n.length;this.__setMinute(n[i])}}else{var r=null===this.innerModel.minute?-e:this.innerModel.minute;this.__setMinute((60+r+e)%60)}}},__onKeyupSecond:function(t){if(13===t.keyCode)this.view="Second";else if([37,39].includes(t.keyCode)){var e=37===t.keyCode?-1:1;if(void 0!==this.validSeconds){var n=this.validSeconds.values;if(0===n.length)return;if(null===this.innerModel.seconds)this.__setSecond(n[0]);else{var i=(n.length+n.indexOf(this.innerModel.second)+e)%n.length;this.__setSecond(n[i])}}else{var r=null===this.innerModel.second?-e:this.innerModel.second;this.__setSecond((60+r+e)%60)}}},__getHeader:function(t){var e=this,n=[t("div",{staticClass:"q-time__link",class:"Hour"===this.view?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"vH",{click:function(){e.view="Hour"},keyup:this.__onKeyupHour})},[this.stringModel.hour]),t("div",[":"]),t("div",!0===this.minLink?{staticClass:"q-time__link",class:"Minute"===this.view?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"vM",{click:function(){e.view="Minute"},keyup:this.__onKeyupMinute})}:{staticClass:"q-time__link"},[this.stringModel.minute])];return!0===this.withSeconds&&n.push(t("div",[":"]),t("div",!0===this.secLink?{staticClass:"q-time__link",class:"Second"===this.view?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"vS",{click:function(){e.view="Second"},keyup:this.__onKeyupSecond})}:{staticClass:"q-time__link"},[this.stringModel.second])),t("div",{staticClass:"q-time__header flex flex-center no-wrap",class:this.headerClass},[t("div",{staticClass:"q-time__header-label row items-center no-wrap",attrs:{dir:"ltr"}},n),!1===this.computedFormat24h?t("div",{staticClass:"q-time__header-ampm column items-between no-wrap"},[t("div",{staticClass:"q-time__link",class:!0===this.isAM?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"AM",{click:this.__setAm,keyup:function(t){13===t.keyCode&&e.__setAm()}})},["AM"]),t("div",{staticClass:"q-time__link",class:!0!==this.isAM?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Object(xe.b)(this,"PM",{click:this.__setPm,keyup:function(t){13===t.keyCode&&e.__setPm()}})},["PM"])]):null])},__getClock:function(t){var e=this,n=this.view.toLowerCase(),i=this.innerModel[n];return t("div",{staticClass:"q-time__content col relative-position"},[t("transition",{props:{name:"q-transition--scale"}},[t("div",{key:"clock"+this.view,staticClass:"q-time__container-parent absolute-full"},[t("div",{ref:"clock",staticClass:"q-time__container-child fit overflow-hidden"},[t("div",{staticClass:"q-time__clock cursor-pointer non-selectable",on:Object(xe.b)(this,"click",{click:this.__click,mousedown:this.__activate}),directives:Object(xe.b)(this,"touch",[{name:"touch-pan",value:this.__drag,modifiers:{stop:!0,prevent:!0,mouse:!0}}])},[t("div",{staticClass:"q-time__clock-circle fit"},[t("div",{staticClass:"q-time__clock-pointer",style:this.pointerStyle,class:null===this.innerModel[n]?"hidden":void 0!==this.color?"text-".concat(this.color):""}),this.positions.map((function(n){return t("div",{staticClass:"q-time__clock-position row flex-center q-time__clock-pos-".concat(n.index),class:n.val===i?e.headerClass.concat(" q-time__clock-position--active"):!0===n.disable?"q-time__clock-position--disable":null},[t("span",[n.label])])}))])])])])]),!0===this.nowBtn?t(Tt.a,{staticClass:"q-time__now-button absolute",props:{icon:this.$q.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:this.color,textColor:this.textColor,tabindex:this.computedTabindex},on:Object(xe.b)(this,"now",{click:this.setNow})}):null])},__setHour:function(t){this.innerModel.hour!==t&&(this.innerModel.hour=t,this.innerModel.minute=null,this.innerModel.second=null)},__setMinute:function(t){this.innerModel.minute!==t&&(this.innerModel.minute=t,this.innerModel.second=null,!0!==this.withSeconds&&this.__updateValue({minute:t}))},__setSecond:function(t){this.innerModel.second!==t&&this.__updateValue({second:t})},__setAm:function(){!1===this.isAM&&(this.isAM=!0,null!==this.innerModel.hour&&(this.innerModel.hour-=12,this.__verifyAndUpdate()))},__setPm:function(){!0===this.isAM&&(this.isAM=!1,null!==this.innerModel.hour&&(this.innerModel.hour+=12,this.__verifyAndUpdate()))},__verifyAndUpdate:function(){return void 0!==this.hourInSelection&&!0!==this.hourInSelection(this.innerModel.hour)?(this.innerModel=Object(Ae.a)(),void(this.view="Hour")):void 0!==this.minuteInSelection&&!0!==this.minuteInSelection(this.innerModel.minute)?(this.innerModel.minute=null,this.innerModel.second=null,void(this.view="Minute")):!0===this.withSeconds&&void 0!==this.secondInSelection&&!0!==this.secondInSelection(this.innerModel.second)?(this.innerModel.second=null,void(this.view="Second")):void(null===this.innerModel.hour||null===this.innerModel.minute||!0===this.withSeconds&&null===this.innerModel.second||this.__updateValue())},__updateValue:function(t){var e=Object.assign(nt()({},this.innerModel),t),n="persian"===this.calendar?Object(we.f)(e.hour)+":"+Object(we.f)(e.minute)+(!0===this.withSeconds?":"+Object(we.f)(e.second):""):Object(Ae.c)(new Date(e.year,null===e.month?null:e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),this.computedMask,this.computedLocale,e.year,e.timezoneOffset);e.changed=n!==this.value,this.$emit("input",n,e)}},render:function(t){var e=[this.__getClock(t)],n=Object(st.c)(this,"default");return void 0!==n&&e.push(t("div",{staticClass:"q-time__actions"},n)),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(e,"push"),t("div",{class:this.classes,on:nt()({},this.qListeners),attrs:{tabindex:-1}},[this.__getHeader(t),t("div",{staticClass:"q-time__main col overflow-auto"},e)])}}),Pe=n("7f67"),Ne=Object(h.a)(me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{attrs:{placeholder:t.hint||t.dateMask,color:"colorAccent",dark:t.isDarkMode,readonly:"",dense:"",outlined:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event",color:"textColorSecondary"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{"before-show":t.onUpdateProxy}},[n("q-date",{staticClass:"bg-colorContext",style:t.getAppDateDialogStyle,attrs:{"today-btn":"","text-color":"textColorOnSurface",color:"colorAccent",mask:t.dateMask,dark:t.isDarkMode},model:{value:t.proxyDate,callback:function(e){t.proxyDate=e},expression:"proxyDate"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:t.$t("menu_cancel"),color:"colorAccent",flat:""}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:t.$t("button_apply"),color:"colorAccent",flat:""},on:{click:t.onUpdateDate}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time",color:"textColorSecondary"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{"before-show":t.onUpdateProxy}},[n("q-time",{staticClass:"bg-colorContext",style:t.getAppDateDialogStyle,attrs:{"text-color":"textColorOnSurface","now-btn":"",color:"colorAccent",mask:t.dateMask,dark:t.isDarkMode},model:{value:t.proxyDate,callback:function(e){t.proxyDate=e},expression:"proxyDate"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:t.$t("menu_cancel"),color:"colorAccent",flat:""}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:t.$t("button_apply"),color:"colorAccent",flat:""},on:{click:t.onUpdateTime}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.dateTimeString,callback:function(e){t.dateTimeString=e},expression:"dateTimeString"}})}),[],!1,null,null,null),Be=Ne.exports;g()(Ne,"components",{QInput:Ct.a,QIcon:B.a,QPopupProxy:_e,QDate:Le,QBtn:Tt.a,QTime:Oe,QMenu:ve.a}),g()(Ne,"directives",{ClosePopup:Pe.a});var Me={name:"PublicLinkTime",components:{DateTimeView:Be},props:["timeValueLabel","timeModel","hasSeconds"],data:function(){return{timeValueOption:this.getInitialOption(),timeValueOptions:this.getOptions(),timeValue:this.getInitialTimeValue(),dateTime:this.getInitialDateValue(),dateMask:"YYYY-MM-DD HH:mm",dateMaskPattern:"####-##-## ##:##"}},watch:{dateTime:function(t){t&&this.updateTimeValue(t,null)},timeValue:function(t){t&&this.updateTimeValue(null,t)},timeValueOption:function(t){t&&this.timeValue&&this.updateTimeValue(null,this.timeValue)}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppPopupMenuStyle:function(){return this.$store.getters.getAppPopupMenuStyle},getLabelClass:function(){return this.$q.screen.lt.sm?"col-12 text-textColorSecondary":"col-3 text-textColorSecondary"}},methods:{getInitialDateValue:function(){return this.timeModel.valueAsDate},getInitialTimeValue:function(){var t=this.timeModel.valueAsMillis;if(t)for(var e=this.getOptions(),n=e.length-1;n>=0;n--)if(t%e[n].value==0)return t/e[n].value;return null},getInitialOption:function(){var t=this.timeModel.valueAsMillis;if(t)for(var e=this.getOptions(),n=e.length-1;n>=0;n--)if(t%e[n].value==0)return e[n];return{label:this.$t("public_note_link_time_type_hours"),value:36e5}},getOptions:function(){var t=[];return this.hasSeconds&&t.push({label:this.$t("public_note_link_time_type_seconds"),value:1e3}),t.push.apply(t,[{label:this.$t("public_note_link_time_type_minutes"),value:6e4},{label:this.$t("public_note_link_time_type_hours"),value:36e5},{label:this.$t("public_note_link_time_type_days"),value:864e5}]),t},updateTimeValue:function(t,e){l.a.isDate(t)?this.timeModel.valueAsDate=t:this.timeModel.valueAsDate=null,this.timeModel.valueAsMillis=e?e*this.timeValueOption.value:null}}},qe=n("ddd8"),Ue=Object(h.a)(Me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column q-gutter-y-sm"},[n("div",{staticClass:"row items-center q-gutter-x-md"},[n("div",{class:t.getLabelClass},[t._v(t._s(this.timeValueLabel))]),n("q-input",{staticClass:"col",attrs:{dark:t.isDarkMode,color:"colorAccent",placeholder:0,mask:"#####",outlined:"",dense:""},model:{value:t.timeValue,callback:function(e){t.timeValue=e},expression:"timeValue"}}),n("q-select",{staticClass:"col-4",attrs:{"options-selected-class":"text-colorAccent","popup-content-style":t.getAppPopupMenuStyle,"popup-content-class":"bg-colorDialog",options:t.timeValueOptions,"dropdown-icon":"expand_more",color:"colorAccent","option-label":"label",dark:t.isDarkMode,outlined:"",dense:""},model:{value:t.timeValueOption,callback:function(e){t.timeValueOption=e},expression:"timeValueOption"}})],1),n("div",{staticClass:"text-body1 text-textColorSecondary q-py-none text-bold text-uppercase"},[t._v("\n    "+t._s(this.$t("public_note_link_time_or"))+"\n  ")]),n("div",{staticClass:"row q-mb-sm items-center q-gutter-x-md"},[n("div",{class:t.getLabelClass},[t._v(t._s(this.$t("public_note_link_time_label")))]),n("DateTimeView",{staticClass:"col",model:{value:t.dateTime,callback:function(e){t.dateTime=e},expression:"dateTime"}})],1)])}),[],!1,null,null,null),$e=Ue.exports;g()(Ue,"components",{QInput:Ct.a,QSelect:qe.a});var je={name:"PublicLinkTimeToExpire",components:{PublicLinkEditDialog:ue,PublicLinkActionButton:ie,PublicLinkTime:$e},props:["publicLink","onUpdateLink"],data:function(){return{showDialog:null,timeModel:{valueAsDate:null,valueAsMillis:null}}},computed:{isActive:function(){return this.publicLink.expiresAtDate||this.publicLink.expiresInMillis}},methods:{onShowDialog:function(){this.timeModel.valueAsMillis=this.publicLink.expiresInMillis,this.timeModel.valueAsDate=this.publicLink.expiresAtDate,this.showDialog=!0},onCloseDialog:function(){this.showDialog=!1},onApply:function(){this.publicLink.expiresInMillis=this.timeModel.valueAsMillis,this.publicLink.expiresAtDate=this.timeModel.valueAsDate,l.a.execFunction(this.onUpdateLink),this.onCloseDialog()},onCancel:function(){this.onCloseDialog()}}},Ve=Object(h.a)(je,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PublicLinkActionButton",{attrs:{"label-res":"public_note_link_time_to_expire","on-click":t.onShowDialog,"is-active":t.isActive,icon:"timer"}},[t.showDialog?n("PublicLinkEditDialog",{attrs:{icon:"timer","title-res":"public_note_link_time_to_expire","description-res":"public_note_link_time_to_expire_description","on-cancel":t.onCancel,"on-apply":t.onApply},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("PublicLinkTime",{attrs:{"time-model":t.timeModel,"time-value-label":this.$t("public_note_link_time_to_expire_label"),"has-seconds":!0}})],1):t._e()],1)}),[],!1,null,null,null).exports,He={name:"PublicLinkAccessTime",components:{PublicLinkActionButton:ie,PublicLinkEditDialog:ue,PublicLinkTime:$e},props:["publicLink","onUpdateLink"],data:function(){return{showDialog:null,timeModel:{valueAsDate:null,valueAsMillis:null}}},computed:{isActive:function(){return this.publicLink.postponeAtDate||this.publicLink.postponeInMillis}},methods:{onShowDialog:function(){this.timeModel.valueAsMillis=this.publicLink.postponeInMillis,this.timeModel.valueAsDate=this.publicLink.postponeAtDate,this.showDialog=!0},onCloseDialog:function(){this.showDialog=!1},onApply:function(){this.publicLink.postponeInMillis=this.timeModel.valueAsMillis,this.publicLink.postponeAtDate=this.timeModel.valueAsDate,l.a.execFunction(this.onUpdateLink),this.onCloseDialog()},onCancel:function(){this.onCloseDialog()}}},ze=Object(h.a)(He,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PublicLinkActionButton",{attrs:{"label-res":"public_note_link_access_time","is-active":t.isActive,"on-click":t.onShowDialog,icon:"access_time"}},[t.showDialog?n("PublicLinkEditDialog",{attrs:{icon:"access_time","title-res":"public_note_link_access_time","description-res":"public_note_link_access_time_description","on-cancel":t.onCancel,"on-apply":t.onApply},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("PublicLinkTime",{attrs:{"time-model":t.timeModel,"time-value-label":this.$t("public_note_link_access_time_label"),"has-seconds":!0}})],1):t._e()],1)}),[],!1,null,null,null).exports,We=n("533d"),Ke={name:"PublicLinkPassword",components:{PublicLinkEditDialog:ue,PublicLinkActionButton:ie},props:["publicLink","onUpdateLink"],data:function(){return{showDialog:null,password:null,isPwd:!0}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},isActive:function(){return this.publicLink.locked}},methods:{onShowDialog:function(){this.password=null,this.showDialog=!0},onCloseDialog:function(){this.showDialog=!1},onApply:function(){var t=this.password,e=this.publicLink;t&&t.length>0?(e.password=We.a.sha256Text(t),e.locked=!0):(e.password=null,e.locked=!1),l.a.execFunction(this.onUpdateLink),this.onCloseDialog()},onCancel:function(){this.onCloseDialog()}}},Ge=Object(h.a)(Ke,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PublicLinkActionButton",{attrs:{"label-res":"public_note_link_access_password","on-click":t.onShowDialog,"is-active":t.isActive,icon:"lock"}},[t.showDialog?n("PublicLinkEditDialog",{attrs:{icon:"lock","title-res":"public_note_link_access_password","description-res":"public_note_link_access_password_description","on-cancel":t.onCancel,"on-apply":t.onApply},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("q-input",{attrs:{dense:"",color:"colorAccent",type:t.isPwd?"password":"text",placeholder:this.$t("public_note_link_access_password_placeholder"),dark:t.isDarkMode},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility",color:"textColorSecondary"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!1,3475459375),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("q-input",{staticClass:"q-mt-md",attrs:{dense:"",autogrow:"",color:"colorAccent",placeholder:this.$t("public_note_link_access_password_hint"),dark:t.isDarkMode},model:{value:t.publicLink.passwordClue,callback:function(e){t.$set(t.publicLink,"passwordClue",e)},expression:"publicLink.passwordClue"}})],1):t._e()],1)}),[],!1,null,null,null),Qe=Ge.exports;g()(Ge,"components",{QInput:Ct.a,QIcon:B.a});var Ye={name:"PublicLinkBlock",props:["value","title"],components:{PublicLinkOneTimeOpening:fe,PublicLinkTimeToExpire:Ve,PublicLinkAccessTime:ze,PublicLinkPassword:Qe},data:function(){return{publicLink:Jt.a.newInstance(this.value)}},watch:{value:function(t){this.publicLink=Jt.a.newInstance(t)}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getRowClass:function(){return this.$q.screen.lt.sm?"row justify-center q-mx-sm":"row justify-center"},getAppCardStyle:function(){return this.$store.getters.getAppCardStyle},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},hasPublicLink:function(){return this.publicLink.hasLink()},getLink:function(){return this.publicLink.link},getClip:function(){return this.$store.getters.getSelectedClip},getAppearance:function(){return this.publicLink.getAppearance()}},methods:{onSaveLink:function(){var t=this.getClip,e=this.publicLink;l.a.isNull(e.firestoreId)&&!l.a.isNull(t)&&(e.firestoreId=t.firestoreId,e.title=t.title,e.legacy=!0),this.$store.dispatch(s.a.onSavePublicLink,{publicLink:e})},onUpdateLink:function(){this.publicLink=Jt.a.newInstance(this.publicLink),this.hasPublicLink&&this.onSaveLink()},onRemoveLink:function(){var t=this.getClip,e=this.publicLink,n=e.legacy,i=e.uid;l.a.isNull(i)&&!l.a.isNull(t)&&(i=t.firestoreId,n=!0),this.$store.dispatch(s.a.onRemovePublicLink,{legacy:n,id:i})},onCopyLink:function(){te.a.onCopyText(this.getLink,this)}}},Xe=n("3b73"),Ze=it.default.extend({name:"QBadge",mixins:[at.a],props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:function(t){return["top","middle","bottom"].includes(t)}}},computed:{style:function(){if(void 0!==this.align)return{verticalAlign:this.align}},classes:function(){var t=!0===this.outline&&this.color||this.textColor;return"q-badge flex inline items-center no-wrap"+" q-badge--".concat(!0===this.multiLine?"multi":"single","-line")+(!0===this.outline?" q-badge--outline":void 0!==this.color?" bg-".concat(this.color):"")+(void 0!==t?" text-".concat(t):"")+(!0===this.floating?" q-badge--floating":"")+(!0===this.rounded?" q-badge--rounded":"")+(!0===this.transparent?" q-badge--transparent":"")},attrs:function(){return{role:"alert","aria-label":this.label}}},render:function(t){return t("div",{style:this.style,class:this.classes,attrs:this.attrs,on:nt()({},this.qListeners)},void 0!==this.label?[this.label]:Object(st.c)(this,"default"))}}),Je=n("3980"),tn=Object(h.a)(Ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",{staticClass:"bg-colorDialog rounded-borders q-mx-md",style:t.getAppCardStyle,attrs:{bordered:"",dark:t.isDarkMode}},[n("q-expansion-item",{scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",[n("div",{staticClass:"row items-center text-textColorPrimary"},[t._v("\n          "+t._s(t.$t("public_note_link_title"))+"\n          "),t.getAppearance?n("q-badge",{staticClass:"vertical-middle q-mx-sm",staticStyle:{height:"16px"},attrs:{color:t.getAppearance.iconColor,"text-color":"white",transparent:""}},[n("q-icon",{attrs:{name:t.getAppearance.icon,color:"white",size:"14px"}})],1):t._e()],1)])]},proxy:!0}])},[n("q-card",{staticClass:"column bg-colorDialog q-pa-none q-mb-sm",attrs:{dark:t.isDarkMode,flat:""}},[n("q-card-section",{staticClass:"q-pa-sm"},[n("div",{class:t.getRowClass},[n("PublicLinkAccessTime",{attrs:{"public-link":t.publicLink,"on-update-link":t.onUpdateLink}}),n("PublicLinkPassword",{attrs:{"public-link":t.publicLink,"on-update-link":t.onUpdateLink}})],1),n("div",{class:t.getRowClass},[n("PublicLinkTimeToExpire",{attrs:{"public-link":t.publicLink,"on-update-link":t.onUpdateLink}}),n("PublicLinkOneTimeOpening",{attrs:{"public-link":t.publicLink,"on-update-link":t.onUpdateLink}})],1)]),t.hasPublicLink?n("q-card-section",{staticClass:"text-center text-no-wrap q-pb-none row justify-center"},[n("a",{staticClass:"col-11 text-colorAccent ellipsis",staticStyle:{"max-width":"200px"},attrs:{href:t.getLink,target:"_blank"}},[t._v(t._s(this.getLink))]),n("q-btn",{staticClass:"col-1",attrs:{icon:"content_copy",color:"textColorSecondary",size:"10px",rounded:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onCopyLink(e)}}})],1):t._e(),n("q-card-section",{staticClass:"row text-center justify-center q-pb-none"},[t.hasPublicLink?n("q-btn",{staticClass:"q-px-sm q-mb-md fit",style:t.getAppButtonStyle,attrs:{"text-color":"textColorSecondary",color:"textColorSecondary",label:this.$t("public_note_link_action_remove"),outline:"","no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onRemoveLink(e)}}}):n("q-btn",{staticClass:"q-px-sm q-mb-md fit",style:t.getAppButtonStyle,attrs:{"text-color":"textColorOnSurface",color:"colorAccent",label:this.$t("public_note_link_action_create"),unelevated:"","no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onSaveLink(e)}}})],1)],1)],1),n("q-resize-observer")],1)}),[],!1,null,null,null),en=tn.exports;g()(tn,"components",{QList:rt.a,QExpansionItem:Xe.a,QItemSection:N.a,QBadge:Ze,QIcon:B.a,QCard:ae.a,QCardSection:se.a,QBtn:Tt.a,QResizeObserver:Je.a});var nn={name:"HeaderBlock"},rn=Object(h.a)(nn,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"row items-center text-textColorPrimary q-mx-md"},[this._t("default")],2)}),[],!1,null,null,null).exports,on={name:"ClipDetailsPageGeneral",components:{SeparatorBlock:zt,ChipsRowBlock:Zt,PublicLinkBlock:en,ActionButton:I.a,HeaderBlock:rn},data:function(){return{}},computed:{getStarIconData:function(){return this.getClip.getStarIconData()},isAuthorized:function(){return this.$store.getters.isAuthorized},isDeleted:function(){return this.getClip.isDeleted()},isNew:function(){return this.getClip.isNew()},isSynced:function(){return this.getClip.isSynced()},isSharable:function(){return this.isAuthorized&&this.isSynced&&this.$store.getters.remoteConfigCanCreatePublicLinks},hasText:function(){return!l.a.isNullOrBlank(this.getClip.text)},getSettings:function(){return this.$store.getters.getSettings},getClip:function(){return this.$store.getters.getSelectedClip},getTextType:function(){return this.getClip.getTextType()},getTextTypeOptions:function(){var t=this,e=this.getTextType;return Dt.a.values.map((function(n){return{id:n.id,icon:n.iconRes,label:t.$t(n.labelRes),checked:n.id===e.id}}))},getCreateTitle:function(){return Pt(this)},getCreateValue:function(){return Nt(this.getClip)},getUpdateTitle:function(){return Bt(this)},getUpdateValue:function(){return Mt(this.getClip)},getUsageCountTitle:function(){return qt(this)},getUsageCountValue:function(){return Ut(this.getClip)},getCharsCountTitle:function(){return Ft(this)},getCharsCountValue:function(){return Ot(this.getClip)}},methods:{onDelete:function(){this.$store.dispatch(s.a.onDeleteSelectedClips,{clips:[this.getClip]})},onPrint:function(){this.$store.dispatch(s.a.onPrintClip,this.getClip)},onStar:function(){var t=this.getClip;t.setStarred(!t.isStarred())},onTextTypeChanged:function(t){yt.a.debug("onTextTypeChanged",t),this.getClip.setTextType(t.id)}}},an=Object(h.a)(on,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column q-mb-md"},[n("q-toolbar",{staticClass:"q-pl-md"},[n("div",{staticClass:"text-no-wrap"},[n("div",{staticClass:"text-textColorPrimary text-caption"},[t._v(t._s(t.getCreateValue))]),n("div",{staticClass:"text-textColorSecondary text-caption"},[t._v(t._s(t.getCreateTitle))])]),n("q-space",{staticClass:"q-mx-lg"}),n("ActionButton",{attrs:{"tooltip-label-res":"desktop_shortcuts_notePrint","on-click":t.onPrint,icon:"print"}}),n("ActionButton",{attrs:{icon:t.getStarIconData.icon,"button-class":t.getStarIconData.iconClass,"tooltip-label-res":"menu_fav","on-click":t.onStar}}),t.isDeleted||t.isNew?t._e():n("ActionButton",{attrs:{"tooltip-label-res":"menu_delete","on-click":t.onDelete,icon:"delete"}}),t.isDeleted?n("ActionButton",{attrs:{"tooltip-label-res":"desktop_shortcuts_noteDelete","on-click":t.onDelete,icon:"delete_forever"}}):t._e()],1),n("SeparatorBlock"),n("div",{staticClass:"row items-center q-col-gutter-lg q-px-md q-py-sm"},[n("div",{staticClass:"col-4 text-left text-no-wrap"},[n("div",{staticClass:"text-textColorPrimary text-caption"},[t._v(t._s(t.getUpdateValue))]),n("div",{staticClass:"text-textColorSecondary text-caption"},[t._v(t._s(t.getUpdateTitle))])]),n("div",{staticClass:"col-4 text-center text-no-wrap"},[n("div",{staticClass:"text-textColorPrimary text-caption"},[t._v(t._s(t.getUsageCountValue))]),n("div",{staticClass:"text-textColorSecondary text-caption"},[t._v(t._s(t.getUsageCountTitle))])]),n("div",{staticClass:"col-4 text-right text-no-wrap"},[n("div",{staticClass:"text-textColorPrimary text-caption"},[t._v(t._s(t.getCharsCountValue))]),n("div",{staticClass:"text-textColorSecondary text-caption"},[t._v(t._s(t.getCharsCountTitle))])])]),n("SeparatorBlock"),n("HeaderBlock",{staticClass:"q-mt-md q-mb-sm"},[t._v(t._s(t.$t("text_config_type")))]),n("ChipsRowBlock",{attrs:{options:t.getTextTypeOptions,"on-clicked":t.onTextTypeChanged}}),t.isSharable?n("PublicLinkBlock",{staticClass:"q-mt-lg",model:{value:t.getClip.publicLink,callback:function(e){t.$set(t.getClip,"publicLink",e)},expression:"getClip.publicLink"}}):t._e()],1)}),[],!1,null,null,null),sn=an.exports;g()(an,"components",{QToolbar:A.a,QSpace:D.a});var cn=n("448a"),ln=n.n(cn),un=n("6f2e"),dn={name:"OutlinedButton",props:["title","titleRes","onClicked","onLongClicked","dense"],methods:{onClick:function(){l.a.execFunction(this.onClicked)},onLongClick:function(){l.a.execFunction(this.onLongClicked)}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getTitle:function(){return this.title||this.$t(this.titleRes)}}},hn=Object(h.a)(dn,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-btn",{staticClass:"q-mx-md",style:t.getAppButtonStyle,attrs:{"no-caps":"",outline:"",dense:t.dense,label:t.getTitle,color:"textColorSecondary","text-color":"textColorSecondary"},on:{click:[function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.onLongClick(e):null},function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onClick(e)}]}})}),[],!1,null,null,null),pn=hn.exports;g()(hn,"components",{QBtn:Tt.a});var fn={ONE:{id:"one",action:"onFirstButtonClick"},TWO:{id:"two",action:"onSecondButtonClick"},THREE:{id:"three",action:"onThirdButtonClick"}};fn.byIndex={0:fn.ONE,1:fn.TWO,2:fn.THREE};var gn={name:"ButtonsToggleBlock",props:["firstButtonTextRes","secondButtonTextRes","thirdButtonTextRes","onFirstButtonClick","onSecondButtonClick","onThirdButtonClick","selectedButtonIndex"],data:function(){return{selectedButtonModel:fn.byIndex[this.selectedButtonIndex].id}},watch:{selectedButtonModel:function(t){for(var e=0,n=Object.keys(fn);e<n.length;e++){var i=n[e];if(fn[i].id===t){var r=this[fn[i].action];l.a.execFunction(r);break}}}},computed:{getTheme:function(){return this.$store.getters.getSelectedTheme},getOptions:function(){var t=[{value:"one",slot:"one"},{value:"two",slot:"two"}];return this.thirdButtonTextRes&&t.push({value:"three",slot:"three"}),t},getAppButtonToggleStyle:function(){return this.$store.getters.getAppButtonToggleStyle}}},mn=n("e7a9"),vn=n("3d69"),yn=it.default.extend({name:"QBtnToggle",mixins:[at.a,vn.a,Te.b],props:{value:{required:!0},options:{type:Array,required:!0,validator:function(t){return t.every((function(t){return("label"in t||"icon"in t||"slot"in t)&&"value"in t}))}},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean},computed:{hasActiveValue:function(){var t=this;return void 0!==this.options.find((function(e){return e.value===t.value}))},formAttrs:function(){return{type:"hidden",name:this.name,value:this.value}},btnOptions:function(){var t=this,e=function(e,n){return void 0===e[n]?t[n]:e[n]};return this.options.map((function(n,i){return{slot:n.slot,options:{key:i,class:n.class,style:n.style,on:nt()(nt()({},t.qListeners),{},{click:function(e){return t.__set(n.value,n,e)}}),attrs:n.attrs,props:nt()(nt()({},n),{},{slot:void 0,class:void 0,style:void 0,value:void 0,attrs:void 0,outline:t.outline,flat:t.flat,rounded:t.rounded,push:t.push,unelevated:t.unelevated,dense:t.dense,disable:!0===t.disable||!0===n.disable,color:n.value===t.value?e(n,"toggleColor"):e(n,"color"),textColor:n.value===t.value?e(n,"toggleTextColor"):e(n,"textColor"),noCaps:!0===e(n,"noCaps"),noWrap:!0===e(n,"noWrap"),size:e(n,"size"),padding:e(n,"padding"),ripple:e(n,"ripple"),stack:!0===e(n,"stack"),stretch:!0===e(n,"stretch")})}}}))}},methods:{__set:function(t,e,n){!0!==this.readonly&&(this.value===t?!0===this.clearable&&(this.$emit("input",null,null),this.$emit("clear")):this.$emit("input",t,e),this.$emit("click",n))}},render:function(t){var e=this,n=this.btnOptions.map((function(n){return t(Tt.a,nt()({},n.options),void 0!==n.slot?Object(st.c)(e,n.slot):void 0)}));return void 0!==this.name&&!0!==this.disable&&!0===this.hasActiveValue&&this.__injectFormInput(n,"push"),t(mn.a,{staticClass:"q-btn-toggle",props:{outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,stretch:this.stretch,unelevated:this.unelevated,glossy:this.glossy,spread:this.spread}},Object(st.a)(n,this,"default"))}}),_n=Object(h.a)(gn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn-toggle",{style:t.getAppButtonToggleStyle,attrs:{"toggle-text-color":"textColorOnSurface","text-color":"textColorSecondary","toggle-color":"colorAccent",options:t.getOptions,color:"transparent",unelevated:"",size:"12px","no-caps":"",dense:""},scopedSlots:t._u([{key:"one",fn:function(){return[n("div",{staticClass:"text-center q-px-sm"},[t._v("\n      "+t._s(t.$t(t.firstButtonTextRes))+"\n    ")])]},proxy:!0},{key:"two",fn:function(){return[n("div",{staticClass:"text-center q-px-sm"},[t._v("\n      "+t._s(t.$t(t.secondButtonTextRes))+"\n    ")])]},proxy:!0},{key:"three",fn:function(){return[n("div",{staticClass:"text-center q-px-sm"},[t._v("\n      "+t._s(t.$t(t.thirdButtonTextRes))+"\n    ")])]},proxy:!0}]),model:{value:t.selectedButtonModel,callback:function(e){t.selectedButtonModel=e},expression:"selectedButtonModel"}})}),[],!1,null,null,null),bn=_n.exports;g()(_n,"components",{QBtnToggle:yn});var Sn={name:"SelectOptionItem",props:["option","onClicked"],computed:{isChecked:function(){return this.option.checked},getIcon:function(){return this.option.icon},getIconStyle:function(){var t=this.$store.getters.getSelectedTheme,e=this.option.iconColor||j.a.getTextColorSecondary(t);return"color: ".concat(e,";")},getLabel:function(){return this.option.label},getLabelClass:function(){var t="ellipsis-2-lines text-textColorPrimary";return this.isChecked&&(t+=" text-bold"),t}},methods:{onOptionClicked:function(){var t=this.onClicked;this.option.checked=!this.option.checked,t&&t(this.option)}}},Cn=Object(h.a)(Sn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"text-body2",attrs:{clickable:""},on:{click:function(e){return e.stopPropagation(),t.onOptionClicked(e)}}},[n("q-item-section",{attrs:{side:""}},[t.getIcon?n("q-icon",{style:t.getIconStyle,attrs:{name:t.getIcon,size:"16px"}}):t._e()],1),n("q-item-section",[n("q-item-label",{class:t.getLabelClass},[t._v(t._s(t.getLabel))])],1),t.isChecked?n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"colorAccent",name:"done",size:"16px",round:"",dense:"",flat:""}})],1):t._e()],1)}),[],!1,null,null,null),Tn=Cn.exports;g()(Cn,"components",{QItem:P.a,QItemSection:N.a,QIcon:B.a,QItemLabel:M.a});var wn=n("25da"),In={name:"SelectOptionsBlock",components:{SelectOptionItem:Tn},props:["options","onClicked","sortByChecked"],computed:{getOptions:function(){var t=this.options;return this.sortByChecked&&Object(wn.a)(t).by({desc:function(t){return t.checked}}),t}}},En=Object(h.a)(In,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",{staticClass:"non-selectable overflow-hidden full-width",attrs:{dark:this.$store.getters.isDarkMode}},t._l(t.getOptions,(function(e){return n("SelectOptionItem",{key:e.id,attrs:{"on-clicked":t.onClicked,option:e}})})),1)}),[],!1,null,null,null),An=En.exports;g()(En,"components",{QList:rt.a});var xn=n("0d0a"),kn={name:"ClipDetailsPageAttributes",components:{ButtonsToggleBlock:bn,PrimaryButton:xn.a,SelectOptionsBlock:An,OutlinedButton:pn},data:function(){return{selectedTab:null,tabProviders:{TAGS:{index:0,actionRes:"tag_new_action",name:kt.TAGS.name,onOptionClicked:function(t,e){var n=ln()(t.getTagIds);l.a.arrayAddOrRemoveItem(n,e.id),t.getClip.setTagIds(n)},onCreateNew:function(t){t.$store.dispatch(s.a.onCreateNewTag)},getOptions:function(t){var e=t.getTagIds;return t.getFilters.getSortedTags().map((function(t){return{model:t,id:t.uid,label:t.name,iconColor:t.color,icon:un.a.TAG.getIconRes(t),checked:e.includes(t.uid)}}))}},KITS:{index:1,actionRes:"main_action_snippets_set_title",name:kt.SNIPPET_KITS.name,onOptionClicked:function(t,e){var n=ln()(t.getSnippetKitIds);l.a.arrayAddOrRemoveItem(n,e.id),t.getClip.setKitIds(n)},onCreateNew:function(t){t.$store.dispatch(s.a.onCreateNewSnippetKit)},getOptions:function(t){var e=t.getSnippetKitIds;return t.getFilters.getSortedSnippetKits().map((function(t){return{model:t,id:t.uid,label:t.name,iconColor:t.color,icon:un.a.SNIPPET_KIT.getIconRes(t),checked:e.includes(t.uid)}}))}}}}},computed:{getSettings:function(){return this.$store.getters.getSettings},getFilters:function(){return this.$store.getters.getFilters},hasOptions:function(){return l.a.arrayIsNotEmpty(this.getOptions)},getTabProvider:function(){var t=this.getSettings.clipDetailsTab;return this.selectedTab===this.tabProviders.KITS.name||t===this.tabProviders.KITS.name?this.tabProviders.KITS:this.tabProviders.TAGS},getActionLabelRes:function(){return this.getTabProvider.actionRes},getClipDetailsTab:function(){return kt},getClip:function(){return this.$store.getters.getSelectedClip},getTagIds:function(){return this.getClip.getTagIds()},getSnippetKitIds:function(){return this.getClip.getKitIds()},getOptions:function(){return this.getTabProvider.getOptions(this)}},methods:{onFirstTabClicked:function(){this.onTabClicked(this.getClipDetailsTab.TAGS)},onSecondTabClicked:function(){this.onTabClicked(this.getClipDetailsTab.SNIPPET_KITS)},onTabClicked:function(t){return this.selectedTab=t.name,this.getSettings.clipDetailsTab=t.name,this.$store.dispatch(s.a.onSaveSettings),t},onOptionClicked:function(t){this.getTabProvider.onOptionClicked(this,t)},onCreateNewOption:function(){this.getTabProvider.onCreateNew(this)}}},Dn=Object(h.a)(kn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column items-center q-mt-md"},[n("ButtonsToggleBlock",{attrs:{"selected-button-index":t.getTabProvider.index,"first-button-text-res":t.getClipDetailsTab.TAGS.labelRes,"second-button-text-res":t.getClipDetailsTab.SNIPPET_KITS.labelRes,"on-first-button-click":t.onFirstTabClicked,"on-second-button-click":t.onSecondTabClicked}}),n("SelectOptionsBlock",{staticClass:"q-mt-md",attrs:{options:t.getOptions,"sort-by-checked":!0,"on-clicked":t.onOptionClicked}}),n("div",{staticClass:"full-width q-pa-md"},[t.hasOptions?n("OutlinedButton",{staticClass:"full-width",attrs:{dense:!0,"title-res":t.getActionLabelRes,"on-clicked":t.onCreateNewOption}}):n("PrimaryButton",{staticClass:"full-width",attrs:{dense:!0,unelevated:!0,"title-res":t.getActionLabelRes,"on-clicked":t.onCreateNewOption}})],1)],1)}),[],!1,null,null,null).exports,Rn=n("78ef"),Ln=n("d1c6"),Fn={name:"UploaderView",props:["requestAddFiles","onFilesAdded","multiple"],watch:{requestAddFiles:function(t){if(t)if(this.isAuthorized){var e=this.$refs.filesUploader;e&&e.pickFiles()}else this.$store.dispatch(s.a.onStartAuthFlow,{confirmMessageRes:"account_description_required_authorization",confirmTitleRes:"account_title_required_authorization",confirmActionRes:"account_button_sign_in",confirmIconRes:"person",withConfirm:!0,withShift:!1})}},computed:{isAuthorized:function(){return this.$store.getters.isAuthorized},isDarkMode:function(){return this.$store.getters.isDarkMode},getAttachmentUploadLimit:function(){return this.$store.getters.remoteConfigAttachmentUploadLimit}},methods:{onAdded:function(t){this.onFilesAdded(t);var e=this.$refs.filesUploader;e&&t.forEach((function(t){return e.removeFile(t)}))}}},On=(n("2b3d"),n("9861"),n("b680"),n("2ca0"),n("58ea")),Pn=n("cc78"),Nn=it.default.extend({name:"QUploaderBase",mixins:[ot.a,Pn.b],props:{label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},provide:function(){return{__qUploaderGetInput:this.__getInputControl}},data:function(){return{files:[],queuedFiles:[],uploadedFiles:[],dnd:!1,expanded:!1,uploadSize:0,uploadedSize:0}},watch:{isUploading:function(t,e){!1===e&&!0===t?this.$emit("start"):!0===e&&!1===t&&this.$emit("finish")}},computed:{canUpload:function(){return!0===this.editable&&!0!==this.isBusy&&!0!==this.isUploading&&this.queuedFiles.length>0},canAddFiles:function(){return!0===this.editable&&!0!==this.isUploading&&(!0===this.multiple||0===this.queuedFiles.length)&&(void 0===this.maxFiles||this.files.length<this.maxFilesNumber)&&(void 0===this.maxTotalSize||this.uploadSize<this.maxTotalSizeNumber)},uploadProgress:function(){return 0===this.uploadSize?0:this.uploadedSize/this.uploadSize},uploadProgressLabel:function(){return this.__getProgressLabel(this.uploadProgress)},uploadedSizeLabel:function(){return Object(we.d)(this.uploadedSize)},uploadSizeLabel:function(){return Object(we.d)(this.uploadSize)},colorClass:function(){var t=[];return void 0!==this.color&&t.push("bg-".concat(this.color)),void 0!==this.textColor&&t.push("text-".concat(this.textColor)),t.join(" ")},editable:function(){return!0!==this.disable&&!0!==this.readonly}},methods:{reset:function(){this.disable||(this.abort(),this.uploadedSize=0,this.uploadSize=0,this.__revokeImgURLs(),this.files=[],this.queuedFiles=[],this.uploadedFiles=[])},removeUploadedFiles:function(){var t=this;this.__removeFiles(["uploaded"],(function(){t.uploadedFiles=[]}))},removeQueuedFiles:function(){var t=this;this.__removeFiles(["idle","failed"],(function(e){var n=e.size;t.uploadSize-=n,t.queuedFiles=[]}))},__removeFiles:function(t,e){if(!0!==this.disable){var n={files:[],size:0},i=this.files.filter((function(e){return-1===t.indexOf(e.__status)||(n.size+=e.size,n.files.push(e),void 0!==e._img&&window.URL.revokeObjectURL(e._img.src),!1)}));n.files.length>0&&(this.files=i,void 0!==e&&e(n),this.$emit("removed",n.files))}},removeFile:function(t){this.disable||("uploaded"===t.__status?this.uploadedFiles=this.uploadedFiles.filter((function(e){return e.name!==t.name})):"uploading"===t.__status?t.__abort():this.uploadSize-=t.size,this.files=this.files.filter((function(e){return e.name!==t.name||(void 0!==e._img&&window.URL.revokeObjectURL(e._img.src),!1)})),this.queuedFiles=this.queuedFiles.filter((function(e){return e.name!==t.name})),this.$emit("removed",[t]))},__revokeImgURLs:function(){this.files.forEach((function(t){void 0!==t._img&&window.URL.revokeObjectURL(t._img.src)}))},__getFileInput:function(){return this.$refs.input||this.$el.getElementsByClassName("q-uploader__input")[0]},__getProgressLabel:function(t){return(100*t).toFixed(2)+"%"},__updateFile:function(t,e,n){if(t.__status=e,"idle"===e)return t.__uploaded=0,t.__progress=0,t.__sizeLabel=Object(we.d)(t.size),void(t.__progressLabel="0.00%");"failed"!==e?(t.__uploaded="uploaded"===e?t.size:n,t.__progress="uploaded"===e?1:Math.min(.9999,t.__uploaded/t.size),t.__progressLabel=this.__getProgressLabel(t.__progress),this.$forceUpdate()):this.$forceUpdate()},__addFiles:function(t,e){var n=this,i=this.__processFiles(t,e,this.files,!0);if(void 0!==i){var r=i.filter((function(t){return-1===n.files.findIndex((function(e){return t.name===e.name}))}));if(void 0!==r){var o=this.__getFileInput();void 0!==o&&(o.value=""),r.forEach((function(t){if(n.__updateFile(t,"idle"),n.uploadSize+=t.size,!0!==n.noThumbnails&&t.type.toUpperCase().startsWith("IMAGE")){var e=new Image;e.src=window.URL.createObjectURL(t),t.__img=e}})),this.files=this.files.concat(r),this.queuedFiles=this.queuedFiles.concat(r),this.$emit("added",r),!0===this.autoUpload&&this.upload()}}},__getBtn:function(t,e,n,i){if(!0===e)return t(Tt.a,{props:{type:"a",icon:this.$q.iconSet.uploader[n],flat:!0,dense:!0},on:"add"===n?null:{click:i}},"add"===n?this.__getInputControl(t):null)},__getInputControl:function(t){return[t("input",{ref:"input",staticClass:"q-uploader__input overflow-hidden absolute-full",attrs:nt()({tabindex:-1,type:"file",title:"",accept:this.accept,capture:this.capture},!0===this.multiple?{multiple:!0}:{}),on:Object(xe.b)(this,"input",{mousedown:ht.k,change:this.__addFiles})})]},__getHeader:function(t){return void 0!==this.$scopedSlots.header?this.$scopedSlots.header(this):[t("div",{staticClass:"q-uploader__header-content flex flex-center no-wrap q-gutter-xs"},[this.__getBtn(t,this.queuedFiles.length>0,"removeQueue",this.removeQueuedFiles),this.__getBtn(t,this.uploadedFiles.length>0,"removeUploaded",this.removeUploadedFiles),!0===this.isUploading?t(Y.a,{staticClass:"q-uploader__spinner"}):null,t("div",{staticClass:"col column justify-center"},[void 0!==this.label?t("div",{staticClass:"q-uploader__title"},[this.label]):null,t("div",{staticClass:"q-uploader__subtitle"},[this.uploadSizeLabel+" / "+this.uploadProgressLabel])]),this.__getBtn(t,this.canAddFiles,"add",this.pickFiles),this.__getBtn(t,!1===this.hideUploadBtn&&!0===this.canUpload,"upload",this.upload),this.__getBtn(t,this.isUploading,"clear",this.abort)])]},__getList:function(t){var e=this;return void 0!==this.$scopedSlots.list?this.$scopedSlots.list(this):this.files.map((function(n){return t("div",{key:n.name,staticClass:"q-uploader__file relative-position",class:{"q-uploader__file--img":!0!==e.noThumbnails&&void 0!==n.__img,"q-uploader__file--failed":"failed"===n.__status,"q-uploader__file--uploaded":"uploaded"===n.__status},style:!0!==e.noThumbnails&&void 0!==n.__img?{backgroundImage:'url("'+n.__img.src+'")'}:null},[t("div",{staticClass:"q-uploader__file-header row flex-center no-wrap"},["failed"===n.__status?t(B.a,{staticClass:"q-uploader__file-status",props:{name:e.$q.iconSet.type.negative,color:"negative"}}):null,t("div",{staticClass:"q-uploader__file-header-content col"},[t("div",{staticClass:"q-uploader__title"},[n.name]),t("div",{staticClass:"q-uploader__subtitle row items-center no-wrap"},[n.__sizeLabel+" / "+n.__progressLabel])]),"uploading"===n.__status?t(On.a,{props:{value:n.__progress,min:0,max:1,indeterminate:0===n.__progress}}):t(Tt.a,{props:{round:!0,dense:!0,flat:!0,icon:e.$q.iconSet.uploader["uploaded"===n.__status?"done":"clear"]},on:{click:function(){e.removeFile(n)}}})])])}))}},beforeDestroy:function(){!0===this.isUploading&&this.abort(),this.files.length>0&&this.__revokeImgURLs()},render:function(t){var e=[t("div",{staticClass:"q-uploader__header",class:this.colorClass},this.__getHeader(t)),t("div",{staticClass:"q-uploader__list scroll"},this.__getList(t)),this.__getDnd(t,"uploader")];return!0===this.isBusy&&e.push(t("div",{staticClass:"q-uploader__overlay absolute-full flex flex-center"},[t(Y.a)])),t("div",{staticClass:"q-uploader column no-wrap",class:{"q-uploader--dark q-dark":this.isDark,"q-uploader--bordered":this.bordered,"q-uploader--square no-border-radius":this.square,"q-uploader--flat no-shadow":this.flat,"disabled q-uploader--disable":this.disable},on:!0===this.canAddFiles?Object(xe.b)(this,"drag",{dragover:this.__onDragOver}):null},e)}});function Bn(t){return"function"==typeof t?t:function(){return t}}var Mn={props:{url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:function(t){return t.name}},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},data:function(){return{xhrs:[],promises:[],workingThreads:0}},computed:{xhrProps:function(){return{url:Bn(this.url),method:Bn(this.method),headers:Bn(this.headers),formFields:Bn(this.formFields),fieldName:Bn(this.fieldName),withCredentials:Bn(this.withCredentials),sendRaw:Bn(this.sendRaw),batch:Bn(this.batch)}},isUploading:function(){return this.workingThreads>0},isBusy:function(){return this.promises.length>0}},methods:{abort:function(){this.xhrs.forEach((function(t){t.abort()})),this.promises.length>0&&(this.abortPromises=!0)},upload:function(){var t=this;if(!1!==this.canUpload){var e=this.queuedFiles.slice(0);this.queuedFiles=[],this.xhrProps.batch(e)?this.__runFactory(e):e.forEach((function(e){t.__runFactory([e])}))}},__runFactory:function(t){var e=this;if(this.workingThreads++,"function"==typeof this.factory){var n=this.factory(t);if(n)if("function"==typeof n.catch&&"function"==typeof n.then){this.promises.push(n);var i=function(i){!0!==e._isBeingDestroyed&&!0!==e._isDestroyed&&(e.promises=e.promises.filter((function(t){return t!==n})),0===e.promises.length&&(e.abortPromises=!1),e.queuedFiles=e.queuedFiles.concat(t),t.forEach((function(t){e.__updateFile(t,"failed")})),e.$emit("factory-failed",i,t),e.workingThreads--)};n.then((function(r){!0===e.abortPromises?i(new Error("Aborted")):!0!==e._isBeingDestroyed&&!0!==e._isDestroyed&&(e.promises=e.promises.filter((function(t){return t!==n})),e.__uploadFiles(t,r))})).catch(i)}else this.__uploadFiles(t,n||{});else this.$emit("factory-failed",new Error("QUploader: factory() does not return properly"),t),this.workingThreads--}else this.__uploadFiles(t,{})},__uploadFiles:function(t,e){var n=this,i=new FormData,r=new XMLHttpRequest,o=function(t,i){return void 0!==e[t]?Bn(e[t])(i):n.xhrProps[t](i)},a=o("url",t);if(!a)return console.error("q-uploader: invalid or no URL specified"),void this.workingThreads--;var s=o("formFields",t);void 0!==s&&s.forEach((function(t){i.append(t.name,t.value)}));var c,l=0,u=0,d=0,h=0;r.upload.addEventListener("progress",(function(e){if(!0!==c){var i=Math.min(h,e.loaded);n.uploadedSize+=i-d;for(var r=(d=i)-u,o=l;r>0&&o<t.length;o++){var a=t[o];if(!(r>a.size))return void n.__updateFile(a,"uploading",r);r-=a.size,l++,u+=a.size,n.__updateFile(a,"uploading",a.size)}}}),!1),r.onreadystatechange=function(){r.readyState<4||(r.status&&r.status<400?(n.uploadedFiles=n.uploadedFiles.concat(t),t.forEach((function(t){n.__updateFile(t,"uploaded")})),n.$emit("uploaded",{files:t,xhr:r})):(c=!0,n.uploadedSize-=d,n.queuedFiles=n.queuedFiles.concat(t),t.forEach((function(t){n.__updateFile(t,"failed")})),n.$emit("failed",{files:t,xhr:r})),n.workingThreads--,n.xhrs=n.xhrs.filter((function(t){return t!==r})))},r.open(o("method",t),a),!0===o("withCredentials",t)&&(r.withCredentials=!0);var p=o("headers",t);void 0!==p&&p.forEach((function(t){r.setRequestHeader(t.name,t.value)}));var f=o("sendRaw",t);t.forEach((function(t){n.__updateFile(t,"uploading",0),!0!==f&&i.append(o("fieldName",t),t,t.name),t.xhr=r,t.__abort=function(){r.abort()},h+=t.size})),this.$emit("uploading",{files:t,xhr:r}),this.xhrs.push(r),!0===f?r.send(new Blob(t)):r.send(i)}}},qn=it.default.extend({name:"QUploader",mixins:[Nn,Mn]}),Un=Object(h.a)(Fn,(function(){var t=this.$createElement;return(this._self._c||t)("q-uploader",{ref:"filesUploader",staticClass:"hidden",attrs:{dark:this.isDarkMode,"max-file-size":this.getAttachmentUploadLimit,color:"transparent hidden",multiple:this.multiple,square:"",flat:""},on:{added:this.onAdded},scopedSlots:this._u([{key:"list",fn:function(t){}}])})}),[],!1,null,null,null),$n=Un.exports;g()(Un,"components",{QUploader:qn});var jn={name:"MainActionBlock",props:["icon","title","color","onClick","description"],computed:{getAppAvatarStyle:function(){return this.$store.getters.getAppAvatarStyle},getIconStyle:function(){var t=this.color,e=j.a.getColorBrand(t,{alpha:.2}),n=j.a.getColorBrand(t);return"background-color: ".concat(e,"; color: ").concat(n,"; ").concat(this.getAppAvatarStyle)}}},Vn=Object(h.a)(jn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"non-selectable",attrs:{clickable:""},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{style:t.getIconStyle,attrs:{square:"",rounded:"",size:"48px",icon:t.icon}})],1),n("q-item-section",[n("q-item-label",{staticClass:"text-textColorPrimary"},[t._v(t._s(t.title))]),n("q-item-label",{staticClass:"text-textColorSecondary",attrs:{caption:""}},[t._v(t._s(t.description))])],1)],1)}),[],!1,null,null,null),Hn=Vn.exports;g()(Vn,"components",{QItem:P.a,QItemSection:N.a,QAvatar:x.a,QItemLabel:M.a});var zn={name:"SelectFileBlock",props:["data","onFileClicked","onFileIconClicked"],data:function(){return{iconHovered:null,checked:this.data.checked}},watch:{data:function(t){this.checked=t.checked}},computed:{getAppAvatarStyle:function(){return this.$store.getters.getAppAvatarStyle},getIconStyle:function(){var t="textColorSecondary";this.getFileRef.hasUploadError()&&(t="negative");var e=j.a.getColorBrand(t,{alpha:.2}),n=j.a.getColorBrand(t);return"background-color: ".concat(e,"; color: ").concat(n,"; ").concat(this.getAppAvatarStyle,"; cursor: zoom-in;")},getIconClass:function(){return this.iconHovered?"shadow-8":null},getTitleClass:function(){return this.isChecked?"text-textColorPrimary text-bold ellipsis":"text-textColorPrimary ellipsis"},isChecked:function(){return this.checked},getFileRef:function(){return this.data.file},getTitle:function(){return this.getFileRef.getName()},getDescription:function(){return this.getFileRef.getDescriptionText()},getPreviewText:function(){return this.getFileRef.getPreviewText()}},methods:{onClick:function(){this.checked=!this.checked,l.a.execFunction(this.onFileClicked,[this.getFileRef])},onIconClick:function(){l.a.execFunction(this.onFileIconClicked,[this.getFileRef])}}},Wn=Object(h.a)(zn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"non-selectable",attrs:{clickable:""},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{class:t.getIconClass,style:t.getIconStyle,attrs:{square:"",rounded:"",size:"48px","font-size":"14px","text-color":"textColorSecondary"},on:{mouseenter:function(e){t.iconHovered=!0},mouseleave:function(e){t.iconHovered=!1},click:function(e){return e.stopPropagation(),t.onIconClick(e)}}},[t._v("\n      "+t._s(t.getPreviewText)+"\n    ")])],1),n("q-item-section",[n("q-item-label",{class:t.getTitleClass},[t._v(t._s(t.getTitle))]),n("q-item-label",{staticClass:"text-textColorSecondary ellipsis",attrs:{caption:""}},[t._v(t._s(t.getDescription))])],1),t.isChecked?n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"colorAccent",name:"done",size:"16px",round:"",dense:"",flat:""}})],1):t._e()],1)}),[],!1,null,null,null),Kn=Wn.exports;g()(Wn,"components",{QItem:P.a,QItemSection:N.a,QAvatar:x.a,QItemLabel:M.a,QIcon:B.a});var Gn={name:"TextInputLayoutBlock",props:["text","hintRes","onTextChanged","appendText"],data:function(){return{changedText:null}},created:function(){this.changedText=this.text},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getHint:function(){return this.$t(this.hintRes)}},methods:{onInput:function(){var t=this.changedText;l.a.execFunction(this.onTextChanged,[t])}}},Qn=Object(h.a)(Gn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{staticClass:"text-textColorPrimary q-mx-md",attrs:{dark:t.isDarkMode,"input-class":"text-textColorPrimary",color:"colorAccent",label:t.getHint,debounce:"300",clearable:"",outlined:"",dense:""},on:{input:t.onInput},scopedSlots:t._u([t.appendText?{key:"append",fn:function(){return[n("div",{staticClass:"text-textColorSecondary text-caption q-mx-xs"},[t._v(t._s(t.appendText))])]},proxy:!0}:null],null,!0),model:{value:t.changedText,callback:function(e){t.changedText=e},expression:"changedText"}})}),[],!1,null,null,null),Yn=Qn.exports;g()(Qn,"components",{QInput:Ct.a});var Xn={name:"ClipDetailsPageAttachments",components:{UploaderView:$n,SeparatorBlock:zt,SelectFileBlock:Kn,MainActionBlock:Hn,DataLoadingBlock:Z,TextInputLayoutBlock:Yn},data:function(){return{requestAddFiles:null,lastClipState:null}},asyncComputed:{getSelectedAttachments:function(){var t=this,e=t.getClip,n=t.lastClipState;if(n&&e.id===n.clipId)return n.files;var i=e.getFileIds();return this.onUpdateAvailableAttachments((function(t){t.fileIdsWhereType=Rn.a.NONE_OF.id,t.fileIds=i})).then((function(){return l.a.arrayIsEmpty(i)?[]:t.$store.dispatch(s.a.onGetFilesByIds,{ids:i})})).then((function(n){return t.lastClipState={clipId:e.id,files:n},yt.a.debug("getSelectedAttachments",t.lastClipState),n}))}},computed:{getAddAttachmentColor:function(){return this.isAuthorized?"positive":"textColorSecondary"},isDarkMode:function(){return this.$store.getters.isDarkMode},getScrollTarget:function(){return"#clipBottomSheet > .scroll"},isAuthorized:function(){return this.$store.getters.isAuthorized},hasAttachments:function(){var t=this.getSelectedAttachments;return l.a.arrayIsNotEmpty(t)},hasAvailableAttachments:function(){var t=this.getAvailableAttachments;return l.a.arrayIsNotEmpty(t)},isInAvailableAttachmentsLoadingState:function(){return this.$store.getters.isInAvailableAttachmentsLoadingState},getAddAttachmentLabel:function(){return this.$t("main_action_files_file_title")},getAddAttachmentDescription:function(){var t=this.$store.getters.remoteConfigAttachmentUploadLimitInMb;return this.$tc("main_action_files_file_description",null,{n:t})},getSelectedAttachmentsData:function(){var t=this.getCurrentFileIds,e=(this.getSelectedAttachments||[]).map((function(e){return{file:e,id:e.id,checked:t.includes(e.getUid())}}));return Object.freeze(e)},getAvailableAttachments:function(){return this.$store.getters.getAvailableAttachments},getAvailableAttachmentsCounter:function(){return this.hasAvailableAttachments?this.getAvailableAttachments.length:null},getAvailableAttachmentsData:function(){var t=this.getCurrentFileIds,e=this.getAvailableAttachments.map((function(e){return{file:e,id:e.id,checked:t.includes(e.getUid())}}));return Object.freeze(e)},getAvailableAttachmentsFilter:function(){return this.$store.getters.getAvailableAttachmentsFilter},getClip:function(){return this.$store.getters.getSelectedClip},getCurrentFileIds:function(){return this.getClip.getFileIds()}},methods:{onAddFiles:function(){this.requestAddFiles=Date.now()},onFilesAdded:function(t){this.$store.dispatch(s.a.onAddClipFiles,{clip:this.getClip,files:t})},onFileClicked:function(t){this.$store.dispatch(s.a.onAddOrRemoveClipAttachment,{clip:this.getClip,file:t})},onFileIconClicked:function(t){this.$store.dispatch(s.a.onViewClipFiles,{files:[],clip:this.getClip,file:t})},onSearchAttachmentsByText:function(t){this.onUpdateAvailableAttachments((function(e){e.textLike=t}))},onUpdateAvailableAttachments:function(t){var e=this.getAvailableAttachmentsFilter;return t(e=(new Ln.a).copy(e)),this.$store.dispatch(s.a.onUpdateAvailableAttachments,{filter:e})}}},Zn=Object(h.a)(Xn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-py-sm"},[n("MainActionBlock",{attrs:{icon:"insert_drive_file","on-click":t.onAddFiles,title:t.getAddAttachmentLabel,color:t.getAddAttachmentColor,description:t.getAddAttachmentDescription}}),t.hasAttachments?[n("SeparatorBlock",{staticClass:"q-my-sm"}),n("q-list",{staticClass:"non-selectable overflow-hidden",attrs:{dark:t.isDarkMode}},t._l(t.getSelectedAttachmentsData,(function(e){return n("SelectFileBlock",{key:e.id,attrs:{"on-file-icon-clicked":t.onFileIconClicked,"on-file-clicked":t.onFileClicked,data:e}})})),1)]:t._e(),[n("TextInputLayoutBlock",{staticClass:"q-my-lg",attrs:{text:t.getAvailableAttachmentsFilter.textLike,"append-text":t.getAvailableAttachmentsCounter,"on-text-changed":t.onSearchAttachmentsByText,"hint-res":"file_search_hint"}}),t.isInAvailableAttachmentsLoadingState?n("DataLoadingBlock"):n("q-virtual-scroll",{attrs:{"scroll-target":t.getScrollTarget,items:t.getAvailableAttachmentsData,"virtual-scroll-item-size":64,dark:t.isDarkMode},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item,r=e.index;return[n("SelectFileBlock",{key:r,attrs:{"on-file-icon-clicked":t.onFileIconClicked,"on-file-clicked":t.onFileClicked,data:i}})]}}],null,!1,274418386)})],n("UploaderView",{attrs:{"on-files-added":t.onFilesAdded,"request-add-files":t.requestAddFiles,multiple:!0}})],2)}),[],!1,null,null,null),Jn=Zn.exports;g()(Zn,"components",{QList:rt.a,QVirtualScroll:ft});var ti={name:"ClipDetailsPageDynamicValues",components:{ButtonsToggleBlock:bn},data:function(){return{selectedTab:null}},computed:{getSettings:function(){return this.$store.getters.getSettings},getSelectedTabIndex:function(){var t=this.getSettings.clipDetailsTab;return this.selectedTab===kt.FIELDS.name||t===kt.FIELDS.name||this.selectedTab===kt.SNIPPETS.name||t===kt.SNIPPETS.name?1:0},getClipDetailsTab:function(){return kt}},methods:{onFirstTabClicked:function(){this.onTabClicked(this.getClipDetailsTab.VALUES)},onSecondTabClicked:function(){this.onTabClicked(this.getClipDetailsTab.FIELDS)},onThirdTabClicked:function(){this.onTabClicked(this.getClipDetailsTab.SNIPPETS)},onTabClicked:function(t){return this.selectedTab=t.name,this.getSettings.clipDetailsTab=t.name,this.$store.dispatch(s.a.onSaveSettings),t}}},ei={name:"ClipViewBottomSheet",props:["minHeight","collapsed"],components:{ClipDetailsPageDynamicValues:Object(h.a)(ti,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column items-center q-mt-md"},[e("ButtonsToggleBlock",{attrs:{"selected-button-index":this.getSelectedTabIndex,"first-button-text-res":this.getClipDetailsTab.VALUES.labelRes,"second-button-text-res":this.getClipDetailsTab.FIELDS.labelRes,"third-button-text-res":this.getClipDetailsTab.SNIPPETS.labelRes,"on-first-button-click":this.onFirstTabClicked,"on-second-button-click":this.onSecondTabClicked,"on-third-button-click":this.onThirdTabClicked}})],1)}),[],!1,null,null,null).exports,ClipDetailsPageAttachments:Jn,ClipDetailsPageAttributes:Dn,ClipDetailsPageGeneral:sn,VerticalScrollView:J.a},data:function(){return{activeTab:kt.mapToFirstLevelTabName[xt.a.getSettings().clipDetailsTab],bottomSheetHeight:xt.a.getSettings().clipDetailsHeight||w.a.getScreenHeight()/2}},watch:{collapsed:function(){this.activeTab=null},activeTab:function(t){xt.a.getSettings().clipDetailsTab=t,this.$store.dispatch(s.a.onSaveSettings)}},computed:{getAppBottomSheetBorderStyle:function(){return this.$store.getters.getAppBottomSheetBorderStyle},getActiveTabLabel:function(){var t=this.activeTab;if(t){var e=kt.getByName(t);if(yt.a.debug("tab",e,this.$t(e.labelRes)),e)return this.$t(e.labelRes)}return null},getTheme:function(){return this.$store.getters.getSelectedTheme},getSettings:function(){return this.$store.getters.getSettings},getClipDetailsTab:function(){return kt},isBottomSheetExpanded:function(){return this.activeTab},getTabsClass:function(){return this.isBottomSheetExpanded?"bg-colorDialog text-textColorSecondary text-subtitle2 shadow-up-1":"text-textColorSecondary text-subtitle2"},getAppAvailableHeight:function(){return this.$store.getters.getAppAvailableHeight},getBottomSheetHeight:function(){return Math.min(this.bottomSheetHeight,this.getBottomSheetMaxHeight)},getBottomSheetMaxHeight:function(){return this.getAppAvailableHeight-88},getBottomSheetExpandedStyle:function(){return"height: ".concat(this.getBottomSheetHeight,"px;")},getScrollAreaHeight:function(){return this.getBottomSheetHeight-j.a.getBarStandardHeight()-j.a.getSeparatorHeight()},getBottomSheetStyle:function(){var t,e,n=this.getTheme;this.isBottomSheetExpanded?(t="colorDialog",e=1):(e=.87,t="colorPrimaryInverse");var i=j.a.getColorBrand(t,{alpha:e,theme:n});return"background: ".concat(i,"; ").concat(this.getAppBottomSheetBorderStyle)},getSelectedClipAttributesCount:function(){return this.$store.getters.getSelectedClipAttributesCount},getSelectedClipFilesCount:function(){return this.$store.getters.getSelectedClipFilesCount}},methods:{onChangeBottomSheetHeight:function(t){var e=2*this.minHeight,n=this.getBottomSheetHeight-t.delta.y;n=Math.min(n,this.getBottomSheetMaxHeight),this.getSettings.clipDetailsHeight=n,this.$store.dispatch(s.a.onSaveSettings),n=Math.max(n,e),this.bottomSheetHeight=n},onCollapseBottomSheet:function(t){t.name===this.activeTab&&this.onCloseBottomSheet()},onCloseBottomSheet:function(){this.activeTab=null}}},ni={role:"toolbar"},ii=it.default.extend({name:"QBar",mixins:[at.a,ot.a],props:{dense:Boolean},computed:{classes:function(){return"q-bar--".concat(!0===this.dense?"dense":"standard"," ")+"q-bar--".concat(!0===this.isDark?"dark":"light")}},render:function(t){return t("div",{staticClass:"q-bar row no-wrap items-center",class:this.classes,attrs:ni,on:nt()({},this.qListeners)},Object(st.c)(this,"default"))}}),ri=(n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("0967")),oi=n("3627"),ai=n("2248");function si(t){var e=[.06,6,50];return"string"==typeof t&&t.length&&t.split(":").forEach((function(t,n){var i=parseFloat(t);i&&(e[n]=i)})),e}function ci(t){var e=t.__qtouchswipe;void 0!==e&&(Object(ht.b)(e,"main"),Object(ht.b)(e,"temp"),!0===ri.a.is.firefox&&Object(ht.j)(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchswipe)}var li={name:"touch-swipe",bind:function(t,e){var n=e.value,i=e.arg,r=e.modifiers;if(void 0!==t.__qtouchswipe&&(ci(t),t.__qtouchswipe_destroyed=!0),!0===r.mouse||!0===ri.a.has.touch){var o=!0===r.mouseCapture?"Capture":"",a={handler:n,sensitivity:si(i),modifiers:r,direction:Object(oi.a)(r),noop:ht.g,mouseStart:function(t){Object(oi.b)(t,a)&&Object(ht.e)(t)&&(Object(ht.a)(a,"temp",[[document,"mousemove","move","notPassive".concat(o)],[document,"mouseup","end","notPassiveCapture"]]),a.start(t,!0))},touchStart:function(t){if(Object(oi.b)(t,a)){var e=t.target;Object(ht.a)(a,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","notPassiveCapture"],[e,"touchend","end","notPassiveCapture"]]),a.start(t)}},start:function(e,n){!0===ri.a.is.firefox&&Object(ht.j)(t,!0);var i=Object(ht.h)(e);a.event={x:i.left,y:i.top,time:Date.now(),mouse:!0===n,dir:!1}},move:function(t){if(void 0!==a.event)if(!1===a.event.dir){var e=Date.now()-a.event.time;if(0!==e){var n=Object(ht.h)(t),i=n.left-a.event.x,r=Math.abs(i),o=n.top-a.event.y,s=Math.abs(o);if(!0!==a.event.mouse){if(r<a.sensitivity[1]&&s<a.sensitivity[1])return void a.end(t)}else if(r<a.sensitivity[2]&&s<a.sensitivity[2])return;var c=r/e,l=s/e;!0===a.direction.vertical&&r<s&&r<100&&l>a.sensitivity[0]&&(a.event.dir=o<0?"up":"down"),!0===a.direction.horizontal&&r>s&&s<100&&c>a.sensitivity[0]&&(a.event.dir=i<0?"left":"right"),!0===a.direction.up&&r<s&&o<0&&r<100&&l>a.sensitivity[0]&&(a.event.dir="up"),!0===a.direction.down&&r<s&&o>0&&r<100&&l>a.sensitivity[0]&&(a.event.dir="down"),!0===a.direction.left&&r>s&&i<0&&s<100&&c>a.sensitivity[0]&&(a.event.dir="left"),!0===a.direction.right&&r>s&&i>0&&s<100&&c>a.sensitivity[0]&&(a.event.dir="right"),!1!==a.event.dir?(Object(ht.l)(t),!0===a.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(ai.a)(),a.styleCleanup=function(t){a.styleCleanup=void 0,document.body.classList.remove("non-selectable");var e=function(){document.body.classList.remove("no-pointer-events--children")};!0===t?setTimeout(e,50):e()}),a.handler({evt:t,touch:!0!==a.event.mouse,mouse:a.event.mouse,direction:a.event.dir,duration:e,distance:{x:r,y:s}})):a.end(t)}}else Object(ht.l)(t)},end:function(e){void 0!==a.event&&(Object(ht.b)(a,"temp"),!0===ri.a.is.firefox&&Object(ht.j)(t,!1),void 0!==a.styleCleanup&&a.styleCleanup(!0),void 0!==e&&!1!==a.event.dir&&Object(ht.l)(e),a.event=void 0)}};t.__qtouchswipe=a,!0===r.mouse&&Object(ht.a)(a,"main",[[t,"mousedown","mouseStart","passive".concat(o)]]),!0===ri.a.has.touch&&Object(ht.a)(a,"main",[[t,"touchstart","touchStart","passive".concat(!0===r.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])}},update:function(t,e){var n=e.oldValue,i=e.value,r=t.__qtouchswipe;void 0!==r&&n!==i&&("function"!=typeof i&&r.end(),r.handler=i)},unbind:function(t){void 0===t.__qtouchswipe_destroyed?ci(t):delete t.__qtouchswipe_destroyed}};function ui(t){return t("div",{staticClass:"q-panel scroll",attrs:{role:"tabpanel"},on:Object(xe.b)(this,"stop",{input:ht.k})},Object(st.c)(this,"default"))}var di=it.default.extend({render:ui}),hi={mixins:[at.a],directives:{TouchSwipe:li},props:{value:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},data:function(){return{panelIndex:null,panelTransition:null}},computed:{panelDirectives:function(){if(!0===this.swipeable)return[{name:"touch-swipe",value:this.__swipe,modifiers:{horizontal:!0!==this.vertical,vertical:this.vertical,mouse:!0}}]},contentKey:function(){return"string"==typeof this.value||"number"==typeof this.value?this.value:String(this.value)},transitionPrevComputed:function(){return this.transitionPrev||"slide-".concat(!0===this.vertical?"down":"right")},transitionNextComputed:function(){return this.transitionNext||"slide-".concat(!0===this.vertical?"up":"left")},keepAliveProps:function(){return{include:this.keepAliveInclude,exclude:this.keepAliveExclude,max:this.keepAliveMax}},needsUniqueWrapper:function(){return void 0!==this.keepAliveInclude||void 0!==this.keepAliveExclude}},watch:{value:function(t,e){var n=this,i=!0===this.__isValidPanelName(t)?this.__getPanelIndex(t):-1;!0!==this.__forcedPanelTransition&&this.__updatePanelTransition(-1===i?0:i<this.__getPanelIndex(e)?-1:1),this.panelIndex!==i&&(this.panelIndex=i,this.$emit("before-transition",t,e),this.$nextTick((function(){n.$emit("transition",t,e)})))}},methods:{next:function(){this.__go(1)},previous:function(){this.__go(-1)},goTo:function(t){this.$emit("input",t)},__isValidPanelName:function(t){return null!=t&&""!==t},__getPanelIndex:function(t){return this.panels.findIndex((function(e){var n=e.componentOptions.propsData;return n.name===t&&""!==n.disable&&!0!==n.disable}))},__getEnabledPanels:function(){return this.panels.filter((function(t){var e=t.componentOptions.propsData;return""!==e.disable&&!0!==e.disable}))},__updatePanelTransition:function(t){var e=0!==t&&!0===this.animated&&-1!==this.panelIndex?"q-transition--"+(-1===t?this.transitionPrevComputed:this.transitionNextComputed):null;this.panelTransition!==e&&(this.panelTransition=e)},__go:function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.panelIndex,i=n+t,r=this.panels;i>-1&&i<r.length;){var o=r[i].componentOptions;if(void 0!==o&&""!==o.propsData.disable&&!0!==o.propsData.disable)return this.__updatePanelTransition(t),this.__forcedPanelTransition=!0,this.$emit("input",r[i].componentOptions.propsData.name),void setTimeout((function(){e.__forcedPanelTransition=!1}));i+=t}!0===this.infinite&&r.length>0&&-1!==n&&n!==r.length&&this.__go(t,-1===t?r.length:-1)},__swipe:function(t){var e=!0===this.vertical?"up":"left";this.__go((!0===this.$q.lang.rtl?-1:1)*(t.direction===e?1:-1))},__updatePanelIndex:function(){var t=this.__getPanelIndex(this.value);return this.panelIndex!==t&&(this.panelIndex=t),!0},__getPanelContent:function(t){var e=this;if(0!==this.panels.length){var n=this.__isValidPanelName(this.value)&&this.__updatePanelIndex()&&this.panels[this.panelIndex],i=!0===this.keepAlive?[t("keep-alive",{props:this.keepAliveProps},[t(!0===this.needsUniqueWrapper?Object(xe.a)(this,this.contentKey,(function(){return it.default.extend({name:e.contentKey,render:ui})})):di,{key:this.contentKey},[n])])]:[t("div",{staticClass:"q-panel scroll",key:this.contentKey,attrs:{role:"tabpanel"},on:Object(xe.b)(this,"stop",{input:ht.k})},[n])];return!0===this.animated?[t("transition",{props:{name:this.panelTransition}},i)]:i}}},render:function(t){var e=this;return this.panels=Object(st.c)(this,"default",[]).filter((function(t){return void 0!==t&&void 0!==t.componentOptions&&void 0!==t.componentOptions.propsData&&e.__isValidPanelName(t.componentOptions.propsData.name)})),this.__renderPanels(t)}},pi={mixins:[at.a],props:{name:{required:!0},disable:Boolean}},fi=it.default.extend({name:"QTabPanels",mixins:[ot.a,hi],computed:{classes:function(){return"q-tab-panels q-panel-parent"+(!0===this.isDark?" q-tab-panels--dark q-dark":"")}},methods:{__renderPanels:function(t){return t("div",{class:this.classes,directives:this.panelDirectives,on:nt()({},this.qListeners)},this.__getPanelContent(t))}}}),gi=it.default.extend({name:"QTabPanel",mixins:[pi],render:function(t){return t("div",{staticClass:"q-tab-panel",on:nt()({},this.qListeners)},Object(st.c)(this,"default"))}}),mi=n("463c");function vi(t,e,n){var i=!0===n?["left","right"]:["top","bottom"];return"absolute-".concat(!0===e?i[0]:i[1]).concat(t?" text-".concat(t):"")}function yi(t,e){return t.priorityMatched===e.priorityMatched?e.priorityHref-t.priorityHref:e.priorityMatched-t.priorityMatched}function _i(t){return t.selected=!1,t}var bi=[function(t){return!0===t.selected&&!0===t.exact&&!0!==t.redirected},function(t){return!0===t.selected&&!0===t.exact},function(t){return!0===t.selected&&!0!==t.redirected},function(t){return!0===t.selected},function(t){return!0===t.exact&&!0!==t.redirected},function(t){return!0!==t.redirected},function(t){return!0===t.exact},function(t){return!0}],Si=bi.length,Ci=it.default.extend({name:"QTabs",mixins:[mi.a,at.a],provide:function(){return{tabs:this.tabs,__recalculateScroll:this.__recalculateScroll,__activateTab:this.__activateTab,__activateRoute:this.__activateRoute}},props:{value:[Number,String],align:{type:String,default:"center",validator:function(t){return["left","center","right","justify"].includes(t)}},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String},data:function(){return{tabs:{current:this.value,activeColor:this.activeColor,activeBgColor:this.activeBgColor,indicatorClass:vi(this.indicatorColor,this.switchIndicator,this.vertical),narrowIndicator:this.narrowIndicator,inlineLabel:this.inlineLabel,noCaps:this.noCaps},scrollable:!1,leftArrow:!0,rightArrow:!1,justify:!1}},watch:{value:function(t){this.__activateTab(t,!0,!0)},activeColor:function(t){this.tabs.activeColor=t},activeBgColor:function(t){this.tabs.activeBgColor=t},vertical:function(t){this.tabs.indicatorClass=vi(this.indicatorColor,this.switchIndicator,t)},indicatorColor:function(t){this.tabs.indicatorClass=vi(t,this.switchIndicator,this.vertical)},switchIndicator:function(t){this.tabs.indicatorClass=vi(this.indicatorColor,t,this.vertical)},narrowIndicator:function(t){this.tabs.narrowIndicator=t},inlineLabel:function(t){this.tabs.inlineLabel=t},noCaps:function(t){this.tabs.noCaps=t},outsideArrows:function(){this.$nextTick(this.__recalculateScroll())},arrowsEnabled:function(t){this.__updateArrows=!0===t?this.__updateArrowsFn:ht.g,this.$nextTick(this.__recalculateScroll())}},computed:{arrowsEnabled:function(){return!0===this.$q.platform.is.desktop||!0===this.mobileArrows},alignClass:function(){var t=!0===this.scrollable?"left":!0===this.justify?"justify":this.align;return"q-tabs__content--align-".concat(t)},classes:function(){return"q-tabs--".concat(!0===this.scrollable?"":"not-","scrollable")+" q-tabs--".concat(!0===this.vertical?"vertical":"horizontal")+" q-tabs__arrows--".concat(!0===this.arrowsEnabled&&!0===this.outsideArrows?"outside":"inside")+(!0===this.dense?" q-tabs--dense":"")+(!0===this.shrink?" col-shrink":"")+(!0===this.stretch?" self-stretch":"")},innerClass:function(){return this.alignClass+(void 0!==this.contentClass?" ".concat(this.contentClass):"")+(!0===this.$q.platform.is.mobile?" scroll":"")},domProps:function(){return!0===this.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}},onEvents:function(){return nt()({input:ht.k},this.qListeners)}},methods:{__activateTab:function(t,e,n){this.tabs.current!==t&&(!0!==n&&this.$emit("input",t),!0!==e&&void 0!==this.qListeners.input||(this.__animate(this.tabs.current,t),this.tabs.current=t))},__activateRoute:function(t){var e=this;this.bufferRoute!==this.$route&&this.buffer.length>0&&(clearTimeout(this.bufferTimer),this.bufferTimer=void 0,this.buffer.length=0),this.bufferRoute=this.$route,void 0!==t&&(!0===t.remove?this.buffer=this.buffer.filter((function(e){return e.name!==t.name})):this.buffer.push(t)),void 0===this.bufferTimer&&(this.bufferTimer=setTimeout((function(){for(var t=[],n=0;n<Si&&0===t.length;n++)t=e.buffer.filter(bi[n]);t.sort(yi),e.__activateTab(0===t.length?null:t[0].name,!0),e.buffer=e.buffer.map(_i),e.bufferTimer=void 0}),1))},__recalculateScroll:function(){var t=this;this.__nextTick((function(){!0!==t._isDestroyed&&t.__updateContainer({width:t.$el.offsetWidth,height:t.$el.offsetHeight})})),this.__prepareTick()},__updateContainer:function(t){var e=this,n=t[this.domProps.container],i=Math.min(this.$refs.content[this.domProps.scroll],Array.prototype.reduce.call(this.$refs.content.children,(function(t,n){return t+n[e.domProps.content]}),0)),r=n>0&&i>n;this.scrollable!==r&&(this.scrollable=r),!0===r&&this.$nextTick((function(){return e.__updateArrows()}));var o=n<parseInt(this.breakpoint,10);this.justify!==o&&(this.justify=o)},__animate:function(t,e){var n=this,i=null!=t&&""!==t?this.$children.find((function(e){return e.name===t})):null,r=null!=e&&""!==e?this.$children.find((function(t){return t.name===e})):null;if(i&&r){var o=i.$el.getElementsByClassName("q-tab__indicator")[0],a=r.$el.getElementsByClassName("q-tab__indicator")[0];clearTimeout(this.animateTimer),o.style.transition="none",o.style.transform="none",a.style.transition="none",a.style.transform="none";var s=o.getBoundingClientRect(),c=a.getBoundingClientRect();a.style.transform=!0===this.vertical?"translate3d(0,".concat(s.top-c.top,"px,0) scale3d(1,").concat(c.height?s.height/c.height:1,",1)"):"translate3d(".concat(s.left-c.left,"px,0,0) scale3d(").concat(c.width?s.width/c.width:1,",1,1)"),this.$nextTick((function(){n.animateTimer=setTimeout((function(){a.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",a.style.transform="none"}),70)}))}if(r&&!0===this.scrollable){var l=this.$refs.content.getBoundingClientRect(),u=l.left,d=l.width,h=l.top,p=l.height,f=r.$el.getBoundingClientRect(),g=!0===this.vertical?f.top-h:f.left-u;if(g<0)return this.$refs.content[!0===this.vertical?"scrollTop":"scrollLeft"]+=Math.floor(g),void this.__updateArrows();(g+=!0===this.vertical?f.height-p:f.width-d)>0&&(this.$refs.content[!0===this.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(g),this.__updateArrows())}},__updateArrowsFn:function(){var t=this.$refs.content,e=t.getBoundingClientRect(),n=!0===this.vertical?t.scrollTop:t.scrollLeft;this.leftArrow=n>0,this.rightArrow=!0===this.vertical?Math.ceil(n+e.height)<t.scrollHeight:Math.ceil(n+e.width)<t.scrollWidth},__animScrollTo:function(t){var e=this;this.__stopAnimScroll(),this.__scrollTowards(t),this.scrollTimer=setInterval((function(){e.__scrollTowards(t)&&e.__stopAnimScroll()}),5)},__scrollToStart:function(){this.__animScrollTo(0)},__scrollToEnd:function(){this.__animScrollTo(9999)},__stopAnimScroll:function(){clearInterval(this.scrollTimer)},__scrollTowards:function(t){var e=this.$refs.content,n=!0===this.vertical?e.scrollTop:e.scrollLeft,i=!1,r=t<n?-1:1;return(n+=5*r)<0?(i=!0,n=0):(-1===r&&n<=t||1===r&&n>=t)&&(i=!0,n=t),e[!0===this.vertical?"scrollTop":"scrollLeft"]=n,this.__updateArrows(),i}},activated:function(){this.__recalculateScroll()},created:function(){this.buffer=[],this.__updateArrows=!0===this.arrowsEnabled?this.__updateArrowsFn:ht.g},beforeDestroy:function(){clearTimeout(this.bufferTimer),clearTimeout(this.animateTimer)},render:function(t){var e=[t(Je.a,{on:Object(xe.b)(this,"resize",{resize:this.__updateContainer})}),t("div",{ref:"content",staticClass:"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar",class:this.innerClass,on:!0===this.arrowsEnabled?Object(xe.b)(this,"scroll",{scroll:this.__updateArrowsFn}):void 0},Object(st.c)(this,"default"))];return!0===this.arrowsEnabled&&e.push(t(B.a,{staticClass:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon",class:!0===this.leftArrow?"":"q-tabs__arrow--faded",props:{name:this.leftIcon||(!0===this.vertical?this.$q.iconSet.tabs.up:this.$q.iconSet.tabs.left)},on:Object(xe.b)(this,"onL",{mousedown:this.__scrollToStart,touchstart:this.__scrollToStart,mouseup:this.__stopAnimScroll,mouseleave:this.__stopAnimScroll,touchend:this.__stopAnimScroll})}),t(B.a,{staticClass:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon",class:!0===this.rightArrow?"":"q-tabs__arrow--faded",props:{name:this.rightIcon||(!0===this.vertical?this.$q.iconSet.tabs.down:this.$q.iconSet.tabs.right)},on:Object(xe.b)(this,"onR",{mousedown:this.__scrollToEnd,touchstart:this.__scrollToEnd,mouseup:this.__stopAnimScroll,mouseleave:this.__stopAnimScroll,touchend:this.__stopAnimScroll})})),t("div",{staticClass:"q-tabs row no-wrap items-center",class:this.classes,on:this.onEvents,attrs:{role:"tablist"}},e)}}),Ti=n("9523"),wi=n.n(Ti),Ii=n("d728"),Ei=0,Ai=it.default.extend({name:"QTab",mixins:[vn.a,at.a],inject:{tabs:{default:function(){console.error("QTab/QRouteTab components need to be child of QTabs")}},__activateTab:{},__recalculateScroll:{}},props:{icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:function(){return"t_".concat(Ei++)}},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String},computed:{isActive:function(){return this.tabs.current===this.name},classes:function(){var t;return t={},wi()(t,"q-tab--".concat(this.isActive?"":"in","active"),!0),wi()(t,"text-".concat(this.tabs.activeColor),this.isActive&&this.tabs.activeColor),wi()(t,"bg-".concat(this.tabs.activeBgColor),this.isActive&&this.tabs.activeBgColor),wi()(t,"q-tab--full",this.icon&&this.label&&!this.tabs.inlineLabel),wi()(t,"q-tab--no-caps",!0===this.noCaps||!0===this.tabs.noCaps),wi()(t,"q-focusable q-hoverable cursor-pointer",!this.disable),wi()(t,"disabled",this.disable),t},innerClass:function(){return(!0===this.tabs.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==this.contentClass?" ".concat(this.contentClass):"")},computedTabIndex:function(){return!0===this.disable||!0===this.isActive?-1:this.tabindex||0},onEvents:function(){return nt()(nt()({input:ht.k},this.qListeners),{},{click:this.__activate,keyup:this.__onKeyup})},attrs:function(){var t={tabindex:this.computedTabIndex,role:"tab","aria-selected":this.isActive};return!0===this.disable&&(t["aria-disabled"]="true"),t}},methods:{__activate:function(t,e){!0!==e&&void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),!0!==this.disable&&(void 0!==this.qListeners.click&&this.$emit("click",t),this.__activateTab(this.name))},__onKeyup:function(t){!0===Object(Ii.a)(t,13)&&this.__activate(t,!0)},__getContent:function(t){var e=this.tabs.narrowIndicator,n=[],i=t("div",{staticClass:"q-tab__indicator",class:this.tabs.indicatorClass});void 0!==this.icon&&n.push(t(B.a,{staticClass:"q-tab__icon",props:{name:this.icon}})),void 0!==this.label&&n.push(t("div",{staticClass:"q-tab__label"},[this.label])),!1!==this.alert&&n.push(void 0!==this.alertIcon?t(B.a,{staticClass:"q-tab__alert-icon",props:{color:!0!==this.alert?this.alert:void 0,name:this.alertIcon}}):t("div",{staticClass:"q-tab__alert",class:!0!==this.alert?"text-".concat(this.alert):null})),!0===e&&n.push(i);var r=[t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget"}),t("div",{staticClass:"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable",class:this.innerClass},Object(st.a)(n,this,"default"))];return!1===e&&r.push(i),r},__renderTab:function(t,e,n){var i=wi()({staticClass:"q-tab relative-position self-stretch flex flex-center text-center",class:this.classes,attrs:this.attrs,directives:!1!==this.ripple&&!0===this.disable?null:[{name:"ripple",value:this.ripple}]},"div"===e?"on":"nativeOn",this.onEvents);return void 0!==n&&(i.props=n),t(e,i,this.__getContent(t))}},mounted:function(){this.__recalculateScroll()},beforeDestroy:function(){this.__recalculateScroll()},render:function(t){return this.__renderTab(t,"div")}}),xi=Object(h.a)(ei,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"absolute-bottom",style:t.getBottomSheetStyle},[t.isBottomSheetExpanded?n("div",{style:t.getBottomSheetExpandedStyle},[n("q-bar",{directives:[{name:"touch-pan",rawName:"v-touch-pan.vertical.prevent.mouse",value:t.onChangeBottomSheetHeight,expression:"onChangeBottomSheetHeight",modifiers:{vertical:!0,prevent:!0,mouse:!0}}],staticClass:"bg-colorDialog shadow-up-1 q-px-xs",style:"cursor: row-resize; "+t.getAppBottomSheetBorderStyle},[n("div",{staticClass:"q-px-xs"},[n("div",{staticClass:"text-textColorSecondary text-body2 text-no-wrap q-px-sm"},[t._v(t._s(t.getActiveTabLabel))])]),n("q-space"),n("q-btn",{staticClass:"text-textColorSecondary",attrs:{icon:"minimize",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onCloseBottomSheet(e)}}})],1),n("q-separator",{attrs:{color:"myBackgroundHighlight"}}),n("VerticalScrollView",{attrs:{height:t.getScrollAreaHeight,"dom-id":"clipBottomSheet"}},[n("q-tab-panels",{staticClass:"bg-colorDialog",attrs:{animated:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:t.getClipDetailsTab.GENERAL.name}},[n("ClipDetailsPageGeneral")],1),n("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:t.getClipDetailsTab.ATTRIBUTES.name}},[n("ClipDetailsPageAttributes")],1),n("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:t.getClipDetailsTab.ATTACHMENTS.name}},[n("ClipDetailsPageAttachments")],1),n("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:t.getClipDetailsTab.DYNAMIC_VALUES.name}},[n("ClipDetailsPageDynamicValues")],1)],1)],1)],1):n("q-separator",{attrs:{color:"myBackgroundHighlight"}}),n("q-tabs",{class:t.getTabsClass,attrs:{dense:"","no-caps":"",align:"left","indicator-color":"colorAccent","active-color":"textColorPrimary"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("q-tab",{attrs:{name:t.getClipDetailsTab.GENERAL.name,label:t.$t(t.getClipDetailsTab.GENERAL.labelRes)},on:{click:function(e){return e.stopPropagation(),t.onCollapseBottomSheet(t.getClipDetailsTab.GENERAL)}}}),n("q-tab",{attrs:{name:t.getClipDetailsTab.ATTRIBUTES.name,label:t.$t(t.getClipDetailsTab.ATTRIBUTES.labelRes)},on:{click:function(e){return e.stopPropagation(),t.onCollapseBottomSheet(t.getClipDetailsTab.ATTRIBUTES)}}},[t.getSelectedClipAttributesCount?n("q-badge",{attrs:{color:"negative",floating:""}},[t._v("\n        "+t._s(t.getSelectedClipAttributesCount)+"\n      ")]):t._e()],1),n("q-tab",{attrs:{name:t.getClipDetailsTab.ATTACHMENTS.name,label:t.$t(t.getClipDetailsTab.ATTACHMENTS.labelRes)},on:{click:function(e){return e.stopPropagation(),t.onCollapseBottomSheet(t.getClipDetailsTab.ATTACHMENTS)}}},[t.getSelectedClipFilesCount?n("q-badge",{attrs:{color:"negative",floating:""}},[t._v("\n        "+t._s(t.getSelectedClipFilesCount)+"\n      ")]):t._e()],1),t._e()],1)],1)}),[],!1,null,null,null),ki=xi.exports;g()(xi,"components",{QBar:ii,QSpace:D.a,QBtn:Tt.a,QSeparator:S.a,QTabPanels:fi,QTabPanel:gi,QTabs:Ci,QTab:Ai,QBadge:Ze}),g()(xi,"directives",{TouchPan:Fe.a});var Di=n("886e"),Ri={name:"ObjectAddTagBlock",props:["editable","value"],data:function(){return{newTagName:null,newTagSelectedName:null,autocompleteTags:[]}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppSelectPopupStyle:function(){return this.$store.getters.getAppSelectPopupStyle},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},isActionButtonVisible:function(){return this.editable&&!l.a.isNullOrBlank(this.newTagName)},getFilters:function(){return this.$store.getters.getFilters},getAllTags:function(){return this.getFilters.getSortedTags()},getAvailableTags:function(){var t=this.value||[];return Object.freeze(this.autocompleteTags.filter((function(e){return!t.some((function(t){return t===e.uid}))})))},getTagInputMaxLength:function(){return this.$store.getters.remoteConfigMaxLengthTag}},methods:{onNewTag:function(t,e){if(!l.a.isNullOrBlank(t)){l.a.execFunction(e);var n=this.onSelectTag;this.$store.dispatch(s.a.onSaveFilter,Di.a.createTag(t)).then((function(t){t&&!t.isNew()&&n([t])}))}},onCreateTag:function(){this.onNewTag(this.newTagName)},onSelectTag:function(t){var e=this.value||[],n=ln()(e);t.forEach((function(t){return n.push(t.uid)})),n=l.a.arrayDistinct(n),this.$emit("input",n),this.resetField()},onFilterTag:function(t,e){var n=this;this.newTagName=t,e((function(){if(t){var e=new RegExp(t,"i");n.autocompleteTags=n.getAllTags.filter((function(t){return e.test(t.name)}))}else n.autocompleteTags=n.getAllTags}))},resetField:function(){var t=this.$refs.tagInputView;t&&t.updateInputValue("",!0),this.newTagSelectedName=null,this.newTagName=null}}},Li=Object(h.a)(Ri,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-select",{ref:"tagInputView",staticClass:"q-mx-md q-mt-md",attrs:{color:"textColorPrimary","popup-content-style":t.getAppSelectPopupStyle,placeholder:this.$t("clip_hint_tags"),"popup-content-class":"bg-colorDialog",maxlength:t.getTagInputMaxLength,options:t.getAvailableTags,"options-dark":t.isDarkMode,inputClass:"text-body2","input-debounce":"100","option-label":"name",dark:t.isDarkMode,behavior:"dialog",hideDropdownIcon:"","options-sanitize":"",borderless:"","use-input":"",multiple:"",dense:""},on:{filter:t.onFilterTag,"new-value":t.onNewTag,input:t.onSelectTag},scopedSlots:t._u([{key:"append",fn:function(){return[t.isActionButtonVisible?n("q-chip",{staticClass:"q-pl-md text-uppercase",style:t.getAppButtonStyle,attrs:{label:t.$t("clip_button_tag_create"),"text-color":"textColorOnSurface",icon:"label_outlined",color:"colorAccent",size:"12px",clickable:"",square:""},on:{click:function(e){return e.stopPropagation(),t.onCreateTag(e)}}}):t._e()]},proxy:!0}]),model:{value:t.newTagSelectedName,callback:function(e){t.newTagSelectedName=e},expression:"newTagSelectedName"}})}),[],!1,null,null,null),Fi=Li.exports;g()(Li,"components",{QSelect:qe.a,QChip:Gt.a});var Oi=n("d0a2"),Pi=n("1ce4"),Ni=n("30d6"),Bi=n("8fa9"),Mi=n("6849"),qi={name:"AutoSaveButton",components:{ActionButton:I.a,IconRune:Mi.a},props:["highlight","onClick"],computed:{isAutoSaveEnabled:function(){return this.$store.getters.isAutoSaveEnabled},getAutoSaveRune:function(){var t=this.highlight,e={id:"auto_save",isActive:t};if(t){var n=this.$store.getters.remoteConfigRuneConfigs.find((function(t){return t.id===e.id}));n&&(e.colorLight=n.colorLight,e.colorDark=n.colorDark)}return e},getAutoSaveRuneIcon:function(){var t=this.getAutoSaveRune;return t.isActive=this.highlight,t},getSaveActionClass:function(){return this.highlight?"text-colorAccent q-ml-md":"text-textColorPrimary q-ml-md"}}},Ui=Object(h.a)(qi,(function(){var t=this.$createElement,e=this._self._c||t;return this.isAutoSaveEnabled?e("IconRune",{staticClass:"cursor-pointer q-mr-xs",attrs:{tooltip:"runes_auto_save_title",rune:this.getAutoSaveRuneIcon,"on-click":this.onClick,"border-radius":8,size:"29px"}}):e("ActionButton",{attrs:{"tooltip-label-res":"button_save","button-class":this.getSaveActionClass,"on-click":this.onClick,icon:"save"}})}),[],!1,null,null,null).exports,$i=n("ca69"),ji={name:"ClipViewToolbar",components:{ObjectNavigatorBlock:Ni.a,ObjectViewSettings:Bi.a,AutoSaveButton:Ui,ActionButton:I.a,MenuView:$i.a},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},isInFullScreen:function(){return this.$store.getters.isInFullScreen},isSecondaryAppBarAvailable:function(){return this.$store.getters.isSecondaryAppBarAvailable},getAppBarHeight:function(){return this.$store.getters.getAppBarHeight},getAppContentToolbarStyle:function(){var t="";return(this.isSecondaryAppBarAvailable||this.isInFullScreen)&&(t+="margin-top: ".concat(this.getAppBarHeight,"px;")),t+=this.$store.getters.getAppContentToolbarStyle},getSelectedClipState:function(){return this.$store.getters.getSelectedClipState},getClip:function(){return this.$store.getters.getSelectedClip},isAuthorized:function(){return this.$store.getters.isAuthorized},isEditMode:function(){return this.getSelectedClipState.isEditMode()},isNotSynced:function(){return this.isAuthorized&&!this.isNew&&!this.getClip.isSynced()},isStarred:function(){return this.getClip.isStarred()},isDeleted:function(){return this.getClip.isDeleted()},isNew:function(){return this.getClip.isNew()},isClipContentChanged:function(){return this.$store.getters.isClipContentChanged},getSelectedClipIndex:function(){return this.$store.getters.getSelectedClipIndex},getClipsCount:function(){return this.$store.getters.getClipsCount},hasNavigator:function(){return!this.isEditMode&&this.getClipsCount>1&&this.getSelectedClipIndex>=0}},methods:{onEdit:function(){this.$store.commit(V.a.EDIT_CLIP)},onCancel:function(){this.$store.commit(V.a.CANCEL_EDIT_CLIP)},onRestore:function(){this.$store.dispatch(s.a.onUndoDeleteSelectedClips,{clips:[this.getClip]})},onSync:function(){this.$store.dispatch(s.a.onSyncSelectedClips,{clips:[this.getClip]})},onSave:function(){this.$store.dispatch(s.a.onSaveClip,{withLoadingState:!0,clip:this.getClip,manualSave:!0})},onClose:function(){this.$store.dispatch(s.a.onSaveSelectedClip)},onCopy:function(){this.$store.dispatch(s.a.onCopySelectedClips,this.getClip)},onNextNote:function(){this.$store.commit(V.a.SELECT_NEXT_CLIP)},onPrevNote:function(){this.$store.commit(V.a.SELECT_PREV_CLIP)},onSwipe:function(t){"left"!==t.direction||this.isInFullScreen?"right"===t.direction&&this.isInFullScreen&&this.$store.commit(V.a.SET_VIEW_MODE,Pi.a.DEFAULT):this.$store.commit(V.a.SET_VIEW_MODE,Pi.a.FOCUS)}}},Vi=Object(h.a)(ji,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toolbar",{directives:[{name:"touch-pan",rawName:"v-touch-pan.h.horizontal.prevent.mouse",value:t.onSwipe,expression:"onSwipe",modifiers:{h:!0,horizontal:!0,prevent:!0,mouse:!0}}],staticClass:"absolute-top",style:t.getAppContentToolbarStyle},[n("ObjectNavigatorBlock",{attrs:{"has-navigator":t.hasNavigator,"on-prev":t.onPrevNote,"on-next":t.onNextNote,count:t.getClipsCount,"current-index":t.getSelectedClipIndex},scopedSlots:t._u([{key:"before",fn:function(){return[t.$q.screen.lt.sm?[!t.isNew&&t.isEditMode?n("ActionButton",{attrs:{"tooltip-label-res":"menu_cancel","button-class":"text-textColorPrimary","on-click":t.onCancel,dense:!0,icon:"close"}}):n("ActionButton",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:!0,icon:"arrow_back","button-class":"text-textColorPrimary","on-click":t.onClose}})]:[!t.isNew&&t.isEditMode?n("ActionButton",{attrs:{"button-class":"text-textColorPrimary q-ml-none","tooltip-label-res":"menu_cancel","on-click":t.onCancel,dense:!0,icon:"close"}}):t._e()]]},proxy:!0}])}),n("q-space"),t.isNotSynced&&!t.isEditMode?n("ActionButton",{attrs:{"tooltip-label-res":"button_sync","button-class":"text-negative",icon:"sync_disabled","on-click":t.onSync}}):t._e(),t.isEditMode?t._e():n("ActionButton",{attrs:{"on-click":t.onCopy,icon:"content_copy","tooltip-label-res":"desktop_shortcuts_noteCopy"}}),t.isDeleted||t.isEditMode?t._e():n("ActionButton",{attrs:{"tooltip-label-res":"menu_edit","on-click":t.onEdit,icon:"edit"}}),t.isDeleted&&!t.isEditMode?n("ActionButton",{attrs:{"tooltip-label-res":"menu_restore",icon:"restore_from_trash","on-click":t.onRestore}}):t._e(),t.isEditMode?n("AutoSaveButton",{attrs:{highlight:t.isClipContentChanged,"on-click":t.onSave}}):t._e(),n("ActionButton",{attrs:{icon:"tune"}},[n("MenuView",[n("ObjectViewSettings")],1)],1)],1)}),[],!1,null,null,null),Hi=Vi.exports;g()(Vi,"components",{QToolbar:A.a,QSpace:D.a}),g()(Vi,"directives",{TouchPan:Fe.a,ClosePopup:Pe.a});var zi=n("de99"),Wi={name:"ChipFilter",props:["filter","maxWidth","filterData","onChecked","onRemoved","removable","clickable","editable","onInput","flat","value"],data:function(){return{name:this.value}},watch:{value:function(t){this.name=t}},computed:{getInputStyle:function(){if(!this.editable){var t=l.a.getLength(this.name);return"width: ".concat(t+1,"ch; max-width: ").concat(this.maxWidth,"px")}return null},getBackgroundColor:function(){var t=this.filter.color;return this.isHighlighted?t||(t=j.a.getColorAccent()):t||(t=j.a.getTextColorPrimary()),t},getTextColor:function(){if(this.isHighlighted){var t=this.getBackgroundColor;return j.a.getColorOnSurface(t)}return j.a.getTextColorPrimary()},geChipStyle:function(){return this.isHighlighted?"background-color: ".concat(this.getBackgroundColor,";"):"color: ".concat(this.getBackgroundColor,"; border-width: 2px;")},getLabelStyle:function(){return this.isHighlighted?"color: ".concat(this.getTextColor,"; padding-left: 2px; padding-right: 2px"):"color: ".concat(this.getTextColor)},getIconStyle:function(){return"color: ".concat(this.getTextColor)},getIcon:function(){var t=this.filter,e=un.a.byId[t.type];return e!==un.a.TAG&&e.getIconRes?e.getIconRes():null},getIconSize:function(){return"16px"},getIconColor:function(){return this.isHighlighted?"textColorOnSurface":"textColorPrimary"},getFlatIcon:function(){var t=this.filter;return un.a.byId[t.type].getIconRes(t)},getFlatIconSize:function(){return"16px"},getFlatIconStyle:function(){var t=this.filter.color;return t||(t=j.a.getTextColorSecondary()),"color: ".concat(t)},getSize:function(){return"md"},isRemovable:function(){return this.removable||l.a.isFunction(this.onRemoved)},isHighlighted:function(){var t=this.$store.getters.getSelectedTheme;return!this.isRemovable&&(!this.clickable||this.filterData.isActive)&&t},isOutline:function(){return!this.isHighlighted},getMaxTagNameLength:function(){return this.$store.getters.remoteConfigMaxLengthTag},getLabel:function(){var t=this.filter,e=un.a.byId[t.type],n=t.name||this.$t(e.getTitleRes());return this.isRemovable?n:"".concat(n," (").concat(t.getNotesCount(),")")},getPlaceholder:function(){var t=this.filter.getType();return t&&t.hintNewRes?this.$t(t.hintNewRes):null}},methods:{onClick:function(){if(this.filterData&&(this.filterData.isActive=!this.filterData.isActive),this.onChecked){var t=this.filterData||this.filter;this.onChecked(t)}},onRemove:function(){this.onRemoved&&this.onRemoved(this.filter)},onNameChanged:function(){this.$emit("input",this.name),l.a.execFunction(this.onInput,[this.name])}}},Ki=Object(h.a)(Wi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.flat?n("q-input",{staticClass:"q-px-sm",attrs:{tabindex:"1",readonly:!t.editable,placeholder:t.getPlaceholder,inputClass:"text-textColorPrimary q-ml-sm q-mr-none ellipsis",maxlength:t.getMaxTagNameLength,"input-style":t.getInputStyle,autofocus:t.editable,borderless:"",dense:""},on:{input:t.onNameChanged},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{style:t.getFlatIconStyle,attrs:{name:t.getFlatIcon,size:t.getFlatIconSize}})]},proxy:!0},{key:"append",fn:function(){return[t._t("hint")]},proxy:!0}],null,!0),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):t.getIcon?n("q-chip",{staticClass:"q-mx-none",style:t.geChipStyle,attrs:{dark:this.$store.getters.isDarkMode,clickable:t.clickable,removable:t.removable,outline:t.isOutline,size:t.getSize,"text-color":t.getIconColor},on:{click:function(e){return e.stopPropagation(),t.onClick(e)},remove:function(e){return e.stopPropagation(),t.onRemove(e)}}},[n("q-icon",{staticClass:"q-mr-xs",style:t.getIconStyle,attrs:{name:t.getIcon,size:t.getIconSize}}),n("div",{style:t.getLabelStyle},[t._v(t._s(t.getLabel))])],1):n("q-chip",{staticClass:"q-mx-none",style:t.geChipStyle,attrs:{dark:this.$store.getters.isDarkMode,clickable:t.clickable,removable:t.removable,outline:t.isOutline,size:t.getSize},on:{click:function(e){return e.stopPropagation(),t.onClick(e)},remove:t.onRemove}},[n("div",{style:t.getLabelStyle},[t._v(t._s(t.getLabel))])])}),[],!1,null,null,null),Gi=Ki.exports;g()(Ki,"components",{QInput:Ct.a,QIcon:B.a,QChip:Gt.a});var Qi={name:"ObjectTagsBlock",components:{HorizontalScrollView:Wt.a,ChipFilter:Gi},props:["editable","value"],computed:{isEditMode:function(){return this.editable},getFilters:function(){return this.$store.getters.getFilters},getTags:function(){var t=this.value||[],e=this.getFilters,n=l.a.arrayMapNotNull(t,(function(t){return e.findFilterByTagId(t)}));return zi.a.sorted(e.groupTags,n),n}},methods:{onShowTagInfo:function(t){this.$store.dispatch(s.a.onStartShowFilterDetailsUseCase,t)},onRemoveTag:function(t){var e=this.value||[],n=ln()(e);l.a.arrayRemoveItem(n,t.uid),this.$emit("input",n)}}},Yi=Object(h.a)(Qi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HorizontalScrollView",{staticClass:"q-mt-md non-selectable",attrs:{height:"30","hide-scrollbar":this.getTags.length<5}},t._l(t.getTags,(function(e){return n("ChipFilter",{key:e.uid,staticClass:"q-mr-sm",attrs:{clickable:!t.isEditMode,"on-checked":t.onShowTagInfo,"on-removed":t.onRemoveTag,removable:t.isEditMode,filter:e}})})),1)}),[],!1,null,null,null).exports,Xi=n("f3c5"),Zi={name:"LinuxTaskbarButton",props:["icon","onClicked","buttonClass"],computed:{getStyle:function(){var t=this.$store.getters.getSelectedTheme,e=j.a.getActionIconColorNormal(t),n=j.a.getColorBrand("textColorPrimary",{alpha:.15});return"background: ".concat(n,"; color: ").concat(e)}},methods:{onClick:function(){l.a.execFunction(this.onClicked)}}},Ji=Object(h.a)(Zi,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-btn",{staticClass:"q-mr-sm",class:t.buttonClass,style:t.getStyle,attrs:{icon:t.icon,unelevated:"",size:"6px",round:""},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}})}),[],!1,null,null,null),tr=Ji.exports;g()(Ji,"components",{QBtn:Tt.a});var er={name:"WindowTaskbarButton",props:["icon","onClicked"],methods:{onClick:function(){l.a.execFunction(this.onClicked)}}},nr=Object(h.a)(er,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-btn",{attrs:{icon:t.icon,color:"actionIconColorNormal",size:"10px",flat:""},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}})}),[],!1,null,null,null),ir=nr.exports;g()(nr,"components",{QBtn:Tt.a});var rr={name:"AppBarView",components:{LinuxTaskbarButton:tr,WindowTaskbarButton:ir},props:["noActions","forceActions"],computed:{getAppBarStyle:function(){return"height: ".concat(this.getAppBarHeight,"px")},getAppBarHeight:function(){return this.$store.getters.getAppBarHeight-j.a.getSeparatorHeight()},canShowActions:function(){return!!this.$store.getters.isAppBarHasCustomActions&&(this.forceActions||this.$store.getters.isSecondaryAppBarAvailable&&!this.noActions)},isLinux:function(){return w.a.isDesktopLinux()},isWindows:function(){return w.a.isDesktopWin()}},methods:{onDblClickBar:function(){this.$store.dispatch(s.a.onElectronAppBarDoubleClick)},onMaximizeMinimize:function(){this.$store.dispatch(s.a.onElectronAppBarMaximizeMinimize)},onClose:function(){this.$store.dispatch(s.a.onElectronAppBarClose)},onHide:function(){this.$store.dispatch(s.a.onElectronAppBarHide)}}},or=Object(h.a)(rr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getAppBarHeight>0?n("div",{staticClass:"z-max z-top"},[n("div",{staticClass:"bg-colorPrimaryDark q-electron-drag row items-center justify-end no-wrap",style:t.getAppBarStyle,on:{dblclick:t.onDblClickBar}},[t.canShowActions?[t.isWindows?[n("WindowTaskbarButton",{attrs:{icon:"minimize","on-clicked":t.onHide}}),n("WindowTaskbarButton",{attrs:{icon:"crop_square","on-clicked":t.onMaximizeMinimize}}),n("WindowTaskbarButton",{attrs:{icon:"close","on-clicked":t.onClose}})]:t.isLinux?[n("LinuxTaskbarButton",{attrs:{icon:"minimize","on-clicked":t.onHide}}),n("LinuxTaskbarButton",{attrs:{icon:"crop_square","on-clicked":t.onMaximizeMinimize}}),n("LinuxTaskbarButton",{attrs:{icon:"close","on-clicked":t.onClose}})]:t._e()]:t._e()],2),n("q-separator",{staticClass:"bg-colorDividerDark"})],1):t._e()}),[],!1,null,null,null),ar=or.exports;g()(or,"components",{QSeparator:S.a});var sr={name:"WarningBlock",props:["message"],computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle}}},cr=Object(h.a)(sr,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg-negative text-white markdown-body q-mx-md q-mt-md q-pa-sm rounded-borders",style:this.getAppButtonStyle},[this._v("\n  "+this._s(this.message)+"\n")])}),[],!1,null,null,null).exports,lr={name:"FileViewToolbar",components:{ObjectNavigatorBlock:Ni.a,ObjectViewSettings:Bi.a,AutoSaveButton:Ui,ActionButton:I.a,MenuView:$i.a},data:function(){return{selectedClipId:this.$store.getters.getSelectedClip.id}},watch:{getSelectedClipState:function(t){var e=t.clip.id;this.isEditMode||this.selectedClipId===e||(this.$store.commit(V.a.CANCEL_VIEW_FILE),this.selectedClipId=e)}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppBarHeight:function(){return this.$store.getters.getAppBarHeight},getAppContentToolbarStyle:function(){var t="";return(this.isSecondaryAppBarAvailable||this.isInFullScreen)&&(t+="margin-top: ".concat(this.getAppBarHeight,"px;")),t+=this.$store.getters.getAppContentToolbarStyle},getCancelActionIcon:function(){return this.isEditMode?"close":"expand_more"},isSecondaryAppBarAvailable:function(){return this.$store.getters.isSecondaryAppBarAvailable},isAuthorized:function(){return this.$store.getters.isAuthorized},isEditMode:function(){return this.getSelectedFileState.isEditMode()},isFileContentChanged:function(){return this.$store.getters.isFileContentChanged},isInFullScreen:function(){return this.$store.getters.isInFullScreen},hasNavigator:function(){return!this.isEditMode&&this.getFilesCount>1&&this.getSelectedFileIndex>=0},getFilesCount:function(){return this.$store.getters.getFilesCount},getSelectedClipState:function(){return this.$store.getters.getSelectedClipState},getSelectedFileState:function(){return this.$store.getters.getSelectedFileState},getSelectedFileIndex:function(){return this.$store.getters.getSelectedFileIndex},getFile:function(){return this.$store.getters.getSelectedFile},getOriginalFile:function(){return this.$store.getters.getOriginalFile}},methods:{onEdit:function(){this.$store.commit(V.a.EDIT_FILE)},onCancel:function(){this.isEditMode?this.$store.commit(V.a.VIEW_FILE,this.getOriginalFile):this.$store.commit(V.a.CANCEL_VIEW_FILE)},onSave:function(){this.$store.dispatch(s.a.onSaveFile,{fileRef:this.getFile})},onNextFile:function(){this.$store.commit(V.a.SELECT_NEXT_FILE)},onPrevFile:function(){this.$store.commit(V.a.SELECT_PREV_FILE)},onShare:function(){this.$store.dispatch(s.a.onGetFileShareUrl,{fileRef:this.getFile})},onSwipe:function(t){"left"!==t.direction||this.isInFullScreen?"right"===t.direction&&this.isInFullScreen&&this.$store.commit(V.a.SET_VIEW_MODE,Pi.a.DEFAULT):this.$store.commit(V.a.SET_VIEW_MODE,Pi.a.FOCUS)}}},ur=Object(h.a)(lr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toolbar",{directives:[{name:"touch-pan",rawName:"v-touch-pan.h.horizontal.prevent.mouse",value:t.onSwipe,expression:"onSwipe",modifiers:{h:!0,horizontal:!0,prevent:!0,mouse:!0}}],staticClass:"absolute-top",style:t.getAppContentToolbarStyle},[n("ObjectNavigatorBlock",{attrs:{"has-navigator":t.hasNavigator,"on-prev":t.onPrevFile,"on-next":t.onNextFile,count:t.getFilesCount,"current-index":t.getSelectedFileIndex},scopedSlots:t._u([{key:"before",fn:function(){return[n("ActionButton",{attrs:{"tooltip-label-res":"menu_close","button-class":"text-textColorPrimary",dense:!0,"on-click":t.onCancel,icon:t.getCancelActionIcon}})]},proxy:!0}])}),n("q-space"),t.isEditMode?t._e():n("ActionButton",{attrs:{icon:"content_copy","on-click":t.onShare,"tooltip-label-res":"menu_copy_link"}}),t.isEditMode?t._e():n("ActionButton",{attrs:{"tooltip-label-res":"menu_edit","on-click":t.onEdit,icon:"edit"}}),t.isEditMode?n("AutoSaveButton",{attrs:{highlight:t.isFileContentChanged,"on-click":t.onSave}}):t._e(),n("ActionButton",{attrs:{icon:"tune"}},[n("MenuView",[n("ObjectViewSettings")],1)],1)],1)}),[],!1,null,null,null),dr=ur.exports;g()(ur,"components",{QToolbar:A.a,QSpace:D.a}),g()(ur,"directives",{TouchPan:Fe.a});var hr=n("c466"),pr={name:"FileDetailsProgressBlock",components:{},props:["trackColor","progress","color","label"],computed:{getProgressValue:function(){return this.progress/100},getTextColor:function(){return this.trackColor?"textColorOnSurface":"textColorPrimary"},getProgressStyle:function(){return this.trackColor?"background-color: ".concat(j.a.getColorBrand(this.trackColor,{alpha:.87}),"; ").concat(this.$store.getters.getAppButtonStyle):"background-color: ".concat(j.a.getColorBrand("myBackgroundHighlight"),"; ").concat(this.$store.getters.getAppButtonStyle)},getLabel:function(){var t=this.progress;return t>=0?(t=t.toFixed(0),this.label?"".concat(this.label," (").concat(t,"%)"):"".concat(t,"%")):this.label}}},fr=n("6642");function gr(t,e,n){return{transform:!0===e?"translateX(".concat(!0===n.lang.rtl?"-":"","100%) scale3d(").concat(-t,",1,1)"):"scale3d(".concat(t,",1,1)")}}var mr=it.default.extend({name:"QLinearProgress",mixins:[at.a,ot.a,Object(fr.b)({xs:2,sm:4,md:6,lg:10,xl:14})],props:{value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,instantFeedback:Boolean},computed:{motion:function(){return!0===this.indeterminate||!0===this.query},classes:function(){return"q-linear-progress"+(void 0!==this.color?" text-".concat(this.color):"")+(!0===this.reverse||!0===this.query?" q-linear-progress--reverse":"")+(!0===this.rounded?" rounded-borders":"")},trackStyle:function(){return gr(void 0!==this.buffer?this.buffer:1,this.reverse,this.$q)},trackClass:function(){return"q-linear-progress__track--with".concat(!0===this.instantFeedback?"out":"","-transition")+" q-linear-progress__track--".concat(!0===this.isDark?"dark":"light")+(void 0!==this.trackColor?" bg-".concat(this.trackColor):"")},modelStyle:function(){return gr(!0===this.motion?1:this.value,this.reverse,this.$q)},modelClasses:function(){return"q-linear-progress__model--with".concat(!0===this.instantFeedback?"out":"","-transition")+" q-linear-progress__model--".concat(!0===this.motion?"in":"","determinate")},stripeStyle:function(){return{width:100*this.value+"%"}},stripeClass:function(){return!0===this.reverse?"absolute-right":"absolute-left"},attrs:function(){return{role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===this.indeterminate?void 0:this.value}}},render:function(t){var e=[t("div",{staticClass:"q-linear-progress__track absolute-full",style:this.trackStyle,class:this.trackClass}),t("div",{staticClass:"q-linear-progress__model absolute-full",style:this.modelStyle,class:this.modelClasses})];return!0===this.stripe&&!1===this.motion&&e.push(t("div",{staticClass:"q-linear-progress__stripe",style:this.stripeStyle,class:this.stripeClass})),t("div",{style:this.sizeStyle,class:this.classes,attrs:this.attrs,on:nt()({},this.qListeners)},Object(st.a)(e,this,"default"))}}),vr=Object(h.a)(pr,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-linear-progress",{style:this.getProgressStyle,attrs:{value:this.getProgressValue,color:this.color,size:"32px",rounded:""}},[e("div",{staticClass:"absolute-full flex flex-center non-selectable"},[e("q-badge",{attrs:{color:"transparent","text-color":this.getTextColor,label:this.getLabel}}),this._t("content")],2)])}),[],!1,null,null,null),yr=vr.exports;g()(vr,"components",{QLinearProgress:mr,QBadge:Ze});var _r={name:"FileDetailsUploadBlock",components:{HorizontalScrollView:Wt.a,FileDetailsProgressBlock:yr,UploaderView:$n,ActionButton:I.a},props:["file"],data:function(){return{requestAddFile:null}},watch:{getUpdateFilesProgress:function(t){var e=t[this.getFile.id];e&&this.getFile.apply(e)}},computed:{getFile:function(){return this.file},getUpdateFilesProgress:function(){return this.$store.getters.getUpdateFilesProgress},canBeReUploaded:function(){return this.isUploaded||this.getError},getError:function(){return this.getFile.error},isUploaded:function(){return this.getFile.isUploaded()},getActionIcon:function(){return this.canBeReUploaded?"cloud_upload":"cancel"},getActionIconTooltip:function(){return this.canBeReUploaded?"file_action_update_in_cloud":"menu_cancel"},getLabel:function(){return this.isUploaded?this.$t("attachments_state_uploaded"):this.getError?this.getError:this.$t("attachments_state_uploading")},getProgressTrackColor:function(){return this.isUploaded?"positive":this.getError?"negative":null},getProgress:function(){return this.canBeReUploaded?-1:this.getFile.progress}},methods:{onUpdateFile:function(){if(this.canBeReUploaded)if(this.isUploaded){var t=this;t.$store.dispatch(s.a.onShowConfirm,{title:t.$t("file_confirm_update_file"),message:t.$t("file_confirm_update_file_description"),confirmLabel:t.$t("button_update"),cancelLabel:t.$t("menu_cancel"),onConfirmed:function(){t.requestAddFile=Date.now()}})}else this.requestAddFile=Date.now();else this.$store.dispatch(s.a.onCancelFileUploadProgress,{fileRef:this.getFile})},onFileAdded:function(t){var e=this.getFile,n=t[0];this.$store.dispatch(s.a.onReUploadFile,{fileRef:e,file:n})},onCopyMd5:function(){this.$store.dispatch(s.a.onCopyText,{text:this.getMd5})}}},br=Object(h.a)(_r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-mx-sm row q-gutter-x-sm no-wrap cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.onUpdateFile(e)}}},[n("FileDetailsProgressBlock",{attrs:{progress:t.getProgress,"track-color":t.getProgressTrackColor,label:t.getLabel,color:"warning"},scopedSlots:t._u([{key:"content",fn:function(){return[t.isUploaded?n("HorizontalScrollView",{staticClass:"text-caption absolute-full ellipsis flex flex-center",attrs:{"hide-scrollbar":!0,height:"32"}}):t._e()]},proxy:!0}])}),n("ActionButton",{staticClass:"q-mr-xs text-textColorPrimary",attrs:{icon:t.getActionIcon,"on-click":t.onUpdateFile,"tooltip-label-res":t.getActionIconTooltip}}),n("UploaderView",{attrs:{"on-files-added":t.onFileAdded,"request-add-files":t.requestAddFile,multiple:!1}})],1)}),[],!1,null,null,null).exports,Sr=n("6953"),Cr={name:"FileDetailsDownloadBlock",components:{FileDetailsProgressBlock:yr,HorizontalScrollView:Wt.a,ActionButton:I.a},props:["file"],watch:{getUpdateFilesProgress:function(t){var e=t[this.getFile.id];e&&this.getFile.apply(e)}},computed:{getFile:function(){return this.file},getUpdateFilesProgress:function(){return this.$store.getters.getUpdateFilesProgress},getError:function(){return this.getFile.error},getDownloadUrl:function(){return this.getFile.downloadUrl},isDownloaded:function(){return this.getFile.isDownloaded()},isUploaded:function(){return this.getFile.isUploaded()},isDownloading:function(){return this.isUploaded&&!this.isDownloaded&&this.getFile.progress>0},getActionIcon:function(){return this.isDownloading?"cancel":"cloud_download"},getActionIconTooltip:function(){return this.isDownloading?"menu_cancel":"file_action_download_from_cloud"},getLabel:function(){return this.isDownloaded||this.getDownloadUrl?null:this.getError?this.getError:this.isDownloading?this.$t("attachments_state_downloading"):this.$t("file_action_download_from_cloud")},getProgressTrackColor:function(){return this.isDownloaded?"warning":this.getError?"negative":null},getProgress:function(){return this.isDownloaded||!this.isUploaded?-1:this.isDownloading?this.getFile.progress:-1}},methods:{onOpenOrDownloadFile:function(){this.isDownloaded?this.onOpenLink():this.onDownloadFile()},onDownloadFile:function(){this.isDownloading?this.$store.dispatch(s.a.onCancelFileDownloadProgress,{fileRef:this.getFile}):this.$store.dispatch(s.a.onDownloadFile,{fileRef:this.getFile})},onOpenLink:function(){this.$store.dispatch(s.a.onOpenLink,this.getDownloadUrl)}}},Tr=Object(h.a)(Cr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-mx-sm row q-gutter-x-sm no-wrap cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.onOpenOrDownloadFile(e)}}},[n("FileDetailsProgressBlock",{attrs:{progress:t.getProgress,"track-color":t.getProgressTrackColor,label:t.getLabel,color:"warning"},scopedSlots:t._u([{key:"content",fn:function(){return[t.getDownloadUrl&&!t.isDownloading?n("HorizontalScrollView",{staticClass:"text-caption absolute-full ellipsis flex flex-center",attrs:{"hide-scrollbar":!0,height:"32"}},[n("a",{staticClass:"text-textColorOnSurface",attrs:{href:"javascript:void(0);",target:"_blank"},on:{click:function(e){return e.stopPropagation(),t.onOpenLink(e)}}},[t._v(t._s(t.getDownloadUrl))])]):t._e()]},proxy:!0}])}),n("ActionButton",{staticClass:"q-mr-xs text-textColorPrimary",attrs:{icon:t.getActionIcon,"on-click":t.onDownloadFile,"tooltip-label-res":t.getActionIconTooltip}})],1)}),[],!1,null,null,null).exports,wr={name:"FileView",components:{AppBarView:ar,FileDetailsPreviewBlock:Sr.a,FileDetailsDownloadBlock:Tr,FileDetailsUploadBlock:br,ObjectAbbreviationBlock:It,ObjectDescriptionBlock:Et.a,FileDetailsAttrsBlock:hr.a,VerticalScrollView:J.a,ObjectTitleBlock:Oi.a,FileViewToolbar:dr,WarningBlock:cr,SpaceBlock:Xi.a},data:function(){return{hideToolbars:!1}},watch:{getName:function(){this.onAutoSave("title")},getAbbreviation:function(){this.onAutoSave("abbreviation")},getDescription:function(){this.onAutoSave("description")}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getContentClass:function(){return this.$store.getters.getNoteViewContentClass},getScrollAreaClass:function(){return this.isDeleted?"disabled":null},isToolbarVisible:function(){return!this.hideToolbars},isSecondaryAppBarAvailable:function(){return this.$store.getters.isSecondaryAppBarAvailable},isInFullScreen:function(){return this.$store.getters.isInFullScreen},isEditMode:function(){return this.getSelectedFileState.isEditMode()},isUploaded:function(){return this.getFile.isUploaded()},isAutoSaveEnabled:function(){return this.$store.getters.isAutoSaveEnabled},isFileContentChanged:function(){return this.$store.getters.isFileContentChanged},hasAbbreviation:function(){return this.getFile.hasAbbreviation()},hasDescription:function(){return this.getFile.hasDescription()},hasAdditionalAttrs:function(){return this.hasDescription||this.hasAbbreviation},canShowAdditionalAttributes:function(){return this.$store.getters.canShowAdditionalAttributes},getScrollAreaThumbWidth:function(){return-1},getTextBlockMinHeight:function(){return this.getScrollAreaHeight-j.a.getToolbarHeight()},getScrollAreaHeight:function(){return this.$store.getters.getAppAvailableHeight},getToolbarHeight:function(){return j.a.getToolbarHeight()},getPreviewBlockMinHeight:function(){return this.getScrollAreaHeight-j.a.getToolbarHeight()},getSelectedFileState:function(){return this.$store.getters.getSelectedFileState},getSelectedFileError:function(){return this.$store.getters.getSelectedFileError},getFile:function(){return this.$store.getters.getSelectedFile},getName:function(){return l.a.nullIfEmpty(this.getFile.name)},getAbbreviation:function(){return l.a.nullIfEmpty(this.getFile.abbreviation)},getDescription:function(){return l.a.nullIfEmpty(this.getFile.description)}},methods:{onHideToolbars:function(t){this.hideToolbars=t},onAutoSave:function(t){var e=this;if(this.isAutoSaveEnabled&&this.isEditMode&&this.isFileContentChanged){var n=this.getFile;yt.a.debug(s.a.onAutoSaveSelectedFile,t);var i=this.$store.getters.remoteConfigAutoSaveInterval;vt.a.runWithDelay(s.a.onAutoSaveSelectedFile,i,(function(){e.$store.dispatch(s.a.onAutoSaveSelectedFile,{fileRef:n})}))}}}},Ir=n("e9c1"),Er=Object(h.a)(wr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getContentClass},[t.isSecondaryAppBarAvailable||t.isInFullScreen?n("AppBarView"):t._e(),n("VerticalScrollView",{attrs:{height:t.getScrollAreaHeight,"on-hide-toolbars":t.onHideToolbars,"thumb-width":t.getScrollAreaThumbWidth,"content-class":t.getScrollAreaClass}},[n("SpaceBlock",{attrs:{"height-in-px":t.getToolbarHeight}}),n("ObjectTitleBlock",{attrs:{"hint-text-res":"attachments_attr_name","has-additional-attrs":t.hasAdditionalAttrs,autofocus:!0,readonly:!t.isEditMode},model:{value:t.getFile.name,callback:function(e){t.$set(t.getFile,"name",e)},expression:"getFile.name"}}),n("q-slide-transition",[t.canShowAdditionalAttributes?n("div",[n("ObjectAbbreviationBlock",{attrs:{readonly:!t.isEditMode},model:{value:t.getFile.abbreviation,callback:function(e){t.$set(t.getFile,"abbreviation",e)},expression:"getFile.abbreviation"}}),n("ObjectDescriptionBlock",{attrs:{"has-description":t.hasDescription,readonly:!t.isEditMode},model:{value:t.getFile.description,callback:function(e){t.$set(t.getFile,"description",e)},expression:"getFile.description"}})],1):t._e()]),n("FileDetailsAttrsBlock",{staticClass:"q-mt-md",attrs:{file:t.getFile}}),t.getSelectedFileError&&!t.isEditMode?n("WarningBlock",{attrs:{message:t.getSelectedFileError}}):t._e(),t.isEditMode?t._e():n("FileDetailsUploadBlock",{staticClass:"q-mt-md",attrs:{file:t.getFile}}),!t.isEditMode&&t.isUploaded?n("FileDetailsDownloadBlock",{staticClass:"q-mt-md",attrs:{file:t.getFile}}):t._e(),t.isUploaded?n("FileDetailsPreviewBlock",{attrs:{"min-height-in-px":t.getPreviewBlockMinHeight,file:t.getFile}}):t._e(),n("SpaceBlock",{attrs:{"height-in-px":t.getToolbarHeight}})],1),n("transition",{attrs:{"enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[t.isToolbarVisible?n("FileViewToolbar"):t._e()],1)],1)}),[],!1,null,null,null),Ar=Er.exports;g()(Er,"components",{QSlideTransition:Ir.a});var xr={name:"ClipView",components:{ClipDetailsAttachmentsBlock:_t.a,ObjectAbbreviationBlock:It,ObjectDescriptionBlock:Et.a,ClipDetailsTextBlock:At.a,ClipViewBottomSheet:ki,VerticalScrollView:J.a,ObjectAddTagBlock:Fi,ObjectTitleBlock:Oi.a,ObjectTagsBlock:Yi,ClipViewToolbar:Hi,AppBarView:ar,SpaceBlock:Xi.a,FileView:Ar},data:function(){return{requestFocusOnTitle:null,bottomSheetCollapsed:null,hideToolbars:!1}},created:function(){this.isSelectedClipFocusOnTitle&&(this.requestFocusOnTitle=Date.now())},watch:{getSelectedClipState:function(t){yt.a.debug("getSelectedClipState",t),this.isSelectedClipFocusOnTitle&&(this.requestFocusOnTitle=Date.now())},clipTitle:function(){this.onAutoSave("title")},clipAbbreviation:function(){this.onCloseBottomSheetIfEditMode(),this.onAutoSave("abbreviation")},clipDescription:function(){this.onCloseBottomSheetIfEditMode(),this.onAutoSave("description")},clipTextType:function(){this.onAutoSave("textType")},clipText:function(){this.onCloseBottomSheetIfEditMode(),this.onAutoSave("text")},clipTags:function(){this.onAutoSave("tags")},clipKits:function(){this.onAutoSave("kits")},clipFav:function(){this.onAutoSave("fav")},clipFiles:function(){this.onAutoSave("files")}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getToolbarHeight:function(){return j.a.getToolbarHeight()},isScrollbarVisible:function(){return((this.$store.getters.getOriginalClip.text||"").match(/\n/g)||"").length+1>this.$store.getters.getFastScrollBarMinTextLines},getContentClass:function(){return this.$store.getters.getNoteViewContentClass},getScrollAreaClass:function(){return this.isDeleted?"disabled":null},getScrollAreaThumbWidth:function(){return this.isScrollbarVisible?14:0},getScrollAreaHeight:function(){return this.$store.getters.getAppAvailableHeight},isToolbarVisible:function(){return!this.hideToolbars},getTextBlockMinHeight:function(){return this.getScrollAreaHeight-j.a.getToolbarHeight()},isSecondaryAppBarAvailable:function(){return this.$store.getters.isSecondaryAppBarAvailable},isInFullScreen:function(){return this.$store.getters.isInFullScreen},getSelectedClipState:function(){return this.$store.getters.getSelectedClipState},isSelectedClipFocusOnTitle:function(){return this.$store.getters.isSelectedClipFocusOnTitle},isEditMode:function(){return this.getSelectedClipState.isEditMode()},isPreviewMode:function(){return this.getSelectedClipState.isPreviewMode()},isAutoSaveEnabled:function(){return this.$store.getters.isAutoSaveEnabled},isClipContentChanged:function(){return this.$store.getters.isClipContentChanged},isClipAttributesChanged:function(){return this.$store.getters.isClipAttributesChanged},getClip:function(){return this.$store.getters.getSelectedClip},hasText:function(){return this.getClip.getTextLength()>0},hasTitle:function(){return this.getClip.getTitleLength()>0},hasTags:function(){return l.a.arrayIsNotEmpty(this.getClip.getTags())},hasFiles:function(){return this.getClip.hasFiles()},hasAbbreviation:function(){return this.getClip.hasAbbreviation()},hasDescription:function(){return this.getClip.hasDescription()},hasAdditionalAttrs:function(){return this.hasDescription||this.hasAbbreviation},isDeleted:function(){return this.getClip.isDeleted()},canShowAdditionalAttributes:function(){return this.$store.getters.canShowAdditionalAttributes||this.isDeleted},clipTitle:function(){return l.a.nullIfEmpty(this.getClip.title)},clipAbbreviation:function(){return l.a.nullIfEmpty(this.getClip.abbreviation)},clipDescription:function(){return l.a.nullIfEmpty(this.getClip.description)},clipText:function(){return l.a.nullIfEmpty(this.getClip.text)},clipTextType:function(){return this.getClip.textType},clipFav:function(){return this.getClip.fav},clipTags:function(){return this.getClip.getTagIds().join()},clipKits:function(){return this.getClip.getKitIds().join()},clipFiles:function(){return this.getClip.getFileIds()},isFileSelected:function(){return this.$store.getters.isFileSelected}},methods:{onHideToolbars:function(t){this.hideToolbars=t},onCloseBottomSheetIfEditMode:function(){this.isEditMode&&this.isToolbarVisible&&(this.bottomSheetCollapsed=Date.now())},onAutoSave:function(t){var e=this;if(yt.a.debug(s.a.onAutoSaveSelectedClip,t),this.isAutoSaveEnabled&&this.isEditMode&&this.isClipContentChanged){var n=this.$store.getters.remoteConfigAutoSaveInterval;vt.a.runWithDelay(s.a.onAutoSaveSelectedClip,n,(function(){return e.$store.dispatch(s.a.onAutoSaveSelectedClip)}))}else!this.isEditMode&&this.isClipAttributesChanged&&this.$store.dispatch(s.a.onSaveClip,{clip:this.getClip})},onNavigateText:function(){w.a.setFocus(this.$refs.textBlock,!0,["$refs","textView"])}}},kr=Object(h.a)(xr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getContentClass},[t.isSecondaryAppBarAvailable||t.isInFullScreen?n("AppBarView",{attrs:{"force-actions":!0}}):t._e(),n("VerticalScrollView",{attrs:{height:t.getScrollAreaHeight,"on-hide-toolbars":t.onHideToolbars,"thumb-width":t.getScrollAreaThumbWidth,"content-class":t.getScrollAreaClass}},[n("SpaceBlock",{attrs:{"height-in-px":t.getToolbarHeight}}),n("ObjectTitleBlock",{attrs:{"hint-text-res":"clip_hint_title","has-additional-attrs":t.hasAdditionalAttrs,"on-navigate-next-input":t.onNavigateText,autofocus:t.requestFocusOnTitle,readonly:!t.isEditMode,disable:t.isDeleted},model:{value:t.getClip.title,callback:function(e){t.$set(t.getClip,"title",e)},expression:"getClip.title"}}),n("q-slide-transition",[t.canShowAdditionalAttributes?n("div",[n("ObjectAbbreviationBlock",{attrs:{"on-navigate-next-input":t.onNavigateText,readonly:!t.isEditMode},model:{value:t.getClip.abbreviation,callback:function(e){t.$set(t.getClip,"abbreviation",e)},expression:"getClip.abbreviation"}}),n("ObjectDescriptionBlock",{attrs:{"has-description":t.hasDescription,readonly:!t.isEditMode},model:{value:t.getClip.description,callback:function(e){t.$set(t.getClip,"description",e)},expression:"getClip.description"}})],1):t._e()]),t.hasTags?n("ObjectTagsBlock",{attrs:{editable:t.isEditMode},model:{value:t.getClip.tagIds,callback:function(e){t.$set(t.getClip,"tagIds",e)},expression:"getClip.tagIds"}}):t._e(),t.isEditMode?n("ObjectAddTagBlock",{attrs:{editable:t.isEditMode},model:{value:t.getClip.tagIds,callback:function(e){t.$set(t.getClip,"tagIds",e)},expression:"getClip.tagIds"}}):t._e(),t.hasFiles?n("ClipDetailsAttachmentsBlock",{attrs:{clip:t.getClip,editable:t.isEditMode}}):t._e(),n("ClipDetailsTextBlock",{ref:"textBlock",attrs:{id:"printContent",clip:t.getClip,"is-edit-mode":t.isEditMode,"min-height-in-px":t.getTextBlockMinHeight}}),n("SpaceBlock",{attrs:{"height-in-px":t.getToolbarHeight}})],1),n("transition",{attrs:{"enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[t.isToolbarVisible?n("ClipViewToolbar"):t._e()],1),n("transition",{attrs:{"enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[t.isToolbarVisible?n("ClipViewBottomSheet",{staticClass:"absolute-bottom",attrs:{"min-height":t.getToolbarHeight,collapsed:t.bottomSheetCollapsed}}):t._e()],1),t.isFileSelected?n("FileView",{staticClass:"absolute-full"}):t._e()],1)}),[],!1,null,null,null),Dr=kr.exports;g()(kr,"components",{QSlideTransition:Ir.a});var Rr={name:"ClipListToolbar",props:["onTagNav","onNewNote","onDeleteSelectedNotes","onToolbarHeightChanged"],components:{ActionButton:I.a},data:function(){return{filterByText:this.$store.getters.getFilterByText,advancedSearch:!1,notSyncedClips:null}},watch:{getFilterByText:function(t){l.a.areStringsTheSame(t,this.filterByText)||(this.filterByText=t)},getRequestFocusOnSearch:function(){this.onSearchState()}},computed:{hasActiveFilters:function(){return this.$store.getters.hasActiveFilters},getActiveFilter:function(){return this.$store.getters.getActiveFilter},getFilterIconStyle:function(){return"color: ".concat(this.$store.getters.getActiveFilterIconColor)},getRequestFocusOnSearch:function(){return this.$store.getters.getRequestFocusOnSearch},maxNotesForContextActions:function(){return this.$store.getters.remoteConfigMaxNotesForContextActions},hasContextActions:function(){return this.getSelectedClipsCount<=this.maxNotesForContextActions},getFilterByText:function(){return this.$store.getters.getFilterByText},getContentClass:function(){return this.isCompactMode?"bg-colorDialog non-selectable q-ma-none":"bg-colorDialog non-selectable q-ma-md"},getAppToolbarStyle:function(){return this.isCompactMode?null:this.$store.getters.getAppToolbarStyle},isCompactMode:function(){return this.$store.getters.isTrayMode},getSelectedClipsCount:function(){return this.$store.getters.getSelectedClipsCount},isInContextState:function(){return this.$store.getters.hasSelectedClips},isOnlyStarredSelected:function(){return this.$store.getters.isOnlyStarredSelected},isOnlyNotSyncedSelected:function(){return this.$store.getters.isAuthorized&&this.$store.getters.isOnlyNotSyncedSelected},hasDeletedInSelected:function(){return this.$store.getters.hasDeletedInSelected},isOnlyDeletedSelected:function(){return this.$store.getters.isOnlyDeletedSelected},getFavActionClass:function(){return this.isOnlyStarredSelected?"text-colorAccent q-ml-md":"text-textColorPrimary q-ml-md"},getFavActionIcon:function(){return this.isOnlyStarredSelected?"star":"star_outline"},getClipsCount:function(){return this.$store.getters.getClipsCount},getTooltipLabel:function(){var t=this.$store.getters.getFilters,e=t.last;if(t.findActive&&e){var n=t.findActive(e),i=un.a.byId[n.type];return n.name||this.$t(i.getTitleRes())}return null}},methods:{onSyncClosed:function(){this.notSyncedClips=null},onResized:function(t){this.isCompactMode?this.onToolbarHeightChanged(t.height):this.onToolbarHeightChanged(t.height+36)},onShowFilterDetails:function(){var t=this.$store.getters.getFilters,e=t.last;if(e){var n=t.findActive(e);this.$store.dispatch(s.a.onStartShowFilterDetailsUseCase,n)}},onSearchState:function(){this.focusOnFilterByText()},onSearchByText:function(){this.onFilter()},onClearSearchState:function(){this.filterByText="",this.onDefaultState()},onCancelContextMode:function(){this.$store.dispatch(s.a.onUnselectAllClips)},onDefaultState:function(){this.blurOnFilterByText()},onFilter:function(){var t=this.filterByText||"";this.$store.dispatch(s.a.onApplyFilter,{textLike:t})},onCopySelected:function(){this.$store.dispatch(s.a.onCopySelectedClips)},onRestoreSelected:function(){var t=this.$store.getters.getSelectedClips;this.$store.dispatch(s.a.onUndoDeleteSelectedClips,{clips:t})},onDeleteSelected:function(){var t=this.$store.getters.getSelectedClips;this.$store.dispatch(s.a.onDeleteSelectedClips,{clips:t})},onSyncSelected:function(){this.notSyncedClips=this.$store.getters.getSelectedClips,this.$store.dispatch(s.a.onSyncSelectedClips,{clips:this.notSyncedClips,onCanceled:this.onSyncClosed,onConfirmed:this.onSyncClosed})},onFavSelected:function(){var t=this.$store.getters.getSelectedClips,e=!this.isOnlyStarredSelected;this.$store.dispatch(s.a.onFavSelectedClips,{clips:t,starred:e})},onShowAdvancedFilter:function(){this.$store.dispatch(s.a.onStartAdvancedFilterUseCase)},onCommonTags:function(){var t=this.$store.getters.getSelectedClips;this.$store.dispatch(s.a.onStartEditCommonTagsUseCase,t)},onMergeClips:function(){var t=this.$store.getters.getSelectedClips;this.$store.dispatch(s.a.onStartMergeClipsUseCase,t)},focusOnFilterByText:function(){var t=this.$refs.filterByTextRef;t&&t.focus()},blurOnFilterByText:function(){var t=this.$refs.filterByTextRef;t&&t.blur()}}},Lr=Object(h.a)(Rr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{class:t.getContentClass,style:t.getAppToolbarStyle,attrs:{square:t.isCompactMode,flat:t.isCompactMode}},[n("q-toolbar",{staticClass:"q-pl-sm q-pr-sm"},[t.isInContextState?[n("ActionButton",{attrs:{icon:"close","on-click":t.onCancelContextMode,"tooltip-label-res":"menu_cancel",dense:!0}}),t.hasContextActions?n("div",{staticClass:"q-ml-sm text-body2 text-textColorPrimary"},[t._v("\n        ("+t._s(this.getSelectedClipsCount)+")\n      ")]):n("div",{staticClass:"row no-wrap q-gutter-x-xs text-body2 text-textColorPrimary"},[n("div",{staticClass:"text-no-wrap"},[n("span",{staticClass:"text-textColorPrimary"},[t._v("(")]),n("span",{staticClass:"text-negative text-bold"},[t._v(t._s(this.getSelectedClipsCount))])]),n("div",[t._v("/")]),n("div",[t._v(t._s(t.maxNotesForContextActions)+")")])]),t.hasContextActions?[n("q-space"),t.hasDeletedInSelected?t._e():[t.isOnlyNotSyncedSelected?n("ActionButton",{attrs:{icon:"sync_disabled","button-class":"text-negative q-ml-md","tooltip-label-res":"button_sync","on-click":t.onSyncSelected,dense:!0}}):t._e(),n("ActionButton",{attrs:{icon:t.getFavActionIcon,"button-class":t.getFavActionClass,"tooltip-label-res":"menu_fav","on-click":t.onFavSelected,dense:!0}}),n("ActionButton",{attrs:{icon:"delete",dense:!0,"button-class":"text-textColorPrimary q-ml-md","tooltip-label-res":"menu_delete","on-click":t.onDeleteSelectedNotes}}),n("ActionButton",{attrs:{icon:"content_copy","on-click":t.onCopySelected,"button-class":"text-textColorPrimary q-ml-md","tooltip-label-res":"menu_copy",dense:!0}}),n("ActionButton",{attrs:{icon:"label","tooltip-label-res":"clip_multiple_edit_attributes_tags","button-class":"text-textColorPrimary q-ml-md","on-click":t.onCommonTags,dense:!0}}),this.getSelectedClipsCount>1?n("ActionButton",{attrs:{icon:"merge_type","tooltip-label-res":"menu_merge","button-class":"text-textColorPrimary q-ml-md","on-click":t.onMergeClips,dense:!0}}):t._e()],t.isOnlyDeletedSelected?[n("ActionButton",{attrs:{icon:"delete_forever","tooltip-label-res":"menu_delete","button-class":"text-textColorPrimary q-ml-md","on-click":t.onDeleteSelected,dense:!0}}),n("ActionButton",{attrs:{icon:"restore_from_trash","tooltip-label-res":"menu_restore","button-class":"text-textColorPrimary q-ml-md","on-click":t.onRestoreSelected,dense:!0}})]:t._e()]:t._e()]:[n("ActionButton",{attrs:{dense:!0,"on-click":t.onTagNav,icon:"menu"}}),n("q-input",{ref:"filterByTextRef",staticClass:"text-textColorPrimary fit q-mx-sm",attrs:{dark:this.$store.getters.isDarkMode,"input-class":"text-textColorPrimary",label:this.$t("main_search"),color:"textColorSecondary",debounce:"300",borderless:"",clearable:"",dense:""},on:{clear:t.onClearSearchState,focus:t.onSearchState,input:t.onSearchByText},model:{value:t.filterByText,callback:function(e){t.filterByText=e},expression:"filterByText"}}),t.hasActiveFilters?n("ActionButton",{attrs:{"tooltip-label":t.getTooltipLabel,"on-click":t.onShowFilterDetails,icon:"more_horiz",dense:!0}}):t._e(),t.getActiveFilter?n("ActionButton",{style:t.getFilterIconStyle,attrs:{icon:"filter_alt","on-click":t.onShowAdvancedFilter,"button-class":"q-ml-xs","tooltip-label-res":"filter_toolbar_title",dense:!0}}):t._e(),n("q-separator",{staticClass:"bg-colorDividerLight q-mr-sm q-ml-sm",attrs:{vertical:""}}),n("ActionButton",{attrs:{icon:"note_add","tooltip-label-res":"clip_info_label_note_create","on-click":t.onNewNote,dense:!0}})]],2),n("q-resize-observer",{on:{resize:t.onResized}})],1)}),[],!1,null,null,null),Fr=Lr.exports;g()(Lr,"components",{QCard:ae.a,QToolbar:A.a,QInput:Ct.a,QSeparator:S.a,QSpace:D.a,QResizeObserver:Je.a});var Or=n("176d"),Pr=n("d0c5"),Nr={name:"ClipListItemTags",props:["clip"],computed:{getItemClass:function(){return this.clip.isDeleted()?"row items-center q-gutter-x-sm no-wrap disabled":"row items-center q-gutter-x-sm no-wrap"},isNotSynced:function(){return!this.clip.firestoreId&&this.$store.getters.isAuthorized},getTags:function(){return this.clip.getTags()},getFirstTagName:function(){var t=this.getTags;return l.a.arrayIsNotEmpty(t)?t[0].name:null},getTagsCount:function(){var t=this.getTags;return t&&t.length>1?"+".concat(t.length-1):null},getTagColor:function(){var t=this.getFirstTagName,e=this.$store.getters.getFilters.findFilterByTagName(t);return e?e.color:null},getTagStyle:function(){var t=this.getTagColor;t||(t=j.a.getColorBrand("colorCustomTagBackground"));var e=j.a.getColorOnSurface(t);return"background-color: ".concat(t,"; color: ").concat(e,"; height: 16px; max-width: 200px;")}}},Br=Object(h.a)(Nr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getFirstTagName||t.isNotSynced?n("q-item-label",{class:t.getItemClass,attrs:{inset:""}},[t.isNotSynced?n("q-icon",{attrs:{name:"sync_disabled",color:"negative"}}):t._e(),t.getFirstTagName?[t.getTagsCount?n("div",{staticClass:"text-colorCustomTagBackground text-caption"},[t._v(t._s(this.getTagsCount))]):t._e(),n("q-badge",{staticClass:"text-no-wrap",style:t.getTagStyle,attrs:{transparent:!t.getTagColor,align:"bottom"}},[t._v(t._s(t.getFirstTagName))])]:t._e()],2):t._e()}),[],!1,null,null,null),Mr=Br.exports;g()(Br,"components",{QItemLabel:M.a,QIcon:B.a,QBadge:Ze});var qr={name:"ClipListItemAttrs",props:["clip","sortByWithCaption"],computed:{getItemClass:function(){return this.clip.isDeleted()?"row items-center q-gutter-x-sm no-wrap ellipsis disabled":"row items-center q-gutter-x-sm no-wrap ellipsis"},getGroupIconData:function(){return this.clip.getIconData()},isStarred:function(){return this.clip.isStarred()},hasPublicLink:function(){return this.clip.hasPublicLink()},getPublicLinkColor:function(){var t=this.clip.publicLink;return t?t.link&&!t.unavailable?"positive":"negative":null},getFilesCounter:function(){var t=this.clip.filesCount;return t&&t>0?t:null},getListSortBy:function(){return this.$store.getters.getListSortBy},getLeftCaptionTitle:function(){return $t(this,this.getListSortBy)},getLeftCaptionValue:function(){return jt(this.clip,this.getListSortBy)}}},Ur=Object(h.a)(qr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item-label",{class:t.getItemClass,attrs:{caption:""}},[t.getGroupIconData?n("q-icon",{style:t.getGroupIconData.style,attrs:{name:t.getGroupIconData.icon,size:"12px"}}):t._e(),t.sortByWithCaption?n("span",{staticClass:"text-weight-regular text-caption text-textColorSecondary"},[t._v(t._s(t.getLeftCaptionTitle))]):t._e(),n("span",{staticClass:"text-weight-regular text-caption text-textColorPrimary"},[t._v(" "+t._s(t.getLeftCaptionValue))]),t.hasPublicLink?n("q-badge",{staticClass:"vertical-middle",staticStyle:{height:"16px"},attrs:{color:t.getPublicLinkColor,"text-color":"white",transparent:""}},[n("q-icon",{attrs:{name:"link",color:"white",size:"14px"}})],1):t._e(),t.getFilesCounter?n("q-badge",{staticClass:"vertical-middle",staticStyle:{height:"16px"},attrs:{color:"myBackgroundHighlight","text-color":"textColorPrimary",transparent:""}},[n("q-icon",{staticClass:"q-mr-xs",attrs:{name:"attachment",color:"textColorPrimary",size:"14px"}}),t._v("\n    "+t._s(t.getFilesCounter)+"\n  ")],1):t._e()],1)}),[],!1,null,null,null),$r=Ur.exports;g()(Ur,"components",{QItemLabel:M.a,QIcon:B.a,QBadge:Ze});var jr={name:"ClipListItemActions",components:{ActionButton:I.a},props:["clip","itemsTop"],data:function(){return{showAll:!1}},computed:{getAppCardStyle:function(){return this.$store.getters.getAppCardStyle},getActionsClass:function(){return this.itemsTop?"row q-gutter-x-sm no-wrap rounded-borders q-ma-sm q-pr-sm items-center":"row q-gutter-x-sm no-wrap rounded-borders q-mx-md q-pr-sm items-center"},getActionsStyle:function(){return"background: rgba(0,0,0,0.7); height: 38px; ".concat(this.getAppCardStyle)},getClass:function(){return this.itemsTop?"absolute-full row justify-end":"absolute-full row justify-end items-center"},getStarredIcon:function(){return this.isStarred?"star":"star_border"},getStarredIconColor:function(){return this.isStarred?"colorAccent":"white"},hasActions:function(){return!this.$store.getters.hasSelectedClips},hasMore:function(){return!this.isDeleted&&!this.showAll},canShowAll:function(){return!this.isDeleted&&this.showAll},isStarred:function(){return this.clip.isStarred()},isDeleted:function(){return this.clip.isDeleted()}},methods:{onStar:function(){this.$store.dispatch(s.a.onFavSelectedClips,{clips:[this.clip],starred:!this.clip.isStarred()})},onDelete:function(){this.$store.dispatch(s.a.onDeleteSelectedClips,{clips:[this.clip]})},onCopy:function(){this.$store.dispatch(s.a.onCopySelectedClips,this.clip)},onRestore:function(){this.$store.dispatch(s.a.onUndoDeleteSelectedClips,{clips:[this.clip]})},onEdit:function(){this.$store.dispatch(s.a.onEditClip,this.clip)},onTags:function(){this.$store.dispatch(s.a.onStartEditTagsUseCase,this.clip)},onPrint:function(){this.$store.dispatch(s.a.onPrintClip,this.clip)},onShowAll:function(){this.showAll=!0}}},Vr=Object(h.a)(jr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasActions?n("div",{class:t.getClass},[n("div",{class:t.getActionsClass,style:t.getActionsStyle},[t.isDeleted?n("ActionButton",{attrs:{icon:"delete_forever","tooltip-label-res":"desktop_shortcuts_noteDelete","on-click":t.onDelete,color:"white",dense:!0}}):t._e(),t.isDeleted?n("ActionButton",{attrs:{icon:"restore_from_trash","tooltip-label-res":"menu_restore","on-click":t.onRestore,color:"white",dense:!0}}):t._e(),t.canShowAll?n("ActionButton",{attrs:{icon:"delete","tooltip-label-res":"desktop_shortcuts_noteDelete","on-click":t.onDelete,color:"white",dense:!0}}):t._e(),t._e(),t.canShowAll?n("ActionButton",{attrs:{icon:"label","tooltip-label-res":"main_filter_tags","on-click":t.onTags,color:"white",dense:!0}}):t._e(),t.isDeleted?t._e():n("ActionButton",{attrs:{icon:t.getStarredIcon,"tooltip-label-res":"menu_fav","on-click":t.onStar,color:t.getStarredIconColor,dense:!0}}),t.isDeleted?t._e():n("ActionButton",{attrs:{icon:"content_copy","tooltip-label-res":"desktop_shortcuts_noteCopy","on-click":t.onCopy,color:"white",dense:!0}}),t.canShowAll?n("ActionButton",{attrs:{icon:"edit","tooltip-label-res":"desktop_shortcuts_noteEdit",color:"white","on-click":t.onEdit,dense:!0}}):t._e(),t.hasMore?n("ActionButton",{attrs:{icon:"more_horiz","on-click":t.onShowAll,"on-mouse-enter":t.onShowAll,color:"white",dense:!0}}):t._e()],1)]):t._e()}),[],!1,null,null,null).exports,Hr={name:"ClipListItemGridCell",props:["clip","noActions"],components:{ClipListItemTags:Mr,ClipListItemAttrs:$r,ClipListItemActions:Vr},data:function(){return{hovered:!1}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppCardStyle:function(){return this.$store.getters.getAppCardStyle},getTitleClass:function(){return this.clip.isDeleted()?"text-h6 ellipsis disabled":"text-h6 ellipsis"},getTextClass:function(){return this.clip.isDeleted()?"text-textColorPrimary markdown-body ellipsis disabled":"text-textColorPrimary markdown-body ellipsis"},getItemClass:function(){var t;return t=this.hovered?"q-py-sm cursor-pointer bg-listItemSelected non-selectable":"q-py-sm cursor-pointer bg-colorSecondaryInverse non-selectable",this.isMultipleSelected?t+=" bg-listItemMultipleSelected":this.isSelected&&(t+=" bg-listItemSelected"),t+" shadow-4"},isSelected:function(){return this.getSelectedClip.id===this.clip.id},isMultipleSelected:function(){return this.$store.getters.hasSelectedClips&&this.$store.getters.getSelectedClipsMap.has(this.clip.id)},isViewAsMarkdown:function(){return this.clip.textType===Dt.a.MARKDOWN.id&&this.$store.getters.getSelectedTheme},isDragAndDropActive:function(){return this.$store.getters.isDragAndDropActive},getSelectedClip:function(){return this.$store.getters.getSelectedClip},getText:function(){var t=this.$store.getters.getFilterByText,e=Math.round(this.$q.screen.width/5)*this.getLines,n=this.clip.text.trim();return n.length>e&&(n=n.substr(0,e)),this.isViewAsMarkdown&&(n=bt.a.marked(n)),Pr.a.sanitize(Pr.a.highlight(n,t,!1))},getTitle:function(){var t=this.$store.getters.getFilterByText;return Pr.a.highlight(this.clip.title,t,!0)},getLines:function(){return 3}},methods:{onTouchHold:function(){if(!this.noActions&&!this.isDragAndDropActive){var t=this.clip;this.$store.dispatch(s.a.onSelectClip,{toggleOne:!0,clip:t})}},onClick:function(t){if(!this.noActions){var e=this.$store.getters.hasSelectedClips,n=this.clip;this.$store.dispatch(s.a.onSelectClip,{toggleOne:!t.altKey&&(t.metaKey||t.ctrlKey)||e,toggleRange:!t.altKey&&t.shiftKey,toggleReset:!1,clip:n})}},onDragStart:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS,this.clip)},onDragOver:function(t){t.preventDefault()},onDragEnter:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_TARGET_FILTER)},onDrop:function(){this.$store.dispatch(s.a.onCompleteDragAndDrop)},onDragEnd:function(){this.$store.dispatch(s.a.onCancelDragAndDrop)}}};function zr(t){var e=t.__qtouchhold;void 0!==e&&(Object(ht.b)(e,"main"),Object(ht.b)(e,"temp"),clearTimeout(e.timer),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchhold)}var Wr={name:"touch-hold",bind:function(t,e){void 0!==t.__qtouchhold&&(zr(t),t.__qtouchhold_destroyed=!0);var n=e.modifiers;if(!0===n.mouse||!0===ri.a.has.touch){var i={handler:e.value,noop:ht.g,mouseStart:function(t){"function"==typeof i.handler&&!0===Object(ht.e)(t)&&(Object(ht.a)(i,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),i.start(t,!0))},touchStart:function(t){if(void 0!==t.target&&"function"==typeof i.handler){var e=t.target;Object(ht.a)(i,"temp",[[e,"touchmove","move","passiveCapture"],[e,"touchcancel","end","notPassiveCapture"],[e,"touchend","end","notPassiveCapture"]]),i.start(t)}},start:function(t,e){i.origin=Object(ht.h)(t);var n=Date.now();!0===ri.a.is.mobile&&(document.body.classList.add("non-selectable"),Object(ai.a)(),i.styleCleanup=function(t){i.styleCleanup=void 0;var e=function(){document.body.classList.remove("non-selectable")};!0===t?(Object(ai.a)(),setTimeout(e,10)):e()}),i.triggered=!1,i.sensitivity=!0===e?i.mouseSensitivity:i.touchSensitivity,i.timer=setTimeout((function(){Object(ai.a)(),i.triggered=!0,i.handler({evt:t,touch:!0!==e,mouse:!0===e,position:i.origin,duration:Date.now()-n})}),i.duration)},move:function(t){var e=Object(ht.h)(t),n=e.top,r=e.left;(Math.abs(r-i.origin.left)>=i.sensitivity||Math.abs(n-i.origin.top)>=i.sensitivity)&&clearTimeout(i.timer)},end:function(t){Object(ht.b)(i,"temp"),void 0!==i.styleCleanup&&i.styleCleanup(i.triggered),!0===i.triggered?void 0!==t&&Object(ht.l)(t):clearTimeout(i.timer)}},r=[600,5,7];"string"==typeof e.arg&&e.arg.length>0&&e.arg.split(":").forEach((function(t,e){var n=parseInt(t,10);n&&(r[e]=n)})),i.duration=r[0],i.touchSensitivity=r[1],i.mouseSensitivity=r[2],t.__qtouchhold=i,!0===n.mouse&&Object(ht.a)(i,"main",[[t,"mousedown","mouseStart","passive".concat(!0===n.mouseCapture?"Capture":"")]]),!0===ri.a.has.touch&&Object(ht.a)(i,"main",[[t,"touchstart","touchStart","passive".concat(!0===n.capture?"Capture":"")],[t,"touchend","noop","notPassiveCapture"]])}},update:function(t,e){var n=t.__qtouchhold;void 0!==n&&e.oldValue!==e.value&&("function"!=typeof e.value&&n.end(),n.handler=e.value)},unbind:function(t){void 0===t.__qtouchhold_destroyed?zr(t):delete t.__qtouchhold_destroyed}},Kr=Object(h.a)(Hr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{directives:[{name:"touch-hold",rawName:"v-touch-hold.mouse",value:t.onTouchHold,expression:"onTouchHold",modifiers:{mouse:!0}}],class:t.getItemClass,style:t.getAppCardStyle,attrs:{dark:t.isDarkMode,flat:!t.isSelected,draggable:!0,bordered:""},on:{mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1},click:function(e){return e.stopPropagation(),t.onClick(e)},dragstart:function(e){return e.stopPropagation(),t.onDragStart(e)},dragenter:t.onDragEnter,dragover:t.onDragOver,dragend:t.onDragEnd,drop:t.onDrop}},[n("q-item",[n("q-item-section",{attrs:{"no-wrap":""}},[n("ClipListItemAttrs",{staticStyle:{"margin-bottom":"8px"},attrs:{clip:t.clip}}),this.clip.title?n("q-item-label",{attrs:{lines:"1",inset:""}},[n("span",{class:t.getTitleClass,domProps:{innerHTML:t._s(t.getTitle)}})]):t._e(),n("q-item-label",{attrs:{lines:t.getLines}},[n("div",{class:t.getTextClass,domProps:{innerHTML:t._s(t.getText)}})])],1),n("q-item-section",{staticClass:"absolute-right",attrs:{side:"",top:""}},[n("ClipListItemTags",{staticStyle:{"margin-top":"8px","margin-right":"18px","margin-left":"18px"},attrs:{clip:t.clip}})],1)],1),!t.noActions&&t.hovered?n("ClipListItemActions",{attrs:{clip:t.clip,"items-top":!0}}):t._e()],1)}),[],!1,null,null,null),Gr=Kr.exports;g()(Kr,"components",{QCard:ae.a,QItem:P.a,QItemSection:N.a,QItemLabel:M.a}),g()(Kr,"directives",{TouchHold:Wr});var Qr={name:"ClipListItemGridRow",props:["clip","noActions"],components:{ClipListItemGridCell:Gr}},Yr=Object(h.a)(Qr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row no-wrap q-gutter-x-md q-px-md q-pt-md"},t._l(t.clip,(function(e){return n("ClipListItemGridCell",{key:e.id,staticClass:"col",attrs:{"no-actions":t.noActions,clip:e}})})),1)}),[],!1,null,null,null).exports,Xr={name:"ClipListItemText",props:["clip","withStarred"],computed:{getItemClass:function(){return this.clip.id===this.$store.getters.getActiveClipboardClipId||this.clip.text===this.$store.getters.getActiveClipboardText?"text-body2 q-gutter-x-sm items-center no-wrap text-bold":"text-body2 q-gutter-x-sm items-center no-wrap"},getGroupIconData:function(){return this.withStarred?this.clip.getIconData():null},getTextClass:function(){return this.clip.isDeleted()?"text-textColorPrimary ellipsis disabled":"text-textColorPrimary ellipsis"},getLines:function(){return 1},getTitleOrText:function(){var t=this.$store.getters.getFilterByText;if(this.clip.title)return Pr.a.highlight(this.clip.title,t,!0);var e=Math.round(this.$q.screen.width/5)*this.getLines;if(this.clip.text){var n=this.clip.text.trim();return n.length>e&&(n=n.substr(0,e)),Pr.a.highlight(n,t,!0)}return null}}},Zr=Object(h.a)(Xr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item-label",{class:t.getItemClass,attrs:{lines:t.getLines,inset:""}},[t.getGroupIconData?n("q-icon",{style:t.getGroupIconData.style,attrs:{name:t.getGroupIconData.icon,size:"12px"}}):t._e(),n("span",{class:t.getTextClass,domProps:{innerHTML:t._s(t.getTitleOrText)}})],1)}),[],!1,null,null,null),Jr=Zr.exports;g()(Zr,"components",{QItemLabel:M.a,QIcon:B.a});var to={name:"ClipListItemDefault",props:["clip","onClick","noActions"],components:{ClipListItemText:Jr,ClipListItemTags:Mr,ClipListItemAttrs:$r,ClipListItemActions:Vr},data:function(){return{hovered:!1}},methods:{onDragStart:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS,this.clip)},onDragOver:function(t){t.preventDefault()},onDragEnter:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_TARGET_FILTER)},onDrop:function(){this.$store.dispatch(s.a.onCompleteDragAndDrop)},onDragEnd:function(){this.$store.dispatch(s.a.onCancelDragAndDrop)}}},eo=Object(h.a)(to,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{attrs:{clickable:"",draggable:!0},on:{dragstart:function(e){return e.stopPropagation(),t.onDragStart(e)},dragenter:t.onDragEnter,dragover:t.onDragOver,dragend:t.onDragEnd,drop:t.onDrop,click:function(e){return e.stopPropagation(),t.onClick(e)},mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[n("q-item-section",{attrs:{"no-wrap":""}},[n("ClipListItemAttrs",{staticStyle:{"margin-bottom":"8px"},attrs:{clip:t.clip,"sort-by-with-caption":!0}}),n("ClipListItemText",{attrs:{clip:t.clip}})],1),n("q-item-section",{staticClass:"absolute-right",attrs:{side:"",top:""}},[n("ClipListItemTags",{staticStyle:{"margin-top":"13px","margin-right":"18px","margin-left":"18px"},attrs:{clip:t.clip}})],1),!t.noActions&&t.hovered?n("ClipListItemActions",{attrs:{clip:t.clip}}):t._e(),n("q-separator",{staticClass:"bg-colorDividerLight absolute-bottom"})],1)}),[],!1,null,null,null),no=eo.exports;g()(eo,"components",{QItem:P.a,QItemSection:N.a,QSeparator:S.a});var io={name:"ClipListItemCompact",props:["clip","onClick","noActions"],components:{ClipListItemText:Jr,ClipListItemTags:Mr,ClipListItemActions:Vr},data:function(){return{hovered:!1}},methods:{onDragStart:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS,this.clip)},onDragOver:function(t){t.preventDefault()},onDragEnter:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_TARGET_FILTER)},onDrop:function(){this.$store.dispatch(s.a.onCompleteDragAndDrop)},onDragEnd:function(){this.$store.dispatch(s.a.onCancelDragAndDrop)}}},ro=Object(h.a)(io,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{attrs:{clickable:"",draggable:!0},on:{dragstart:function(e){return e.stopPropagation(),t.onDragStart(e)},dragenter:t.onDragEnter,dragover:t.onDragOver,dragend:t.onDragEnd,drop:t.onDrop,click:function(e){return e.stopPropagation(),t.onClick(e)},mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[n("q-item-section",[n("ClipListItemText",{attrs:{clip:t.clip,"with-starred":!0}})],1),n("q-item-section",{attrs:{side:""}},[n("ClipListItemTags",{staticClass:"q-mx-sm",attrs:{clip:t.clip}})],1),!t.noActions&&t.hovered?n("ClipListItemActions",{attrs:{clip:t.clip}}):t._e(),n("q-separator",{staticClass:"bg-colorDividerLight absolute-bottom"})],1)}),[],!1,null,null,null),oo=ro.exports;g()(ro,"components",{QItem:P.a,QItemSection:N.a,QSeparator:S.a});var ao=n("78c8"),so={name:"ClipListItemPreview",props:["clip","onClick","noActions"],components:{ClipListItemTags:Mr,ClipListItemAttrs:$r,ClipListItemActions:Vr},data:function(){return{hovered:!1}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppCardStyle:function(){return this.$store.getters.getAppCardStyle},getCardClass:function(){var t;return t=this.hovered?"q-ma-md q-py-sm cursor-pointer bg-listItemSelected non-selectable":"q-ma-md q-py-sm cursor-pointer bg-colorSecondaryInverse non-selectable",this.isMultipleSelected?t+=" bg-listItemMultipleSelected":this.isSelected&&(t+=" bg-listItemSelected"),t+" shadow-4"},getItemClass:function(){return this.clip.id===this.$store.getters.getActiveClipboardClipId||this.clip.text===this.$store.getters.getActiveClipboardText?"text-body2 text-bold":"text-body2"},getTitleClass:function(){return this.clip.isDeleted()?"text-h6 ellipsis disabled":"text-h6 ellipsis"},getTextClass:function(){return this.clip.isDeleted()?"text-textColorPrimary markdown-body ellipsis disabled":"text-textColorPrimary markdown-body ellipsis"},isSelected:function(){return this.getSelectedClip.id===this.clip.id},isMultipleSelected:function(){return this.$store.getters.hasSelectedClips&&this.$store.getters.getSelectedClipsMap.has(this.clip.id)},isViewAsTextWithLinks:function(){return this.clip.textType===Dt.a.LINK.id&&this.$store.getters.getSelectedTheme},isViewAsMarkdown:function(){return this.clip.textType===Dt.a.MARKDOWN.id&&this.$store.getters.getSelectedTheme},getSelectedClip:function(){return this.$store.getters.getSelectedClip},getLines:function(){return 5},getText:function(){var t=this.$store.getters.getFilterByText;if(this.isViewAsTextWithLinks){var e=this,n=ao.a.linkify(this.clip.text,(function(n){var i=Pr.a.highlight(n.getMatchedText(),t,!1);return ao.a.preview(e,n.getAnchorHref(),i,null,!0)}));return Pr.a.sanitize(n)}var i=Math.round(this.$q.screen.width/5)*this.getLines,r=this.clip.text.trim();return r.length>i&&(r=r.substr(0,i)),this.isViewAsMarkdown&&(r=bt.a.marked(r)),Pr.a.sanitize(Pr.a.highlight(r,t,!1))},getTitle:function(){var t=this.$store.getters.getFilterByText;return Pr.a.highlight(this.clip.title,t,!0)}},methods:{onDragStart:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS,this.clip)},onDragOver:function(t){t.preventDefault()},onDragEnter:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_TARGET_FILTER)},onDrop:function(){this.$store.dispatch(s.a.onCompleteDragAndDrop)},onDragEnd:function(){this.$store.dispatch(s.a.onCancelDragAndDrop)}}},co=Object(h.a)(so,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{class:t.getCardClass,style:t.getAppCardStyle,attrs:{dark:t.isDarkMode,flat:!t.isSelected,draggable:!0,bordered:""},on:{mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1},click:function(e){return e.stopPropagation(),t.onClick(e)},dragstart:function(e){return e.stopPropagation(),t.onDragStart(e)},dragenter:t.onDragEnter,dragover:t.onDragOver,dragend:t.onDragEnd,drop:t.onDrop}},[n("q-item",[n("q-item-section",[n("ClipListItemAttrs",{staticStyle:{"margin-bottom":"8px"},attrs:{clip:t.clip}}),this.clip.title?n("q-item-label",{attrs:{lines:"1",inset:""}},[n("span",{class:t.getTitleClass,domProps:{innerHTML:t._s(t.getTitle)}})]):t._e(),n("q-item-label",{class:t.getItemClass,attrs:{lines:t.getLines}},[n("div",{class:t.getTextClass,domProps:{innerHTML:t._s(t.getText)}})])],1),n("q-item-section",{staticClass:"absolute-right",attrs:{side:"",top:""}},[n("ClipListItemTags",{staticStyle:{"margin-top":"8px","margin-right":"18px","margin-left":"18px"},attrs:{clip:t.clip}})],1)],1),!t.noActions&&t.hovered?n("ClipListItemActions",{attrs:{clip:t.clip,"items-top":!0}}):t.hovered?n("div",{staticClass:"absolute-full"}):t._e()],1)}),[],!1,null,null,null),lo=co.exports;g()(co,"components",{QCard:ae.a,QItem:P.a,QItemSection:N.a,QItemLabel:M.a});var uo={name:"ClipListItemComfortable",props:["clip","onClick","noActions"],components:{ClipListItemText:Jr,ClipListItemTags:Mr,ClipListItemAttrs:$r,ClipListItemActions:Vr},data:function(){return{hovered:!1}},methods:{onDragStart:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS,this.clip)},onDragOver:function(t){t.preventDefault()},onDragEnter:function(){this.$store.commit(V.a.SET_DRAG_AND_DROP_TARGET_FILTER)},onDrop:function(){this.$store.dispatch(s.a.onCompleteDragAndDrop)},onDragEnd:function(){this.$store.dispatch(s.a.onCancelDragAndDrop)}}},ho=Object(h.a)(uo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{attrs:{clickable:"",draggable:!0},on:{dragstart:function(e){return e.stopPropagation(),t.onDragStart(e)},dragenter:t.onDragEnter,dragover:t.onDragOver,dragend:t.onDragEnd,drop:t.onDrop,click:function(e){return e.stopPropagation(),t.onClick(e)},mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[n("q-item-section",{attrs:{"no-wrap":""}},[n("ClipListItemAttrs",{staticStyle:{"margin-bottom":"8px"},attrs:{clip:t.clip}}),n("ClipListItemText",{attrs:{clip:t.clip}})],1),n("q-item-section",{staticClass:"absolute-right",attrs:{side:"",top:""}},[n("ClipListItemTags",{staticStyle:{"margin-top":"13px","margin-right":"18px","margin-left":"18px"},attrs:{clip:t.clip}})],1),!t.noActions&&t.hovered?n("ClipListItemActions",{attrs:{clip:t.clip}}):t._e(),n("q-separator",{staticClass:"bg-colorDividerLight absolute-bottom"})],1)}),[],!1,null,null,null),po=ho.exports;g()(ho,"components",{QItem:P.a,QItemSection:N.a,QSeparator:S.a});var fo={name:"ClipListItem",props:["itemHeight","noActions","listStyle","index","clip"],components:{ClipListItemDefault:no,ClipListItemCompact:oo,ClipListItemPreview:lo,ClipListItemComfortable:po},computed:{getTheme:function(){return this.$store.getters.getSelectedTheme},getItemClass:function(){return this.isMultipleSelected?"bg-listItemMultipleSelected non-selectable":this.isSelected?"bg-listItemSelected non-selectable":"non-selectable"},getItemStyle:function(){return this.isSelected?"height: ".concat(this.itemHeight,"px; box-shadow: 4px 0px ").concat(j.a.getColorAccent(this.getTheme)," inset; padding-right: 11px"):"height: ".concat(this.itemHeight,"px; padding-right: 11px")},isDragAndDropActive:function(){return this.$store.getters.isDragAndDropActive},isStyleComfortable:function(){return this.listStyle===Or.a.COMFORTABLE},isStylePreview:function(){return this.listStyle===Or.a.PREVIEW},isStyleCompact:function(){return this.listStyle===Or.a.COMPACT},isSelected:function(){return this.getSelectedClip.id===this.clip.id},isMultipleSelected:function(){return this.$store.getters.hasSelectedClips&&this.$store.getters.getSelectedClipsMap.has(this.clip.id)},getSelectedClip:function(){return this.$store.getters.getSelectedClip}},methods:{onTouchHold:function(){if(!this.noActions&&!this.isDragAndDropActive){var t=this.clip;this.$store.dispatch(s.a.onSelectClip,{toggleOne:!0,clip:t})}},onClick:function(t){if(!this.noActions){var e=this.clip,n=this.$store.getters.hasSelectedClips;this.$store.dispatch(s.a.onSelectClip,{toggleOne:!t.altKey&&(t.metaKey||t.ctrlKey)||n,toggleRange:!t.altKey&&t.shiftKey,toggleReset:!1,clip:e})}}}},go=Object(h.a)(fo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isStyleComfortable?n("ClipListItemComfortable",{directives:[{name:"touch-hold",rawName:"v-touch-hold.mouse",value:t.onTouchHold,expression:"onTouchHold",modifiers:{mouse:!0}}],class:t.getItemClass,style:t.getItemStyle,attrs:{"on-click":t.onClick,clip:t.clip,"no-actions":t.noActions}}):t.isStyleCompact?n("ClipListItemCompact",{directives:[{name:"touch-hold",rawName:"v-touch-hold.mouse",value:t.onTouchHold,expression:"onTouchHold",modifiers:{mouse:!0}}],class:t.getItemClass,style:t.getItemStyle,attrs:{"on-click":t.onClick,clip:t.clip,"no-actions":t.noActions}}):t.isStylePreview?n("ClipListItemPreview",{directives:[{name:"touch-hold",rawName:"v-touch-hold.mouse",value:t.onTouchHold,expression:"onTouchHold",modifiers:{mouse:!0}}],attrs:{"on-click":t.onClick,clip:t.clip,"no-actions":t.noActions}}):n("ClipListItemDefault",{directives:[{name:"touch-hold",rawName:"v-touch-hold.mouse",value:t.onTouchHold,expression:"onTouchHold",modifiers:{mouse:!0}}],class:t.getItemClass,style:t.getItemStyle,attrs:{"on-click":t.onClick,clip:t.clip,"no-actions":t.noActions}})}),[],!1,null,null,null),mo=go.exports;g()(go,"directives",{TouchHold:Wr});var vo={name:"ClipList",props:["listHeightInPixels","hasZeroState","noActions","listStyle","clipList","listId"],components:{ClipListItemGridRow:Yr,VerticalScrollView:J.a,DataLoadingBlock:Z,ClipListItem:mo},watch:{getSelectedClipIndex:function(t){var e=this.$refs.clipList;if(e&&t>=0){var n=t;this.isGridListStyle&&(n=Math.abs(t/2)),vt.a.nextTick((function(){return e.scrollTo(n)}))}}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getScrollTarget:function(){return"#clipListContainer > .scroll"},getListStyle:function(){return this.listStyle},getEmptyStateStyle:function(){return"height: ".concat(this.listHeightInPixels,"px")},getClipListClass:function(){return this.isGridListStyle?"q-pb-md":null},getListItemHeight:function(){return this.getListStyle.height},getScrollbarMultiplier:function(){return this.$store.getters.remoteConfigNoteScrollbarMultiplier},getThumbWidth:function(){var t=this.getClipsCount,e=this.listHeightInPixels,n=this.getListItemHeight,i=-1;return t>(Math.round(e/n)+1)*this.getScrollbarMultiplier&&(i=16),i},isInClipsLoadingState:function(){return this.$store.getters.isInClipsLoadingState},isGridListStyle:function(){return this.getListStyle===Or.a.GRID},hasClips:function(){return this.getClipsCount>0},getClips:function(){var t,e=this.clipList||[];if(this.isGridListStyle){t=[];var n=[];e.forEach((function(e){n.length<2?n.push(e):(t.push(n),n=[e])})),n.length>0&&t.push(n)}else t=e;return Object.freeze(t)},getClipsCount:function(){return this.getClips.length},getSelectedClipIndex:function(){return this.$store.getters.getSelectedClipIndex},getEmptyStateConfig:function(){var t=this.$store.getters.getFilters,e=this.getTheme,n=t.last;if(n&&(n=t.findActive(n,e)),!n||!t)return null;var i=un.a.byId[n.type],r={};r.title=n.name||this.$t(i.getTitleRes()),i.getIconRes&&(r.icon=i.getIconRes(n));var o="main_list_empty_description_filtered";return n.isAll()?o="main_list_empty_description_all":n.isTag(t)?o="main_list_empty_description_tags":n.isStarred()?o="main_list_empty_description_starred":n.isUntagged()?o="main_list_empty_description_no_tags":n.isClipboard()?o="main_list_empty_description_clipboard":n.isDeleted()?o="main_list_empty_description_deleted":n.isSnippets()&&(o="main_list_empty_description_snippets"),r.iconStyle="color: ".concat(this.$store.getters.getActiveFilterIconColor),r.description=this.$t(o),r.caption=this.$tc("main_list_empty_caption",null,{n:this.$t("main_list_empty_caption_three_dot"),n1:this.$t("main_list_empty_caption_three_dot")}),r}},methods:{getItemProps:function(t){return{index:t,clip:this.getClips[t],itemHeight:this.getListItemHeight}}}},yo=Object(h.a)(vo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasClips?n("VerticalScrollView",{attrs:{"dom-id":"clipListContainer",height:t.listHeightInPixels,"thumb-width":t.getThumbWidth}},[n("q-virtual-scroll",{ref:"clipList",class:t.getClipListClass,attrs:{items:t.getClips,dark:t.isDarkMode,"virtual-scroll-item-size":t.getListItemHeight,"scroll-target":t.getScrollTarget},scopedSlots:t._u([{key:"default",fn:function(e){e.item;var i=e.index;return[t.isGridListStyle?n("ClipListItemGridRow",t._b({key:i,attrs:{"no-actions":t.noActions}},"ClipListItemGridRow",t.getItemProps(i),!1)):n("ClipListItem",t._b({key:i,attrs:{"no-actions":t.noActions,"list-style":t.listStyle}},"ClipListItem",t.getItemProps(i),!1))]}}],null,!1,393709467)})],1):t.hasZeroState&&!t.isInClipsLoadingState?n("div",{staticClass:"bg-colorPrimaryInverse",style:t.getEmptyStateStyle},[t.getEmptyStateConfig?n("div",{staticClass:"column items-center text-center q-gutter-md q-ma-lg"},[n("q-avatar",{style:t.getEmptyStateConfig.iconStyle,attrs:{icon:t.getEmptyStateConfig.icon,color:"myBackgroundHighlight",size:"72px"}}),n("div",{staticClass:"text-h6 text-textColorPrimary"},[t._v(t._s(t.getEmptyStateConfig.title))]),n("div",{staticClass:"text-body1 text-textColorSecondary"},[t._v(t._s(t.getEmptyStateConfig.description))]),n("div",{staticClass:"text-caption text-textColorSecondary row no-wrap"},[n("q-icon",{staticStyle:{color:"#FFCF01"},attrs:{name:"warning",size:"xs"}}),t._v("\n      "+t._s(t.getEmptyStateConfig.caption)+"\n    ")],1)],1):t._e()]):n("DataLoadingBlock")}),[],!1,null,null,null),_o=yo.exports;g()(yo,"components",{QVirtualScroll:ft,QAvatar:x.a,QIcon:B.a});var bo={name:"MainList",components:{ClipListToolbar:Fr,ClipList:_o},data:function(){return{undoDeleteClipsDismiss:null,toolbarHeight:86}},watch:{getDeletedClips:function(t){var e=this;if(!l.a.arrayIsEmpty(t)){var n=this.$t("button_undo"),i=this.$tc("clip_snackbar_text_deleted",t.length,{n:t.length}),r=this.undoDeleteClipsDismiss;r&&r(),this.undoDeleteClipsDismiss=this.$q.notify({message:i,position:"top",timeout:2e3,actions:[{label:n,color:"colorAccent",handler:function(){return e.$store.dispatch(s.a.onUndoDeleteSelectedClips,{clips:t})}}]})}}},computed:{hasSelectedClips:function(){return this.$store.getters.hasSelectedClips},isDesktopMode:function(){return this.$store.getters.isDesktopMode},getClips:function(){return this.$store.getters.getClips},getListStyle:function(){return this.$store.getters.getListStyle},getListHeightInPixels:function(){return this.$store.getters.getAppAvailableHeight-this.toolbarHeight+2},getDeletedClips:function(){return this.$store.getters.getDeletedClips}},methods:{onTagNav:function(){this.$store.dispatch(s.a.onChangeLeftNavigationState)},onNewNote:function(){this.$store.dispatch(s.a.onCreateNewClip)},onDeleteSelectedNotes:function(){var t=this.$store.getters.getSelectedClips;this.$store.dispatch(s.a.onDeleteSelectedClips,{clips:t})},onToolbarHeightChanged:function(t){this.toolbarHeight=t}}},So=Object(h.a)(bo,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-scroll non-selectable bg-colorSecondaryInverse"},[e("ClipListToolbar",{attrs:{onTagNav:this.onTagNav,onNewNote:this.onNewNote,"on-toolbar-height-changed":this.onToolbarHeightChanged,"on-delete-selected-notes":this.onDeleteSelectedNotes}}),e("q-separator",{staticClass:"bg-colorDividerLight"}),e("ClipList",{attrs:{"list-height-in-pixels":this.getListHeightInPixels,"list-style":this.getListStyle,"has-zero-state":!0,"clip-list":this.getClips,"list-id":"clipList"}})],1)}),[],!1,null,null,null),Co=So.exports;g()(So,"components",{QSeparator:S.a});var To=n("9b6a"),wo=n("df33"),Io=n.n(wo),Eo=function(t){return Io()(t)},Ao=function(t){var e=To.a.getScope();yt.a.debug("recordKey",e),Object(To.a)("*",To.a.getScope(),(function(){t(To.a.getPressedKeyCodes())}))},xo=function(){To.a.setScope("advanced_search")},ko=function(){To.a.setScope("user"),w.a.resetFocus()},Do=function(){To.a.setScope("tags")},Ro=function(){To.a.setScope("merge")},Lo=function(){To.a.setScope("settings")},Fo=function(){return"user"===To.a.getScope()},Oo={name:"AdvancedFilterNamedFiltersBlock",components:{ChipsRowBlock:Zt},props:["onApplyFilter","onResetFilter"],computed:{getNamedFilters:function(){return this.$store.getters.getNamedFilters},getActiveFilter:function(){return this.$store.getters.getActiveFilter},getOptions:function(){var t=this.getActiveFilter;return this.getNamedFilters.map((function(e){return{model:e,icon:"filter_alt",color:e.color,label:e.name,checked:e.uid===t.activeFilterId}}))}},methods:{onClicked:function(t){j.a.showLoadingState(),t.checked?l.a.execFunction(this.onResetFilter):l.a.execFunction(this.onApplyFilter,["named filter",t.model])}}},Po=Object(h.a)(Oo,(function(){var t=this.$createElement;return(this._self._c||t)("ChipsRowBlock",{attrs:{options:this.getOptions,"on-clicked":this.onClicked}})}),[],!1,null,null,null).exports,No={name:"AdvancedFilterTextContainsBlock",components:{HeaderBlock:rn},props:["onApplyFilter"],data:function(){return{textLike:null}},watch:{getActiveFilterTextLike:function(t){this.textLike=t}},created:function(){this.textLike=this.getActiveFilterTextLike},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getActiveFilter:function(){return this.$store.getters.getActiveFilter},getActiveFilterTextLike:function(){return this.getActiveFilter.textLike}},methods:{onInput:function(){var t=this.getActiveFilter;t.textLike=this.textLike,l.a.execFunction(this.onApplyFilter,["text contains",t])}}},Bo=Object(h.a)(No,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("HeaderBlock",[t._v(t._s(t.$t("advanced_filter_block_text")))]),n("q-input",{staticClass:"text-textColorPrimary q-mx-md q-mt-sm",attrs:{dark:t.isDarkMode,"input-class":"text-textColorPrimary",label:t.$t("filter_tag_rule_hint"),color:"colorAccent",debounce:"300",clearable:"",outlined:"",dense:""},on:{input:t.onInput},model:{value:t.textLike,callback:function(e){t.textLike=e},expression:"textLike"}})],1)}),[],!1,null,null,null),Mo=Bo.exports;g()(Bo,"components",{QInput:Ct.a});var qo=n("b605"),Uo={name:"DropdownOptionsView",components:{DropdownButtonView:qo.a},props:["onOptionClicked","inBrackets","options","value"],data:function(){return{optionId:this.value}},watch:{value:function(t){this.optionId=t}},computed:{getOptions:function(){return this.options},getOptionLabel:function(){var t=l.a.zeroIfNull(this.optionId),e=this.getOptions.find((function(e){return e.id===t}));return e?this.inBrackets?Pr.a.inBrackets(e.label):e.label:null}},methods:{onSelectOption:function(t){this.optionId=t.id,this.$emit("input",t.id),l.a.execFunction(this.onOptionClicked,[t])}}},$o=Object(h.a)(Uo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getOptionLabel?n("DropdownButtonView",{attrs:{label:t.getOptionLabel},scopedSlots:t._u([{key:"list",fn:function(){return t._l(t.getOptions,(function(e){return n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.id,attrs:{clickable:""},on:{click:function(n){return t.onSelectOption(e)}}},[n("q-item-section",{staticClass:"text-textColorPrimary"},[t._v(t._s(e.label))])],1)}))},proxy:!0}],null,!1,2646926763)}):t._e()}),[],!1,null,null,null),jo=$o.exports;g()($o,"components",{QItem:P.a,QItemSection:N.a}),g()($o,"directives",{ClosePopup:Pe.a});var Vo={name:"SeparateScreenBlock",props:["iconRes","titleRes","onClicked","caption","disable","value"],computed:{getIcon:function(){return this.iconRes},getTitle:function(){return this.$t(this.titleRes)},getCaption:function(){return this.caption}},methods:{onClick:function(t){t.preventDefault(),t.stopPropagation(),l.a.execFunction(this.onClicked,[this.value])}}},Ho=Object(h.a)(Vo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"q-my-none",attrs:{tag:"label",disable:t.disable},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[t.getIcon?n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{size:"24px",name:t.getIcon,color:"textColorPrimary"}})],1):t._e(),n("q-item-section",[n("q-item-label",{staticClass:"row items-center no-wrap q-gutter-x-sm"},[n("div",{staticClass:"text-textColorPrimary"},[t._v(t._s(t.getTitle))]),t._t("afterTitle")],2)],1),n("q-item-section",{attrs:{side:""}},[n("div",{staticClass:"row text-no-wrap q-gutter-x-sm items-center"},[t.getCaption?n("div",{staticClass:"text-colorAccent text-caption text-weight-medium"},[t._t("caption",[t._v(t._s(t.getCaption))])],2):t._e(),n("q-icon",{attrs:{size:"24px",name:"chevron_right",color:"textColorSecondary"}})],1)])],1)}),[],!1,null,null,null),zo=Ho.exports;g()(Ho,"components",{QItem:P.a,QItemSection:N.a,QIcon:B.a,QItemLabel:M.a});var Wo={name:"AdvancedFilterWhereTitleBlock",components:{DropdownOptionsView:jo,SeparateScreenBlock:zo},props:["onOptionClicked","onClicked","titleRes","options","value"],data:function(){return{optionId:this.value}},watch:{value:function(t){this.optionId=t}},computed:{getOptions:function(){return this.options}},methods:{onSelectOption:function(t){this.optionId=t.id,this.$emit("input",t.id),l.a.execFunction(this.onOptionClicked,[t])}}},Ko=Object(h.a)(Wo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("SeparateScreenBlock",{attrs:{"title-res":t.titleRes,"on-clicked":t.onClicked},scopedSlots:t._u([{key:"afterTitle",fn:function(){return[n("DropdownOptionsView",{attrs:{options:t.getOptions,"on-option-clicked":t.onSelectOption,"in-brackets":!0},model:{value:t.optionId,callback:function(e){t.optionId=e},expression:"optionId"}})]},proxy:!0}])})}),[],!1,null,null,null).exports,Go=[],Qo={name:"AdvancedFilterCategoriesBlock",components:{AdvancedFilterWhereTitleBlock:Ko,ChipItem:Yt},props:["onClicked","onApplyFilter"],beforeDestroy:function(){Go=[]},computed:{getActiveFilter:function(){return this.$store.getters.getActiveFilter},getOptions:function(){var t=this.$store.getters.getActiveFilterCategoryOptions,e=Go.map((function(t){return nt()({},t)}));return e.forEach((function(e){e.checked=t.some((function(t){return t.id===e.id&&t.checked}))})),t.forEach((function(t){t.checked&&!e.some((function(e){return e.id===t.id}))&&e.push(t)})),Go=e,e},getWhereOptions:function(){var t=this;return[Rn.a.ANY_OF,Rn.a.NONE_OF].map((function(e){return{id:e.id,label:t.$t(e.titleRes)}}))}},methods:{onOptionClicked:function(t){var e=this.$store.getters.getActiveFilter;t.model.toggleInFilter(e),l.a.execFunction(this.onApplyFilter,["category",e])},onWhereOptionClicked:function(t){var e=this.getActiveFilter;e.locatedInWhereType=t.id,l.a.execFunction(this.onApplyFilter,["category where type",e])}}},Yo=Object(h.a)(Qo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AdvancedFilterWhereTitleBlock",{attrs:{"title-res":"advanced_filter_block_category","on-option-clicked":t.onWhereOptionClicked,options:t.getWhereOptions,"on-clicked":t.onClicked},model:{value:t.getActiveFilter.locatedInWhereType,callback:function(e){t.$set(t.getActiveFilter,"locatedInWhereType",e)},expression:"getActiveFilter.locatedInWhereType"}}),n("div",{staticClass:"q-mx-md"},t._l(t.getOptions,(function(e){return n("ChipItem",{key:e.id,attrs:{"chip-class":"q-ml-none q-mr-sm q-mt-sm","on-clicked":t.onOptionClicked,option:e}})})),1)],1)}),[],!1,null,null,null).exports,Xo=[],Zo={name:"AdvancedFilterTextTypesBlock",components:{SeparateScreenBlock:zo,ChipItem:Yt},props:["onClicked","onApplyFilter"],beforeDestroy:function(){Xo=[]},computed:{getOptions:function(){var t=this.$store.getters.getActiveFilterTextTypeOptions,e=Xo.map((function(t){return nt()({},t)}));return e.forEach((function(e){e.checked=t.some((function(t){return t.id===e.id&&t.checked}))})),t.forEach((function(t){t.checked&&!e.some((function(e){return e.id===t.id}))&&e.push(t)})),Xo=e,e}},methods:{onOptionClicked:function(t){var e=this.$store.getters.getActiveFilter,n=ln()(e.getTextTypeIn());l.a.arrayAddOrRemoveItem(n,t.model),e.textTypeIn=n,l.a.execFunction(this.onApplyFilter,["text type",e])}}},Jo=Object(h.a)(Zo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SeparateScreenBlock",{attrs:{"title-res":"advanced_filter_block_text_type","on-clicked":t.onClicked}}),n("div",{staticClass:"q-mx-md"},t._l(t.getOptions,(function(e){return n("ChipItem",{key:e.id,attrs:{"chip-class":"q-ml-none q-mr-sm q-mt-sm","on-clicked":t.onOptionClicked,option:e}})})),1)],1)}),[],!1,null,null,null).exports,ta=n("37f6"),ea=n("29a4"),na={name:"TextButton",props:["title","color","titleRes","onClicked","buttonClass","onLongClicked"],methods:{onClick:function(){this.onClicked&&this.onClicked()},onLongClick:function(){this.onLongClicked&&this.onLongClicked()}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getColor:function(){return this.color||"colorAccent"},getButtonClass:function(){return this.buttonClass||"q-mx-md"},getTitle:function(){return this.title||this.$t(this.titleRes)}}},ia=Object(h.a)(na,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-btn",{class:t.getButtonClass,style:t.getAppButtonStyle,attrs:{flat:"","no-caps":"",label:t.getTitle,"text-color":t.getColor},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onClick(e)},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.onLongClick(e):null}]}})}),[],!1,null,null,null),ra=ia.exports;g()(ia,"components",{QBtn:Tt.a});var oa={name:"BottomSheetView",props:["height","value"],components:{VerticalScrollView:J.a},data:function(){return{show:this.value,bottomSheetHeight:this.height}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getHeight:function(){return this.bottomSheetHeight},getAppDialogBottomSheetBorderStyle:function(){return this.$store.getters.getAppDialogBottomSheetBorderStyle},getBottomSheetStyle:function(){return"height: ".concat(this.getHeight,"px; ").concat(this.getAppDialogBottomSheetBorderStyle)},getBackgroundStyle:function(){return"background: ".concat(j.a.getColorBackgroundDim(this.isDarkMode),"; ").concat(this.getAppDialogBottomSheetBorderStyle)},getScrollAreaHeight:function(){return this.getHeight-j.a.getToolbarHeight()-j.a.getSeparatorHeight()}},methods:{onClose:function(){this.show=!1},onResized:function(t){this.bottomSheetHeight=this.height||t.height/1.5}}},aa=Object(h.a)(oa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"absolute fit non-selectable",style:t.getBackgroundStyle},[n("div",{staticClass:"fit",on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}}),n("transition",{attrs:{appear:"","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[n("div",{staticClass:"absolute-bottom bg-colorDialog shadow-up-1",style:t.getBottomSheetStyle},[n("q-toolbar",{staticClass:"text-textColorPrimary q-px-none"},[t._t("toolbar")],2),n("q-separator",{staticClass:"bg-colorDividerLight"}),n("VerticalScrollView",{attrs:{height:t.getScrollAreaHeight}},[t._t("content")],2)],1)]),n("q-resize-observer",{on:{resize:t.onResized}})],1):t._e()}),[],!1,null,null,null),sa=aa.exports;g()(aa,"components",{QToolbar:A.a,QSeparator:S.a,QResizeObserver:Je.a});var ca={name:"SelectTimeIntervalBottomSheet",props:["selectedInterval","onChangeInterval","onClearInterval","titleRes","height","value"],components:{DateTimeView:Be,TextButton:ra,SelectOptionsBlock:An,BottomSheetView:sa,HeaderBlock:rn},data:function(){return{interval:this.selectedInterval,show:this.value}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)},selectedInterval:function(t){this.interval=t}},computed:{getClearActionColor:function(){return this.getOptions.some((function(t){return t.checked}))?"colorAccent":"textColorSecondary"},isCustomIntervalSelected:function(){var t=this.interval.period;return t&&t.id===ta.a.CUSTOM_INTERVAL.id},getTitle:function(){return this.$t(this.titleRes)},getOptions:function(){var t=this,e=this.interval.period;return ta.a.periods.map((function(n){return{label:t.$t(n.titleRes),checked:e&&n.id===e.id,value:n.id,model:n}}))}},methods:{onSelect:function(t){var e=this.interval,n=t.model.toInterval(e.getFromValue(),e.getToValue());l.a.execFunction(this.onChangeInterval,[n])},onClear:function(){l.a.execFunction(this.onClearInterval)},onDateFromChanged:function(t){var e=ea.a.newInstance(this.interval);e.from=t,l.a.execFunction(this.onChangeInterval,[e])},onDateToChanged:function(t){var e=ea.a.newInstance(this.interval);e.to=t,l.a.execFunction(this.onChangeInterval,[e])}}},la=Object(h.a)(ca,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("BottomSheetView",{attrs:{height:t.height},scopedSlots:t._u([{key:"toolbar",fn:function(){return[n("HeaderBlock",[t._v(t._s(t.getTitle))]),t.onClearInterval?[n("q-space"),n("TextButton",{attrs:{"title-res":"menu_clear","button-class":"q-mx-none",color:t.getClearActionColor,"on-clicked":t.onClear}})]:t._e()]},proxy:!0},{key:"content",fn:function(){return[t.isCustomIntervalSelected?n("div",{staticClass:"row text-no-wrap items-center justify-center q-ma-sm"},[n("DateTimeView",{staticClass:"col q-ma-sm",attrs:{"on-changed":t.onDateFromChanged,hint:t.$t("where_from")},model:{value:t.interval.from,callback:function(e){t.$set(t.interval,"from",e)},expression:"interval.from"}}),n("DateTimeView",{staticClass:"col q-ma-sm",attrs:{"on-changed":t.onDateToChanged,hint:t.$t("where_to")},model:{value:t.interval.to,callback:function(e){t.$set(t.interval,"to",e)},expression:"interval.to"}})],1):t._e(),n("SelectOptionsBlock",{attrs:{options:t.getOptions,"on-clicked":t.onSelect}})]},proxy:!0}],null,!1,146987192),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}):t._e()}),[],!1,null,null,null),ua=la.exports;g()(la,"components",{QSpace:D.a});var da={name:"SelectOptionsBottomSheet",props:["onOptionClicked","titleRes","onClear","options","height","value"],components:{TextButton:ra,SelectOptionsBlock:An,BottomSheetView:sa,HeaderBlock:rn},data:function(){return{show:this.value}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}},computed:{getTitle:function(){return this.$t(this.titleRes)},getOptions:function(){return this.options||[]},getClearActionColor:function(){return this.getOptions.some((function(t){return t.checked}))?"colorAccent":"textColorSecondary"}},methods:{onClearAll:function(){l.a.execFunction(this.onClear,[this.getOptions])}}},ha=Object(h.a)(da,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("BottomSheetView",{attrs:{height:t.height},scopedSlots:t._u([{key:"toolbar",fn:function(){return[n("HeaderBlock",[t._v(t._s(t.getTitle))]),t.onClear?[n("q-space"),n("TextButton",{attrs:{"title-res":"menu_clear_all","button-class":"q-mx-none",color:t.getClearActionColor,"on-clicked":t.onClearAll}})]:t._e()]},proxy:!0},{key:"content",fn:function(){return[n("SelectOptionsBlock",{attrs:{options:t.getOptions,"on-clicked":t.onOptionClicked}})]},proxy:!0}],null,!1,1569908751),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}):t._e()}),[],!1,null,null,null),pa=ha.exports;g()(ha,"components",{QSpace:D.a});var fa=[],ga={name:"AdvancedFilterTagsBlock",components:{AdvancedFilterWhereTitleBlock:Ko,ChipFilter:Gi},props:["onClicked","onApplyFilter"],beforeDestroy:function(){fa=[]},computed:{getActiveFilter:function(){return this.$store.getters.getActiveFilter},getModels:function(){var t=this.$store.getters.getActiveFilter;if(!t)return[];var e=t.getTags().map((function(t){return{id:t.uid,filter:t,filterData:{isActive:!0,uid:t.uid}}})),n=ln()(fa);return n.forEach((function(t){var n=nt()({},t.filterData);n.isActive=e.some((function(e){return e.id===t.id})),t.filterData=n})),e.forEach((function(t){n.some((function(e){return e.id===t.id}))||n.push(t)})),fa=n,n},getWhereOptions:function(){var t=this;return[Rn.a.ANY_OF,Rn.a.ALL_OF].map((function(e){return{id:e.id,label:t.$t(e.titleRes)}}))}},methods:{onChipClicked:function(t){var e=this.getActiveFilter,n=ln()(e.getTagIds());l.a.arrayAddOrRemoveItem(n,t.uid),e.tagIds=n,l.a.execFunction(this.onApplyFilter,["tags",e])},onWhereOptionClicked:function(t){var e=this.getActiveFilter;e.tagIdsWhereType=t.id,l.a.execFunction(this.onApplyFilter,["tags where type",e])}}},ma=Object(h.a)(ga,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AdvancedFilterWhereTitleBlock",{attrs:{"title-res":"advanced_filter_block_tags","on-option-clicked":t.onWhereOptionClicked,options:t.getWhereOptions,"on-clicked":t.onClicked},model:{value:t.getActiveFilter.tagIdsWhereType,callback:function(e){t.$set(t.getActiveFilter,"tagIdsWhereType",e)},expression:"getActiveFilter.tagIdsWhereType"}}),n("div",{staticClass:"q-mx-md"},t._l(t.getModels,(function(e){return n("ChipFilter",{key:e.filter.uid,staticClass:"q-mr-sm q-mt-sm",attrs:{"on-checked":t.onChipClicked,removable:!1,clickable:!0,"filter-data":e.filterData,filter:e.filter}})})),1)],1)}),[],!1,null,null,null).exports,va={name:"DialogWithToolbar",props:["useCustomToolbar","noEscDismiss","onClosed","title","value"],components:{AppBarView:ar,ActionButton:I.a,VerticalScrollView:J.a},data:function(){return{show:this.value||!0,height:null}},watch:{value:function(t){this.show=t}},computed:{getAppFragmentDialogClass:function(){return this.$store.getters.getAppFragmentDialogClass},getAppFragmentDialogStyle:function(){return this.$store.getters.getAppFragmentDialogStyle},isSecondaryAppBarAvailable:function(){return this.$store.getters.isSecondaryAppBarAvailable}},methods:{onResized:function(t){var e=t.height-j.a.getToolbarHeight()-j.a.getSeparatorHeight();this.isSecondaryAppBarAvailable&&(e-=this.$store.getters.getAppBarHeight),this.height=e},onInput:function(t){this.$emit("input",t),t||l.a.execFunction(this.onClosed)}}},ya=Object(h.a)(va,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("q-dialog",{attrs:{"transition-hide":"slide-right","transition-show":"slide-left",maximized:t.$q.screen.lt.sm,"no-esc-dismiss":t.noEscDismiss,persistent:""},on:{input:t.onInput},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{class:t.getAppFragmentDialogClass,style:t.getAppFragmentDialogStyle},[t.isSecondaryAppBarAvailable?n("AppBarView"):t._e(),t.useCustomToolbar?t._t("toolbar"):n("q-toolbar",{staticClass:"text-textColorPrimary"},[n("ActionButton",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"arrow_back","tooltip-label-res":"menu_close",dense:!0}}),t._t("beforeTitle"),n("q-toolbar-title",[t._v("\n        "+t._s(t.title)+"\n        "),t._t("inTitle")],2),t._t("afterTitle")],2),n("q-separator",{staticClass:"bg-colorDividerLight"}),n("VerticalScrollView",{attrs:{"thumb-width":"4",height:t.height}},[t._t("content")],2),n("q-resize-observer",{on:{resize:t.onResized}})],2),t._t("bottom")],2):t._e()}),[],!1,null,null,null),_a=ya.exports;g()(ya,"components",{QDialog:oe.a,QToolbar:A.a,QToolbarTitle:k.a,QSeparator:S.a,QResizeObserver:Je.a}),g()(ya,"directives",{ClosePopup:Pe.a});var ba=n("08ff"),Sa={name:"ShowAdvancedFilterUseCase",components:{SeparateScreenBlock:zo,SelectTimeIntervalBottomSheet:ua,AdvancedFilterTextTypesBlock:Jo,AdvancedFilterCategoriesBlock:Yo,AdvancedFilterTextContainsBlock:Mo,AdvancedFilterNamedFiltersBlock:Po,SelectOptionsBottomSheet:pa,AdvancedFilterTagsBlock:ma,DialogWithToolbar:_a,ActionButton:I.a,SwitchBlock:ba.a},data:function(){return{isShown:!1,bottomSheetOptions:[],bottomSheetTitleRes:null,showBottomSheetSelectOption:!1,bottomSheetOptionClicked:function(){},bottomSheetClearAllClicked:function(){},showBottomSheetSelectTimeInterval:!1,bottomSheetTimeIntervalTitleRes:null,bottomSheetSelectedTimeInterval:null,bottomSheetTimeIntervalCleared:function(){},bottomSheetTimeIntervalChanged:function(){}}},watch:{getShowAdvancedFilterRequest:function(){xo(),this.isShown=!0}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getShowAdvancedFilterRequest:function(){return this.$store.getters.getShowAdvancedFilterRequest},getFilterCounterClass:function(){return this.hasActiveFilters?"text-colorAccent":"text-textColorPrimary"},isActiveFilterCanBeSavedAsFilter:function(){return this.$store.getters.isActiveFilterCanBeSavedAsFilter},hasNamedFilters:function(){return this.$store.getters.hasNamedFilters},hasActiveFilters:function(){return this.$store.getters.hasActiveFilters},hasTags:function(){return l.a.arrayIsNotEmpty(this.getTags)},isAuthorized:function(){return this.$store.getters.isAuthorized},hasNotesCounters:function(){return l.a.isNumber(this.getActiveFilterNotesCount)},getActiveFilter:function(){return this.$store.getters.getActiveFilter},getActiveFilterNotesCount:function(){return this.$store.getters.getActiveFilterNotesCount},getTags:function(){return this.$store.getters.getFilters.getSortedTags()},getActiveFilterCategoryOptions:function(){return this.$store.getters.getActiveFilterCategoryOptions},getActiveFilterTextTypeOptions:function(){return this.$store.getters.getActiveFilterTextTypeOptions},getCreateDateLabel:function(){var t=this.getActiveFilter.getCreateTimeInterval(),e=t.period;return yt.a.debug("getCreateDateLabel",t),e?e.getLabel(this,t.from,t.to):null},getUpdateDateLabel:function(){var t=this.getActiveFilter.getUpdateTimeInterval(),e=t.period;return yt.a.debug("getUpdateDateLabel",t),e?e.getLabel(this,t.from,t.to):null}},methods:{onClose:function(){this.$store.dispatch(s.a.onApplyFilter,{filter:this.getActiveFilter}),ko()},onClear:function(){this.$store.dispatch(s.a.onApplyFilter,{filter:xt.a.getFilterAll()}),this.isShown=!1},onFilterChecked:function(){this.onApplyFilter("named filter")},onResetFilter:function(){this.onApplyFilter("reset filter",xt.a.getFilterAll())},onApplyFilter:function(t,e,n){yt.a.debug("onApplyFilter because of",t,"changed",!n,n);var i=e||this.getActiveFilter;this.$store.dispatch(s.a.onApplyAdvancedFilter,{filter:i}).finally((function(){return j.a.hideLoadingState()}))},onSelectTags:function(){var t=this,e=this.getActiveFilter.getTagIds();this.bottomSheetTitleRes="advanced_filter_block_tags",this.bottomSheetOptions=this.getTags.map((function(t){return{checked:l.a.arrayIncludesItem(e,t.uid),label:"".concat(t.name," (").concat(t.getNotesCount(),")"),iconColor:t.color,icon:"label",model:t.uid}})),this.bottomSheetOptionClicked=function(e){var n=t.getActiveFilter,i=ln()(n.getTagIds());l.a.arrayAddOrRemoveItem(i,e.model),n.tagIds=i,t.onApplyFilter("tags")},this.bottomSheetClearAllClicked=function(e){t.getActiveFilter.tagIds=[],t.onApplyFilter("clear tags"),t.clearAllOptions(e)},this.showBottomSheetSelectOption=!0},onSelectCategories:function(){var t=this;this.bottomSheetTitleRes="advanced_filter_block_category",this.bottomSheetOptions=this.getActiveFilterCategoryOptions,this.bottomSheetOptionClicked=function(e){var n=t.getActiveFilter;e.model.toggleInFilter(n),t.onApplyFilter("categories")},this.bottomSheetClearAllClicked=function(e){t.getActiveFilter.clearToggledFilters(),t.onApplyFilter("clear categories"),t.clearAllOptions(e)},this.showBottomSheetSelectOption=!0},onSelectTextTypes:function(){var t=this;this.bottomSheetTitleRes="advanced_filter_block_text_type",this.bottomSheetOptions=this.getActiveFilterTextTypeOptions,this.bottomSheetOptionClicked=function(e){var n=t.getActiveFilter,i=ln()(n.getTextTypeIn());l.a.arrayAddOrRemoveItem(i,e.model),n.textTypeIn=i,t.onApplyFilter("text types")},this.bottomSheetClearAllClicked=function(e){t.getActiveFilter.textTypeIn=[],t.onApplyFilter("clear text types"),t.clearAllOptions(e)},this.showBottomSheetSelectOption=!0},onShowOnlyWithAttachments:function(){this.onApplyFilter("attachments")},onShowOnlyWithPublicLink:function(){this.onApplyFilter("public link")},onShowOnlyNotSynced:function(){this.onApplyFilter("not synced")},onSaveAs:function(){var t=this.getActiveFilter;this.$store.dispatch(s.a.onStartShowFilterDetailsUseCase,t)},onSelectCreateInterval:function(){var t=this;this.bottomSheetTimeIntervalTitleRes="advanced_filter_block_created",this.bottomSheetSelectedTimeInterval=this.getActiveFilter.getCreateTimeInterval(),this.bottomSheetTimeIntervalChanged=function(e){t.bottomSheetSelectedTimeInterval=e;var n=t.getActiveFilter;n.createDatePeriod=e.getPeriodValue(),n.createDateFrom=e.getFromValue(),n.createDateTo=e.getToValue(),t.onApplyFilter("create date time",n)},this.bottomSheetTimeIntervalCleared=function(){var e=t.getActiveFilter;delete e.createDatePeriod,delete e.createDateFrom,delete e.createDateTo,t.onApplyFilter("create date time",e),t.clearTimeInterval()},this.showBottomSheetSelectTimeInterval=!0},onSelectUpdateInterval:function(){var t=this;this.bottomSheetTimeIntervalTitleRes="advanced_filter_block_updated",this.bottomSheetSelectedTimeInterval=this.getActiveFilter.getUpdateTimeInterval(),this.bottomSheetTimeIntervalChanged=function(e){t.bottomSheetSelectedTimeInterval=e;var n=t.getActiveFilter;n.updateDatePeriod=e.getPeriodValue(),n.updateDateFrom=e.getFromValue(),n.updateDateTo=e.getToValue(),t.onApplyFilter("update date time",n)},this.bottomSheetTimeIntervalCleared=function(){var e=t.getActiveFilter;delete e.updateDatePeriod,delete e.updateDateFrom,delete e.updateDateTo,t.onApplyFilter("update date time",e),t.clearTimeInterval()},this.showBottomSheetSelectTimeInterval=!0},clearAllOptions:function(){this.showBottomSheetSelectOption=!1},clearTimeInterval:function(){this.showBottomSheetSelectTimeInterval=!1}}},Ca=Object(h.a)(Sa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShown?n("DialogWithToolbar",{attrs:{"on-closed":t.onClose,title:t.$t("filter_toolbar_title")},scopedSlots:t._u([{key:"inTitle",fn:function(){return[n("span",{class:t.getFilterCounterClass},[t._v("\n      ("),t.hasNotesCounters?n("span",[t._v(t._s(t.getActiveFilterNotesCount))]):n("q-spinner-dots",{class:t.getFilterCounterClass}),t._v(")\n    ")],1)]},proxy:!0},{key:"afterTitle",fn:function(){return[n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.isActiveFilterCanBeSavedAsFilter?n("ActionButton",{attrs:{icon:"save",color:"colorAccent","tooltip-label-res":"menu_save_as","on-click":t.onSaveAs}}):t._e()],1),n("ActionButton",{attrs:{icon:"close","tooltip-label-res":"menu_clear","on-click":t.onClear}})]},proxy:!0},{key:"content",fn:function(){return[t.hasNamedFilters?n("AdvancedFilterNamedFiltersBlock",{staticClass:"q-mt-sm",attrs:{"on-reset-filter":t.onResetFilter,"on-apply-filter":t.onApplyFilter}}):t._e(),n("AdvancedFilterTextContainsBlock",{staticClass:"q-mt-md",attrs:{"on-apply-filter":t.onApplyFilter}}),t.hasTags?n("AdvancedFilterTagsBlock",{staticClass:"q-mt-md",attrs:{"on-clicked":t.onSelectTags,"on-apply-filter":t.onApplyFilter}}):t._e(),n("AdvancedFilterCategoriesBlock",{staticClass:"q-mt-md",attrs:{"on-clicked":t.onSelectCategories,"on-apply-filter":t.onApplyFilter}}),n("AdvancedFilterTextTypesBlock",{staticClass:"q-mt-md",attrs:{"on-clicked":t.onSelectTextTypes,"on-apply-filter":t.onApplyFilter}}),n("SeparateScreenBlock",{staticClass:"q-mt-md",attrs:{"title-res":"advanced_filter_block_created",caption:t.getCreateDateLabel,"on-clicked":t.onSelectCreateInterval}}),n("SeparateScreenBlock",{staticClass:"q-mt-md",attrs:{"title-res":"advanced_filter_block_updated",caption:t.getUpdateDateLabel,"on-clicked":t.onSelectUpdateInterval}}),t.isAuthorized?[n("SwitchBlock",{staticClass:"q-mt-md",attrs:{"on-checked":t.onShowOnlyWithAttachments,"title-res":"advanced_filter_block_only_attachments"},model:{value:t.getActiveFilter.showOnlyWithAttachments,callback:function(e){t.$set(t.getActiveFilter,"showOnlyWithAttachments",e)},expression:"getActiveFilter.showOnlyWithAttachments"}}),n("SwitchBlock",{staticClass:"q-mt-md",attrs:{"on-checked":t.onShowOnlyWithPublicLink,"title-res":"advanced_filter_block_only_public_links"},model:{value:t.getActiveFilter.showOnlyWithPublicLink,callback:function(e){t.$set(t.getActiveFilter,"showOnlyWithPublicLink",e)},expression:"getActiveFilter.showOnlyWithPublicLink"}}),n("SwitchBlock",{staticClass:"q-my-md",attrs:{"on-checked":t.onShowOnlyNotSynced,"title-res":"advanced_filter_block_only_not_synced"},model:{value:t.getActiveFilter.showOnlyNotSynced,callback:function(e){t.$set(t.getActiveFilter,"showOnlyNotSynced",e)},expression:"getActiveFilter.showOnlyNotSynced"}})]:t._e()]},proxy:!0},{key:"bottom",fn:function(){return[t.showBottomSheetSelectOption?n("SelectOptionsBottomSheet",{attrs:{options:t.bottomSheetOptions,"title-res":t.bottomSheetTitleRes,"on-clear":t.bottomSheetClearAllClicked,"on-option-clicked":t.bottomSheetOptionClicked},model:{value:t.showBottomSheetSelectOption,callback:function(e){t.showBottomSheetSelectOption=e},expression:"showBottomSheetSelectOption"}}):t._e(),t.showBottomSheetSelectTimeInterval?n("SelectTimeIntervalBottomSheet",{attrs:{"title-res":t.bottomSheetTimeIntervalTitleRes,"selected-interval":t.bottomSheetSelectedTimeInterval,"on-clear-interval":t.bottomSheetTimeIntervalCleared,"on-change-interval":t.bottomSheetTimeIntervalChanged},model:{value:t.showBottomSheetSelectTimeInterval,callback:function(e){t.showBottomSheetSelectTimeInterval=e},expression:"showBottomSheetSelectTimeInterval"}}):t._e()]},proxy:!0}],null,!1,2653108537),model:{value:t.isShown,callback:function(e){t.isShown=e},expression:"isShown"}}):t._e()}),[],!1,null,null,null),Ta=Ca.exports;g()(Ca,"components",{QSpinnerDots:q.a});var wa={name:"HintButton",props:["icon","size","onClick","hintIcon","hintTitle","hintMessage"],computed:{getStyle:function(){var t=this.$store.getters.getSelectedTheme;return"color: ".concat(j.a.getColorBrand("textColorSecondary",{alpha:.8,theme:t}))},getIcon:function(){return this.icon||"fas fa-info-circle"},getSize:function(){return this.size||"7px"}},methods:{onClicked:function(){var t=this.hintIcon,e=this.hintTitle,n=this.hintMessage;if(e&&n){var i={icon:t,title:e,message:n};this.$store.dispatch(s.a.onShowHint,i)}l.a.execFunction(this.onClick)}}},Ia=Object(h.a)(wa,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-btn",{style:t.getStyle,attrs:{icon:t.getIcon,size:t.getSize,round:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onClicked(e)}}})}),[],!1,null,null,null),Ea=Ia.exports;g()(Ia,"components",{QBtn:Tt.a});var Aa={name:"FilterDetailsHeaderViewBlock",components:{ActionButton:I.a,HintButton:Ea,ChipFilter:Gi},props:["filter","onEdit"],data:function(){return{name:this.filter.getName(),maxWidth:0}},computed:{getFilter:function(){return this.filter},hideHint:function(){return this.getFilter.hideHint},isEditable:function(){return this.getFilter.isNameEditable()},isClipboard:function(){return this.getFilter.type===un.a.CLIPBOARD.id},isDeleted:function(){return this.getFilter.type===un.a.DELETED.id}},methods:{onShowHint:function(){this.getFilter.hideHint=!this.getFilter.hideHint},onClearClipboard:function(){this.$store.dispatch(s.a.onClearClipboard)},onClearRecycleBin:function(){this.$store.dispatch(s.a.onClearRecycleBin)},onDelete:function(){this.$store.dispatch(s.a.onDeleteFilter,{filter:this.getFilter})},onResized:function(t){this.maxWidth=t.width-200}}},xa=Object(h.a)(Aa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toolbar",[n("ActionButton",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"arrow_back","tooltip-label-res":"menu_close",dense:!0}}),n("ChipFilter",{attrs:{filter:t.getFilter,"max-width":t.maxWidth,flat:!0},scopedSlots:t._u([{key:"hint",fn:function(){return[t.hideHint?n("HintButton",{attrs:{"on-click":t.onShowHint}}):t._e()]},proxy:!0}]),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("q-space"),t.isClipboard?n("ActionButton",{attrs:{"on-click":t.onClearClipboard,"tooltip-label-res":"filter_clipboard_empty_title",dense:!0,icon:"delete_sweep"}}):t.isDeleted?n("ActionButton",{attrs:{"on-click":t.onClearRecycleBin,"tooltip-label-res":"filter_deleted_empty_title",dense:!0,icon:"delete_sweep"}}):t.isEditable?[n("ActionButton",{attrs:{"on-click":t.onDelete,dense:!0,icon:"delete"}}),n("ActionButton",{staticClass:"q-ml-sm",attrs:{"on-click":t.onEdit,dense:!0,icon:"edit"}})]:t._e(),n("q-resize-observer",{on:{resize:t.onResized}})],2)}),[],!1,null,null,null),ka=xa.exports;g()(xa,"components",{QToolbar:A.a,QSpace:D.a,QResizeObserver:Je.a}),g()(xa,"directives",{ClosePopup:Pe.a});var Da={name:"FilterDetailsHeaderEditBlock",components:{ActionButton:I.a,ChipFilter:Gi},props:["filter","onCancelEdit","onSave","value"],data:function(){return{name:this.value}},watch:{value:function(t){this.name=t}},computed:{getFilter:function(){return this.filter},isNew:function(){return this.getFilter.isNew()}},methods:{onInput:function(t){this.$emit("input",t)}}},Ra=Object(h.a)(Da,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toolbar",[t.isNew?n("ActionButton",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"arrow_back","tooltip-label-res":"menu_close",dense:!0}}):n("ActionButton",{attrs:{icon:"close","on-click":t.onCancelEdit,"tooltip-label-res":"menu_cancel",dense:!0}}),n("q-toolbar-title",{staticClass:"q-mx-none q-px-none"},[n("ChipFilter",{attrs:{filter:t.getFilter,"on-input":t.onInput,editable:!0,flat:!0},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("ActionButton",{attrs:{"on-click":t.onSave,"tooltip-label-res":"button_save",dense:!0,icon:"save"}})],1)}),[],!1,null,null,null),La=Ra.exports;g()(Ra,"components",{QToolbar:A.a,QToolbarTitle:k.a}),g()(Ra,"directives",{ClosePopup:Pe.a});var Fa={name:"FilterDetailsListStyleBlock",components:{HorizontalScrollView:Wt.a,HeaderBlock:rn},props:["filter"],data:function(){return{listStyles:Or.a.values,listStyleId:this.filter.listStyle}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getFilter:function(){return this.filter},getListStyle:function(){return this.$store.getters.getListStyle}},methods:{onListStyleClicked:function(t){this.listStyleId!==t.id&&(this.listStyleId=t.id,this.getFilter.listStyle=t.id,this.$store.dispatch(s.a.onChangeListStyle,{filter:this.getFilter}))},getText:function(t){return this.$t(t.titleRes)},getTextColor:function(t){return this.listStyleId===t.id?"textColorOnSurface":"textColorPrimary"},getColor:function(t){return this.listStyleId===t.id?"colorAccent":"myBackgroundHighlight"}}},Oa=Object(h.a)(Fa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-mt-md"},[n("HeaderBlock",[t._v(t._s(t.$t("list_style_title")))]),n("HorizontalScrollView",{attrs:{height:56,"hide-scrollbar":!0}},t._l(t.listStyles,(function(e){return n("q-chip",{key:e.id,staticClass:"q-ml-none q-mr-sm",style:t.getAppButtonStyle,attrs:{"text-color":t.getTextColor(e),color:t.getColor(e),label:t.getText(e),dark:t.isDarkMode,clickable:"",size:"md",square:""},on:{click:function(n){return n.stopPropagation(),t.onListStyleClicked(e)}}})})),1)],1)}),[],!1,null,null,null),Pa=Oa.exports;g()(Oa,"components",{QChip:Gt.a});var Na={name:"FilterDetailsSortByBlock",components:{HorizontalScrollView:Wt.a,HeaderBlock:rn},props:["filter"],data:function(){return{sortOrderId:null,sortOrders:[]}},beforeMount:function(){var t=[],e=this.getFilter;this.sortOrderId=e.sortBy,"number"!=typeof this.sortOrderId&&(this.sortOrderId=Lt.a.CREATE_DATE_DESC.id),Lt.a.getItems(e).forEach((function(e){var n={};n.titleRes=e.titleRes,e.desc?(n.ascId=e.reverse().id,n.descId=e.id):(n.ascId=e.id,n.descId=e.reverse().id),n.currentId=e.id,t.push(n)}));var n=0,i=this,r=this.sortOrderId;t.forEach((function(t){t.id=n++,t.title=i.$t(t.titleRes),t.selected=t.ascId===r||t.descId===r,t.selected&&(t.currentId=r),i.onUpdateStyle(t)})),this.sortOrders=t},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},isDarkMode:function(){return this.$store.getters.isDarkMode},getFilter:function(){return this.filter}},methods:{onSortOrderClicked:function(t){var e=this;t.selected&&(t.currentId===t.ascId?t.currentId=t.descId:t.currentId=t.ascId),t.selected=!0,this.sortOrderId=t.currentId,this.sortOrders.forEach((function(n){n.selected=n.id===t.id,e.onUpdateStyle(n)})),this.getFilter.sortBy=this.sortOrderId,this.$store.dispatch(s.a.onChangeSortOrder,{filter:this.getFilter})},onUpdateStyle:function(t){var e,n="textColorPrimary",i="";if(t.selected){e="colorAccent",n="textColorOnSurface";var r=this.sortOrderId;i=t.ascId===r?"arrow_drop_up":"arrow_drop_down"}else e="myBackgroundHighlight";t.textColor=n,t.icon=i,t.color=e}}},Ba=Object(h.a)(Na,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-mt-md"},[n("HeaderBlock",[t._v(t._s(t.$t("list_config_sort")))]),n("HorizontalScrollView",{attrs:{height:56}},t._l(t.sortOrders,(function(e){return n("q-chip",{key:e.id,staticClass:"q-ml-none q-mr-sm",style:t.getAppButtonStyle,attrs:{"text-color":e.textColor,"icon-right":e.icon,color:e.color,label:e.title,dark:t.isDarkMode,clickable:"",size:"md",square:""},on:{click:function(n){return n.stopPropagation(),t.onSortOrderClicked(e)}}})})),1)],1)}),[],!1,null,null,null),Ma=Ba.exports;g()(Ba,"components",{QChip:Gt.a});var qa=n("27f0"),Ua={name:"WarningDownloadBlock",props:["android","marginY"],computed:{getMessage:function(){var t=this,e=["desktop_main_menu_download_windows","desktop_main_menu_download_mac","desktop_main_menu_download_linux"];this.android&&e.push("desktop_main_menu_download_android");var n=e.map((function(e){return t.$t(e)})).join(", ");return this.$tc("desktop_main_menu_download_for",null,{n:n})},getItemClass:function(){var t=this.marginY||"q-mb-md";return"q-mx-md ".concat(t," rounded-borders bg-negative text-white")},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle}},methods:{onDownload:function(){j.a.openURL(qa.a.downloadDesktopUrl)}}},$a=Object(h.a)(Ua,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{class:t.getItemClass,style:t.getAppButtonStyle,attrs:{tag:"label"},on:{click:function(e){return e.stopPropagation(),t.onDownload(e)}}},[n("q-item-section",[n("q-item-label",[t._v(t._s(t.getMessage))])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{size:"24px",name:"chevron_right",color:"white"}})],1)],1)}),[],!1,null,null,null),ja=$a.exports;g()($a,"components",{QItem:P.a,QItemSection:N.a,QItemLabel:M.a,QIcon:B.a});var Va={name:"FilterDetailsLimitBlock",components:{SliderBlock:n("9b2f").a},props:["filter","disable","limitMin","limitMax","limitDefault","limitValueProvider","limitIndexProvider"],data:function(){return{filterRef:this.filter,limit:this.getLimit(this.filter.limit)}},watch:{limit:function(t){var e=this.limitValueProvider;this.filterRef.limit=e(t)}},computed:{getLimitLabel:function(){var t=this.limit;return-1===(t=(0,this.limitValueProvider)(t))&&(t=this.$t("filter_limit_unlimited")),t}},methods:{getLimit:function(t){var e=this.limitIndexProvider(t),n=this.limitDefault,i=this.limitMin,r=this.limitMax;return e>=i&&e<=r?e:n}}},Ha=Object(h.a)(Va,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("SliderBlock",{attrs:{disable:t.disable,"min-value":t.limitMin,"max-value":t.limitMax,"value-label":t.getLimitLabel,"title-res":"filter_limit_title","description-res":"filter_limit_description"},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})}),[],!1,null,null,null).exports,za={name:"FilterDetailsClipboard",components:{SwitchBlock:ba.a,WarningDownloadBlock:ja,FilterDetailsLimitBlock:Ha},props:["filter","saveChanges"],data:function(){return{changed:!1}},watch:{getTrackClipboardChanges:function(){this.onSaveSettings()},getUniversalClipboard:function(){this.onSaveSettings()},getLaunchOnStartup:function(){this.onSaveSettings()},getFilterLimit:function(){this.changed=!0},getExcludeWithCustomAttributes:function(){this.changed=!0}},computed:{isDesktopMode:function(){return this.$store.getters.isDesktopMode},isAuthorized:function(){return this.$store.getters.isAuthorized},getFilter:function(){return this.filter},getFilterLimit:function(){return this.getFilter.limit},getLimitRange:function(){return this.$store.getters.getClipboardLimitRange},getLimitDefault:function(){return this.$store.getters.getClipboardLimitDefault},getLimitMax:function(){return this.$store.getters.getClipboardLimitMax},getLimitMin:function(){return this.$store.getters.getClipboardLimitMin},getSettings:function(){return this.$store.getters.getSettings},getTrackClipboardChanges:function(){return this.getSettings.trackClipboardChanges},getUniversalClipboard:function(){return this.getSettings.universalClipboard},getLaunchOnStartup:function(){return this.getSettings.launchOnStartup},getExcludeWithCustomAttributes:function(){return this.getFilter.excludeWithCustomAttributes}},methods:{limitValueProvider:function(t){return this.getLimitRange[t]},limitIndexProvider:function(t){return this.getLimitRange.indexOf(t)},onSaveSettings:function(){return this.$store.dispatch(s.a.onSaveSettings)}},beforeDestroy:function(){this.changed&&this.saveChanges&&this.$store.dispatch(s.a.onSaveAndApplyFilter,this.getFilter)}},Wa=Object(h.a)(za,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column q-gutter-y-md q-py-md"},[t.isDesktopMode?t._e():n("WarningDownloadBlock",{attrs:{"margin-y":"q-my-md",android:!0}}),n("SwitchBlock",{attrs:{disable:!t.isDesktopMode,"title-res":"settings_track_clipboard_title","description-res":"settings_track_clipboard_description"},model:{value:t.getSettings.trackClipboardChanges,callback:function(e){t.$set(t.getSettings,"trackClipboardChanges",e)},expression:"getSettings.trackClipboardChanges"}}),n("SwitchBlock",{attrs:{disable:!t.isDesktopMode||!t.isAuthorized,"title-res":"settings_universal_clipboard_title","description-res":"settings_universal_clipboard_description"},model:{value:t.getSettings.universalClipboard,callback:function(e){t.$set(t.getSettings,"universalClipboard",e)},expression:"getSettings.universalClipboard"}}),n("SwitchBlock",{attrs:{disable:!t.isDesktopMode,"title-res":"settings_startup_title","description-res":"settings_startup_description"},model:{value:t.getSettings.launchOnStartup,callback:function(e){t.$set(t.getSettings,"launchOnStartup",e)},expression:"getSettings.launchOnStartup"}}),n("SwitchBlock",{attrs:{disable:!t.isDesktopMode,"title-res":"settings_clipboard_exclude_custom_attrs_title","description-res":"settings_clipboard_exclude_custom_attrs_description"},model:{value:t.getFilter.excludeWithCustomAttributes,callback:function(e){t.$set(t.getFilter,"excludeWithCustomAttributes",e)},expression:"getFilter.excludeWithCustomAttributes"}}),n("FilterDetailsLimitBlock",{attrs:{"limit-index-provider":t.limitIndexProvider,"limit-value-provider":t.limitValueProvider,"limit-default":t.getLimitDefault,disable:!t.isDesktopMode,"limit-max":t.getLimitMax,"limit-min":t.getLimitMin,filter:t.getFilter}})],1)}),[],!1,null,null,null).exports,Ka={name:"FilterDetailsGroupNotes",components:{SwitchBlock:ba.a},props:["filter"],computed:{getFilter:function(){return this.filter}}},Ga=Object(h.a)(Ka,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("SwitchBlock",{staticClass:"q-mt-md",attrs:{"title-res":"settings_pin_starred_title","description-res":"settings_pin_starred_description"},model:{value:t.getFilter.pinStarredEnabled,callback:function(e){t.$set(t.getFilter,"pinStarredEnabled",e)},expression:"getFilter.pinStarredEnabled"}})}),[],!1,null,null,null).exports,Qa={name:"FilterDetailsDeleted",components:{FilterDetailsLimitBlock:Ha},props:["filter"],computed:{getFilter:function(){return this.filter},getLimitRange:function(){return this.$store.getters.getRecycleBinLimitRange},getLimitDefault:function(){return this.$store.getters.getRecycleBinLimitDefault},getLimitMax:function(){return this.$store.getters.getRecycleBinLimitMax},getLimitMin:function(){return this.$store.getters.getRecycleBinLimitMin}},methods:{limitValueProvider:function(t){return this.getLimitRange[t]},limitIndexProvider:function(t){return this.getLimitRange.indexOf(t)}}},Ya=Object(h.a)(Qa,(function(){var t=this.$createElement;return(this._self._c||t)("FilterDetailsLimitBlock",{staticClass:"q-my-md",attrs:{"limit-index-provider":this.limitIndexProvider,"limit-value-provider":this.limitValueProvider,"limit-default":this.getLimitDefault,"limit-max":this.getLimitMax,"limit-min":this.getLimitMin,filter:this.getFilter}})}),[],!1,null,null,null).exports,Xa={name:"FilterAutoRuleBlock",components:{SwitchBlock:ba.a,HintButton:Ea},props:["filter"],data:function(){return{filterRef:this.filter,rulesEnabled:this.filter.autoRulesEnabled||!1}},watch:{isAutoRuleEnabled:function(t){var e=this;this.filterRef.autoRulesEnabled=t,t&&this.$nextTick((function(){return w.a.setFocus(e.$refs.autoRuleInput,!0)}))}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getFilter:function(){return this.filter},isAutoRuleEnabled:function(){return this.getFilter.autoRulesEnabled},getTagRuleMaxLength:function(){return this.$store.getters.remoteConfigTagRuleMaxLength}}},Za=Object(h.a)(Xa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SwitchBlock",{attrs:{"not-clickable":!0,"title-res":"filter_tag_rule_title"},scopedSlots:t._u([{key:"titleSuffix",fn:function(){return[n("HintButton",{attrs:{"hint-icon":"flash_on","hint-title":t.$t("filter_tag_rule_title"),"hint-message":t.$t("filter_tag_rule_description")}})]},proxy:!0}]),model:{value:t.getFilter.autoRulesEnabled,callback:function(e){t.$set(t.getFilter,"autoRulesEnabled",e)},expression:"getFilter.autoRulesEnabled"}}),n("q-input",{ref:"autoRuleInput",staticClass:"q-mt-xs q-mb-md q-mx-md",attrs:{label:this.$t("filter_tag_rule_hint"),maxlength:t.getTagRuleMaxLength,disable:!t.isAutoRuleEnabled,counter:t.isAutoRuleEnabled,dark:t.isDarkMode,color:"colorAccent",outlined:"",dense:""},model:{value:t.getFilter.autoRuleByTextIn,callback:function(e){t.$set(t.getFilter,"autoRuleByTextIn",e)},expression:"getFilter.autoRuleByTextIn"}})],1)}),[],!1,null,null,null),Ja=Za.exports;g()(Za,"components",{QInput:Ct.a});var ts={name:"FilterDetailsTag",props:["filter"],components:{FilterAutoRuleBlock:Ja},computed:{getFilter:function(){return this.filter}}},es=Object(h.a)(ts,(function(){var t=this.$createElement;return(this._self._c||t)("FilterAutoRuleBlock",{staticClass:"q-mt-sm",attrs:{filter:this.getFilter}})}),[],!1,null,null,null).exports,ns={name:"ColorWheelBlock",components:{HorizontalScrollView:Wt.a},props:["value"],data:function(){return{selectedColor:this.value,matrixIndex:0,colors:[]}},watch:{value:function(t){this.selectedColor=t}},beforeMount:function(){var t,e=this.getColorsMatrix,n=this.selectedColor,i=!1,r=0,o=_()(e);try{for(o.s();!(t=o.n()).done;){if(i=t.value.includes(n))break;r++}}catch(t){o.e(t)}finally{o.f()}i||(r=0),this.matrixIndex=r,this.selectedColor=n,this.colors=e[r]},computed:{getColorsMatrix:function(){return this.$store.getters.remoteConfigTagColorsMatrix}},methods:{isActive:function(t){return this.selectedColor===t},getColorIcon:function(t){return this.isActive(t)?"check":null},getColorClass:function(t){return t?"q-mr-md q-ml-none":"text-textColorPrimary q-mr-md q-ml-none"},getColorStyle:function(t){if(t){var e=j.a.getColorOnSurface(t);return"background-color: ".concat(t,"; color: ").concat(e)}return null},onChangeSelectedColor:function(t){if(this.isActive(t)){var e=this.getColorsMatrix,n=this.matrixIndex,i=n+1;i>=e.length&&(i=0);var r=e[n].findIndex((function(e){return e===t}));this.selectedColor=e[i][r],this.colors=e[i],this.matrixIndex=i}else this.selectedColor=t;this.$emit("input",this.selectedColor)}}},is=Object(h.a)(ns,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HorizontalScrollView",{attrs:{height:64}},t._l(t.colors,(function(e){return n("q-btn",{key:e,class:t.getColorClass(e),style:t.getColorStyle(e),attrs:{icon:t.getColorIcon(e),outline:!e,flat:!!e,size:"12px",round:""},on:{click:function(n){return t.onChangeSelectedColor(e)}}})})),1)}),[],!1,null,null,null),rs=is.exports;g()(is,"components",{QBtn:Tt.a});var os={name:"ShowFilterDetailsUseCase",components:{SpaceBlock:Xi.a,DialogWithToolbar:_a,FilterDetailsHeaderViewBlock:ka,FilterDetailsHeaderEditBlock:La,FilterDetailsListStyleBlock:Pa,FilterDetailsSortByBlock:Ma,FilterDetailsGroupNotes:Ga,ObjectDescriptionBlock:Et.a,FilterDetailsClipboard:Wa,FilterDetailsDeleted:Ya,FilterDetailsTag:es,ColorWheelBlock:rs},data:function(){return{isShown:!0,description:null,editMode:this.isNew,name:null}},watch:{getFilterDetails:function(t){this.isShown=!l.a.isNull(t),this.isShown||(this.editMode=!1),t&&(this.editMode=t.isNew(),this.description=this.getHint(t),this.name=t.name)}},computed:{isEditMode:function(){return this.editMode},isNew:function(){return this.getFilterDetails.isNew()},isTag:function(){return this.getFilterDetails.isTag()},isSnippetKit:function(){return this.getFilterDetails.isSnippetKit()},isClipboard:function(){return this.getFilterDetails.isClipboard()},isDeleted:function(){return this.getFilterDetails.isDeleted()},isGroupNotes:function(){return this.getFilterDetails.isGroupNotes()},isGroup:function(){return this.getFilterDetails.isGroup()},isNameEditable:function(){return this.getFilterDetails.isNameEditable()},hasDescription:function(){return!this.isEditMode||!l.a.isNullOrBlank(this.getFilterDetails.description)},hasColorWheel:function(){return this.isNameEditable},hasListStyle:function(){return!this.isGroup},hideHint:function(){return this.getFilterDetails.hideHint&&!this.isEditMode},getFilterDetails:function(){return this.$store.getters.getFilterDetails}},methods:{getHint:function(t){var e=t.getHintRes();if(!t.isNameEditable())return this.$t(e);var n=t.description;return e&&l.a.isNullOrBlank(n)&&!this.isNew&&(n=this.$t(e)),n},onCancel:function(){this.isShown=!1},onClose:function(){var t=this.getFilterDetails;t&&!t.isNew()&&this.$store.dispatch(s.a.onSaveAndApplyFilter,t),this.$store.commit(V.a.REQUEST_SHOW_FILTER_DETAILS,null)},onHideHint:function(){this.getFilterDetails.hideHint=!0},onEdit:function(){this.description=this.getFilterDetails.description,this.name=this.getFilterDetails.name,this.editMode=!0},onCancelEdit:function(){this.description=this.getHint(this.getFilterDetails),this.name=this.getFilterDetails.name,this.editMode=!1},onSave:function(){var t=this,e=this.getFilterDetails;e.description=this.description,e.name=this.name,this.$store.dispatch(s.a.onSaveAndApplyFilter,e).then((function(e){e&&!e.isNew()&&(t.editMode=!1)}))}}},as=Object(h.a)(os,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getFilterDetails?n("DialogWithToolbar",{attrs:{"use-custom-toolbar":!0,"on-closed":t.onClose},scopedSlots:t._u([{key:"toolbar",fn:function(){return[t.isEditMode?n("FilterDetailsHeaderEditBlock",{attrs:{filter:t.getFilterDetails,"on-cancel-edit":t.onCancelEdit,"on-save":t.onSave},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):n("FilterDetailsHeaderViewBlock",{attrs:{filter:t.getFilterDetails,"on-edit":t.onEdit}})]},proxy:!0},{key:"content",fn:function(){return[n("q-slide-transition",[t.hideHint?t._e():n("ObjectDescriptionBlock",{attrs:{"has-description":t.hasDescription,readonly:!t.isEditMode,closable:!t.isEditMode,"on-close":t.onHideHint,"hide-hint":!0,"text-size":12},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t.hasColorWheel?n("ColorWheelBlock",{staticClass:"q-mt-md",model:{value:t.getFilterDetails.color,callback:function(e){t.$set(t.getFilterDetails,"color",e)},expression:"getFilterDetails.color"}}):t._e(),t.hasListStyle?n("FilterDetailsListStyleBlock",{attrs:{filter:t.getFilterDetails}}):t._e(),n("FilterDetailsSortByBlock",{attrs:{filter:t.getFilterDetails}}),t.isClipboard?n("FilterDetailsClipboard",{attrs:{filter:t.getFilterDetails}}):t.isDeleted?n("FilterDetailsDeleted",{attrs:{filter:t.getFilterDetails}}):t.isGroupNotes?n("FilterDetailsGroupNotes",{attrs:{filter:t.getFilterDetails}}):t.isTag?n("FilterDetailsTag",{attrs:{filter:t.getFilterDetails}}):t._e(),n("SpaceBlock",{attrs:{"height-in-px":"8"}})]},proxy:!0}],null,!1,2945627391),model:{value:t.isShown,callback:function(e){t.isShown=e},expression:"isShown"}}):t._e()}),[],!1,null,null,null),ss=as.exports;g()(as,"components",{QSlideTransition:Ir.a});var cs={name:"BannerView",props:["colorHex","icon","title","message","onClick","onIconClick"],computed:{getAppBannerClass:function(){return this.$store.getters.getAppBannerClass},getAppBannerStyle:function(){return this.$store.getters.getAppBannerStyle},getBackgroundColor:function(){return this.colorHex},getTextColor:function(){return j.a.getColorOnSurface(this.getBackgroundColor)},getContentStyle:function(){var t=this.getTextColor,e=this.getBackgroundColor;return"background-color: ".concat(e,"; color: ").concat(t,"; margin-top: ").concat(1.3*this.$store.getters.getAppBarHeight,"px; ").concat(this.$store.getters.getAppButtonStyle)},getTextStyle:function(){return"color: ".concat(this.getTextColor)},getIconStyle:function(){var t=this.getTextColor;return"color: ".concat(t,";")},getTitle:function(){return this.title},getMessage:function(){return this.message}},methods:{onClicked:function(){l.a.execFunction(this.onClick)},onIconClicked:function(){l.a.execFunction(this.onIconClick)}}},ls={role:"alert"},us=it.default.extend({name:"QBanner",mixins:[at.a,ot.a],props:{inlineActions:Boolean,dense:Boolean,rounded:Boolean},render:function(t){var e=Object(st.c)(this,"action"),n=[t("div",{staticClass:"q-banner__avatar col-auto row items-center self-start"},Object(st.c)(this,"avatar")),t("div",{staticClass:"q-banner__content col text-body2"},Object(st.c)(this,"default"))];return void 0!==e&&n.push(t("div",{staticClass:"q-banner__actions row items-center justify-end",class:"col-".concat(!0===this.inlineActions?"auto":"all")},e)),t("div",{staticClass:"q-banner row items-center",class:{"q-banner--top-padding":void 0!==e&&!this.inlineActions,"q-banner--dense":this.dense,"q-banner--dark q-dark":this.isDark,"rounded-borders":this.rounded},attrs:ls,on:nt()({},this.qListeners)},n)}}),ds=Object(h.a)(cs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getAppBannerClass,style:t.getAppBannerStyle},[n("transition",{attrs:{appear:"","enter-active-class":"animated slideInLeft","leave-active-class":"animated slideOutLeft"}},[n("q-banner",{staticClass:"text-no-wrap q-ma-sm q-pa-none cursor-pointer shadow-4 z-top",style:t.getContentStyle,attrs:{rounded:""},on:{click:function(e){return e.stopPropagation(),t.onClicked(e)}}},[n("q-item",[n("q-item-section",[n("q-item-label",{staticClass:"text-weight-medium",style:t.getTextStyle},[t._t("beforeTitle"),t._v("\n            "+t._s(t.getTitle)+"\n            "),t._t("afterTitle")],2),t.getMessage?n("q-item-label",{style:t.getTextStyle,attrs:{lines:"1",caption:""}},[t._v("\n            "+t._s(t.getMessage)+"\n          ")]):t._e()],1),t.icon?n("q-item-section",{attrs:{side:""}},[n("q-btn",{style:t.getIconStyle,attrs:{icon:t.icon,size:"12px",dense:"",round:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onIconClicked(e)}}})],1):t._e()],1),t._t("content")],2)],1)],1)}),[],!1,null,null,null),hs=ds.exports;g()(ds,"components",{QBanner:us,QItem:P.a,QItemSection:N.a,QItemLabel:M.a,QBtn:Tt.a});var ps={name:"CheckForUpdateUseCase",components:{BannerView:hs},data:function(){return{showChangelog:!1,remindLater:qa.a.remindLater}},computed:{getColor:function(){return j.a.getColorBrand("positive")},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getAppFragmentDialogClass:function(){return this.$store.getters.getAppFragmentDialogClass},getAppFragmentDialogStyle:function(){return this.$store.getters.getAppFragmentDialogStyle},getUpdateRequest:function(){return this.$store.getters.getUpdateRequest},isAvailable:function(){return null!=this.getUpdateRequest&&!this.remindLater},getVersion:function(){return this.getUpdateRequest.version},getTitle:function(){return this.$t("desktop_update_title")},getChangelog:function(){return this.getUpdateRequest.releaseNotes}},methods:{onChangelog:function(){this.showChangelog=!0},onRememberLater:function(){qa.a.remindLater=!0,this.remindLater=!0},onDownload:function(){j.a.openURL("https://github.com/clipto-pro/Desktop/releases/download/v".concat(this.getUpdateRequest.version,"/").concat(this.getUpdateRequest.path))}}},fs=Object(h.a)(ps,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAvailable?n("BannerView",{attrs:{"color-hex":t.getColor,title:t.getTitle,icon:"new_releases"},scopedSlots:t._u([{key:"afterTitle",fn:function(){return[t._v("("),n("a",{staticClass:"text-white",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.onChangelog(e)}}},[t._v(t._s(t.getVersion))]),t._v(")")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"no-wrap q-mx-sm q-mb-sm row justify-end"},[n("q-btn",{style:t.getAppButtonStyle,attrs:{size:"sm",outline:"",color:"white",label:t.$t("desktop_update_action_later")},on:{click:t.onRememberLater}}),n("q-btn",{staticClass:"q-ml-sm",style:t.getAppButtonStyle,attrs:{size:"sm",outline:"",color:"white",label:t.$t("desktop_update_action_download")},on:{click:t.onDownload}})],1),t.showChangelog?n("q-dialog",{model:{value:t.showChangelog,callback:function(e){t.showChangelog=e},expression:"showChangelog"}},[n("q-card",{class:t.getAppFragmentDialogClass,style:t.getAppFragmentDialogStyle},[n("q-card-section",{staticClass:"text-textColorPrimary markdown-body",domProps:{innerHTML:t._s(t.getChangelog)}})],1)],1):t._e()]},proxy:!0}],null,!1,699400364)}):t._e()}),[],!1,null,null,null),gs=fs.exports;g()(fs,"components",{QBtn:Tt.a,QDialog:oe.a,QCard:ae.a,QCardSection:se.a});var ms={name:"CheckSyncLimitUseCase",components:{BannerView:hs},computed:{showSyncLimitBanner:function(){return this.$store.getters.showSyncLimitBanner},getTitle:function(){return this.$t("account_sync_plan_warning_limit_reached_title")},getMessage:function(){var t=this.$store.getters.getAuthUser.syncLimit||this.$store.getters.remoteConfigSyncPlanNotesFreeLimit;return this.$tc("account_sync_plan_hint",null,{n:t})}},methods:{onMore:function(){this.$store.dispatch(s.a.onStartSelectPlanUseCase)}}},vs=Object(h.a)(ms,(function(){var t=this.$createElement,e=this._self._c||t;return this.showSyncLimitBanner?e("BannerView",{attrs:{"color-hex":"#fe5c37",title:this.getTitle,"on-click":this.onMore,"on-icon-click":this.onMore,icon:"chevron_right",message:this.getMessage},scopedSlots:this._u([{key:"beforeTitle",fn:function(){return[e("q-icon",{staticClass:"q-mr-sm",staticStyle:{color:"#FFCF01"},attrs:{name:"warning"}})]},proxy:!0}],null,!1,2003419592)}):this._e()}),[],!1,null,null,null),ys=vs.exports;g()(vs,"components",{QIcon:B.a});var _s=n("a087"),bs={name:"CheckForErrorUseCase",components:{BannerView:hs},computed:{getUnexpectedErrorRequest:function(){return this.$store.getters.getUnexpectedErrorRequest},isAvailable:function(){return this.getUnexpectedErrorRequest&&this.$store.getters.remoteConfigCanReportUnexpectedErrors},getTitle:function(){return this.$t("error_unexpected")},getMessage:function(){return this.$t("error_unexpected_send")}},methods:{onOpen:function(){var t=this.$store.getters.remoteConfigUrlUnexpectedErrorInstruction;t&&j.a.openURL(t),this.$store.commit(V.a.SHOW_ERROR)},onSend:function(){this.$store.commit(V.a.SHOW_ERROR),this.$store.getters.remoteConfigCanReportUnexpectedErrorDirectly?_s.a.email(this,null,this.getUnexpectedErrorRequest):this.onOpen()}}},Ss=Object(h.a)(bs,(function(){var t=this.$createElement,e=this._self._c||t;return this.isAvailable?e("BannerView",{attrs:{"on-click":this.onOpen,"on-icon-click":this.onSend,icon:"bug_report","color-hex":"#fe5c37",title:this.getTitle,message:this.getMessage},scopedSlots:this._u([{key:"beforeTitle",fn:function(){return[e("q-icon",{staticClass:"q-mr-sm",staticStyle:{color:"#FFCF01"},attrs:{name:"warning"}})]},proxy:!0}],null,!1,2003419592)}):this._e()}),[],!1,null,null,null),Cs=Ss.exports;g()(Ss,"components",{QIcon:B.a});var Ts={name:"DialogConfirmUseCase",data:function(){return{show:!1}},watch:{getConfirmDialogRequest:function(t){t&&(this.show=!0,this.onSetFocus())}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getAppDialogClass:function(){return this.$store.getters.getAppDialogClass},getAppDialogStyle:function(){return this.$store.getters.getAppDialogStyle},getConfirmDialogRequest:function(){return this.$store.getters.getConfirmDialogRequest},getIcon:function(){return this.getConfirmDialogRequest.icon||"warning"},getIconColor:function(){return this.getConfirmDialogRequest.iconColor||"warning"},getTitle:function(){return this.getConfirmDialogRequest.title},getMessage:function(){return Pr.a.htmlLines(this.getConfirmDialogRequest.message)},getConfirmLabel:function(){return this.getConfirmDialogRequest.confirmLabel},getCancelLabel:function(){return this.getConfirmDialogRequest.cancelLabel||this.$t("menu_cancel")},getMessageStyle:function(){return this.$store.getters.getAppBorderedTextBlockStyle}},methods:{onConfirm:function(){(this.getConfirmDialogRequest.onConfirmed||function(){})()},onCancel:function(){(this.getConfirmDialogRequest.onCanceled||function(){})()},onSetFocus:function(){var t=this;vt.a.nextTick((function(){var e=t.$refs.btnConfirm;e&&e.$el&&w.a.setFocus(e.$el,!0)}))}}},ws=Object(h.a)(Ts,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("q-dialog",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("q-card",{class:t.getAppDialogClass,style:t.getAppDialogStyle},[n("q-card-section",{staticClass:"q-mt-sm"},[n("q-avatar",{attrs:{size:"72px",icon:t.getIcon,color:"myBackgroundHighlight","text-color":t.getIconColor}}),n("div",{staticClass:"text-textColorPrimary text-h6 q-mt-md ellipsis-3-lines text-weight-medium",domProps:{innerHTML:t._s(t.getTitle)}})],1),n("q-card-section",{staticClass:"q-pt-none"},[n("div",{staticClass:"text-textColorSecondary text-body1",style:t.getMessageStyle,domProps:{innerHTML:t._s(t.getMessage)}})]),n("q-card-actions",{staticClass:"q-mb-xs",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],style:t.getAppButtonStyle,attrs:{label:t.getCancelLabel,"text-color":"colorAccent",unelevated:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onCancel(e)}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],ref:"btnConfirm",style:t.getAppButtonStyle,attrs:{label:t.getConfirmLabel,"text-color":"colorAccent",unelevated:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onConfirm(e)}}})],1)],1)],1):t._e()}),[],!1,null,null,null),Is=ws.exports;g()(ws,"components",{QDialog:oe.a,QCard:ae.a,QCardSection:se.a,QAvatar:x.a,QCardActions:ce.a,QBtn:Tt.a}),g()(ws,"directives",{ClosePopup:Pe.a});var Es=n("d1fd"),As={name:"ShowClipViewUseCase",components:{ClipView:Dr},data:function(){return{requestClipViewDialog:!1}},watch:{getSelectedClipState:function(t){t.navigationMode!==Es.a.CLICK||this.hasSelectedClips||(this.requestClipViewDialog=!0)}},computed:{hasSelectedClips:function(){return this.$store.getters.hasSelectedClips},getClipViewStyle:function(){return"width: ".concat(w.a.getScreenWidth(),"px; height: ").concat(w.a.getScreenHeight(),"px")},getSelectedClipState:function(){return this.$store.getters.getSelectedClipState}}},xs=Object(h.a)(As,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.requestClipViewDialog?n("q-dialog",{attrs:{position:"right",maximized:""},model:{value:t.requestClipViewDialog,callback:function(e){t.requestClipViewDialog=e},expression:"requestClipViewDialog"}},[n("ClipView",{style:t.getClipViewStyle})],1):t._e()}),[],!1,null,null,null),ks=xs.exports;g()(xs,"components",{QDialog:oe.a});var Ds={name:"AuthExternalUseCase",data:function(){return{isShown:!0}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},isAuthFlowStarted:function(){return yt.a.debug("isAuthFlowStarted",this.$store.getters.isAuthFlowStarted),this.$store.getters.isAuthFlowStarted},getAuthInstruction:function(){return this.$store.getters.remoteConfigUrlAuthInstruction}},methods:{onCancel:function(){this.$store.dispatch(s.a.onCancelElectronExternalAuthFlow)},onInstruction:function(){j.a.openURL(this.getAuthInstruction)}}},Rs=n("594d"),Ls=it.default.extend({name:"QSpinnerPuff",mixins:[Rs.a],render:function(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:nt()({},this.qListeners),attrs:{focusable:"false",stroke:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none","fill-rule":"evenodd","stroke-width":"2"}},[t("circle",{attrs:{cx:"22",cy:"22",r:"1"}},[t("animate",{attrs:{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"22",cy:"22",r:"1"}},[t("animate",{attrs:{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}})])])])}}),Fs=Object(h.a)(Ds,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAuthFlowStarted?n("q-dialog",{attrs:{"no-esc-dismiss":"",persistent:"",maximized:""},model:{value:t.isShown,callback:function(e){t.isShown=e},expression:"isShown"}},[n("q-card-section",[n("div",{staticClass:"absolute-center column"},[n("q-spinner-puff",{staticClass:"q-ma-sm",attrs:{size:"160px",color:"white"}}),t.getAuthInstruction?n("q-btn",{staticClass:"q-mt-md",style:t.getAppButtonStyle,attrs:{label:t.$t("desktop_auth_instruction"),"text-color":"white",outline:"","no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onInstruction(e)}}}):t._e(),n("q-btn",{staticClass:"q-mt-md",style:t.getAppButtonStyle,attrs:{label:t.$t("menu_cancel"),"text-color":"white",outline:"","no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onCancel(e)}}})],1)])],1):t._e()}),[],!1,null,null,null),Os=Fs.exports;g()(Fs,"components",{QDialog:oe.a,QCardSection:se.a,QSpinnerPuff:Ls,QBtn:Tt.a});var Ps=n("080d"),Ns={name:"DialogRuneAttrsRememberLastFilter",props:["rune"],components:{SeparatorBlock:zt,SwitchBlock:ba.a},computed:{getSettings:function(){return this.$store.getters.getSettings},isSettingsFlatMode:function(){return this.$store.getters.isSettingsFlatMode},getContentClass:function(){return this.isSettingsFlatMode?"column q-gutter-y-md q-pt-md":"column q-gutter-y-md q-py-md"}},methods:{onChanged:function(t){this.getSettings.restoreFilterOnStart=t,this.$store.dispatch(s.a.onSaveSettings)}}},Bs=Object(h.a)(Ns,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.getContentClass},[e("switch-block",{attrs:{"title-res":"settings_restore_filter_title",checked:this.getSettings.restoreFilterOnStart,"on-checked":this.onChanged}}),this.isSettingsFlatMode?this._e():e("separator-block")],1)}),[],!1,null,null,null).exports,Ms={name:"DialogRuneAttrsFocusOnTitle",props:["rune"],components:{SeparatorBlock:zt,SwitchBlock:ba.a},computed:{getSettings:function(){return this.$store.getters.getSettings},isSettingsFlatMode:function(){return this.$store.getters.isSettingsFlatMode},getContentClass:function(){return this.isSettingsFlatMode?"column q-gutter-y-md q-pt-md":"column q-gutter-y-md q-py-md"}},methods:{onChanged:function(t){this.getSettings.focusOnTitle=t,this.$store.dispatch(s.a.onSaveSettings)}}},qs=Object(h.a)(Ms,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.getContentClass},[e("switch-block",{attrs:{"title-res":"settings_focus_on_title_title",checked:this.rune.isActive,"on-checked":this.onChanged}}),this.isSettingsFlatMode?this._e():e("separator-block")],1)}),[],!1,null,null,null).exports,Us={name:"LinkPreviewExampleBlock",computed:{canPreviewLinks:function(){return this.$store.getters.canPreviewLinks},getUrl:function(){return this.$store.getters.remoteConfigUrlLinkPreviewExampleUrl},getCaption:function(){return this.$t("button_example")},getExample:function(){var t=this.getUrl;return ao.a.preview(this,t,t,null,!1,this.canPreviewLinks)}}},$s=Object(h.a)(Us,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"text-textColorSecondary text-caption q-mx-md q-mb-xs"},[this._v(this._s(this.getCaption))]),e("div",{staticClass:"q-px-md markdown-body text-textColorPrimary selectable-text",domProps:{innerHTML:this._s(this.getExample)}})])}),[],!1,null,null,null).exports,js={name:"DialogRuneAttrsLinkPreview",props:["rune"],components:{SwitchBlock:ba.a,LinkPreviewExampleBlock:$s},computed:{getSettings:function(){return this.$store.getters.getSettings}},methods:{onChanged:function(t){this.$store.dispatch(s.a.onShowHidePreview,{show:t})}}},Vs=Object(h.a)(js,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column q-gutter-y-md q-py-md"},[e("switch-block",{attrs:{"title-res":"settings_link_preview_title",checked:this.rune.isActive,"on-checked":this.onChanged}}),e("link-preview-example-block")],1)}),[],!1,null,null,null).exports,Hs={name:"AccountBlock",components:{PrimaryButton:xn.a},computed:{getAuthUser:function(){return this.$store.getters.getAuthUser},getAuthIcon:function(){return this.getAuthUser.photoUrl},getAuthTitle:function(){var t=this.getAuthUser;return t.displayName?t.displayName:this.$t("account_title_authorized")},getAuthPlanLabel:function(){return this.$store.getters.getAuthPlanLabel}},methods:{onSelectPlan:function(){this.$store.dispatch(s.a.onStartSelectPlanUseCase)}}},zs=Object(h.a)(Hs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"q-my-none",attrs:{tag:"label"},on:{click:function(e){return e.stopPropagation(),t.onSelectPlan(e)}}},[n("q-item-section",{attrs:{side:""}},[n("q-avatar",{staticClass:"text-actionIconColorHighlight",attrs:{size:"24px"}},[t.getAuthIcon?n("img",{attrs:{src:t.getAuthIcon}}):t._e(),n("q-icon",{attrs:{size:"24px",name:"account_circle"}})],1)],1),n("q-item-section",[n("q-item-label",{staticClass:"text-textColorPrimary"},[t._v(t._s(this.getAuthTitle))]),n("q-item-label",{staticClass:"text-textColorSecondary",attrs:{caption:""}},[t._v(t._s(this.getAuthPlanLabel))])],1),this.$store.getters.remoteConfigCanSelectPlan?n("q-item-section",{attrs:{side:""}},[n("PrimaryButton",{attrs:{"title-res":"account_sync_plan_button_upgrade","on-clicked":t.onSelectPlan,size:"sm"}})],1):t._e()],1)}),[],!1,null,null,null),Ws=zs.exports;g()(zs,"components",{QItem:P.a,QItemSection:N.a,QAvatar:x.a,QIcon:B.a,QItemLabel:M.a});var Ks=n("b06b"),Gs={name:"DialogRuneAttrsInstantSync",props:["rune"],data:function(){return{syncInProgress:!1}},components:{SeparateScreenBlock:zo,OutlinedButton:pn,PrimaryButton:xn.a,TextButton:ra,SeparatorBlock:zt,AccountBlock:Ws,SwitchBlock:ba.a},computed:{isActive:function(){return this.$store.getters.isAuthorized},isDesktopMode:function(){return this.$store.getters.isDesktopMode},getSettings:function(){return this.$store.getters.getSettings},getUserId:function(){return this.$store.getters.getAuthUserId},getUserIdLabel:function(){return"ID: ".concat(this.getUserId)},getContentClass:function(){return this.settingsFlatMode&&this.isActive?"column q-gutter-y-md q-pt-md":"column q-gutter-y-md q-py-md"},settingsFlatMode:function(){return this.getSettings.settingsFlatMode},getSyncIcon:function(){return this.getSettings.disableSync?"sync_disabled":"sync"},getDownloadForAndroidTitle:function(){return this.$tc("desktop_main_menu_download_for",null,{n:this.$t("desktop_main_menu_download_android")})},getDownloadForDesktopTitle:function(){var t=this,e=["desktop_main_menu_download_windows","desktop_main_menu_download_mac","desktop_main_menu_download_linux"].map((function(e){return t.$t(e)})).join(", ");return this.$tc("desktop_main_menu_download_for",null,{n:e})},remoteConfigUseExternalAuthFlow:function(){return this.$store.getters.remoteConfigUseExternalAuthFlow}},methods:{onSyncChanged:function(t){var e=this;e.syncInProgress=t,e.getSettings.disableSync=!t;var n=e.$store.dispatch(s.a.onSaveSettings);t&&n.then((function(){return e.$store.dispatch(s.a.onInitCloudSync,t)})).then((function(){e.syncInProgress=!1}))},onDownloadForAndroid:function(){Object(Ks.a)(qa.a.googlePlayApp)},onDownloadForDesktop:function(){Object(Ks.a)(qa.a.downloadDesktopUrl)},onOpenInBrowser:function(){Object(Ks.a)(qa.a.editorUrl)},onReportIssue:function(){_s.a.email(this,this.$t(this.rune.titleRes))},onCopyUserId:function(){this.$store.dispatch(s.a.onCopyText,{text:this.getUserId})},onSignIn:function(){this.$store.dispatch(s.a.onStartAuthFlow,{withShift:!1,withConfirm:!0})},onSignInExternal:function(){this.$store.dispatch(s.a.onStartAuthFlow,{withShift:!0,withConfirm:!0})},onSignOut:function(){this.$store.dispatch(s.a.onSignOut,{withConfirm:!0})}}},Qs=Object(h.a)(Gs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getContentClass},[t.isActive?[n("AccountBlock"),n("SeparatorBlock"),n("SwitchBlock",{attrs:{"icon-res":t.getSyncIcon,"title-res":"account_sync_title",checked:!t.getSettings.disableSync,"on-checked":t.onSyncChanged,progress:t.syncInProgress}}),n("SeparatorBlock"),n("SeparateScreenBlock",{attrs:{"icon-res":"exit_to_app","title-res":"account_button_sign_out","on-clicked":t.onSignOut}})]:[n("PrimaryButton",{attrs:{"title-res":"account_button_sign_in","on-clicked":t.onSignIn,"on-long-clicked":t.onSignInExternal}})],t.settingsFlatMode?t._e():[n("OutlinedButton",{attrs:{title:t.getDownloadForAndroidTitle,"on-clicked":t.onDownloadForAndroid}}),t.isDesktopMode?n("OutlinedButton",{attrs:{"title-res":"desktop_main_menu_open","on-clicked":t.onOpenInBrowser}}):n("OutlinedButton",{attrs:{title:t.getDownloadForDesktopTitle,"on-clicked":t.onDownloadForDesktop}}),n("TextButton",{staticClass:"q-mt-lg",attrs:{"title-res":"about_label_issue","on-clicked":t.onReportIssue}}),t.isActive?n("TextButton",{attrs:{title:t.getUserIdLabel,"on-clicked":t.onCopyUserId}}):t._e()]],2)}),[],!1,null,null,null).exports,Ys={name:"DialogRuneAttrsHideOnCopy",props:["rune"],components:{WarningDownloadBlock:ja,SeparatorBlock:zt,SwitchBlock:ba.a},computed:{getSettings:function(){return this.$store.getters.getSettings},isSettingsFlatMode:function(){return this.$store.getters.isSettingsFlatMode},getContentClass:function(){return this.isSettingsFlatMode?"column q-gutter-y-md q-pt-md":"column q-gutter-y-md q-py-md"}},methods:{onChanged:function(t){this.getSettings.hideOnCopy=t,this.$store.dispatch(s.a.onSaveSettings)}}},Xs=Object(h.a)(Ys,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getContentClass},[t.rune.isAvailable?t._e():n("warning-download-block",{attrs:{android:!0}}),n("switch-block",{attrs:{"title-res":"settings_hide_on_click_title",checked:t.getSettings.hideOnCopy,disable:!t.rune.isAvailable,"on-checked":t.onChanged}}),t.isSettingsFlatMode?t._e():n("separator-block")],1)}),[],!1,null,null,null).exports,Zs={name:"DialogRuneAttrsClipboard",props:["rune"],components:{FilterDetailsClipboard:Wa},computed:{getFilter:function(){return xt.a.getFilterClipboard()}}},Js=Object(h.a)(Zs,(function(){var t=this.$createElement;return(this._self._c||t)("FilterDetailsClipboard",{attrs:{filter:this.getFilter,"save-changes":!0}})}),[],!1,null,null,null).exports,tc={name:"DialogRuneAttrsAutoSave",props:["rune"],components:{SeparatorBlock:zt,SwitchBlock:ba.a},computed:{getSettings:function(){return this.$store.getters.getSettings},isSettingsFlatMode:function(){return this.$store.getters.isSettingsFlatMode},getContentClass:function(){return this.isSettingsFlatMode?"column q-gutter-y-md q-pt-md":"column q-gutter-y-md q-py-md"}},methods:{onChanged:function(t){this.getSettings.autoSave=t,this.$store.dispatch(s.a.onSaveSettings)}}},ec=Object(h.a)(tc,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.getContentClass},[e("switch-block",{attrs:{"title-res":"settings_auto_save_title",checked:this.getSettings.autoSave,"on-checked":this.onChanged}}),this.isSettingsFlatMode?this._e():e("separator-block")],1)}),[],!1,null,null,null).exports,nc={name:"DialogRuneAttrsLoyalty",components:{ActionButton:I.a},props:["rune"],data:function(){return{appLink:null,appLinkReady:null}},computed:{getAppDialogClass:function(){return this.$store.getters.getAppDialogClass},getAppDialogStyle:function(){return this.$store.getters.getAppDialogStyle},getAppTitle:function(){var t=w.a.getAppVersion();return t?"".concat(this.$t("app_name")," (").concat(t,")"):this.$t("app_name")}},methods:{onTranslate:function(){j.a.openURL(this.$store.getters.remoteConfigUrlTranslate)},onReportIssue:function(){j.a.openURL(qa.a.githubUrl)},onShare:function(){var t=this;this.$store.dispatch(s.a.onGenerateReferralLink).then((function(e){t.appLink=e,t.appLinkReady=!0}))},onLinkCopy:function(){this.$store.dispatch(s.a.onCopyText,{text:this.appLink}),this.appLinkReady=!1,this.appLink=null},onDiscord:function(){j.a.openURL(qa.a.discordUrl)},onReddit:function(){j.a.openURL(qa.a.redditUrl)},onEmail:function(){_s.a.email(this)}}},ic=Object(h.a)(nc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column q-gutter-y-md q-pa-md items-center"},[n("q-btn",{style:this.$store.getters.getAppButtonStyle,attrs:{icon:"translate",color:"textColorPrimary",label:t.$t("about_label_translate"),outline:""},on:{click:t.onTranslate}}),n("q-btn",{style:this.$store.getters.getAppButtonStyle,attrs:{icon:"fab fa-github",color:"textColorPrimary",label:t.$t("about_label_issue"),outline:""},on:{click:t.onReportIssue}}),n("q-btn",{style:this.$store.getters.getAppButtonStyle,attrs:{icon:"share",color:"textColorPrimary",label:t.$t("about_label_campaign_share"),outline:""},on:{click:t.onShare}},[t.appLinkReady?n("q-dialog",{attrs:{persistent:""},model:{value:t.appLinkReady,callback:function(e){t.appLinkReady=e},expression:"appLinkReady"}},[n("q-card",{class:t.getAppDialogClass,style:t.getAppDialogStyle},[n("q-card-section",{staticClass:"text-center text-no-wrap row justify-center items-center q-py-lg q-gutter-x-sm"},[n("a",{staticClass:"col-10 text-colorAccent ellipsis text-body2",staticStyle:{"max-width":"200px"},attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.onLinkCopy(e)}}},[t._v(t._s(t.appLink))]),n("ActionButton",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"textColorPrimary","button-class":"col-auto","on-click":t.onLinkCopy,icon:"content_copy"}})],1)],1)],1):t._e()],1),n("div",{staticClass:"row q-gutter-x-md"},[n("ActionButton",{attrs:{icon:"fab fa-reddit-alien","tooltip-label-res":"about_label_reddit","on-click":t.onReddit,outline:!0}}),n("ActionButton",{attrs:{icon:"fas fa-envelope","tooltip-label-res":"about_label_email","on-click":t.onEmail,outline:!0}}),n("ActionButton",{attrs:{icon:"fab fa-discord","tooltip-label-res":"about_label_discord","on-click":t.onDiscord,outline:!0}})],1),n("div",{staticClass:"text-textColorSecondary text-caption text-center"},[t._v(t._s(t.getAppTitle))])],1)}),[],!1,null,null,null),rc=ic.exports;g()(ic,"components",{QBtn:Tt.a,QDialog:oe.a,QCard:ae.a,QCardSection:se.a}),g()(ic,"directives",{ClosePopup:Pe.a});var oc={name:"DialogRuneAttrsHotkeys",components:{WarningDownloadBlock:ja,SeparateScreenBlock:zo,SeparatorBlock:zt},props:["rune"],data:function(){return{changeKeyDialog:null,changedKeyValue:null,changedKeyCodes:null,changedKey:null,shortcut:null,keycodes:{20:"capslock",33:"pageup",34:"pagedown",91:"command",93:"command"},shortcuts:[{id:"showHideApp",titleRes:"desktop_shortcuts_showHideApp",global:!0},{id:"trackClipboard",titleRes:"settings_track_clipboard_title",global:!0},{id:"saveFromClipboard",titleRes:"desktop_shortcuts_saveFromClipboard",global:!0},{id:"viewMode",separator:!0},{id:"modeFullscreen",titleRes:"desktop_shortcuts_modeFullscreen"},{id:"modeComfortable",titleRes:"desktop_shortcuts_modeComfortable"},{id:"modeCompact",titleRes:"desktop_shortcuts_modeCompact"},{id:"tag",separator:!0},{id:"tagNext",titleRes:"desktop_shortcuts_tagNext"},{id:"tagPrev",titleRes:"desktop_shortcuts_tagPrev"},{id:"note",separator:!0},{id:"noteNext",titleRes:"desktop_shortcuts_noteNext"},{id:"notePrev",titleRes:"desktop_shortcuts_notePrev"},{id:"noteNew",titleRes:"desktop_shortcuts_noteNew"},{id:"noteSave",titleRes:"desktop_shortcuts_noteSave"},{id:"noteDelete",titleRes:"desktop_shortcuts_noteDelete"},{id:"noteCopy",titleRes:"desktop_shortcuts_noteCopy"},{id:"notePrint",titleRes:"desktop_shortcuts_notePrint"},{id:"noteOpen",titleRes:"desktop_shortcuts_noteOpen"},{id:"noteEdit",titleRes:"desktop_shortcuts_noteEdit"},{id:"noteFind",titleRes:"desktop_shortcuts_noteFind"},{id:"contextMode",separator:!0},{id:"contextModeSelect",titleRes:"desktop_shortcuts_contextModeSelect"},{id:"contextModeSelectAll",titleRes:"desktop_shortcuts_contextModeSelectAll"},{id:"contextModeCancel",titleRes:"desktop_shortcuts_contextModeCancel"}]}},computed:{getAppContextMenuClass:function(){return this.$store.getters.getAppContextMenuClass},getAppContextMenuStyle:function(){return this.$store.getters.getAppContextMenuStyle},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getSettings:function(){return this.$store.getters.getSettings},getHotkeysMap:function(){return this.getSettings.getHotkeysMap()},getChangedKeyValue:function(){return this.getCamelCaseShortcut(this.changedKeyValue)}},methods:{getHotkeyValue:function(t){var e=this.getHotkeysMap[t];return this.getCamelCaseShortcut(e)},getCamelCaseShortcut:function(t){return Pr.a.toPascalCase(t,"+")},onRecordKey:function(t){var e=this;e.shortcut=t,e.changeKeyDialog=!0,e.changedKeyValue=null,e.changedKeyCodes=null;var n=e.keycodes;Ao((function(t){e.changedKeyCodes=t.map((function(t){return n[t]?n[t]:Eo(t)})),e.changedKeyValue=e.changedKeyCodes.join("+")}))},onApplyKey:function(){var t=this.shortcut.id,e=this.changedKeyValue;this.$store.dispatch(s.a.onUpdateHotkeyElectron,{key:t,value:e}),this.changeKeyDialog=!1},onClearKey:function(){var t=this.shortcut.id;this.$store.dispatch(s.a.onUpdateHotkeyElectron,{key:t})}},created:function(){Lo()},destroyed:function(){ko()}},ac=Object(h.a)(oc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",{staticClass:"non-selectable overflow-hidden"},[t.rune.isAvailable?t._e():n("WarningDownloadBlock",{attrs:{"margin-y":"q-my-md"}}),t._l(t.shortcuts,(function(e){return n("div",{key:e.id},[e.separator?n("SeparatorBlock"):n("SeparateScreenBlock",{attrs:{disable:!t.rune.isAvailable,"title-res":e.titleRes,caption:t.getHotkeyValue(e.id),"on-clicked":t.onRecordKey,value:e},scopedSlots:t._u([{key:"caption",fn:function(){return[n("q-badge",{attrs:{"text-color":"textColorPrimary",color:"myBackgroundHighlight"}},[t._v("\n          "+t._s(t.getHotkeyValue(e.id))+"\n        ")])]},proxy:!0}],null,!0)})],1)})),t.changeKeyDialog?n("q-dialog",{attrs:{noEscDismiss:""},model:{value:t.changeKeyDialog,callback:function(e){t.changeKeyDialog=e},expression:"changeKeyDialog"}},[n("q-card",{class:t.getAppContextMenuClass,style:t.getAppContextMenuStyle},[n("q-card-section",{staticClass:"text-textColorPrimary text-body2 text-weight-medium q-pb-sm q-pt-none"},[t._v(t._s(t.$t(t.shortcut.titleRes)))]),n("q-separator",{staticClass:"bg-colorDividerLight"}),t.changedKeyValue?n("q-card-section",{staticClass:"column justify-center items-center text-textColorPrimary text-body1 text-weight-bold",staticStyle:{height:"96px"}},[n("div",[t._v(t._s(t.getChangedKeyValue))])]):n("q-card-section",{staticClass:"column justify-center items-center",staticStyle:{height:"96px"}},[n("q-spinner-puff",{attrs:{size:"64px",color:"textColorPrimary"}})],1),n("q-card-actions",{staticClass:"row q-mx-sm",attrs:{align:"stretch"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",style:t.getAppButtonStyle,attrs:{label:this.$t("menu_clear"),color:"textColorPrimary","no-caps":"",outline:"",dense:""},on:{click:function(e){return e.stopPropagation(),t.onClearKey(e)}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",style:t.getAppButtonStyle,attrs:{disable:!t.changedKeyValue,label:this.$t("button_apply"),"text-color":"textColorOnSurface",color:"colorAccent",unelevated:"","no-caps":"",dense:""},on:{click:function(e){return e.stopPropagation(),t.onApplyKey(e)}}})],1)],1)],1):t._e()],2)}),[],!1,null,null,null),sc=ac.exports;g()(ac,"components",{QList:rt.a,QBadge:Ze,QDialog:oe.a,QCard:ae.a,QCardSection:se.a,QSeparator:S.a,QSpinnerPuff:Ls,QCardActions:ce.a,QBtn:Tt.a}),g()(ac,"directives",{ClosePopup:Pe.a});var cc={name:"ItemTheme",props:["theme","onThemeClicked","dense"],data:function(){return{hovered:!1,radioValue:xt.a.getSettings().theme}},watch:{radioValue:function(t){t===this.theme.id&&this.onClick()},getTheme:function(t){this.radioValue=t}},computed:{getSettings:function(){return this.$store.getters.getSettings},getTheme:function(){return this.getSettings.theme},getTitle:function(){return this.$t(this.theme.titleRes)},getColorPrimaryInverse:function(){return this.theme.colorPrimaryInverse},getColorListItemSelected:function(){return this.theme.colorListItemSelected},getCardClass:function(){return this.hovered?"q-pt-sm q-pb-none cursor-pointer non-selectable shadow-8":"q-pt-sm q-pb-none cursor-pointer non-selectable shadow-4"},getCardStyle:function(){return"border-radius: 12px; background-color: ".concat(this.getColorPrimaryInverse)},getLineStyle:function(){return"height: 12px; border-radius: 4px; background-color: ".concat(this.getColorListItemSelected)},getTitleClass:function(){return this.isActive?"text-textColorPrimary text-caption q-mt-xs ellipsis-2-lines text-center q-mx-xs":"text-textColorSecondary text-caption q-mt-xs ellipsis-2-lines text-center q-mx-xs"},getTitleStyle:function(){var t=64;return this.dense&&(t=52),"width: ".concat(t,"px; min-height: 40px; justify-content: center; display: flex; align-items: center;")}},methods:{onClick:function(){this.onThemeClicked(this.theme)}}},lc=n("3786"),uc=Object(h.a)(cc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column"},[n("q-card",{class:t.getCardClass,style:t.getCardStyle,attrs:{dark:this.$store.getters.isDarkMode},on:{mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1},click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("q-card-section",{staticClass:"column items-center q-pa-sm q-gutter-y-sm"},[n("div",{staticClass:"full-width",style:t.getLineStyle},[t._v(" ")]),this.dense?t._e():n("div",{staticClass:"full-width",style:t.getLineStyle},[t._v(" ")]),n("q-radio",{attrs:{color:t.theme.titleRes,val:t.theme.id,"keep-color":""},model:{value:t.radioValue,callback:function(e){t.radioValue=e},expression:"radioValue"}})],1)],1),n("div",{class:t.getTitleClass,style:t.getTitleStyle},[t._v(t._s(this.getTitle))])],1)}),[],!1,null,null,null),dc=uc.exports;g()(uc,"components",{QCard:ae.a,QCardSection:se.a,QRadio:lc.a});var hc={name:"DialogRuneAttrsTheme",props:["rune"],components:{ItemTheme:dc},computed:{getThemes:function(){return u.a.getThemes()},getSettings:function(){return this.$store.getters.getSettings},isSettingsFlatMode:function(){return this.$store.getters.isSettingsFlatMode}},methods:{onThemeClicked:function(t){this.$store.dispatch(s.a.onChangeTheme,{theme:t})}}},pc={name:"DialogRuneAttrs",props:["rune"],components:{DialogRuneAttrsRememberLastFilter:Bs,DialogRuneAttrsFocusOnTitle:qs,DialogRuneAttrsLinkPreview:Vs,DialogRuneAttrsInstantSync:Qs,DialogRuneAttrsHideOnCopy:Xs,DialogRuneAttrsClipboard:Js,DialogRuneAttrsAutoSave:ec,DialogRuneAttrsLoyalty:rc,DialogRuneAttrsHotkeys:sc,DialogRuneAttrsTheme:Object(h.a)(hc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row q-pa-md q-gutter-lg justify-center"},t._l(t.getThemes,(function(e){return n("item-theme",{key:e.id,attrs:{"on-theme-clicked":t.onThemeClicked,dense:t.isSettingsFlatMode,theme:e}})})),1)}),[],!1,null,null,null).exports}},fc=Object(h.a)(pc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"remember_last_filter"===t.rune.id?n("DialogRuneAttrsRememberLastFilter",{attrs:{rune:t.rune}}):"focus_on_title"===t.rune.id?n("DialogRuneAttrsFocusOnTitle",{attrs:{rune:t.rune}}):"link_preview"===t.rune.id?n("DialogRuneAttrsLinkPreview",{attrs:{rune:t.rune}}):"hide_on_copy"===t.rune.id?n("DialogRuneAttrsHideOnCopy",{attrs:{rune:t.rune}}):"clipboard"===t.rune.id?n("DialogRuneAttrsClipboard",{attrs:{rune:t.rune}}):"auto_save"===t.rune.id?n("DialogRuneAttrsAutoSave",{attrs:{rune:t.rune}}):"loyalty"===t.rune.id?n("DialogRuneAttrsLoyalty",{attrs:{rune:t.rune}}):"hotkeys"===t.rune.id?n("DialogRuneAttrsHotkeys",{attrs:{rune:t.rune}}):"theme"===t.rune.id?n("DialogRuneAttrsTheme",{attrs:{rune:t.rune}}):n("DialogRuneAttrsInstantSync",{attrs:{rune:t.rune}})}),[],!1,null,null,null).exports,gc={name:"DialogRune",props:["onClosed","rune"],components:{DialogWithToolbar:_a,DialogRuneAttrs:fc,IconRune:Mi.a},computed:{getTitle:function(){return this.$t(this.rune.titleRes)},getDescription:function(){return bt.a.marked(this.rune.description,{trimLines:!0})},getAppBorderedTextBlockStyle:function(){return this.$store.getters.getAppBorderedTextBlockStyle}}},mc=Object(h.a)(gc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DialogWithToolbar",{attrs:{title:t.getTitle,"on-closed":t.onClosed},scopedSlots:t._u([{key:"beforeTitle",fn:function(){return[n("icon-rune",{staticClass:"q-ml-sm",attrs:{rune:t.rune,size:"32px"}})]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"bg-myBackgroundHighlight text-textColorPrimary q-pa-md markdown-body q-ma-md",style:t.getAppBorderedTextBlockStyle,domProps:{innerHTML:t._s(t.getDescription)}}),n("DialogRuneAttrs",{attrs:{rune:t.rune}})]},proxy:!0}])})}),[],!1,null,null,null).exports,vc=n("1fca"),yc={name:"ItemRune",components:{IconRune:Mi.a,DialogRuneAttrs:fc},props:["rune"],data:function(){return{hovered:!1}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppCardStyle:function(){return this.$store.getters.getAppCardStyle},remoteConfigRunesFlatModeExpanded:function(){return this.$store.getters.remoteConfigRunesFlatModeExpanded},isActive:function(){return this.rune.isActive},getTitle:function(){return this.$t(this.rune.titleRes)},getTitleClass:function(){return this.isActive?"text-textColorPrimary text-body2 ellipsis text-weight-medium":"text-textColorSecondary text-body2 ellipsis text-weight-medium"},getDescription:function(){return bt.a.marked(this.rune.description,{trimLines:!0})}},methods:{onHint:function(){this.$store.dispatch(s.a.onShowHint,{icon:"help_outline",title:this.getTitle,message:this.getDescription,isFormatted:!0})}}},_c=Object(h.a)(yc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",{staticClass:"bg-colorDialog full-width rounded-borders",style:t.getAppCardStyle,attrs:{bordered:"",dark:t.isDarkMode}},[n("q-expansion-item",{attrs:{"default-opened":t.remoteConfigRunesFlatModeExpanded},scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",{attrs:{thumbnail:""}},[n("icon-rune",{staticClass:"q-ml-md",attrs:{rune:t.rune,size:"24px"}})],1),n("q-item-section",{class:t.getTitleClass},[n("div",[t._v("\n          "+t._s(t.getTitle)+"\n          "),n("q-btn",{staticClass:"q-px-xs",attrs:{icon:"help_outline",color:"textColorSecondary",size:"xs",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onHint(e)}}})],1)])]},proxy:!0}])},[n("dialog-rune-attrs",{attrs:{rune:t.rune}})],1)],1)}),[],!1,null,null,null),bc=_c.exports;g()(_c,"components",{QList:rt.a,QExpansionItem:Xe.a,QItemSection:N.a,QBtn:Tt.a});var Sc={name:"ShowSettingsUseCase",components:{HintButton:Ea,VerticalSeparatorItem:n("891b").a,ActionButton:I.a,DialogWithToolbar:_a,ItemRuneFlat:bc,DialogRune:mc,ButtonLang:vc.a,ItemRune:Ps.a},data:function(){return{requestShowSettings:!1,selectedRune:null}},watch:{getShowSettingsRequest:function(t){yt.a.debug("getShowSettingsRequest",t),this.requestShowSettings=!0},getRunes:function(t){var e=this.selectedRune;e&&(this.selectedRune=t.find((function(t){return t.id===e.id})))}},computed:{getShowSettingsRequest:function(){return this.$store.getters.getShowSettingsRequest},isSettingsFlatMode:function(){return this.$store.getters.isSettingsFlatMode},getSelectedLanguage:function(){return this.$store.getters.getSelectedLanguage},getSettingsModeIcon:function(){return this.isSettingsFlatMode?"o_view_agenda":"grid_view"},getRunes:function(){return this.$store.getters.getRunes}},methods:{onRuneClicked:function(t){this.selectedRune=t},onRuneClosed:function(){this.selectedRune=null},onToggleViewMode:function(){this.$store.dispatch(s.a.onChangeSettingsMode,{flatMode:!this.isSettingsFlatMode})},onClosed:function(){this.requestShowSettings=!1}}},Cc=Object(h.a)(Sc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.requestShowSettings?n("DialogWithToolbar",{attrs:{title:t.$t("runes_toolbar_title"),"on-closed":t.onClosed},scopedSlots:t._u([{key:"inTitle",fn:function(){return[n("HintButton",{attrs:{icon:"help_outline",size:"sm","hint-icon":"help_outline","hint-title":t.$t("runes_toolbar_title"),"hint-message":t.$t("runes_hint_description")}})]},proxy:!0},{key:"afterTitle",fn:function(){return[n("ButtonLang",{attrs:{lang:t.getSelectedLanguage}}),n("VerticalSeparatorItem",{staticClass:"q-mr-sm q-my-md"}),n("ActionButton",{attrs:{icon:t.getSettingsModeIcon,color:"textColorSecondary","on-click":t.onToggleViewMode,dense:!0}})]},proxy:!0},{key:"content",fn:function(){return[t.isSettingsFlatMode?n("div",{staticClass:"column q-pa-md q-gutter-y-md"},t._l(t.getRunes,(function(t){return n("ItemRuneFlat",{key:t.id,attrs:{rune:t}})})),1):n("div",{staticClass:"row q-pa-md q-gutter-md justify-center"},t._l(t.getRunes,(function(e){return n("ItemRune",{key:e.id,attrs:{"on-rune-clicked":t.onRuneClicked,rune:e}})})),1),t.selectedRune?n("DialogRune",{attrs:{rune:t.selectedRune,"on-closed":t.onRuneClosed}}):t._e()]},proxy:!0}],null,!1,2359918365),model:{value:t.requestShowSettings,callback:function(e){t.requestShowSettings=e},expression:"requestShowSettings"}}):t._e()}),[],!1,null,null,null).exports,Tc={name:"ShowLeftNavUseCase",components:{AppBarView:ar,FilterList:mt},data:function(){return{requestLeftNavDialog:!1}},watch:{getShowLeftNavRequest:function(){this.requestLeftNavDialog=!0},getHideLeftNavRequest:function(){this.requestLeftNavDialog=!1}},computed:{getContentClass:function(){return this.$store.getters.getSelectedFontClass},getTagNavWidthStyle:function(){var t=Math.min(this.$q.screen.width-65,300);return"width: ".concat(t,"px")},isAppBarAvailable:function(){return this.$store.getters.isAppBarAvailable},getShowLeftNavRequest:function(){return this.$store.getters.getShowLeftNavRequest},getHideLeftNavRequest:function(){return this.$store.getters.getHideLeftNavRequest}}},wc=Object(h.a)(Tc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.requestLeftNavDialog?n("q-dialog",{class:t.getContentClass,attrs:{position:"left",maximized:""},model:{value:t.requestLeftNavDialog,callback:function(e){t.requestLeftNavDialog=e},expression:"requestLeftNavDialog"}},[n("div",[t.isAppBarAvailable?n("AppBarView",{attrs:{"no-actions":!0}}):t._e(),n("FilterList",{style:t.getTagNavWidthStyle})],1)]):t._e()}),[],!1,null,null,null),Ic=wc.exports;g()(wc,"components",{QDialog:oe.a});var Ec=n("2404"),Ac=n("a987"),xc={name:"GetStartedUseCase",components:{VerticalScrollView:J.a},data:function(){return{firstLaunch:!0,countryOptions:Ac.a.getLanguagesFlags(),langOptions:Ac.a.getLanguages(),theme:u.a.getCurrentTheme(),themes:u.a.getThemes(),step:1}},computed:{getAppFragmentDialogClass:function(){return this.$store.getters.getAppFragmentDialogClass},getAppFragmentDialogStyle:function(){return this.$store.getters.getAppFragmentDialogStyle},getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},isDesktopMode:function(){return this.$store.getters.isDesktopMode},isAuthorized:function(){return this.$store.getters.isAuthorized},getSettings:function(){return this.$store.getters.getSettings},getSettingsLanguage:function(){return this.getSettings.language},isFirstLaunch:function(){return this.$store.getters.isFirstLaunch&&!this.isAuthorized},remoteConfigUseExternalAuthFlow:function(){return this.$store.getters.remoteConfigUseExternalAuthFlow}},methods:{onFinish:function(){this.$store.dispatch(s.a.onCompleteFirstLaunch),this.firstLaunch=!1},onThemeItemSelected:function(t){t.id!==this.getSettings.getTheme().id?(this.$store.dispatch(s.a.onChangeTheme,{theme:t}),this.theme=t):this.onFinish()},getThemeItemColor:function(t){return t.id===this.getSettings.getTheme().id?"colorAccent":"myBackgroundHighlight"},getThemeItemTextColor:function(t){return t.id===this.getSettings.getTheme().id?"textColorOnSurface":"textColorPrimary"},getThemeItemTitle:function(t){return this.$t(t.titleRes)},onLanguageItemSelected:function(t){this.getSettings.language!==t?this.$store.dispatch(s.a.onChangeLanguage,{lang:t}):this.$refs.stepper.next()},getLanguageItemColor:function(t){return t===this.getSettings.language?"colorAccent":"myBackgroundHighlight"},getLanguageItemTextColor:function(t){return t===this.getSettings.language?"textColorOnSurface":"textColorPrimary"},getLanguageItemLabel:function(t){return Ac.a.getLanguageLabel(t)},getLanguageItemCountry:function(t){return this.countryOptions[t]},onSignIn:function(){this.$store.dispatch(s.a.onStartAuthFlow,{withShift:!1})},onSignInExternal:function(){this.$store.dispatch(s.a.onStartAuthFlow,{withShift:!0})}}},kc=n("714f"),Dc=it.default.extend({name:"StepHeader",mixins:[ut.b],directives:{Ripple:kc.a},props:{stepper:{},step:{}},computed:{isActive:function(){return this.stepper.value===this.step.name},isDisable:function(){var t=this.step.disable;return!0===t||""===t},isError:function(){var t=this.step.error;return!0===t||""===t},isDone:function(){var t=this.step.done;return!1===this.isDisable&&(!0===t||""===t)},headerNav:function(){var t=this.step.headerNav,e=!0===t||""===t||void 0===t;return!1===this.isDisable&&this.stepper.headerNav&&e},hasPrefix:function(){return this.step.prefix&&!1===this.isActive&&!1===this.isError&&!1===this.isDone},icon:function(){return!0===this.isActive?this.step.activeIcon||this.stepper.activeIcon||this.$q.iconSet.stepper.active:!0===this.isError?this.step.errorIcon||this.stepper.errorIcon||this.$q.iconSet.stepper.error:!1===this.isDisable&&!0===this.isDone?this.step.doneIcon||this.stepper.doneIcon||this.$q.iconSet.stepper.done:this.step.icon||this.stepper.inactiveIcon},color:function(){var t=!0===this.isError?this.step.errorColor||this.stepper.errorColor:void 0;if(!0===this.isActive){var e=this.step.activeColor||this.stepper.activeColor||this.step.color;return void 0!==e?e:t}return void 0!==t?t:!1===this.isDisable&&!0===this.isDone?this.step.doneColor||this.stepper.doneColor||this.step.color||this.stepper.inactiveColor:this.step.color||this.stepper.inactiveColor},classes:function(){return"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(void 0!==this.color?" text-".concat(this.color):"")+(!0===this.isError?" q-stepper__tab--error":"")+(!0===this.isActive?" q-stepper__tab--active":"")+(!0===this.isDone?" q-stepper__tab--done":"")+(!0===this.headerNav?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(!0===this.isDisable?" q-stepper__tab--disabled":"")}},methods:{activate:function(){void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),!1===this.isActive&&this.stepper.goTo(this.step.name)},keyup:function(t){13===t.keyCode&&!1===this.isActive&&this.stepper.goTo(this.step.name)}},render:function(t){var e={class:this.classes};!0===this.stepper.headerNav&&(e.directives=[{name:"ripple",value:this.headerNav}]),!0===this.headerNav&&Object.assign(e,{on:Object(xe.b)(this,"headnavon",{click:this.activate,keyup:this.keyup}),attrs:!0===this.isDisable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:this.qAttrs.tabindex||0}});var n=[t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget"}),t("div",{staticClass:"q-stepper__dot row flex-center q-stepper__line relative-position"},[t("span",{staticClass:"row flex-center"},[!0===this.hasPrefix?this.step.prefix:t(B.a,{props:{name:this.icon}})])])];if(void 0!==this.step.title&&null!==this.step.title){var i=[t("div",{staticClass:"q-stepper__title"},[this.step.title])];void 0!==this.step.caption&&null!==this.step.caption&&i.push(t("div",{staticClass:"q-stepper__caption"},[this.step.caption])),n.push(t("div",{staticClass:"q-stepper__label q-stepper__line relative-position"},i))}return t("div",e,n)}}),Rc=it.default.extend({name:"QStepper",provide:function(){return{stepper:this}},mixins:[ot.a,hi],props:{flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},computed:{classes:function(){return"q-stepper q-stepper--".concat(!0===this.vertical?"vertical":"horizontal")+(!0===this.flat||!0===this.isDark?" q-stepper--flat no-shadow":"")+(!0===this.bordered||!0===this.isDark&&!1===this.flat?" q-stepper--bordered":"")+(!0===this.contracted?" q-stepper--contracted":"")+(!0===this.isDark?" q-stepper--dark q-dark":"")},headerClasses:function(){return"q-stepper__header row items-stretch justify-between"+" q-stepper__header--".concat(!0===this.alternativeLabels?"alternative":"standard","-labels")+(!1===this.flat||!0===this.bordered?" q-stepper__header--border":"")+(void 0!==this.headerClass?" ".concat(this.headerClass):"")}},methods:{__getContent:function(t){var e=this,n=Object(st.c)(this,"message",[]);if(!0===this.vertical){this.__isValidPanelName(this.value)&&this.__updatePanelIndex();var i=t("div",{staticClass:"q-stepper__content",on:Object(xe.b)(this,"stop",{input:ht.k})},Object(st.c)(this,"default"));return void 0===n?[i]:n.concat(i)}return[t("div",{class:this.headerClasses},this.panels.map((function(n){var i=n.componentOptions.propsData;return t(Dc,{key:i.name,props:{stepper:e,step:i}})})))].concat(n,t("div",{staticClass:"q-stepper__content q-panel-parent",directives:this.panelDirectives},this.__getPanelContent(t)))},__renderPanels:function(t){return t("div",{class:this.classes,on:nt()({},this.qListeners)},Object(st.a)(this.__getContent(t),this,"navigation"))}}}),Lc=it.default.extend({name:"QStepWrapper",render:function(t){return t("div",{staticClass:"q-stepper__step-content"},[t("div",{staticClass:"q-stepper__step-inner"},Object(st.c)(this,"default"))])}}),Fc=it.default.extend({name:"QStep",inject:{stepper:{default:function(){console.error("QStep needs to be child of QStepper")}}},mixins:[pi],props:{icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean},computed:{isActive:function(){return this.stepper.value===this.name}},watch:{isActive:function(t){var e=this;!0===t&&!0===this.stepper.vertical&&this.$nextTick((function(){void 0!==e.$el&&(e.$el.scrollTop=0)}))}},render:function(t){var e=this.stepper.vertical,n=!0===e&&!0===this.stepper.keepAlive?t("keep-alive",!0===this.isActive?[t(Lc,{key:this.name},Object(st.c)(this,"default"))]:void 0):!0!==e||!0===this.isActive?Lc.options.render.call(this,t):void 0;return t("div",{staticClass:"q-stepper__step",on:nt()({},this.qListeners)},!0===e?[t(Dc,{props:{stepper:this.stepper,step:this}}),!0===this.stepper.animated?t(Ir.a,[n]):n]:[n])}}),Oc=it.default.extend({name:"QStepperNavigation",mixins:[at.a],render:function(t){return t("div",{staticClass:"q-stepper__nav",on:nt()({},this.qListeners)},Object(st.c)(this,"default"))}}),Pc=Object(h.a)(xc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isFirstLaunch?n("q-dialog",{attrs:{"transition-hide":"slide-right","transition-show":"slide-left",persistent:""},model:{value:t.firstLaunch,callback:function(e){t.firstLaunch=e},expression:"firstLaunch"}},[n("VerticalScrollView",{attrs:{"content-class":t.getAppFragmentDialogClass,"content-style":t.getAppFragmentDialogStyle}},[n("q-stepper",{ref:"stepper",class:t.getAppFragmentDialogClass,style:t.getAppFragmentDialogStyle,attrs:{flat:"",animated:"","header-nav":"","alternative-labels":"",vertical:t.$q.screen.lt.sm,"active-color":"colorAccent","done-color":"textColorSecondary","inactive-color":"actionIconColorInactive",dark:this.$store.getters.isDarkMode},scopedSlots:t._u([{key:"navigation",fn:function(){return[n("q-stepper-navigation",{staticClass:"text-right"},[t.step>1?n("q-btn",{staticClass:"q-ml-sm q-mr-sm q-pl-sm q-pr-sm",style:t.getAppButtonStyle,attrs:{color:"colorAccent",label:t.$t("button_back"),dense:"",flat:""},on:{click:function(e){return t.$refs.stepper.previous()}}}):t._e(),3!==t.step?n("q-btn",{staticClass:"q-pl-sm q-pr-sm",style:t.getAppButtonStyle,attrs:{"text-color":"textColorOnSurface",label:t.$t("button_continue"),color:"colorAccent",dense:""},on:{click:function(e){return t.$refs.stepper.next()}}}):n("q-btn",{staticClass:"q-pl-sm q-pr-sm",style:t.getAppButtonStyle,attrs:{"text-color":"textColorOnSurface",label:t.$t("button_finish"),color:"colorAccent",dense:""},on:{click:t.onFinish}})],1)]},proxy:!0}],null,!1,3949085132),model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[n("q-step",{attrs:{name:1,title:t.$t("desktop_get_started_language"),icon:"translate",done:t.step>3}},t._l(t.langOptions,(function(e){return n("q-chip",{key:e,staticClass:"q-mr-md q-mb-md",style:t.getAppButtonStyle,attrs:{"text-color":t.getLanguageItemTextColor(e),color:t.getLanguageItemColor(e),label:t.getLanguageItemLabel(e),icon:t.getLanguageItemCountry(e),clickable:"",square:"",size:"md"},on:{click:function(n){return t.onLanguageItemSelected(e)}}})})),1),n("q-step",{attrs:{name:2,title:t.$t("desktop_get_started_theme"),icon:"color_lens",done:t.step>3}},t._l(t.themes,(function(e){return n("q-chip",{key:e.id,staticClass:"q-mr-md q-mb-md",style:t.getAppButtonStyle,attrs:{"text-color":t.getThemeItemTextColor(e),color:t.getThemeItemColor(e),label:t.getThemeItemTitle(e),clickable:"",square:"",size:"md"},on:{click:function(n){return t.onThemeItemSelected(e)}}})})),1),n("q-step",{attrs:{name:3,title:t.$t("account_button_sign_in"),icon:"person",done:t.step>3}},[n("div",{staticClass:"text-center"},[n("div",{staticClass:"text-textColorPrimary text-body1"},[t._v(t._s(this.$t("account_title_not_authorized")))]),n("div",{staticClass:"q-ma-md"},[n("q-btn",{staticClass:"q-pl-sm q-pr-sm",style:t.getAppButtonStyle,attrs:{label:this.$t("account_button_sign_in"),"text-color":"textColorPrimary",outline:"",dense:""},on:{click:[function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.onSignInExternal(e):null},function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onSignIn(e)}]}})],1)])])],1)],1)],1):t._e()}),[],!1,null,null,null),Nc=Pc.exports;g()(Pc,"components",{QDialog:oe.a,QStepper:Rc,QStep:Fc,QChip:Gt.a,QBtn:Tt.a,QStepperNavigation:Oc});n("5319");var Bc={name:"DialogHintUseCase",data:function(){return{show:!1}},watch:{getHintDialogRequest:function(t){t&&(this.show=!0,this.onSetFocus())}},computed:{getAppButtonStyle:function(){return this.$store.getters.getAppButtonStyle},getAppDialogClass:function(){return this.$store.getters.getAppDialogClass},getAppDialogStyle:function(){return this.$store.getters.getAppDialogStyle},getHintDialogRequest:function(){return this.$store.getters.getHintDialogRequest},getActionLabel:function(){return this.getHintDialogRequest.actionLabel||this.$t("button_got_it")},getIcon:function(){return this.getHintDialogRequest.icon},getIconColor:function(){return this.getHintDialogRequest.iconColor||"textColorPrimary"},getTitle:function(){return this.getHintDialogRequest.title},isFormatted:function(){return this.getHintDialogRequest.isFormatted},getMessage:function(){return this.isFormatted?this.getHintDialogRequest.message:this.getHintDialogRequest.message.replace(/\n/g,"<br />")},getMessageStyle:function(){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              border-radius: 6px;\n              font-size: 14px;\n      "}},methods:{onActionClick:function(){var t=this.getHintDialogRequest.onActionClicked;t&&t()},onSetFocus:function(){var t=this;vt.a.nextTick((function(){var e=t.$refs.btnAction;e&&e.$el&&w.a.setFocus(e.$el,!0)}))}}},Mc=Object(h.a)(Bc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("q-dialog",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("q-card",{class:t.getAppDialogClass,style:t.getAppDialogStyle},[n("q-card-section",{staticClass:"q-mt-sm"},[n("q-avatar",{attrs:{size:"72px",icon:t.getIcon,"text-color":t.getIconColor,color:"myBackgroundHighlight"}}),n("div",{staticClass:"text-textColorPrimary text-h6 q-mt-md ellipsis text-weight-medium",domProps:{innerHTML:t._s(t.getTitle)}})],1),n("q-card-section",{staticClass:"q-pt-none"},[n("div",{staticClass:"text-textColorSecondary markdown-body",style:t.getMessageStyle,domProps:{innerHTML:t._s(t.getMessage)}})]),n("q-card-actions",{staticClass:"q-mb-xs",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],ref:"btnAction",style:t.getAppButtonStyle,attrs:{label:t.getActionLabel,"text-color":"colorAccent",unelevated:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onActionClick(e)}}})],1)],1)],1):t._e()}),[],!1,null,null,null),qc=Mc.exports;g()(Mc,"components",{QDialog:oe.a,QCard:ae.a,QCardSection:se.a,QAvatar:x.a,QCardActions:ce.a,QBtn:Tt.a}),g()(Mc,"directives",{ClosePopup:Pe.a});var Uc={name:"SelectPlanUseCase",components:{DialogWithToolbar:_a},data:function(){return{show:!1}},watch:{getSelectPlanRequest:function(){this.show=!0}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getSelectPlanRequest:function(){return this.$store.getters.getSelectPlanRequest},isSyncRestricted:function(){return this.$store.getters.isSyncRestricted},warningTitle:function(){return this.$t("account_sync_plan_warning_limit_reached_title")},warningSubTitle:function(){var t=this.$store.getters.getSyncLimit,e=this.$store.getters.getFilters.syncedCount;return this.$tc("account_sync_plan_warning_limit_reached_sub_title",null,{n:e,n1:t})},warningDescription:function(){return this.$t("account_sync_plan_warning_limit_reached_description")},contributorLabel:function(){return this.$t("account_sync_plan_contributor")},sync5000Title:function(){return this.$tc("account_sync_plan_title",null,{n:"+5000"})},sync10000Title:function(){return this.$tc("account_sync_plan_title",null,{n:"+10000"})},sync30000Title:function(){return this.$tc("account_sync_plan_title",null,{n:"+30000"})},downloadAppTitle:function(){return this.$tc("desktop_main_menu_download_for",null,{n:this.$t("desktop_main_menu_download_android")})}},methods:{onPatreon5000:function(){j.a.openURL(qa.a.patreonUrl)},onPatreon10000:function(){j.a.openURL(qa.a.patreonUrl)},onPatreon30000:function(){j.a.openURL(qa.a.patreonUrl)},onOpenCollective5000:function(){j.a.openURL(qa.a.openCollectiveUrl)},onOpenCollective10000:function(){j.a.openURL(qa.a.openCollectiveUrl)},onOpenCollective30000:function(){j.a.openURL(qa.a.openCollectiveUrl)},onGooglePlay:function(){j.a.openURL(qa.a.googlePlayApp)},onClosed:function(){this.$store.commit(V.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,!1)}}},$c=Object(h.a)(Uc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("DialogWithToolbar",{attrs:{title:t.$t("account_sync_plan_toolbar"),"on-closed":t.onClosed},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"q-pa-md"},[t.isSyncRestricted?n("div",{staticClass:"text-weight-medium text-negative text-body1 text-center"},[t._v(t._s(t.warningTitle))]):t._e(),t.isSyncRestricted?n("div",{staticClass:"text-textColorPrimary text-body2 text-center q-mt-sm"},[t._v(t._s(t.warningSubTitle))]):t._e(),t.isSyncRestricted?n("div",{staticClass:"text-textColorSecondary text-body2 text-center q-mt-sm"},[t._v(t._s(t.warningDescription))]):t._e(),n("div",{staticClass:"column q-gutter-md"},[n("q-card",{staticClass:"bg-colorContext col-12",attrs:{dark:t.isDarkMode,flat:""}},[n("q-card-section",{attrs:{horizontal:""}},[n("div",{staticClass:"text-white row text-no-wrap items-center q-pa-md"},[n("q-icon",{attrs:{name:"img:images/open_collective.png",size:"24px"}}),n("div",{staticClass:"q-ml-sm text-h6",staticStyle:{color:"#7FADF2"}},[t._v("Open Collective")])],1)]),n("q-card-section",{attrs:{horizontal:""}},[n("div",{staticClass:"row q-gutter-md q-px-md q-pb-md"},[n("q-btn",{staticClass:"col",staticStyle:{color:"#7FADF2"},attrs:{label:t.sync5000Title,outline:""},on:{click:function(e){return e.stopPropagation(),t.onOpenCollective5000(e)}}}),n("q-btn",{staticClass:"col",staticStyle:{color:"#7FADF2"},attrs:{label:t.sync10000Title,outline:""},on:{click:function(e){return e.stopPropagation(),t.onOpenCollective10000(e)}}}),n("q-btn",{staticClass:"col",staticStyle:{color:"#7FADF2"},attrs:{label:t.sync30000Title,outline:""},on:{click:function(e){return e.stopPropagation(),t.onOpenCollective30000(e)}}})],1)])],1),n("q-card",{staticClass:"bg-colorContext col-12",attrs:{dark:t.isDarkMode,flat:""}},[n("q-card-section",{attrs:{horizontal:""}},[n("div",{staticClass:"text-white row text-no-wrap items-center q-pa-md"},[n("q-icon",{staticStyle:{color:"#e65d4b"},attrs:{name:"fab fa-patreon",size:"24px"}}),n("div",{staticClass:"q-ml-sm text-h6",staticStyle:{color:"#e65d4b"}},[t._v("Patreon")])],1)]),n("q-card-section",{attrs:{horizontal:""}},[n("div",{staticClass:"row q-gutter-md q-px-md q-pb-md"},[n("q-btn",{staticClass:"col",staticStyle:{color:"#e65d4b"},attrs:{label:t.sync5000Title,outline:""},on:{click:function(e){return e.stopPropagation(),t.onPatreon5000(e)}}}),n("q-btn",{staticClass:"col",staticStyle:{color:"#e65d4b"},attrs:{label:t.sync10000Title,outline:""},on:{click:function(e){return e.stopPropagation(),t.onPatreon10000(e)}}}),n("q-btn",{staticClass:"col",staticStyle:{color:"#e65d4b"},attrs:{label:t.sync30000Title,outline:""},on:{click:function(e){return e.stopPropagation(),t.onPatreon30000(e)}}})],1)])],1),n("q-card",{staticClass:"bg-colorContext col text-textColorPrimary",attrs:{dark:t.isDarkMode,flat:""}},[n("q-card-section",{attrs:{horizontal:""}},[n("div",{staticClass:"row text-no-wrap items-center q-pa-md"},[n("q-icon",{attrs:{name:"fab fa-google-play",size:"24px"}}),n("div",{staticClass:"q-ml-sm text-h6"},[t._v("Google Play")])],1)]),n("q-card-section",{attrs:{horizontal:""}},[n("div",{staticClass:"row q-gutter-md q-px-md q-pb-md"},[n("q-btn",{staticClass:"col",attrs:{label:t.downloadAppTitle,outline:""},on:{click:function(e){return e.stopPropagation(),t.onGooglePlay(e)}}})],1)])],1)],1)]),n("q-separator",{staticClass:"bg-colorDividerLight"}),n("div",{staticClass:"text-textColorSecondary text-body2 text-center q-ma-md"},[t._v(t._s(t.contributorLabel))])]},proxy:!0}],null,!1,3052212203),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}):t._e()}),[],!1,null,null,null),jc=$c.exports;g()($c,"components",{QCard:ae.a,QCardSection:se.a,QIcon:B.a,QBtn:Tt.a,QSeparator:S.a});var Vc=n("8841"),Hc=(n("07ac"),n("71a7")),zc={name:"ObjectSeparatorBlock",components:{DropdownButtonView:qo.a},props:["value"],data:function(){return{separatorOther:this.getSeparatorOther(),separator:this.value}},watch:{separatorOther:function(t){this.separator=t},value:function(t){this.separator=t},separator:function(t){yt.a.debug("separator",t),this.$emit("input",t)}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getSettings:function(){return this.$store.getters.getSettings},getAppButtonToggleStyle:function(){return this.$store.getters.getAppButtonToggleStyle},getSeparatorOtherClass:function(){return"".concat(this.getSeparatorActionClass(this.separatorOther)," q-pl-sm")},getSeparatorNewLine:function(){return Hc.a.NEW_LINE},getSeparatorSpace:function(){return Hc.a.SPACE},getSeparatorMD:function(){return Hc.a.MD}},methods:{getSeparatorOther:function(){var t=xt.a.getSettings().textSeparator;return Object.values(Hc.a).includes(t)?null:t},getSeparatorActionClass:function(t){return this.separator===t?"bg-colorAccent text-textColorOnSurface":"text-textColorSecondary"},onChangeSeparatorOther:function(){this.onChangeSeparator(this.separatorOther)},onChangeSeparator:function(t){return this.separator=t,t}}},Wc=Object(h.a)(zc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn-group",{staticClass:"q-ma-none bg-colorDialog text-textColorPrimary",style:t.getAppButtonToggleStyle,attrs:{flat:""}},[n("q-btn",{class:t.getSeparatorActionClass(t.getSeparatorNewLine),attrs:{label:this.$t("clip_multiple_merge_separator_line"),"no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onChangeSeparator(t.getSeparatorNewLine)}}}),n("q-separator",{staticClass:"bg-colorDividerLight",attrs:{vertical:""}}),n("q-btn",{class:t.getSeparatorActionClass(t.getSeparatorSpace),attrs:{label:this.$t("clip_multiple_merge_separator_space"),"no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onChangeSeparator(t.getSeparatorSpace)}}}),n("q-separator",{staticClass:"bg-colorDividerLight",attrs:{vertical:""}}),n("q-btn",{class:t.getSeparatorActionClass(t.getSeparatorMD),attrs:{label:t.getSeparatorMD,"no-caps":""},on:{click:function(e){return e.stopPropagation(),t.onChangeSeparator(t.getSeparatorMD)}}}),n("q-separator",{staticClass:"bg-colorDividerLight",attrs:{vertical:""}}),n("DropdownButtonView",{attrs:{label:t.$t("clip_multiple_merge_separator_other"),"button-class":t.getSeparatorOtherClass,"on-clicked":t.onChangeSeparatorOther,flat:!0},scopedSlots:t._u([{key:"list",fn:function(){return[n("q-input",{staticClass:"text-textColorPrimary selectable-text q-pa-sm",attrs:{dark:t.isDarkMode,"input-class":"text-textColorPrimary",borderless:"",autofocus:"",autogrow:"",dense:""},model:{value:t.separatorOther,callback:function(e){t.separatorOther=e},expression:"separatorOther"}})]},proxy:!0}])})],1)}),[],!1,null,null,null),Kc=Wc.exports;g()(Wc,"components",{QBtnGroup:mn.a,QBtn:Tt.a,QSeparator:S.a,QInput:Ct.a});var Gc={name:"MergeClipsUseCase",components:{ObjectSeparatorBlock:Kc,ClipDetailsTextBlock:At.a,ClipDetailsAttachmentsBlock:_t.a,ObjectAddTagBlock:Fi,ObjectTagsBlock:Yi,ObjectDescriptionBlock:Et.a,ObjectAbbreviationBlock:It,DialogWithToolbar:_a,ObjectTitleBlock:Oi.a,ActionButton:I.a},data:function(){return{show:!1,clips:[],clip:null,separator:null}},watch:{getMergeClipsRequest:function(t){t?(this.separator=t.separator,this.clips=t.clips,this.clip=t.clip,this.show=!0):this.show=!1},show:function(t){t?Ro():ko()},separator:function(t){var e=this.clip,n=this.clips;e.text=Vc.a.getClipsText(n,t)}},computed:{canShowAdditionalAttributes:function(){return this.$store.getters.canShowAdditionalAttributes},hasTags:function(){return l.a.arrayIsNotEmpty(this.getClip.getTags())},hasFiles:function(){return this.getClip.hasFiles()},hasAbbreviation:function(){return this.getClip.hasAbbreviation()},hasDescription:function(){return this.getClip.hasDescription()},hasAdditionalAttrs:function(){return this.hasDescription||this.hasAbbreviation},getClip:function(){return this.clip},getTitle:function(){var t=this.clips;return"".concat(this.$t("menu_merge")," (").concat(this.$tc("main_toolbar_notes",t.length,{n:t.length}),")")},getMergeClipsRequest:function(){return this.$store.getters.getMergeClipsRequest}},methods:{onClose:function(){var t=this;this.$store.dispatch(s.a.onShowConfirm,{title:t.$t("clip_multiple_exit_without_save_title"),message:t.$t("clip_multiple_exit_without_save_description"),confirmLabel:t.$t("button_yes"),cancelLabel:t.$t("button_no"),onConfirmed:function(){t.$store.commit(V.a.REQUEST_MERGE_CLIPS)}})},onClosed:function(){ko()},onSave:function(){var t=this.getClip,e=this.clips;if(t&&e){var n=this;this.$store.dispatch(s.a.onShowConfirm,{icon:"merge_type",iconColor:"textColorPrimary",title:n.$t("main_delete_merged_title"),message:n.$t("main_delete_merged_description"),confirmLabel:n.$t("button_yes"),cancelLabel:n.$t("button_no"),onConfirmed:function(){n.onSaveClip({clip:t,mergedClips:e})},onCanceled:function(){n.onSaveClip({clip:t})}})}},onSaveClip:function(t){var e=this,n=this.separator;j.a.showLoadingState(),this.$store.dispatch(s.a.onSaveClip,t).then((function(t){if(t&&!t.isNew())return e.$store.commit(V.a.REQUEST_MERGE_CLIPS),e.$store.dispatch(s.a.onUnselectAllClips)})).then((function(){return e.$store.dispatch(s.a.onChangeTextSeparator,{textSeparator:n})})).finally((function(){return j.a.hideLoadingState()}))}}},Qc=Object(h.a)(Gc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("DialogWithToolbar",{attrs:{"on-closed":t.onClosed,"use-custom-toolbar":!0,"no-esc-dismiss":!0},scopedSlots:t._u([{key:"toolbar",fn:function(){return[n("q-toolbar",{staticClass:"text-textColorPrimary"},[n("ActionButton",{attrs:{icon:"arrow_back","tooltip-label-res":"menu_close","on-click":t.onClose,dense:!0}}),n("q-toolbar-title",[t._v("\n        "+t._s(t.getTitle)+"\n      ")]),n("ActionButton",{attrs:{icon:"save","on-click":t.onSave,dense:!0}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("ObjectTitleBlock",{staticClass:"q-mt-md",attrs:{"hint-text-res":"clip_hint_title","has-additional-attrs":t.hasAdditionalAttrs,readonly:!1,disable:!1},model:{value:t.getClip.title,callback:function(e){t.$set(t.getClip,"title",e)},expression:"getClip.title"}}),n("q-slide-transition",[t.canShowAdditionalAttributes?n("div",[n("ObjectAbbreviationBlock",{attrs:{readonly:!1},model:{value:t.getClip.abbreviation,callback:function(e){t.$set(t.getClip,"abbreviation",e)},expression:"getClip.abbreviation"}}),n("ObjectDescriptionBlock",{attrs:{"has-description":t.hasDescription,readonly:!1},model:{value:t.getClip.description,callback:function(e){t.$set(t.getClip,"description",e)},expression:"getClip.description"}})],1):t._e()]),t.hasTags?n("ObjectTagsBlock",{attrs:{editable:!0},model:{value:t.getClip.tagIds,callback:function(e){t.$set(t.getClip,"tagIds",e)},expression:"getClip.tagIds"}}):t._e(),n("ObjectAddTagBlock",{attrs:{editable:!0},model:{value:t.getClip.tagIds,callback:function(e){t.$set(t.getClip,"tagIds",e)},expression:"getClip.tagIds"}}),t.hasFiles?n("ClipDetailsAttachmentsBlock",{attrs:{clip:t.getClip,editable:!0}}):t._e(),n("div",{staticClass:"text-center q-ma-md"},[n("ObjectSeparatorBlock",{model:{value:t.separator,callback:function(e){t.separator=e},expression:"separator"}})],1),n("ClipDetailsTextBlock",{attrs:{clip:t.getClip,"is-edit-mode":!0}})]},proxy:!0}],null,!1,4053025198),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}):t._e()}),[],!1,null,null,null),Yc=Qc.exports;g()(Qc,"components",{QToolbar:A.a,QToolbarTitle:k.a,QSlideTransition:Ir.a});var Xc={name:"ShowBannerUseCase",components:{BannerView:hs},computed:{getColor:function(){return this.getBannerRequest.color||j.a.getColorBrand("info")},getColorOnSurface:function(){return j.a.getColorOnSurface(this.getColor)},getAppButtonStyle:function(){return"color: ".concat(this.getColorOnSurface,"; ").concat(this.$store.getters.getAppButtonStyle)},getBannerRequest:function(){return this.$store.getters.getBannerRequest},isAvailable:function(){return!l.a.isNull(this.getBannerRequest)},getTitle:function(){return this.getBannerRequest.title},getMessage:function(){return this.getBannerRequest.message}},methods:{onGotIt:function(){this.$store.commit(V.a.REQUEST_SHOW_BANNER)}}},Zc=Object(h.a)(Xc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAvailable?n("BannerView",{attrs:{"color-hex":t.getColor,message:t.getMessage,title:t.getTitle},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"q-ma-sm row justify-end"},[n("q-btn",{style:t.getAppButtonStyle,attrs:{label:t.$t("button_got_it"),size:"sm",outline:""},on:{click:t.onGotIt}})],1)]},proxy:!0}],null,!1,3766152531)}):t._e()}),[],!1,null,null,null),Jc=Zc.exports;g()(Zc,"components",{QBtn:Tt.a});var tl={name:"EditTagsUseCase",components:{ChipFilter:Gi,ObjectAddTagBlock:Fi,DialogWithToolbar:_a,ActionButton:I.a},data:function(){return{show:!1,tagIdsBefore:[],tagIdsAfter:[],clips:[]}},beforeDestroy:function(){this.show=!1},watch:{getEditTagsRequest:function(t){if(t){var e=t.clips||[],n=Vc.a.getClipsCommonTagIds(e);this.tagIdsBefore=ln()(n),this.tagIdsAfter=n,this.clips=e,this.show=!0}else this.show=!1},show:function(t){t?Do():ko()}},computed:{getEditTagsRequest:function(){return this.$store.getters.getEditTagsRequest},getFilters:function(){return this.$store.getters.getFilters},getTagsData:function(){var t=this.tagIdsAfter;return this.getFilters.getSortedTags().map((function(e){return{filter:e,name:e.name,id:e.getUid(),isActive:t.includes(e.getUid())}}))},getTitle:function(){var t=this.clips;return t.length>1?"".concat(this.$t("clip_multiple_edit_attributes_tags")," (").concat(this.$tc("main_toolbar_notes",t.length,{n:t.length}),")"):this.$t("main_filter_tags")}},methods:{onClose:function(){var t=this;this.$store.dispatch(s.a.onShowConfirm,{title:t.$t("clip_multiple_exit_without_save_title"),message:t.$t("clip_multiple_exit_without_save_description"),confirmLabel:t.$t("button_yes"),cancelLabel:t.$t("button_no"),onConfirmed:function(){t.$store.commit(V.a.REQUEST_EDIT_TAGS)}})},onSave:function(){var t=this.clips,e=this.tagIdsAfter,n=this.tagIdsBefore;this.$store.dispatch(s.a.onTagSelectedClips,{tagIdsBefore:n,tagIdsAfter:e,clips:t})},onFilterChecked:function(t){l.a.arrayAddOrRemoveItem(this.tagIdsAfter,t.id)},onClosed:function(){ko()}}},el=Object(h.a)(tl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("DialogWithToolbar",{attrs:{"on-closed":t.onClosed,"use-custom-toolbar":!0,"no-esc-dismiss":!0},scopedSlots:t._u([{key:"toolbar",fn:function(){return[n("q-toolbar",{staticClass:"text-textColorPrimary"},[n("ActionButton",{attrs:{icon:"arrow_back","tooltip-label-res":"menu_close","on-click":t.onClose,dense:!0}}),n("q-toolbar-title",[t._v("\n        "+t._s(t.getTitle)+"\n      ")]),n("ActionButton",{attrs:{icon:"save","on-click":t.onSave,dense:!0}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("ObjectAddTagBlock",{attrs:{editable:!0},model:{value:t.tagIdsAfter,callback:function(e){t.tagIdsAfter=e},expression:"tagIdsAfter"}}),n("div",{staticClass:"q-ma-md row"},t._l(t.getTagsData,(function(e){return n("ChipFilter",{key:e.id,staticClass:"q-mr-sm q-mt-sm",attrs:{"on-checked":t.onFilterChecked,filter:e.filter,"filter-data":e,clickable:!0}})})),1)]},proxy:!0}],null,!1,2230264003),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}):t._e()}),[],!1,null,null,null),nl=el.exports;g()(el,"components",{QToolbar:A.a,QToolbarTitle:k.a});Promise.all([n.e(5),n.e(4)]).then(n.bind(null,"79df"));var il={name:"AuthUseCase",data:function(){return{signIn:null}},mounted:function(){this.$store.getters.getAuthUI.isPendingRedirect()&&(this.signIn=!0)},watch:{isAuthFlowStarted:function(){this.signIn=!0}},computed:{getContentClass:function(){return this.$store.getters.getSelectedFontClass},isAuthFlowStarted:function(){return this.$store.getters.isAuthFlowStarted},isAvailable:function(){return!this.$store.getters.isDesktopMode&&!this.$store.getters.isAuthorized}},methods:{onSignInStarted:function(){this.$store.dispatch(s.a.onSignIn,"#auth-container")}}},rl=Object(h.a)(il,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAvailable?n("q-dialog",{attrs:{"transition-hide":"slide-right","transition-show":"slide-left",persistent:"",maximized:""},on:{show:t.onSignInStarted},model:{value:t.signIn,callback:function(e){t.signIn=e},expression:"signIn"}},[n("q-card",{class:t.getContentClass},[n("q-toolbar",{staticClass:"textColorPrimary"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),n("q-toolbar-title",[t._v(t._s(this.$t("account_button_sign_in")))])],1),n("q-card-section",[n("div",{attrs:{id:"auth-container"}})])],1)],1):n("div")}),[],!1,null,null,null),ol=rl.exports;g()(rl,"components",{QDialog:oe.a,QCard:ae.a,QToolbar:A.a,QBtn:Tt.a,QToolbarTitle:k.a,QCardSection:se.a}),g()(rl,"directives",{ClosePopup:Pe.a});var al={name:"UseCases",components:{ShowAdvancedFilterUseCase:Ta,ShowFilterDetailsUseCase:ss,CheckForUpdateUseCase:gs,CheckSyncLimitUseCase:ys,CheckForErrorUseCase:Cs,DialogConfirmUseCase:Is,ShowSettingsUseCase:Cc,ShowClipViewUseCase:ks,AuthExternalUseCase:Os,ShowLeftNavUseCase:Ic,PreviewLinkUseCase:Ec.a,GetStartedUseCase:Nc,MergeClipsUseCase:Yc,ShowBannerUseCase:Jc,SelectPlanUseCase:jc,DialogHintUseCase:qc,EditTagsUseCase:nl,AuthUseCase:ol},computed:{isDesktopMode:function(){return this.$store.getters.isDesktopMode},canSelectPlan:function(){return this.$store.getters.canSelectPlan}}},sl=Object(h.a)(al,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$q.screen.lt.sm?n("ShowClipViewUseCase"):t._e(),t.isDesktopMode?n("CheckForUpdateUseCase"):t._e(),t.isDesktopMode?n("AuthExternalUseCase"):t._e(),t.$q.screen.lt.md?n("ShowLeftNavUseCase"):t._e(),t.canSelectPlan?n("SelectPlanUseCase"):t._e(),t.isDesktopMode?t._e():n("AuthUseCase"),n("ShowAdvancedFilterUseCase"),n("ShowFilterDetailsUseCase"),n("CheckForErrorUseCase"),n("CheckSyncLimitUseCase"),n("DialogConfirmUseCase"),n("ShowSettingsUseCase"),n("PreviewLinkUseCase"),n("DialogHintUseCase"),n("GetStartedUseCase"),n("MergeClipsUseCase"),n("ShowBannerUseCase"),n("EditTagsUseCase")],1)}),[],!1,null,null,null).exports,cl=n("721b"),ll=n("03c0"),ul=n("8d20"),dl=n("9400"),hl=n("8909");function pl(t){return t.requestFocusOnSearch}function fl(t){return t.clipsLoadingState}function gl(t){var e=t.requestUpdateClips;return xt.a.getClips(e)}function ml(t,e){return e.getClips.length}function vl(t){return t.selectedClipsCount>0}function yl(t){return t.selectedClipsCount}function _l(t){var e=t.selectedClipsIds;return xt.a.getSelectedClipsMap(e)}function bl(t){var e=t.selectedClipsIds;return xt.a.getSelectedClips(e)}function Sl(t){return Or.a.byId[t.listStyleId]}function Cl(t){return Lt.a.byId[t.listSortById]}function Tl(t){return t.filterByText}function wl(t){var e=t.requestUndoDelete;return xt.a.getDeletedClips(e)}function Il(t,e){return!e.getSelectedClips.some((function(t){return!t.isStarred()}))}function El(t,e){return!e.getSelectedClips.some((function(t){return!t.isDeleted()}))}function Al(t,e){return!e.getSelectedClips.some((function(t){return t.isSynced()}))}function xl(t,e){return e.getSelectedClips.some((function(t){return t.filesCount>0}))}function kl(t,e){return e.getSelectedClips.some((function(t){return t.isDeleted()}))}function Dl(t,e){var n="bg-colorPrimaryInverse",i=e.getSelectedFont;return i&&(n+=" ".concat(i.styleClass)),e.isInFullScreen&&(n+=" fullscreen"),n}n("a630");var Rl,Ll,Fl,Ol=(Rl={},wi()(Rl,V.a.SET_LIST_STYLE,(function(t,e){t.listStyleId=e})),wi()(Rl,V.a.SET_LIST_SORT_BY,(function(t,e){t.sortById=e})),wi()(Rl,V.a.SET_CLIPS,(function(t,e){xt.a.setClips(e);var n=xt.a.getFilterLast();t.listSortById=n.sortBy,t.listStyleId=n.listStyle,t.filterByText=n.textLike,t.requestUpdateClips=Date.now(),t.clipsLoadingState=!1})),wi()(Rl,V.a.SET_CLIPS_LOADING,(function(t){xt.a.setClips([]),t.clipsLoadingState=!0,t.requestUpdateClips=Date.now()})),wi()(Rl,V.a.SET_SELECTED_CLIPS,(function(t,e){xt.a.setSelectedClipsMap(e),t.selectedClipsIds=Array.from(e.keys()),t.selectedClipsCount=e.size,yt.a.debug("set selected clips: ids =",t.selectedClipsIds,"count =",t.selectedClipsCount)})),wi()(Rl,V.a.REQUEST_FOCUS_ON_SEARCH,(function(t){t.requestFocusOnSearch=Date.now()})),wi()(Rl,V.a.SET_FILTER_BY_TEXT,(function(t,e){yt.a.debug(V.a.SET_FILTER_BY_TEXT,e),t.filterByText=e})),wi()(Rl,V.a.REQUEST_UNDO_DELETE,(function(t,e){xt.a.setDeletedClips(e),t.requestUndoDelete=Date.now()})),Rl),Pl=n("c973"),Nl=n.n(Pl),Bl=(n("4ec9"),n("96cf"),n("e8ea")),Ml=n("d577"),ql=n("782d"),Ul={namespaced:!1,state:{requestFocusOnSearch:null,requestUpdateClips:null,requestUndoDelete:null,clipsLoadingState:!0,selectedClipsCount:0,selectedClipsIds:[],filterByText:null,listSortById:0,listStyleId:0},getters:i,mutations:Ol,actions:(Ll={},wi()(Ll,s.a.onInitApp,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.dispatch(s.a.onInitSettings,e);case 2:if(!w.a.isDesktop()){n.next=7;break}return n.next=5,t.dispatch(s.a.onInitElectron);case 5:n.next=9;break;case 7:return n.next=9,t.dispatch(s.a.onHandleReferralLink);case 9:return n.next=11,t.dispatch(s.a.onApplyFilter);case 11:e.$store.watch((function(){return t.getters.isAuthorized}),(function(e){yt.a.debug("isAuthorized",e),t.dispatch(s.a.onInitCloudSync).then((function(){return yt.a.debug(s.a.onInitCloudSync)})),t.dispatch(s.a.onInitFiltersSync,(function(){t.dispatch(s.a.onInitFilesSync,(function(){t.dispatch(s.a.onInitClipsSync).then((function(){return yt.a.debug(s.a.onInitClipsSync)}))})).then((function(){return yt.a.debug(s.a.onInitFilesSync)}))})).then((function(){return yt.a.debug(s.a.onInitFiltersSync)})),w.a.isDesktop()&&t.dispatch(s.a.onUpdateElectronState).then((function(){return yt.a.debug(s.a.onUpdateElectronState)}))})),t.dispatch(s.a.onInitFirebase).then((function(){return yt.a.debug(s.a.onInitFirebase)})),t.dispatch(s.a.onInitAuth).then((function(){return yt.a.debug(s.a.onInitAuth)}));case 14:case"end":return n.stop()}}),n)})))()})),wi()(Ll,s.a.onInitFilesSync,(function(t,e){return Bl.a.initSync(t,e)})),wi()(Ll,s.a.onInitClipsSync,(function(t){return Ml.a.initSync(t).then((function(){return t.getters.isAuthorized?t.dispatch(s.a.onStartSession):t.commit(V.a.NEW_CLIP)}))})),wi()(Ll,s.a.onSelectAllClips,(function(t){var e=xt.a.getClips(),n=new Map;e.forEach((function(t){n.set(t.id,t)})),t.commit(V.a.SET_SELECTED_CLIPS,n)})),wi()(Ll,s.a.onUnselectAllClips,(function(t){t.commit(V.a.SET_SELECTED_CLIPS,new Map),w.a.resetFocus()})),wi()(Ll,s.a.onSelectClip,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o,a,c,l,u,d,h,p,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return yt.a.debug("onSelectClip",e),i=e.clip,r=e.toggleOne,o=e.toggleRange,a=e.toggleReset,c=xt.a.getClips(),l=xt.a.getSelectedClipsMap(),n.next=9,t.dispatch(s.a.onSaveSelectedClip,!0);case 9:if(u=n.sent,d=t.getters.getSelectedClipIndex,t.commit(V.a.VIEW_CLIP,i),h=t.getters.getSelectedClipIndex,o)for(p=Math.min(d,h);p<=Math.max(d,h);p++)(f=c[p])&&l.set(f.id,f);else r?l.get(i.id)?l.delete(i.id):(u.isNew()||u.id===i.id||0!==l.size||l.set(u.id,u),l.set(i.id,i)):a&&(l=new Map);t.commit(V.a.SET_SELECTED_CLIPS,l);case 15:case"end":return n.stop()}}),n)})))()})),wi()(Ll,s.a.onSyncSelectedClips,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vt.a.runOnUI(function(){var n=Nl()(regeneratorRuntime.mark((function n(i){var r,o,a,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.clips,!l.a.arrayIsEmpty(r)){n.next=3;break}return n.abrupt("return");case 3:return o=r.length>1?i.$t("sync_off_multiple_title"):i.$t("sync_off_title"),a="\n        ".concat(i.$t("sync_off_caption"),"\n        <ul>\n        <li>").concat(i.$t("account_sync_plan_warning_limit_reached_title"),"</li>\n        <li>").concat(i.$t("sync_off_reason_universal_clipboard"),"</li>\n        <li>").concat(i.$t("sync_off_reason_manual_off"),"</li>\n        </ul>\n      "),c=e.onCanceled,u=e.onConfirmed,n.abrupt("return",t.dispatch(s.a.onShowConfirm,{title:o,message:a,icon:"sync_disabled",iconColor:"textColorPrimary",onCanceled:c,confirmLabel:i.$t("button_sync"),onConfirmed:function(){return t.dispatch(s.a.onSyncNewClips,r).finally(u)}}));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))()})),wi()(Ll,s.a.onSyncNewClips,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.getters.isAuthorized){n.next=18;break}if(!t.getters.isSyncRestricted){n.next=4;break}return t.commit(V.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,!0),n.abrupt("return");case 4:if(n.t0=e,n.t0){n.next=9;break}return n.next=8,Ml.a.getNotSynced();case 8:n.t0=n.sent;case 9:if(i=n.t0,!l.a.arrayIsEmpty(i)){n.next=12;break}return n.abrupt("return");case 12:return j.a.showLoadingState(),n.next=15,Ml.a.syncAll(t,i);case 15:return n.next=17,t.dispatch(s.a.onUnselectAllClips);case 17:j.a.hideLoadingState();case 18:case"end":return n.stop()}}),n)})))()})),wi()(Ll,s.a.onCopySelectedClips,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o,a,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=xt.a.getSelectedClips(),l.a.isArray(e)?i=e:e?i=[e]:l.a.arrayIsEmpty(i)&&(i=[t.getters.getSelectedClip]),!l.a.arrayIsEmpty(i)){n.next=4;break}return n.abrupt("return",null);case 4:return i.length>1?(o=i.map((function(t){return t.text})).join("\n\n"),r=ql.a.newInstance(o)):(r=i[0],o=r.text),n.next=7,t.dispatch(s.a.onGetClipText,r);case 7:return(o=n.sent)!==r.text&&(a=r.textType,(r=ql.a.newInstance(o)).textType=a),r.isNew()&&(c=xt.a.getFilterLast(),r.setStarred(c.starred),r.createDate=new Date,r.tagIds=c.tagIds),n.next=12,t.dispatch(s.a.onSaveClip,{clip:r,copied:!0});case 12:return r=n.sent,n.next=15,t.dispatch(s.a.onUnselectAllClips);case 15:return yt.a.debug("onCopySelectedClips",r),n.abrupt("return",r);case 17:case"end":return n.stop()}}),n)})))()})),wi()(Ll,s.a.onClearRecycleBin,(function(t){vt.a.runOnUI(function(){var e=Nl()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(s.a.onShowConfirm,{title:n.$t("filter_deleted_empty_title"),message:n.$t("filter_deleted_empty_description"),confirmLabel:n.$t("menu_empty"),cancelLabel:n.$t("menu_cancel"),onConfirmed:function(){var e=Nl()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ml.a.clearRecycleBin(t).then((function(){return t.dispatch(s.a.onApplyFilter)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),wi()(Ll,s.a.onClearClipboard,(function(t){return vt.a.runOnUI(function(){var e=Nl()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(s.a.onShowConfirm,{title:n.$t("filter_clipboard_empty_title"),message:n.$t("filter_clipboard_empty_description"),confirmLabel:n.$t("menu_empty"),cancelLabel:n.$t("menu_cancel"),onConfirmed:function(){var e=Nl()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ml.a.clearClipboard(t).then((function(){return t.dispatch(s.a.onApplyFilter)})).then((function(){return t.commit(V.a.REQUEST_SHOW_FILTER_DETAILS)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),wi()(Ll,s.a.onDeleteSelectedClips,(function(t,e){var n,i,r=e.clips;return r.length>1||r.some((function(t){return t.isImportant()}))?(r.length>1?(n="main_delete_selected_title",i="main_delete_selected_description"):(n="confirm_delete_note_title",i="confirm_delete_note_description"),vt.a.runOnUI(function(){var e=Nl()(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(s.a.onShowConfirm,{title:o.$t(n),message:o.$t(i),confirmLabel:o.$t("menu_delete"),onConfirmed:function(){var e=Nl()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ml.a.deleteAll(t,r,!1,!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):Ml.a.deleteAll(t,r,!0,!1)})),wi()(Ll,s.a.onUndoDeleteSelectedClips,(function(t,e){return Ml.a.undoDeleteAll(t,e.clips)})),wi()(Ll,s.a.onFavSelectedClips,(function(t,e){var n=e.starred,i=e.clips.filter((function(t){return t.isStarred()!==n}));return l.a.arrayIsNotEmpty(i)?Ml.a.favAll(t,i,n).then((function(){return t.dispatch(s.a.onUnselectAllClips)})).then((function(){return t.commit(V.a.UPDATE_CLIP,i)})):t.dispatch(s.a.onUnselectAllClips)})),wi()(Ll,s.a.onTagSelectedClips,(function(t,e){var n=e.tagIdsBefore,i=e.tagIdsAfter,r=n.filter((function(t){return!i.includes(t)})),o=i.filter((function(t){return!n.includes(t)})),a=e.clips;return l.a.arrayIsNotEmpty(a)&&(l.a.arrayIsNotEmpty(r)||l.a.arrayIsNotEmpty(o))?(j.a.showLoadingState(),Ml.a.tagAll(t,a,o,r).finally((function(){return t.dispatch(s.a.onUnselectAllClips)})).finally((function(){return t.commit(V.a.REQUEST_EDIT_TAGS)})).finally((function(){return j.a.hideLoadingState()}))):t.dispatch(s.a.onUnselectAllClips).finally((function(){return t.commit(V.a.REQUEST_EDIT_TAGS)}))})),Ll)},$l=n("16c9"),jl=(n("ea7b"),{authUser:$l.a.NULL,showSyncLimitBanner:!1,authSessionStarted:!1,authFlowStarted:null,authForceSync:!1,authVerified:!1}),Vl=n("e6d6"),Hl=n("2398"),zl=n("260b");function Wl(){var t=new Hl.a.AuthUI(zl.a.auth());return t.disableAutoSignIn(),t}function Kl(t,e){var n=e.getAuthUserId;return n?Vl.a.getUserCollection(n):null}function Gl(t){return yt.a.debug("getAuthUser",t.authUser),t.authUser}function Ql(t){return t.authUser.firebaseId}function Yl(t,e){return e.getAuthUser.isAuthorized()}function Xl(t){return t.authUser.syncIsRestricted}function Zl(t,e){return e.getSettings.disableSync}function Jl(t,e){var n=t.authUser;return n.isAuthorized()?(n.syncLimit||0)+e.remoteConfigSyncPlanNotesFreeLimit:null}function tu(t,e){if(!t.authUser.isAuthorized())return null;var n=e.getSyncLimit;if(!n)return null;var i=xt.a.getUI();return i?i.$tc("account_sync_plan_title",null,{n:n}):null}function eu(t,e){return!e.isSyncDisabled&&!e.isSyncRestricted}function nu(t){return t.authFlowStarted}function iu(t,e){return!e.isAuthorized||t.authSessionStarted}function ru(t){return t.authForceSync}function ou(t){return t.showSyncLimitBanner}function au(t){return t.authVerified}var su=(Fl={},wi()(Fl,V.a.REQUEST_WEB_AUTH,(function(t){t.authFlowStarted=Date.now()})),wi()(Fl,V.a.CANCEL_WEB_AUTH,(function(t){t.authFlowStarted=null})),wi()(Fl,V.a.SET_AUTH_USER,(function(t,e){e?t.authUser=e.copy():(t.authUser=$l.a.NULL.copy(),t.showSyncLimitBanner=!1,t.authSessionStarted=!1,t.authVerified=!1)})),wi()(Fl,V.a.SET_AUTH_FORCE_SYNC,(function(t,e){t.authForceSync=e})),wi()(Fl,V.a.SET_AUTH_SESSION_STARTED,(function(t){t.authSessionStarted=!0})),wi()(Fl,V.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,(function(t,e){t.showSyncLimitBanner=e})),wi()(Fl,V.a.SET_AUTH_VERIFIED,(function(t){t.authVerified=!0})),Fl),cu=n("8896"),lu=function(){cu.a.clear()},uu=n("22a9"),du=n("f52e"),hu=n("0860"),pu=function(t){if(!t)return null;var e={};return e[Vl.a.ATTR_SNIPPET_KIT_ID]=t.id,e[Vl.a.ATTR_SNIPPET_KIT_NAME]=t.name,e[Vl.a.ATTR_SNIPPET_KIT_CREATED]=t.created,e[Vl.a.ATTR_SNIPPET_KIT_UPDATED]=t.updated,e[Vl.a.ATTR_SNIPPET_KIT_INSTALLS]=t.installs,e[Vl.a.ATTR_SNIPPET_KIT_USER_ID]=t.userId,e[Vl.a.ATTR_SNIPPET_KIT_USER_NAME]=t.userName,e[Vl.a.ATTR_SNIPPET_KIT_COLOR]=t.color,e[Vl.a.ATTR_SNIPPET_KIT_COUNTRY]=t.country,e[Vl.a.ATTR_SNIPPET_KIT_LANGUAGE]=t.language,e[Vl.a.ATTR_SNIPPET_KIT_FILTER_ID]=t.filterId,e[Vl.a.ATTR_SNIPPET_KIT_SNIPPETS_COUNT]=t.snippetsCount,e[Vl.a.ATTR_SNIPPET_KIT_PUBLIC_LINK]=t.publicLink,e[Vl.a.ATTR_SNIPPET_KIT_DESCRIPTION]=t.description,e[Vl.a.ATTR_SNIPPET_KIT_PUBLIC_STATUS]=t.publicStatus,e[Vl.a.ATTR_SNIPPET_KIT_UPDATE_REASON]=t.updateReason,e[Vl.a.ATTR_SNIPPET_KIT_CATEGORY_ID]=t.categoryId,e[Vl.a.ATTR_SNIPPET_KIT_SHARABLE]=t.sharable,e[Vl.a.ATTR_SNIPPET_KIT_SORT_BY]=t.sortBy,e[Vl.a.ATTR_SNIPPET_KIT_LIST_STYLE]=t.listStyle,Vl.a.normalizeMap(e,!1)},fu=function(t){if(!t)return null;var e=new hu.a;return e.id=t[Vl.a.ATTR_SNIPPET_KIT_ID],e.name=t[Vl.a.ATTR_SNIPPET_KIT_NAME],e.created=du.a.toDate(t[Vl.a.ATTR_SNIPPET_KIT_CREATED]),e.updated=du.a.toDate(t[Vl.a.ATTR_SNIPPET_KIT_UPDATED]),e.installs=t[Vl.a.ATTR_SNIPPET_KIT_INSTALLS],e.userId=t[Vl.a.ATTR_SNIPPET_KIT_USER_ID],e.userName=t[Vl.a.ATTR_SNIPPET_KIT_USER_NAME],e.color=t[Vl.a.ATTR_SNIPPET_KIT_COLOR],e.country=t[Vl.a.ATTR_SNIPPET_KIT_COUNTRY],e.language=t[Vl.a.ATTR_SNIPPET_KIT_LANGUAGE],e.filterId=t[Vl.a.ATTR_SNIPPET_KIT_FILTER_ID],e.snippetsCount=t[Vl.a.ATTR_SNIPPET_KIT_SNIPPETS_COUNT],e.publicLink=t[Vl.a.ATTR_SNIPPET_KIT_PUBLIC_LINK],e.description=t[Vl.a.ATTR_SNIPPET_KIT_DESCRIPTION],e.publicStatus=t[Vl.a.ATTR_SNIPPET_KIT_PUBLIC_STATUS],e.updateReason=t[Vl.a.ATTR_SNIPPET_KIT_UPDATE_REASON],e.categoryId=t[Vl.a.ATTR_SNIPPET_KIT_CATEGORY_ID],e.sharable=t[Vl.a.ATTR_SNIPPET_KIT_SHARABLE],e.sortBy=t[Vl.a.ATTR_SNIPPET_KIT_SORT_BY],e.listStyle=t[Vl.a.ATTR_SNIPPET_KIT_LIST_STYLE],e},gu=function(t){return t.doc.data()[Vl.a.ATTR_FILTER_DELETED]},mu=function(t){var e=t.doc.data(),n=Di.a.newInstance();return n.uid=t.doc.id,n.name=e[Vl.a.ATTR_FILTER_NAME],n.description=l.a.nullIfEmpty(e[Vl.a.ATTR_FILTER_DESCRIPTION]),n.type=e[Vl.a.ATTR_FILTER_TYPE],n.objectType=e[Vl.a.ATTR_FILTER_OBJECT_TYPE],n.limit=e[Vl.a.ATTR_FILTER_LIMIT],n.color=l.a.nullIfEmpty(e[Vl.a.ATTR_FILTER_COLOR]),n.sortBy=e[Vl.a.ATTR_FILTER_SORT_BY],n.listStyle=e[Vl.a.ATTR_FILTER_LIST_STYLE],n.autoRulesEnabled=l.a.toBoolean(e[Vl.a.ATTR_FILTER_AUTO_RULE_ENABLED]),n.pinStarredEnabled=l.a.toBoolean(e[Vl.a.ATTR_FILTER_PIN_STARRED_ENABLED]),n.autoRuleByTextIn=l.a.nullIfEmpty(e[Vl.a.ATTR_FILTER_AUTO_RULE_TEXT]),n.excludeWithCustomAttributes=l.a.toBoolean(e[Vl.a.ATTR_FILTER_EXCLUDE_WITH_CUSTOM_ATTRS]),n.tagIds=e[Vl.a.ATTR_FILTER_TAG_IDS],n.tagIdsWhereType=e[Vl.a.ATTR_FILTER_TAG_IDS_WHERE_TYPE],n.snippetSetIds=e[Vl.a.ATTR_FILTER_SNIPPET_SETS_IDS],n.snippetSetIdsWhereType=e[Vl.a.ATTR_FILTER_SNIPPET_SETS_WHERE_TYPE],n.locatedInWhereType=e[Vl.a.ATTR_FILTER_LOCATED_IN_WHERE_TYPE],n.showOnlyWithPublicLink=l.a.toBoolean(e[Vl.a.ATTR_FILTER_SHOW_ONLY_WITH_PUBLIC_LINKS]),n.showOnlyWithAttachments=l.a.toBoolean(e[Vl.a.ATTR_FILTER_SHOW_ONLY_WITH_ATTACHMENTS]),n.showOnlyNotSynced=l.a.toBoolean(e[Vl.a.ATTR_FILTER_SHOW_ONLY_NOT_SYNCED]),n.textTypeIn=e[Vl.a.ATTR_FILTER_TEXT_TYPE_IN],n.createDatePeriod=e[Vl.a.ATTR_FILTER_CREATE_DATE_PERIOD],n.createDateFrom=du.a.toDate(e[Vl.a.ATTR_FILTER_CREATE_DATE_FROM]),n.createDateTo=du.a.toDate(e[Vl.a.ATTR_FILTER_CREATE_DATE_TO]),n.updateDatePeriod=e[Vl.a.ATTR_FILTER_UPDATE_DATE_PERIOD],n.updateDateFrom=du.a.toDate(e[Vl.a.ATTR_FILTER_UPDATE_DATE_FROM]),n.updateDateTo=du.a.toDate(e[Vl.a.ATTR_FILTER_UPDATE_DATE_TO]),n.textLike=l.a.nullIfEmpty(e[Vl.a.ATTR_FILTER_TEXT_LIKE]),n.starred=l.a.toBoolean(e[Vl.a.ATTR_FILTER_STARRED]),n.untagged=l.a.toBoolean(e[Vl.a.ATTR_FILTER_UNTAGGED]),n.clipboard=l.a.toBoolean(e[Vl.a.ATTR_FILTER_CLIPBOARD]),n.recycled=l.a.toBoolean(e[Vl.a.ATTR_FILTER_RECYCLED]),n.snippets=l.a.toBoolean(e[Vl.a.ATTR_FILTER_SNIPPETS]),n.hideHint=l.a.toBoolean(e[Vl.a.ATTR_FILTER_HIDE_HINT]),n.snippetKit=fu(e[Vl.a.ATTR_FILTER_SNIPPET_KIT]),n},vu=function(t,e){var n={};return n[Vl.a.ATTR_API_VERSION]=qa.a.apiVersion,n[Vl.a.ATTR_CHANGE_TIMESTAMP]=Vl.a.getServerTimestamp(),n[Vl.a.ATTR_DEVICE_ID]=w.a.getDeviceId(),n[Vl.a.ATTR_FILTER_NAME]=l.a.takeIf(t.name,(function(e){return e&&t.isNameEditable()})),n[Vl.a.ATTR_FILTER_DESCRIPTION]=t.description,n[Vl.a.ATTR_FILTER_TYPE]=l.a.takeIf(t.type,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_OBJECT_TYPE]=l.a.takeIf(t.objectType,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_LIMIT]=l.a.takeIf(t.limit,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_COLOR]=l.a.takeIf(t.color,(function(t){return!l.a.isNullOrBlank(t)})),n[Vl.a.ATTR_FILTER_SORT_BY]=l.a.takeIf(t.sortBy,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_LIST_STYLE]=l.a.takeIf(t.listStyle,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_AUTO_RULE_ENABLED]=l.a.takeIf(t.autoRulesEnabled,(function(t){return t})),n[Vl.a.ATTR_FILTER_PIN_STARRED_ENABLED]=l.a.takeIf(t.pinStarredEnabled,(function(t){return t})),n[Vl.a.ATTR_FILTER_AUTO_RULE_TEXT]=l.a.takeIf(t.autoRuleByTextIn,(function(t){return!l.a.isNullOrBlank(t)})),n[Vl.a.ATTR_FILTER_EXCLUDE_WITH_CUSTOM_ATTRS]=l.a.takeIf(t.excludeWithCustomAttributes,(function(t){return t})),n[Vl.a.ATTR_FILTER_TAG_IDS]=l.a.takeIf(t.tagIds,(function(t){return l.a.arrayIsNotEmpty(t)})),n[Vl.a.ATTR_FILTER_TAG_IDS_WHERE_TYPE]=l.a.takeIf(t.tagIdsWhereType,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_LOCATED_IN_WHERE_TYPE]=l.a.takeIf(t.locatedInWhereType,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_SNIPPET_SETS_IDS]=l.a.takeIf(t.snippetSetIds,(function(t){return l.a.arrayIsNotEmpty(t)})),n[Vl.a.ATTR_FILTER_SNIPPET_SETS_WHERE_TYPE]=l.a.takeIf(t.snippetSetIdsWhereType,(function(t){return l.a.isNumber(t)})),n[Vl.a.ATTR_FILTER_SHOW_ONLY_WITH_PUBLIC_LINKS]=l.a.takeIf(t.showOnlyWithPublicLink,(function(t){return t})),n[Vl.a.ATTR_FILTER_SHOW_ONLY_WITH_ATTACHMENTS]=l.a.takeIf(t.showOnlyWithAttachments,(function(t){return t})),n[Vl.a.ATTR_FILTER_SHOW_ONLY_NOT_SYNCED]=l.a.takeIf(t.showOnlyNotSynced,(function(t){return t})),n[Vl.a.ATTR_FILTER_TEXT_TYPE_IN]=l.a.takeIf(t.textTypeIn,(function(t){return l.a.arrayIsNotEmpty(t)})),n[Vl.a.ATTR_FILTER_CREATE_DATE_FROM]=t.createDateFrom,n[Vl.a.ATTR_FILTER_CREATE_DATE_TO]=t.createDateTo,n[Vl.a.ATTR_FILTER_CREATE_DATE_PERIOD]=t.createDatePeriod,n[Vl.a.ATTR_FILTER_UPDATE_DATE_FROM]=t.updateDateFrom,n[Vl.a.ATTR_FILTER_UPDATE_DATE_TO]=t.updateDateTo,n[Vl.a.ATTR_FILTER_UPDATE_DATE_PERIOD]=t.updateDatePeriod,n[Vl.a.ATTR_FILTER_TEXT_LIKE]=l.a.takeIf(t.textLike,(function(t){return!l.a.isNullOrBlank(t)})),n[Vl.a.ATTR_FILTER_STARRED]=t.starred,n[Vl.a.ATTR_FILTER_UNTAGGED]=t.untagged,n[Vl.a.ATTR_FILTER_CLIPBOARD]=t.clipboard,n[Vl.a.ATTR_FILTER_RECYCLED]=t.recycled,n[Vl.a.ATTR_FILTER_SNIPPETS]=t.snippets,n[Vl.a.ATTR_FILTER_UPDATED]=Vl.a.getServerTimestamp(),n[Vl.a.ATTR_FILTER_HIDE_HINT]=t.hideHint,n[Vl.a.ATTR_FILTER_SNIPPET_KIT]=pu(t.snippetKit),n[Vl.a.ATTR_FILTER_DELETED]=e,Vl.a.normalizeMap(n,!0)},yu=function(t,e){if(!e.isLast()){var n=t.getters.getAuthUserCollection;if(n)n.getFilterRef(e.uid).set(vu(e),{merge:!0})}},_u=function(t,e){var n=t.getters.getAuthUserCollection;if(n&&l.a.arrayIsNotEmpty(e)){var i,r=n.createBatch(),o=_()(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=n.getFilterRef(a.uid);r.set(s,vu(a),{merge:!0})}}catch(t){o.e(t)}finally{o.f()}r.commit().then((function(){return yt.a.debug("batch completed for update filters")}))}},bu=function(t,e){var n=t.getters.getAuthUserCollection;n&&n.getFilterRef(e.uid).set(vu(e,!0),{merge:!0})},Su=n("2063"),Cu=n("d975"),Tu={changesListener:null,terminate:function(){var t=Tu.changesListener;t&&(t.dispose(),Tu.changesListener=null)},initSync:function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Tu.terminate(),(i=t.getters.getAuthUserCollection)&&((r=t.getters.isAuthForceSync||xt.a.getFilters().initial)&&j.a.showLoadingState(),o=new uu.a("filters",t,i.getFiltersRef(),null,"filtersLatestDate",null,null,(function(e,n){return wu(t,e,!0,n)}),(function(e,n){return wu(t,e,!1,n)}),null,null,e),Tu.changesListener=o.subscribe(r));case 3:case"end":return n.stop()}}),n)})))()},save:function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isLast()){n.next=13;break}if(!xt.a.getSettings().restoreFilterOnStart){n.next=10;break}return n.next=4,Su.a.getFilterByUid(e.uid);case 4:if(i=n.sent,r=!i||!i.isSame(e),yt.a.debug("save last filter",r,e),!r){n.next=10;break}return n.next=10,Su.a.save(e);case 10:return n.abrupt("return",e);case 13:return n.next=15,Su.a.getFilterByUid(e.uid);case 15:if(o=n.sent,a=!o||!o.isSame(e),yt.a.debug("save filter?",a,e),!a){n.next=22;break}return n.next=21,Cu.a.inTx("save filter",Nl()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isTag()&&(e.uid=e.uid||un.a.TAG.createUid(),e.tagIds=[e.uid]),e.isNew()&&(e.setHideHint(!0),delete e.id),n.next=4,Su.a.save(e);case 4:yu(t,e);case 5:case"end":return n.stop()}}),n)}))));case 21:return n.abrupt("return",e);case 22:return n.abrupt("return",null);case 23:case"end":return n.stop()}}),n)})))()},remove:function(t,e){return Nl()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cu.a.inTx("remove filter",Nl()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Su.a.remove(e);case 2:bu(t,e);case 3:case"end":return n.stop()}}),n)}))));case 2:case"end":return n.stop()}}),n)})))()}};function wu(t,e,n,i){return Iu.apply(this,arguments)}function Iu(){return(Iu=Nl()(regeneratorRuntime.mark((function t(e,n,i,r){var o,a,c,u,d,h,p,f,g,m,v,y,b,S,C,T,w,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.filter((function(t){return!t.doc.metadata.hasPendingWrites&&"removed"!==t.type})).filter((function(t){return gu(t)})).map((function(t){return mu(t)})),a=n.filter((function(t){return!t.doc.metadata.hasPendingWrites&&"removed"!==t.type})).filter((function(t){return!gu(t)})).map((function(t){return mu(t)})),c=!1,u=null,d=[],h=[],p=[],!l.a.arrayIsNotEmpty(o)&&!l.a.arrayIsNotEmpty(a)){t.next=52;break}yt.a.debug("updateFilters :: to be removed:",o.length,"to be changed:",a.length),f=_()(o),t.prev=10,f.s();case 12:if((g=f.n()).done){t.next=20;break}return m=g.value,t.next=16,Su.a.getFilterByUid(m.uid);case 16:(v=t.sent)&&(d.push(v.uid),h.push(v),c=!0);case 18:t.next=12;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(10),f.e(t.t0);case 25:return t.prev=25,f.f(),t.finish(25);case 28:y=_()(a),t.prev=29,y.s();case 31:if((b=y.n()).done){t.next=41;break}return S=b.value,i&&(S.hideHint=!0),t.next=36,Su.a.getFilterByUid(S.uid);case 36:(C=t.sent)&&C.isSame(S)||(u||C&&C.color===S.color||(u=C||S),C=C?C.withFilter(S,!0):S,p.push(C),c=!0),d.push(S.uid);case 39:t.next=31;break;case 41:t.next=46;break;case 43:t.prev=43,t.t1=t.catch(29),y.e(t.t1);case 46:return t.prev=46,y.f(),t.finish(46);case 49:if(!l.a.arrayIsNotEmpty(h)&&!l.a.arrayIsNotEmpty(p)){t.next=52;break}return t.next=52,Cu.a.inTx("sync with server state",Nl()(regeneratorRuntime.mark((function t(){var e,n,i,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=_()(h),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=n.value,t.next=7,Su.a.remove(i);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:r=_()(p),t.prev=18,r.s();case 20:if((o=r.n()).done){t.next=26;break}return a=o.value,t.next=24,Su.a.save(a);case 24:t.next=20;break;case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(18),r.e(t.t1);case 31:return t.prev=31,r.f(),t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[1,11,14,17],[18,28,31,34]])}))));case 52:if(r||!i&&!Su.a.consumeRebuildFilters()){t.next=58;break}return t.next=55,Su.a.getAllFilters();case 55:T=t.sent,w=T.filter((function(t){return!t.isLast()})).filter((function(t){return!l.a.isEmpty(t.uid)})).filter((function(t){return!d.includes(t.uid)})).filter((function(t){return l.a.isNumber(t.objectType)})),_u(e,w);case 58:if(I=h.filter((function(t){return t.isTag()})),l.a.arrayIsNotEmpty(I),!c){t.next=62;break}return t.abrupt("return",e.dispatch(s.a.onApplyFilter));case 62:case"end":return t.stop()}}),t,null,[[10,22,25,28],[29,43,46,49]])})))).apply(this,arguments)}var Eu,Au=n("1074"),xu=function(t){return Au.a.removeAll(t).then((function(){return Tu.terminate()})).then((function(){return Bl.a.terminate()})).then((function(){return Ml.a.terminate()})).then((function(){return Vl.a.terminate(t)})).then((function(){return lu()})).then((function(){return xt.a.removeAll()}))},ku=(n("e9c4"),function(t,e){try{var n,i=xt.a.getUI();if(l.a.isNull(i)||l.a.isNull(document.gtag))return;n=w.a.isDesktop()?"desktop":"web";var r=e||{};r.event_category=n,r.content_id=w.a.getPlatform(),r.send_to=i.$store.getters.getAuthUserId,r.app_version=w.a.getAppVersion(),gtag("event",t,r),yt.a.debug(t,r)}catch(t){yt.a.error("logEvent",t);try{gtag("event","exception",{description:JSON.stringify(t)})}catch(t){yt.a.error("logEvent",t)}}}),Du=n("fb10"),Ru=n("25d0"),Lu=n("2eba"),Fu=n("3a75");function Ou(t,e,n){return Pu.apply(this,arguments)}function Pu(){return(Pu=Nl()(regeneratorRuntime.mark((function t(e,n,i){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Du.a.save(n);case 2:if(r=e.getters.getSyncLimit,e.commit(V.a.SET_AUTH_USER,n),o=e.getters.getSyncLimit,r===o){t.next=9;break}return yt.a.debug("sync limit changes:",r,o),t.next=9,e.dispatch(s.a.onApplyFilter);case 9:if(yt.a.debug("can sync notes:",e.getters.canSyncNotes,"->",i),!e.getters.canSyncNotes){t.next=13;break}return t.next=13,e.dispatch(s.a.onInitCloudSync,i);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Nu,Bu={namespaced:!1,getters:r,mutations:su,actions:(Eu={},wi()(Eu,s.a.onInitAnalytics,(function(){ku("screen_view",{screen_name:"main"})})),wi()(Eu,s.a.onInitAuth,(function(t){j.a.showLoadingState(),Lu.a.getFirebaseAuth().onAuthStateChanged(function(){var e=Nl()(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Du.a.getUser();case 3:if(!(i=e.sent)||!n||i.firebaseId===n.uid){e.next=9;break}return e.next=7,t.dispatch(s.a.onSignOut);case 7:e.next=17;break;case 9:if(!i||n||t.getters.isDesktopMode){e.next=14;break}return e.next=12,t.dispatch(s.a.onSignOut);case 12:e.next=17;break;case 14:return t.commit(V.a.SET_AUTH_USER,i),e.next=17,t.dispatch(s.a.onInitAnalytics);case 17:return e.prev=17,j.a.hideLoadingState(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,,17,20]])})));return function(t){return e.apply(this,arguments)}}())})),wi()(Eu,s.a.onInitCloudSync,(function(t,e){var n=xt.a.getSettings();if(t.getters.canSyncNotes){if(e&&t.getters.isAuthVerified)return t.dispatch(s.a.onSyncNewClips).then((function(){if(t.getters.isSyncRestricted){var e=t.getters.getSyncLimit;if(!t.getters.canSyncNotes)return t.dispatch(s.a.onShowNotification,{titleRes:"account_sync_plan_warning_limit_reached_title",description:t.getters.getUI.$tc("account_sync_plan_hint",null,{n:e})}).then((function(){return t.commit(V.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,!0)}))}}))}else!n.disableSync&&e&&t.commit(V.a.SET_AUTH_SHOW_SYNC_LIMIT_BANNER,!0)})),wi()(Eu,s.a.onStartSession,(function(t){if(!t.getters.isAuthSessionStarted)return Fu.a.startSession().then((function(){var e=xt.a.getSettings();if(!l.a.isNull(e.referralId))return e.referralId=null,t.dispatch(s.a.onSaveSettings)})).then((function(){return t.commit(V.a.SET_AUTH_SESSION_STARTED)})).then((function(){return t.dispatch(s.a.onCheckSession)})).catch((function(){return vt.a.retry(s.a.onCheckSession,15,(function(){return t.dispatch(s.a.onStartSession)}))}))})),wi()(Eu,s.a.onCheckSession,(function(t){return Nl()(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.getters.getAuthUser.copy()).isAuthorized()){e.next=4;break}return yt.a.debug("onCheckPlan: is not authorized"),e.abrupt("return");case 4:if(!xt.a.getSettings().disableSync){e.next=7;break}return yt.a.debug("onCheckPlan: sync is disabled"),e.abrupt("return");case 7:return e.next=9,Ru.a.getSyncedClipsCount();case 9:if(i=e.sent,r=t.getters.getSyncLimit,t.getters.getFilters.syncedCount=i,!(n.syncIsRestricted&&i<r)){e.next=17;break}return yt.a.debug("onCheckPlan: remove restriction"),n.syncIsRestricted=!1,e.abrupt("return",Ou(t,n,!0));case 17:if(t.getters.remoteConfigSyncPlanActivated){e.next=20;break}return yt.a.debug("onCheckPlan: is not activated"),e.abrupt("return");case 20:if(n.syncIsRestricted||!(i>=r)){e.next=24;break}return n.syncIsRestricted=!0,yt.a.debug("onCheckPlan: restrict access =",r===i),e.abrupt("return",Ou(t,n));case 24:if(!t.getters.isAuthVerified){e.next=26;break}return e.abrupt("return");case 26:return e.abrupt("return",vt.a.nextAttempt(s.a.onCheckSession,function(){var e=Nl()(regeneratorRuntime.mark((function e(o){var a,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yt.a.debug("onCheckPlan: check session: attempt = ",o),e.next=3,Fu.a.checkSession({apiVersion:qa.a.apiVersion,appVersion:w.a.getAppVersion(),deviceModel:w.a.getPlatform(),deviceId:w.a.getPlatformId(),language:w.a.getLocale(),attemptNumber:o,notesCount:i,syncLimit:r});case 3:if(!(a=e.sent)){e.next=14;break}if(yt.a.debug("check session result: syncedCount=",i," syncLimit=",n.syncLimit," -> ",a),s=!1,c=a.syncLimit,l=c+t.getters.remoteConfigSyncPlanNotesFreeLimit,n.syncLimit!==c&&(n.syncIsRestricted=i>=l,n.syncLimit=c,s=!0),n.license!==a.plan&&(n.license=a.plan,s=!0),t.commit(V.a.SET_AUTH_VERIFIED),!s){e.next=14;break}return e.abrupt("return",Ou(t,n,!0));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 27:case"end":return e.stop()}}),e)})))()})),wi()(Eu,s.a.onSignIn,(function(t,e){t.commit(V.a.SET_AUTH_FORCE_SYNC,!1);var n=Lu.a.getFirebaseAuth();return n.setPersistence(zl.a.auth.Auth.Persistence.LOCAL).then((function(){n.onAuthStateChanged((function(e){return Du.a.login(e).then((function(e){return e&&t.commit(V.a.SET_AUTH_FORCE_SYNC,!0),t.commit(V.a.SET_AUTH_USER,e),e}))}));var i=Lu.a.getFirebaseAuthConfig();t.getters.getAuthUI.start(e,i)}))})),wi()(Eu,s.a.onSignOut,(function(t,e){var n=function(){return j.a.showLoadingState(),xu(t).then((function(){return t.commit(V.a.SET_AUTH_USER,null)})).then((function(){return t.commit(V.a.NEW_CLIP)})).then((function(){return t.dispatch(s.a.onResetFilter)})).finally((function(){return j.a.hideLoadingState()}))};return e&&e.withConfirm?vt.a.runOnUI((function(e){return t.dispatch(s.a.onShowConfirm,{title:e.$t("account_dialog_sign_out_title"),message:e.$t("account_dialog_sign_out_message"),confirmLabel:e.$t("account_button_sign_out"),onConfirmed:n})})):n()})),wi()(Eu,s.a.onSignInWithCustomToken,(function(t,e){t.commit(V.a.SET_AUTH_FORCE_SYNC,!1);var n=Lu.a.getFirebaseAuth();return n.setPersistence(zl.a.auth.Auth.Persistence.LOCAL).then((function(){return n.onAuthStateChanged((function(e){return Du.a.login(e).then((function(e){return yt.a.debug("created user",e),e&&t.commit(V.a.SET_AUTH_FORCE_SYNC,!0),t.commit(V.a.SET_AUTH_USER,e),j.a.hideLoadingState(),e}))})),j.a.showLoadingState(),n.signInWithCustomToken(e)}))})),wi()(Eu,s.a.onStartAuthFlow,(function(t,e){var n=e.withConfirm,i=e.withShift,r=function(){var e;if(w.a.isDesktop())return e=t.getters.remoteConfigUseExternalAuthFlow?i?s.a.onStartElectronInternalAuthFlow:s.a.onStartElectronExternalAuthFlow:i?s.a.onStartElectronExternalAuthFlow:s.a.onStartElectronInternalAuthFlow,yt.a.debug("onStartAuthFlow",e),t.dispatch(e);t.commit(V.a.REQUEST_WEB_AUTH)};return n?vt.a.runOnUI((function(n){return t.dispatch(s.a.onShowConfirm,{icon:e.confirmIconRes||"sync",iconColor:"textColorPrimary",title:n.$t(e.confirmTitleRes||"sync_warning_title"),message:n.$t(e.confirmMessageRes||"sync_warning_description"),confirmLabel:n.$t(e.confirmActionRes||"button_continue"),cancelLabel:n.$t("menu_cancel"),onConfirmed:r})})):r()})),Eu),state:jl};function Mu(t){return t.canBeSavedAsFilter}function qu(t){return t.hasActiveFilters}function Uu(t){return t.advancedFilterRequestDate}function $u(t){return(t.filtersData||[]).filter((function(t){return t.isSeparator||t.isExpanded}))}function ju(t,e){return xt.a.getFilters(e.getFiltersData)}function Vu(t){return t.activeFilter}function Hu(t,e){var n=e.getActiveFilter;return n?n.notesCount:0}function zu(t){return t.canBeSavedAsFilter}function Wu(t,e){return e.getFilters.getSortedNamedFilters()}function Ku(t,e){return l.a.arrayIsNotEmpty(e.getNamedFilters)}function Gu(t,e){var n=e.getSelectedTheme,i=e.getActiveFilter;if(yt.a.debug("getActiveFilterIconColor",i),!i)return j.a.getTextColorPrimary(n);var r=i.color;return r||(r=e.hasActiveFilters?j.a.getColorAccent(n):j.a.getTextColorPrimary(n)),r}function Qu(t,e){var n=e.getActiveFilter;return n?e.getFilters.getSortedCategories().filter((function(t){return t.type!==un.a.ALL.id})).map((function(t){return{checked:t.isActiveInFilter(n),label:t.getName(),icon:t.getIcon(),model:t,id:t.uid}})):[]}function Yu(t,e){var n=e.getActiveFilter,i=e.getUI;if(!n||!i)return[];var r=n.getTextTypeIn();return Dt.a.values.map((function(t){return{checked:l.a.arrayIncludesItem(r,t.id),label:i.$t(t.labelRes),icon:t.iconRes,model:t.id,id:t.id}}))}var Xu=(Nu={},wi()(Nu,V.a.SET_ACTIVE_FILTER,(function(t,e){t.hasActiveFilters=e.hasActiveFilters,t.filtersData=e.filtersData})),wi()(Nu,V.a.SET_ADVANCED_FILTER,(function(t,e){var n=e.filter,i=e.textLike,r=e.notesCount,o=n.hasActiveFilter(),a=Di.a.newInstance().withFilter(n);a.activeFilterId=l.a.takeIf(n.uid,(function(){return n.isNamedFilter()})),a.color=l.a.takeIf(a.color,(function(){return o})),a.textLike=a.textLike||i,a.notesCount=r,t.hasActiveFilters=o,t.advancedFilterRequestDate=Date.now(),t.activeFilter=a.anonymize(),t.canBeSavedAsFilter=l.a.isNull(n.uid)&&o,yt.a.debug("set active filter",t.activeFilter,n)})),Nu),Zu=n("970b"),Ju=n.n(Zu),td=function t(){Ju()(this,t),wi()(this,"id",void 0),wi()(this,"name",void 0),wi()(this,"count",void 0),wi()(this,"limit",void 0),wi()(this,"isGroup",void 0),wi()(this,"actionName",void 0),wi()(this,"isExpanded",void 0),wi()(this,"isSeparator",void 0)};wi()(td,"create",(function(t,e,n){var i=new td;return i.actionName=t.$t(e.actionTitleRes),i.count=n.getNotesCount(),i.isExpanded=e.isExpanded,i.name=t.$t(e.titleRes),i.limit=n.limit,i.isSeparator=!0,i.filter=n,i.isGroup=!0,i.id=e.id,i}));var ed={isSeparator:!0,isAccount:!0},nd=function t(){Ju()(this,t),wi()(this,"uid",void 0),wi()(this,"type",void 0),wi()(this,"name",void 0),wi()(this,"index",void 0),wi()(this,"limit",void 0),wi()(this,"count",void 0),wi()(this,"filter",void 0),wi()(this,"isActive",void 0),wi()(this,"isExpanded",void 0),wi()(this,"filterGroup",void 0),wi()(this,"hasActiveAutoRule",void 0)};wi()(nd,"create",(function(t,e,n,i,r,o){var a=new nd,s=n.isActive(i),c=un.a.byId[i.type];return a.type=c,a.index=o,a.filter=i,a.uid=i.uid,a.isActive=s,a.filterGroup=r,a.isExpanded=e.isExpanded,a.count=i.getNotesCount(),a.name=i.name||t.$t(c.getTitleRes()),a.limit=l.a.takeIf(i.limit,(function(t){return t>0})),a.hasActiveAutoRule=i.autoRulesEnabled&&!l.a.isNullOrBlank(i.autoRuleByTextIn),a}));var id,rd=n("0b57");function od(t,e){t.commit(V.a.SET_CLIPS_LOADING),e&&t.commit(V.a.REQUEST_HIDE_LEFT_NAV),rd.a.disposeLiveQuery("liveClips")}function ad(t,e){t.commit(V.a.SET_CLIPS,e),t.commit(V.a.UPDATE_CLIP_INDEX)}function sd(t,e,n){try{var i=t.getters.getUI,r=xt.a.getFilters(),o=xt.a.getSettings();Object.values(F.a).filter((function(t){return l.a.isFunction(t.restore)})).forEach((function(t){return t.restore(o)}));var a=-1,c=[];c.push(ed),r.groupNotes.notesCount=r.all.getNotesCount()+r.deleted.getNotesCount(),r.groupNotes.limit=t.getters.getSyncLimit;var u=td.create(i,F.a.NOTES,r.groupNotes);n&&(u.count=-1),c.push(u),F.a.NOTES.isExpanded&&r.getSortedCategories().forEach((function(t){var e=nd.create(i,F.a.NOTES,r,t,r.groupNotes,++a);n&&(e.count=-1),c.push(e)}));var d=r.getSortedNamedFilters();r.groupFilters.notesCount=d.length,c.push(td.create(i,F.a.FILTERS,r.groupFilters)),F.a.FILTERS.isExpanded&&d.forEach((function(t){c.push(nd.create(i,F.a.FILTERS,r,t,r.groupFilters,++a))}));var h=r.getSortedTags();r.groupTags.notesCount=h.length,c.push(td.create(i,F.a.TAGS,r.groupTags)),F.a.TAGS.isExpanded&&h.forEach((function(t){c.push(nd.create(i,F.a.TAGS,r,t,r.groupTags,++a))}));var p=r.getSortedSnippetKits();r.groupSnippets.notesCount=p.length,c.push(td.create(i,F.a.SNIPPET_KITS,r.groupSnippets)),F.a.SNIPPET_KITS.isExpanded&&p.forEach((function(t){c.push(nd.create(i,F.a.SNIPPET_KITS,r,t,r.groupSnippets,++a))}));var f={filtersData:c,hasActiveFilters:r.hasActiveFilter()};e&&t.commit(V.a.REQUEST_HIDE_LEFT_NAV),t.commit(V.a.SET_ACTIVE_FILTER,f),t.commit(V.a.SET_FILTER_BY_TEXT,r.last.textLike)}catch(e){t.dispatch(s.a.onShowError,e).then((function(){return yt.a.debug(s.a.onShowError)}))}}var cd,ld={namespaced:!1,state:{advancedFilterRequestDate:0,canBeSavedAsFilter:!1,hasActiveFilters:!1,filtersData:null,activeFilter:null},getters:o,mutations:Xu,actions:(id={},wi()(id,s.a.onCreateNewTag,(function(t){return t.dispatch(s.a.onStartShowFilterDetailsUseCase,Di.a.createTag())})),wi()(id,s.a.onCreateNewSnippetKit,(function(t){return t.dispatch(s.a.onStartShowFilterDetailsUseCase,Di.a.createSnippetKit())})),wi()(id,s.a.onCreateNewFilter,(function(t){return t.dispatch(s.a.onStartAdvancedFilterUseCase)})),wi()(id,s.a.onSaveAndApplyFilter,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.isNew(),n.abrupt("return",t.dispatch(s.a.onSaveFilter,e).then((function(e){if(yt.a.debug("FILTERS :: saved?",e),e&&!e.isNew()){Ru.a.postClipsCountChanged(),i&&t.commit(V.a.REQUEST_SHOW_FILTER_DETAILS,e);var n=e;return e.isGroup()&&(n=xt.a.getFilterLast()),t.dispatch(s.a.onApplyFilter,{filter:n}).then((function(){return e}))}})));case 2:case"end":return n.stop()}}),n)})))()})),wi()(id,s.a.onSaveFilter,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=l.a.nullIfEmpty(e.name),r=xt.a.getFilters(),o=!1,a=null,e.isTag()?(a="filter_tag_name_required",o=r.findFilterByTagName(i)):e.isNamedFilter()?(a="filter_error_name_required",o=r.findFilterByName(i)):e.isSnippetKit()&&(a="snippet_kit_error_name_required",o=r.findFilterBySnippetKitName(i)),l.a.isNull(a)){n.next=9;break}if(!(l.a.isNull(i)||o&&o.id!==e.id)){n.next=9;break}return vt.a.runOnUI((function(t){return j.a.showToast(t.$t(a))})),n.abrupt("return",null);case 9:return e.name=i,j.a.showLoadingState(),n.abrupt("return",Tu.save(t,e).then((function(e){return e&&sd(t),e})).finally((function(){return j.a.hideLoadingState()})));case 12:case"end":return n.stop()}}),n)})))()})),wi()(id,s.a.onDeleteFilter,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.filter,r=i.getType(),n.abrupt("return",vt.a.runOnUI((function(e){var n,o={title:e.$tc(r.deleteTitleRes,null,{n:i.name}),message:e.$t(r.deleteDescriptionRes),confirmLabel:e.$t("menu_delete"),onConfirmed:(n=Nl()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.a.showLoadingState(),e.next=3,Tu.remove(t,i);case 3:sd(t),j.a.hideLoadingState(),t.commit(V.a.REQUEST_SHOW_FILTER_DETAILS);case 6:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})};return t.dispatch(s.a.onShowConfirm,o)})));case 3:case"end":return n.stop()}}),n)})))()})),wi()(id,s.a.onApplyAdvancedFilter,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit(V.a.SET_ADVANCED_FILTER,e),i=t.getters.getAdvancedFilterRequestDate,n.abrupt("return",vt.a.runWithDelay(s.a.onApplyAdvancedFilter,0,Nl()(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.filter,o=(new Ln.a).copy(r),n.next=4,Ru.a.getFilteredCount(o);case 4:return a=n.sent,t.getters.getAdvancedFilterRequestDate===i?(yt.a.debug("FILTERS :: onApplyAdvancedFilter",r),t.commit(V.a.SET_ADVANCED_FILTER,{notesCount:a,filter:r})):yt.a.debug("FILTERS :: ignore onApplyAdvancedFilter",r),n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})))));case 3:case"end":return n.stop()}}),n)})))()})),wi()(id,s.a.onPauseFilter,(function(t){if(Fo()){var e=t.getters.remoteConfigNoteListUnsubscribeOnPauseDelay;return vt.a.runWithDelay(s.a.onPauseFilter,e,(function(){od(t)}))}})),wi()(id,s.a.onResumeFilter,(function(t){if(Fo()&&(vt.a.dispose(s.a.onPauseFilter),rd.a.isLiveQueryDisposed("liveClips")))return t.dispatch(s.a.onApplyFilter)})),wi()(id,s.a.onChangeListStyle,(function(t,e){var n=xt.a.getFilters(),i=n.findActive(n.last),r=e.filter;if(r.isNew())return yt.a.debug("FILTERS :: prevent change list style due to new filter",r),null;if(r.id===i.id){var o=(new Ln.a).copy(r);return o.pinStarred=n.groupNotes.pinStarredEnabled,n.last.withSnapshot(o),yt.a.debug("FILTERS :: onChangeListStyle",o.listStyle),Tu.save(t,n.last).then((function(){return t.commit(V.a.SET_LIST_STYLE,o.listStyle)}))}return t.dispatch(s.a.onApplyFilter,e)})),wi()(id,s.a.onChangeSortOrder,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o,a,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=xt.a.getFilters(),r=i.findActive(i.last),!(o=e.filter).isNew()){n.next=6;break}return yt.a.debug("FILTERS :: prevent change sort order due to new filter",o),n.abrupt("return",null);case 6:if(o.id!==r.id){n.next=17;break}return(a=(new Ln.a).copy(o)).pinStarred=i.groupNotes.pinStarredEnabled,i.last.withSnapshot(a),n.next=12,Tu.save(t,i.last);case 12:c=ln()(t.getters.getClips),yt.a.debug("FILTERS :: onChangeSortOrder",a.sortBy),ad(t,Ru.a.sort(c,a)),n.next=18;break;case 17:return n.abrupt("return",t.dispatch(s.a.onApplyFilter,e));case 18:case"end":return n.stop()}}),n)})))()})),wi()(id,s.a.onApplyFilter,(function(t,e){return Nl()(regeneratorRuntime.mark((function n(){var i,r,o,a,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.a.arrayIsEmpty(t.getters.getFiltersData)&&(yt.a.debug("onApplyFilter :: initial filters"),sd(t,null,!0)),e=e||{},i=xt.a.getFilters(),r=i.last,!(o=e.filter||r).isGroup()){n.next=9;break}return sd(t,Date.now()),yt.a.debug("FILTERS :: prevent apply filter due to changed group",o),n.abrupt("return",null);case 9:return a=i.findActive(o),c=(new Ln.a).copy(a),l.a.isString(e.textLike)&&(c.textLike=l.a.nullIfEmpty(e.textLike)),c.pinStarred=i.groupNotes.pinStarredEnabled,r.withSnapshot(c),u=Date.now(),od(t,e.filterNavigationDate),rd.a.createLiveQuery("liveClips",(function(){return Ru.a.getFiltered(c)}),function(){var n=Nl()(regeneratorRuntime.mark((function n(r){var o,l,d,h,p,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Date.now(),ad(t,Ru.a.sort(r,c)),l=Date.now(),d=Ru.a.consumeClipsCountChanged(),h=r.length,!d){n.next=47;break}return n.next=8,Ru.a.getAllClipsCount();case 8:if(p=n.sent,!a.isUntagged()){n.next=13;break}i.untagged.notesCount=h,n.next=16;break;case 13:return n.next=15,Ru.a.getUntaggedClipsCount();case 15:i.untagged.notesCount=n.sent;case 16:if(yt.a.debug("FILTERS :: clips count",h," clipboard",a.isClipboard()),!a.isClipboard()){n.next=21;break}i.clipboard.notesCount=h,n.next=24;break;case 21:return n.next=23,Ru.a.getClipboardClipsCount();case 23:i.clipboard.notesCount=n.sent;case 24:if(!a.isDeleted()){n.next=28;break}i.deleted.notesCount=h,n.next=31;break;case 28:return n.next=30,Ru.a.getDeletedClipsCount();case 30:i.deleted.notesCount=n.sent;case 31:if(!a.isStarred()){n.next=35;break}i.starred.notesCount=h,n.next=38;break;case 35:return n.next=37,Ru.a.getFavClipsCount();case 37:i.starred.notesCount=n.sent;case 38:if(!a.isSnippets()){n.next=42;break}i.snippets.notesCount=h,n.next=45;break;case 42:return n.next=44,Ru.a.getSnippetsCount();case 44:i.snippets.notesCount=n.sent;case 45:i.all.notesCount=p-i.deleted.getNotesCount(),i.last.notesCount=h;case 47:if(t.commit(V.a.SET_ADVANCED_FILTER,{filter:a,notesCount:h,textLike:c.textLike}),sd(t,e.filterNavigationDate),f=Date.now(),yt.a.debug("FILTERS :: perf :: reload clips",h,"liveQuery =",o-u,"commit clips =",l-o,"commit filters =",f-l),!d){n.next=53;break}return n.abrupt("return",t.dispatch(s.a.onCheckSession).catch((function(t){return yt.a.error(s.a.onCheckSession,t)})));case 53:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),n.abrupt("return",Tu.save(t,r));case 18:case"end":return n.stop()}}),n)})))()})),wi()(id,s.a.onToggleFilterGroup,(function(t,e){var n=F.a.byId[e];if(n){n.isExpanded=!n.isExpanded;var i=xt.a.getSettings();return n.apply(i),t.dispatch(s.a.onSaveSettings).then((function(){return sd(t)}))}})),wi()(id,s.a.onResetFilter,(function(t){return t.dispatch(s.a.onApplyFilter,{filter:xt.a.getFilterAll(),textLike:""})})),wi()(id,s.a.onInitFiltersSync,(function(t,e){return Tu.initSync(t,e)})),id)},ud=n("0a49"),dd=n("fdf6"),hd=n("4793"),pd=n("2402"),fd=n("7389"),gd={id:1},md={id:2};function vd(t){return t.dragAndDropMode}function yd(t,e){return!l.a.isNull(e.getDragAndDropMode)}function _d(t,e){return e.getDragAndDropMode===gd}function bd(t,e){return e.getDragAndDropMode===md}function Sd(t){return t.dragAndDropFilterId}function Cd(t){return t.dragAndDropTargetFilterId}function Td(t){return t.dragAndDropClips}function wd(t){t.dragAndDropTargetFilterId=null,t.dragAndDropFilterGroup=null,t.dragAndDropFilterId=null,t.dragAndDropClips=null,t.dragAndDropMode=null}function Id(){vt.a.dispose(V.a.RESET_DRAG_AND_DROP)}var Ed,Ad=(cd={},wi()(cd,V.a.RESET_DRAG_AND_DROP,(function(t){wd(t)})),wi()(cd,V.a.SET_DRAG_AND_DROP_SORT_FILTERS_MODE,(function(t,e){if(Id(),e){var n=e.getType();n?(t.dragAndDropMode=gd,t.dragAndDropFilterGroup=n.group,t.dragAndDropFilterId=e.uid,t.dragAndDropTargetFilterId=null):wd(t)}else wd(t)})),wi()(cd,V.a.SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS,(function(t,e){if(Id(),e){t.dragAndDropMode=md,t.dragAndDropTargetFilterId=null;var n=xt.a.getSelectedClips();n.some((function(t){return t.id===e.id}))||n.push(e),t.dragAndDropClips=n}else wd(t)})),wi()(cd,V.a.SET_DRAG_AND_DROP_TARGET_FILTER,(function(t,e){if(e){var n=t.dragAndDropMode;if(n===gd){var i=e.getType();i&&i.group===t.dragAndDropFilterGroup&&(t.dragAndDropTargetFilterId=e.uid)}else n===md&&(e.isTag()?t.dragAndDropTargetFilterId=e.uid:t.dragAndDropTargetFilterId=null)}else t.dragAndDropTargetFilterId=null})),cd),xd=(n("a434"),{namespaced:!1,state:function(){return{dragAndDropMode:null,dragAndDropFilterId:null,dragAndDropFilterGroup:null,dragAndDropTargetFilterId:null,dragAndDropClips:null}},getters:a,mutations:Ad,actions:(Ed={},wi()(Ed,s.a.onCompleteDragAndDrop,(function(t){if(t.getters.isDragAndDropInAssignClipTagsMode){var e=t.getters.getDragAndDropTargetFilterId,n=t.getters.getDragAndDropClips,i=t.getters.getFilters.getByUid(e);if(!l.a.isNull(i)&&i.isTag()&&l.a.arrayIsNotEmpty(n))return j.a.showLoadingState(),Ml.a.tagAll(t,n,[i.uid],[]).finally((function(){return t.dispatch(s.a.onUnselectAllClips)})).finally((function(){return j.a.hideLoadingState()}))}else if(t.getters.isDragAndDropInSortFiltersMode){var r=t.getters.getFilters,o=t.getters.getDragAndDropFilterId,a=r.getByUid(o),c=t.getters.getDragAndDropTargetFilterId,u=r.getByUid(c);if(o!==c&&!l.a.isNull(a)&&!l.a.isNull(u)){var d=r.findGroup(a),h=r.findGroup(u);if(d.uid===h.uid){var p=r.getSorted(d);if(l.a.isArray(p)){var f=p.map((function(t){return t.uid}));l.a.arrayRemoveItem(f,o);var g=f.indexOf(c);return f.splice(g,0,o),d.tagIds=f,yt.a.debug("insert filter into",g,o),t.dispatch(s.a.onSaveFilter,d)}}}}t.commit(V.a.RESET_DRAG_AND_DROP),yt.a.debug("onCompleteDragAndDrop")})),wi()(Ed,s.a.onCancelDragAndDrop,(function(t){t.commit(V.a.RESET_DRAG_AND_DROP)})),Ed)});n.e(7).then(n.bind(null,"2d44"));var kd={name:"App",components:{Splashscreen:v,AppBarView:ar,FilterList:mt,ClipView:Dr,MainList:Co,UseCases:sl},props:["registerModules"],data:function(){return{tagListWidth:0,clipListWidth:0,isInitialized:!1}},beforeMount:function(){c.a.registerModule(this,"appearance",cl.a),c.a.registerModule(this,"common",ll.a),c.a.registerModule(this,"clipboard",ul.a),c.a.registerModule(this,"firebase",dl.a),c.a.registerModule(this,"main",Ul),c.a.registerModule(this,"clip",hl.a),c.a.registerModule(this,"auth",Bu),c.a.registerModule(this,"filter",ld),c.a.registerModule(this,"settings",ud.a),c.a.registerModule(this,"linkPreview",dd.a),c.a.registerModule(this,"useCases",hd.a),c.a.registerModule(this,"files",pd.a),c.a.registerModule(this,"publicLink",fd.a),c.a.registerModule(this,"dragAndDrop",xd),l.a.execFunction(this.registerModules);var t=this,e=t.$store;e.dispatch(s.a.onInitApp,t).then((function(){t.onRefreshSize(),e.watch((function(){return e.getters.isTagNavOpened}),(function(){t.onRefreshSize()}))})).finally((function(){t.isInitialized=!0}))},watch:{tagListWidth:function(){this.onResize()},clipListWidth:function(){this.onResize()}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppFrameStyle:function(){return this.$store.getters.getAppFrameStyle},getSeparatorClass:function(){return this.isTagNavOpened?this.$store.getters.getSeparatorClass:"hidden"},getContentClass:function(){return this.$store.getters.getSelectedFontClass},getContentStyle:function(){return this.$store.getters.getAppContentStyle},isWindowsDesktop:function(){return this.$store.getters.isWindowsDesktop},isTagNavOpened:function(){return this.$store.getters.isTagNavOpened},isTrayMode:function(){return this.$store.getters.isTrayMode},getSettings:function(){return this.$store.getters.getSettings},getClipListLimits:function(){return this.$store.getters.getClipListLimits},getTagListLimits:function(){return this.$store.getters.getTagListLimits},getSelectedFont:function(){return this.$store.getters.getSelectedFont}},methods:{onResize:function(){this.$store.dispatch(s.a.onChangeWindowSize,{clipListWidth:this.clipListWidth,tagListWidth:this.tagListWidth})},onRefreshSize:function(){this.tagListWidth=this.$store.getters.getTagListWidth,this.clipListWidth=this.$store.getters.getClipListWidth}}},Dd=it.default.extend({name:"QSplitter",mixins:[ot.a,at.a],directives:{TouchPan:Fe.a},props:{value:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:function(t){return["%","px"].includes(t)}},limits:{type:Array,validator:function(t){return 2===t.length&&("number"==typeof t[0]&&"number"==typeof t[1]&&(t[0]>=0&&t[0]<=t[1]))}},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},watch:{value:{immediate:!0,handler:function(t){this.__normalize(t,this.computedLimits)}},limits:{deep:!0,handler:function(){var t=this;this.$nextTick((function(){t.__normalize(t.value,t.computedLimits)}))}}},computed:{classes:function(){return(!0===this.horizontal?"column":"row")+" q-splitter--".concat(!0===this.horizontal?"horizontal":"vertical")+" q-splitter--".concat(!0===this.disable?"disabled":"workable")+(!0===this.isDark?" q-splitter--dark":"")},prop:function(){return!0===this.horizontal?"height":"width"},side:function(){return!0!==this.reverse?"before":"after"},computedLimits:function(){return void 0!==this.limits?this.limits:"%"===this.unit?[10,90]:[50,1/0]},styles:function(){return wi()({},this.side,wi()({},this.prop,this.__getCSSValue(this.value)))},separatorDirectives:function(){var t;if(!0!==this.disable)return[{name:"touch-pan",value:this.__pan,modifiers:(t={},wi()(t,!0===this.horizontal?"vertical":"horizontal",!0),wi()(t,"prevent",!0),wi()(t,"stop",!0),wi()(t,"mouse",!0),wi()(t,"mouseAllDir",!0),t)}]}},methods:{__pan:function(t){if(!0===t.isFirst){var e=this.$el.getBoundingClientRect()[this.prop];return this.__dir=!0===this.horizontal?"up":"left",this.__maxValue="%"===this.unit?100:e,this.__value=Math.min(this.__maxValue,this.computedLimits[1],Math.max(this.computedLimits[0],this.value)),this.__multiplier=(!0!==this.reverse?1:-1)*(!0===this.horizontal?1:!0===this.$q.lang.rtl?-1:1)*("%"===this.unit?0===e?0:100/e:1),void this.$el.classList.add("q-splitter--active")}if(!0===t.isFinal)return this.__normalized!==this.value&&this.$emit("input",this.__normalized),void this.$el.classList.remove("q-splitter--active");var n=this.__value+this.__multiplier*(t.direction===this.__dir?-1:1)*t.distance[!0===this.horizontal?"y":"x"];this.__normalized=Math.min(this.__maxValue,this.computedLimits[1],Math.max(this.computedLimits[0],n)),this.$refs[this.side].style[this.prop]=this.__getCSSValue(this.__normalized),!0===this.emitImmediately&&this.value!==this.__normalized&&this.$emit("input",this.__normalized)},__normalize:function(t,e){t<e[0]?this.$emit("input",e[0]):t>e[1]&&this.$emit("input",e[1])},__getCSSValue:function(t){return("%"===this.unit?t:Math.round(t))+this.unit}},render:function(t){var e=!0===this.disable?{"aria-disabled":"true"}:void 0,n=[t("div",{ref:"before",staticClass:"q-splitter__panel q-splitter__before"+(!0===this.reverse?" col":""),style:this.styles.before,class:this.beforeClass,on:Object(xe.b)(this,"stop",{input:ht.k})},Object(st.c)(this,"before")),t("div",{staticClass:"q-splitter__separator",style:this.separatorStyle,class:this.separatorClass,attrs:e},[t("div",{staticClass:"absolute-full q-splitter__separator-area",directives:this.separatorDirectives},Object(st.c)(this,"separator"))]),t("div",{ref:"after",staticClass:"q-splitter__panel q-splitter__after"+(!0===this.reverse?"":" col"),style:this.styles.after,class:this.afterClass,on:Object(xe.b)(this,"stop",{input:ht.k})},Object(st.c)(this,"after"))];return t("div",{staticClass:"q-splitter no-wrap",class:this.classes,on:nt()({},this.qListeners)},Object(st.a)(n,this,"default"))}}),Rd=Object(h.a)(kd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isInitialized?n("div",{style:t.getAppFrameStyle},[n("AppBarView",{attrs:{"force-actions":!0}}),t.isTrayMode||t.$q.screen.lt.sm?n("MainList",{class:t.getContentClass,style:t.getContentStyle}):t.$q.screen.lt.md?n("q-splitter",{class:t.getContentClass,style:t.getContentStyle,attrs:{limits:t.getClipListLimits,separatorClass:t.$store.getters.getSeparatorClass,"after-class":t.$store.getters.getSplitterClass,disable:t.$store.getters.isSeparatorDisabled},scopedSlots:t._u([{key:"before",fn:function(){return[n("MainList",{staticClass:"fit"})]},proxy:!0},{key:"after",fn:function(){return[n("ClipView",{staticClass:"fit"})]},proxy:!0}]),model:{value:t.clipListWidth,callback:function(e){t.clipListWidth=e},expression:"clipListWidth"}}):n("q-splitter",{class:t.getContentClass,style:t.getContentStyle,attrs:{limits:t.getTagListLimits,separatorClass:t.getSeparatorClass,"after-class":t.$store.getters.getSplitterClass,disable:t.$store.getters.isSeparatorDisabled},scopedSlots:t._u([{key:"before",fn:function(){return[t.isTagNavOpened?n("FilterList"):t._e()]},proxy:!0},{key:"after",fn:function(){return[n("q-splitter",{attrs:{limits:t.getClipListLimits,separatorClass:t.$store.getters.getSeparatorClass,"after-class":t.$store.getters.getSplitterClass,disable:t.$store.getters.isSeparatorDisabled},scopedSlots:t._u([{key:"before",fn:function(){return[n("MainList",{staticClass:"fit"})]},proxy:!0},{key:"after",fn:function(){return[n("ClipView",{staticClass:"fit"})]},proxy:!0}]),model:{value:t.clipListWidth,callback:function(e){t.clipListWidth=e},expression:"clipListWidth"}})]},proxy:!0}]),model:{value:t.tagListWidth,callback:function(e){t.tagListWidth=e},expression:"tagListWidth"}}),n("UseCases")],1):n("Splashscreen")}),[],!1,null,null,null);e.a=Rd.exports;g()(Rd,"components",{QSplitter:Dd})},"61b4":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,r=n("c973"),o=n.n(r),a=(n("96cf"),n("f936")),s=n("72a1"),c=n("1cee"),l=n("2b0e"),u={onceMap:{},queueMap:{},retryMap:{},attemptMap:{},getDefaultDelay:function(){return 500},retry:function(t,e,n){var i=(u.retryMap[t]||0)+1;return c.a.debug("retry: id =",t," attempt =",i,"/",e),i<e?(u.retryMap[t]=i,n()):null},nextTick:function(t){l.default.nextTick(t)},nextAttempt:(i=o()(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=u.attemptMap[e]||{counter:0,active:!1}).active){t.next=4;break}return c.a.debug("nextAttempt ignored: id =",e," attempt =",i),t.abrupt("return",null);case 4:return i={counter:i.counter+1,active:!0},u.attemptMap[e]=i,t.prev=6,i.active=!0,c.a.debug("nextAttempt started: id =",e," attempt =",i),t.next=11,n(i.counter);case 11:return t.prev=11,i.active=!1,c.a.debug("nextAttempt completed: id =",e," attempt =",i),t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[6,,11,15]])}))),function(t,e){return i.apply(this,arguments)}),runWithDelay:function(t,e,n){c.a.debug("delay execution: id=",t,"with delay time =",e),u.dispose(t),e>0?u.queueMap[t]=setTimeout((function(){c.a.debug("complete execution: id=",t,"with delay time =",e),delete u.queueMap[t],s.a.execFunction(n)}),e):(c.a.debug("complete execution: id=",t,"with delay time =",e),s.a.execFunction(n))},runOnce:function(t,e){u.onceMap[t]||(c.a.debug("runOnce: id=",t),u.onceMap[t]=!0,s.a.execFunction(e))},dispose:function(t){try{var e=u.queueMap[t];s.a.isNumber(e)&&(c.a.debug("dispose",t,e),delete u.queueMap[t],clearTimeout(e))}catch(t){c.a.error("dispose",t)}},runPeriodically:function(t,e,n){c.a.debug("periodical task: id =",t,"interval =",e),u.dispose(t),u.queueMap[t]=setInterval((function(){s.a.execFunction(n)}),e),s.a.execFunction(n)},runOnUI:function(t){var e=a.a.getUI();if(e&&s.a.isFunction(t))return t(e)}}},6683:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={PREVIEW:"PREVIEW",VIEW:"VIEW",EDIT:"EDIT"}},"67dd":function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6849:function(t,e,n){"use strict";n("99af");var i=n("5046"),r={name:"IconRuneInstantSync",props:["color"]},o=n("2877"),a=n("0016"),s=n("eebe"),c=n.n(s),l=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M14 19H6C3.23858 19 1 16.7614 1 14C1 11.2386 3.23858 9 6 9H6.34141C7.16508 6.66962 9.38756 5 12 5C15.3137 5 18 7.68629 18 11H19C21.2091 11 23 12.7909 23 15C23 17.2091 21.2091 19 19 19H17M14 19L11.5 16.5M14 19L11.5 21.5",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),u=l.exports;c()(l,"components",{QIcon:a.a});var d={name:"IconRuneClipboard",props:["color"]},h=Object(o.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M6 7C5.33333 7 4 7.4 4 9V19C4 19.6667 4.4 21 6 21H18C19.6 21 20 19.6667 20 19V9C20 7.4 18.6667 7 18 7M10 5C10 4.33333 10.4 3 12 3C13.6 3 14 4.33333 14 5L15 6V7H9V6L10 5Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),p=h.exports;c()(h,"components",{QIcon:a.a});var f={name:"IconRuneTheme",props:["color"]},g=Object(o.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M4 17V20H7M4 17L7 20M4 17L16 5C16.5 4.5 17.8 3.8 19 5C20.2 6.2 19.5 7.5 19 8M7 20L14 13M11 5L19 13",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),m=g.exports;c()(g,"components",{QIcon:a.a});var v={name:"IconRuneAutoSave",props:["color"]},y=Object(o.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M11 9H7C5.89543 9 5 9.89543 5 11V18C5 19.1046 5.89543 20 7 20H17C18.1046 20 19 19.1046 19 18V9.82843C19 9.29799 18.7893 8.78929 18.4142 8.41421L14.5858 4.58579C14.2107 4.21071 13.702 4 13.1716 4H7C6.33333 4 5 4.4 5 6",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),e("circle",{attrs:{cx:"14",cy:"15",r:"2",stroke:this.color,"stroke-width":"2"}})])])}),[],!1,null,null,null),_=y.exports;c()(y,"components",{QIcon:a.a});var b={name:"IconRuneRememberLastFilter",props:["color"]},S=Object(o.a)(b,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M8 11H16M8 21H16M9 22H15C15.5523 22 16 21.5523 16 21V11C16 10.4477 15.5523 10 15 10H9C8.44772 10 8 10.4477 8 11V21C8 21.5523 8.44772 22 9 22Z",stroke:this.color,"stroke-width":"2"}}),e("path",{attrs:{d:"M18.364 6.63604C19.9926 8.26472 21 10.5147 21 13C21 14.3206 20.7156 15.5748 20.2046 16.7046M13 4H12C7.02944 4 3 8.02944 3 13C3 14.3206 3.28444 15.5748 3.79539 16.7046M13 4V2L15 4L13 6V4Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),C=S.exports;c()(S,"components",{QIcon:a.a});var T={name:"IconRuneLinkPreview",props:["color"]},w=Object(o.a)(T,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("circle",{attrs:{cx:"12",cy:"12",r:"3",stroke:this.color,"stroke-width":"2"}}),e("path",{attrs:{d:"M2.29954 11.2932C4.02939 7.57284 7.72058 5 12 5C16.2794 5 19.9706 7.57284 21.7005 11.2932C21.9088 11.7413 21.9088 12.2587 21.7005 12.7068C19.9706 16.4272 16.2794 19 12 19C7.72058 19 4.02939 16.4272 2.29954 12.7068C2.09117 12.2587 2.09117 11.7413 2.29954 11.2932Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),I=w.exports;c()(w,"components",{QIcon:a.a});var E={name:"IconRuneFocusOnTitle",props:["color"]},A=Object(o.a)(E,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M7.13989 11.3626C8.06229 9.3633 9.89057 8 11.9978 8C14.105 8 15.9332 9.3633 16.8556 11.3626C17.0421 11.7669 17.0421 12.2331 16.8556 12.6374C15.9332 14.6367 14.105 16 11.9978 16C9.89057 16 8.06229 14.6367 7.13989 12.6374C6.95339 12.2331 6.95339 11.7669 7.13989 11.3626Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),e("circle",{attrs:{cx:"12",cy:"12",r:"1",stroke:this.color,"stroke-width":"2"}}),e("path",{attrs:{d:"M4 12C4 7.58172 7.58172 4 12 4V4C16.4183 4 20 7.58172 20 12V18C20 19.1046 19.1046 20 18 20H12C7.58172 20 4 16.4183 4 12V12Z",stroke:this.color,"stroke-width":"2"}})])])}),[],!1,null,null,null),x=A.exports;c()(A,"components",{QIcon:a.a});var k={name:"IconRunePincode",props:["color"]},D=Object(o.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20 11C20 15.9565 16.706 20.6848 12.2416 21.936C12.0837 21.9802 11.9163 21.9802 11.7584 21.936C7.294 20.6848 4 15.9565 4 11V6.61803C4 6.23926 4.214 5.893 4.55279 5.72361L11.5528 2.22361C11.8343 2.08284 12.1657 2.08284 12.4472 2.22361L19.4472 5.72361C19.786 5.893 20 6.23926 20 6.61803V11Z",stroke:this.color,"stroke-width":"2","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),R=D.exports;c()(D,"components",{QIcon:a.a});var L={name:"IconRuneHideOnCopy",props:["color"]},F=Object(o.a)(L,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13 20H6C4.4 20 4 18.6667 4 18V8C4 6.4 5.33333 6 6 6M20 13V8C20 6.4 18.6667 6 18 6M10 4C10 3.33333 10.4 2 12 2C13.6 2 14 3.33333 14 4L15 5V6H9V5L10 4Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M19 19L13 13M16 20H20V16",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),O=F.exports;c()(F,"components",{QIcon:a.a});var P={name:"IconRuneLoyalty",props:["color"]},N=Object(o.a)(P,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M17 13.899C18.2372 12.6364 19 10.9073 19 9C19 5.13401 15.866 2 12 2C8.13401 2 5 5.13401 5 9C5 12.866 8.13401 16 12 16C13.9587 16 15.7295 15.1955 17 13.899ZM17 13.899V20.882C17 21.6253 16.2177 22.1088 15.5528 21.7764L12.4472 20.2236C12.1657 20.0828 11.8343 20.0828 11.5528 20.2236L8.44722 21.7764C7.78231 22.1088 7 21.6253 7 20.882V14",stroke:this.color,"stroke-width":"2","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M12 6L12.6735 8.07295H14.8532L13.0898 9.3541L13.7634 11.4271L12 10.1459L10.2366 11.4271L10.9102 9.3541L9.14683 8.07295H11.3265L12 6Z",fill:this.color,stroke:this.color,"stroke-width":"2","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),B=N.exports;c()(N,"components",{QIcon:a.a});var M={name:"IconRuneHotkeys",props:["color"]},q=Object(o.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M9 17H5C3.89543 17 3 16.1046 3 15L3 9C3 7.89543 3.89543 7 5 7H10C10.6667 7 12 7.4 12 9V10M15 7H19C20.1046 7 21 7.89543 21 9V15C21 16.1046 20.1046 17 19 17H14C12.4 17 12 15.6667 12 15V14",stroke:this.color,"stroke-width":"2","stroke-linecap":"round"}}),e("circle",{attrs:{cx:"8",cy:"12",r:"1",fill:this.color}}),e("circle",{attrs:{cx:"16",cy:"12",r:"1",fill:this.color}})])])}),[],!1,null,null,null),U=q.exports;c()(q,"components",{QIcon:a.a});var $={name:"IconRuneKeyboardCompanion",props:["color"]},j=Object(o.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M5 7C4.33333 7 3 7.4 3 9V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V9C21 7.4 19.6667 7 19 7M9 16H15M16 7L13.4142 4.41421C12.6332 3.63316 11.3668 3.63317 10.5858 4.41421L8 7",stroke:this.color,"stroke-width":"2","stroke-linecap":"round"}})])])}),[],!1,null,null,null),V=j.exports;c()(j,"components",{QIcon:a.a});var H={name:"IconRuneDoubleClickActions",props:["color"]},z=Object(o.a)(H,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15 10C15 8.34315 16.3431 7 18 7C19.6569 7 21 8.34315 21 10C21 10.6899 20.5938 11.3254 20 11.8321C18.4 12.8979 18 13.7214 18 14",stroke:this.color,"stroke-width":"2","stroke-linecap":"round"}}),e("rect",{attrs:{x:"17",y:"16",width:"2",height:"2",rx:"1",fill:this.color}}),e("rect",{attrs:{x:"9",y:"11",width:"2",height:"2",fill:this.color,stroke:this.color,"stroke-width":"2","stroke-linejoin":"round"}}),e("rect",{attrs:{x:"3",y:"11",width:"2",height:"2",fill:this.color,stroke:this.color,"stroke-width":"2","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),W=z.exports;c()(z,"components",{QIcon:a.a});var K={name:"IconRuneBackupRestore",props:["color"]},G=Object(o.a)(K,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 9C7.67331 9 7.20554 9.08978 6.7907 9.38847C6.32487 9.72386 6 10.2741 6 11V21C6 21.7259 6.32487 22.2761 6.7907 22.6115C7.20554 22.9102 7.67331 23 8 23H16C16.3267 23 16.7945 22.9102 17.2093 22.6115C17.6751 22.2761 18 21.7259 18 21V13C18 12.7348 17.8946 12.4804 17.7071 12.2929L14.7071 9.29289C14.5196 9.10536 14.2652 9 14 9H8ZM8.00023 11.0005L8.00427 11H13V13C13 13.5523 13.4477 14 14 14H16V20.9995L15.9998 20.9995L15.9957 21H8.00427L8.00023 20.9995L8 20.9995V11.0005L8.00023 11.0005Z",fill:this.color}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7071 1.29289C13.4211 1.00689 12.991 0.921338 12.6173 1.07612C12.2436 1.2309 12 1.59554 12 2V3C6.47715 3 2 7.47715 2 13C2 14.4655 2.31588 15.8599 2.88423 17.1167C3.1118 17.6199 3.70423 17.8433 4.20745 17.6158C4.71066 17.3882 4.93412 16.7958 4.70654 16.2926C4.25299 15.2896 4 14.1757 4 13C4 8.58172 7.58172 5 12 5V6C12 6.40446 12.2436 6.7691 12.6173 6.92388C12.991 7.07866 13.4211 6.9931 13.7071 6.70711L15.7071 4.70711C16.0976 4.31658 16.0976 3.68342 15.7071 3.29289L13.7071 1.29289ZM19.0711 5.92893C18.6805 5.53841 18.0474 5.53841 17.6569 5.92893C17.2663 6.31945 17.2663 6.95262 17.6569 7.34314C19.1057 8.79195 20 10.7906 20 13C20 14.1757 19.747 15.2896 19.2935 16.2926C19.0659 16.7958 19.2893 17.3882 19.7926 17.6158C20.2958 17.8433 20.8882 17.6199 21.1158 17.1167C21.6841 15.8599 22 14.4655 22 13C22 10.2389 20.8796 7.73748 19.0711 5.92893Z",fill:this.color}})])])}),[],!1,null,null,null),Q=G.exports;c()(G,"components",{QIcon:a.a});var Y={name:"IconRuneSwipeActions",props:["color"]},X=Object(o.a)(Y,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M5 8H20M20 8L17 11M20 8L17 5",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M19 16H4M4 16L7 19M4 16L7 13",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),Z=X.exports;c()(X,"components",{QIcon:a.a});var J={name:"IconRuneUniversalClipboard",props:["color"]},tt=Object(o.a)(J,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M4 19C4 19.6667 4.4 21 6 21H18C19.6 21 20 19.6667 20 19V12M6 7C5.33333 7 4 7.4 4 9V16M18 7C18.6667 7 20 7.4 20 9M20 12L18 14M20 12L22 14M4 16L2 14M4 16L6 14M10 5C10 4.33333 10.4 3 12 3C13.6 3 14 4.33333 14 5L15 6V7H9V6L10 5Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),et=tt.exports;c()(tt,"components",{QIcon:a.a});var nt={name:"IconRuneResurrection",props:["color"]},it=Object(o.a)(nt,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15 4H20M20 4V9M20 4L9 15",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M12 6V4H6C4.4 4 4 5.33333 4 6H12Z",fill:this.color}}),e("path",{attrs:{d:"M20 12V18C20 19.6 18.6667 20 18 20H6C4.4 20 4 18.6667 4 18V6M4 6H12V4L6 4C4.4 4 4 5.33333 4 6Z",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),rt=it.exports;c()(it,"components",{QIcon:a.a});var ot={name:"IconRuneNotification",props:["color"]},at=Object(o.a)(ot,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-icon",{attrs:{color:"transparent"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("circle",{attrs:{cx:"17",cy:"7",r:"2",stroke:this.color,"stroke-width":"2"}}),e("path",{attrs:{d:"M16 12C17.6569 12 19 13.3431 19 15V16C19 16.6667 18.6 18 17 18H15C14 18 11 18 11 20C11 20.3333 11.2 21 12 21C12.8 21 13 20.3333 13 20C13 18 10 18 9 18H7C5.4 18 5 16.6667 5 16V15C5 13.3431 6.34315 12 8 12V9C8 6.79086 9.79086 5 12 5V3C11.6667 3 11 3.2 11 4V4.5",stroke:this.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),[],!1,null,null,null),st=at.exports;c()(at,"components",{QIcon:a.a});var ct={name:"IconRune",props:["rune","size","borderRadius","onClick","tooltip"],components:{IconRuneInstantSync:u,IconRuneClipboard:p,IconRuneTheme:m,IconRuneLinkPreview:I,IconRuneAutoSave:_,IconRuneRememberLastFilter:C,IconRuneFocusOnTitle:x,IconRunePincode:R,IconRuneHideOnCopy:O,IconRuneHotkeys:U,IconRuneLoyalty:B,IconRuneKeyboardCompanion:V,IconRuneDoubleClickActions:W,IconRuneBackupRestore:Q,IconRuneSwipeActions:Z,IconRuneUniversalClipboard:et,IconRuneResurrection:rt,IconRuneNotification:st},computed:{getId:function(){return this.rune.id},isActive:function(){return this.rune.isActive},getSelectedTheme:function(){return this.$store.getters.getSelectedTheme},getBackgroundStyle:function(){var t,e=this.getSelectedTheme;t=this.isActive?i.a.getColorDisabled(this.getIconColor):i.a.getColorBrand("textColorPrimary",{alpha:.1,theme:e});var n=this.borderRadius||i.a.getBorderRadius();return"background-color: ".concat(t,"; border-radius: ").concat(n,"px;")},getIconColor:function(){var t;return this.getSelectedTheme,this.isActive?((t=this.$store.getters.isDarkMode?this.rune.colorDark:this.rune.colorLight)||(t=this.rune.color),t):i.a.getTextColorSecondary()}},methods:{onIconClick:function(){var t=this.onClick;t&&t()}}},lt=n("cb32"),ut=n("05c0"),dt=Object(o.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-avatar",{style:t.getBackgroundStyle,attrs:{size:t.size},on:{click:t.onIconClick}},["instant_sync"===t.getId?n("icon-rune-instant-sync",{attrs:{color:t.getIconColor}}):"pincode"===t.getId?n("icon-rune-pincode",{attrs:{color:t.getIconColor}}):"theme"===t.getId?n("icon-rune-theme",{attrs:{color:t.getIconColor}}):"clipboard"===t.getId?n("icon-rune-clipboard",{attrs:{color:t.getIconColor}}):"link_preview"===t.getId?n("icon-rune-link-preview",{attrs:{color:t.getIconColor}}):"auto_save"===t.getId?n("icon-rune-auto-save",{attrs:{color:t.getIconColor}}):"remember_last_filter"===t.getId?n("icon-rune-remember-last-filter",{attrs:{color:t.getIconColor}}):"focus_on_title"===t.getId?n("icon-rune-focus-on-title",{attrs:{color:t.getIconColor}}):"hide_on_copy"===t.getId?n("icon-rune-hide-on-copy",{attrs:{color:t.getIconColor}}):"loyalty"===t.getId?n("icon-rune-loyalty",{attrs:{color:t.getIconColor}}):"hotkeys"===t.getId?n("icon-rune-hotkeys",{attrs:{color:t.getIconColor}}):"texpander"===t.getId?n("icon-rune-keyboard-companion",{attrs:{color:t.getIconColor}}):"double_click_actions"===t.getId?n("icon-rune-double-click-actions",{attrs:{color:t.getIconColor}}):"backup_restore"===t.getId?n("icon-rune-backup-restore",{attrs:{color:t.getIconColor}}):"swipe_actions"===t.getId?n("icon-rune-swipe-actions",{attrs:{color:t.getIconColor}}):"universal_clipboard"===t.getId?n("icon-rune-universal-clipboard",{attrs:{color:t.getIconColor}}):"resurrection"===t.getId?n("icon-rune-resurrection",{attrs:{color:t.getIconColor}}):"notification"===t.getId?n("icon-rune-notification",{attrs:{color:t.getIconColor}}):n("div"),t.tooltip?n("q-tooltip",[t._v(t._s(this.$t(this.tooltip)))]):t._e()],1)}),[],!1,null,null,null);e.a=dt.exports;c()(dt,"components",{QAvatar:lt.a,QTooltip:ut.a})},6953:function(t,e,n){"use strict";n("99af");var i=n("c9d9"),r=n("5046"),o=n("ed99"),a=n("e2db"),s={name:"FileDetailsPreviewBlock",components:{},props:["file","minHeightInPx"],data:function(){return{minWidth:r.a.getScreenMinWidth()}},asyncComputed:{getFilePreviewUrl:function(){return this.$store.dispatch(i.a.onGetFileDownloadUrl,{withSilentOnError:!0,fileRef:this.getFile})}},computed:{getPreviewBlockStyle:function(){var t=Math.min(this.minWidth,a.a.getScreenMinWidth());return"width: ".concat(t,"px; max-width: ").concat(t,"px")},getContentStyle:function(){return"min-height: ".concat(this.getPreviewHeight,"px")},getPreviewStyle:function(){return this.$store.getters.getAppImageStyle},getNoPreviewStyle:function(){return"min-height: ".concat(this.getPreviewHeight-r.a.getToolbarHeight(),"px; ").concat(this.getPreviewStyle)},getPreviewHeight:function(){return this.minHeightInPx},getFile:function(){return this.file},isImage:function(){return this.getFile.isImage()},isPdf:function(){return this.getFile.isPdf()},isVideo:function(){return this.getFile.isVideo()},isAudio:function(){return this.getFile.isAudio()},getMediaSources:function(){return[{src:this.getFilePreviewUrl,type:this.getFile.getMediaType()}]}},methods:{onLinkPreview:function(){this.$store.commit(o.a.PLAY_PREVIEW,{imageUrl:this.getFilePreviewUrl})},onResized:function(t){this.minWidth=t.width-36}}},c=n("2877"),l=n("068f"),u=n("9c40"),d=n("3980"),h=n("eebe"),p=n.n(h),f=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md fit column items-center q-mt-md",style:t.getContentStyle},[n("div",{style:t.getPreviewBlockStyle},[t.isImage?n("q-img",{style:t.getPreviewStyle,attrs:{src:this.getFilePreviewUrl,"spinner-color":"colorAccent",contain:""}},[n("q-btn",{staticClass:"absolute-center",staticStyle:{"background-color":"rgba(0,0,0,0.4)"},attrs:{"text-color":"white",icon:"zoom_in",size:"lg",round:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onLinkPreview(e)}}})],1):t.isVideo?n("q-media-player",{ref:"mediaPlayer",style:t.getPreviewStyle,attrs:{"show-big-play-button":!0,sources:t.getMediaSources,type:"video"}}):t.isAudio?n("q-media-player",{ref:"mediaPlayer",style:t.getPreviewStyle,attrs:{sources:t.getMediaSources,type:"audio"}}):n("div",{staticClass:"bg-myBackgroundHighlight text-textColorSecondary text-body2 row items-center justify-center",style:t.getNoPreviewStyle},[t._v("\n      "+t._s(t.$t("link_preview_not_found"))+"\n    ")])],1),n("q-resize-observer",{on:{resize:t.onResized}})],1)}),[],!1,null,null,null);e.a=f.exports;p()(f,"components",{QImg:l.a,QBtn:u.a,QResizeObserver:d.a})},"699e":function(t,e,n){var i=n("5a88"),r=i.alloc(512),o=i.alloc(256);!function(){for(var t=1,e=0;e<255;e++)r[e]=t,o[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)r[e]=r[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return o[t]},e.exp=function(t){return r[t]},e.mul=function(t,e){return 0===t||0===e?0:r[o[t]+o[e]]}},"6a7b":function(t,e){},"6ac0":function(t,e,n){"use strict";var i=n("ded3"),r=n.n(i),o=n("2b0e"),a=n("6900"),s=n("87e8");e.a=o.default.extend({name:"QVideo",mixins:[a.a,s.a],props:{src:{type:String,required:!0}},computed:{iframeData:function(){return{attrs:{src:this.src,frameborder:"0",allowfullscreen:!0}}},classes:function(){return"q-video"+(void 0!==this.ratio?" q-video--responsive":"")}},render:function(t){return t("div",{class:this.classes,style:this.ratioStyle,on:r()({},this.qListeners)},[t("iframe",this.iframeData)])}})},"6ac5":function(t,e,n){"use strict";var i=n("ded3"),r=n.n(i),o=n("2b0e"),a=n("87e8"),s=n("dde5");e.a=o.default.extend({name:"QToolbarTitle",mixins:[a.a],props:{shrink:Boolean},computed:{classes:function(){return"q-toolbar__title ellipsis"+(!0===this.shrink?" col-shrink":"")}},render:function(t){return t("div",{class:this.classes,on:r()({},this.qListeners)},Object(s.c)(this,"default"))}})},"6f2e":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("baf0"),r=n("0ebd"),o={ALL:{id:0,order:0,group:r.a.NOTES.id,hintRes:"main_list_empty_description_all",createUid:function(){return"all"},getTitleRes:function(){return"main_filter_all"},getIconRes:function(){return"all_inclusive"}},UNTAGGED:{id:1,order:1,group:r.a.NOTES.id,hintRes:"main_list_empty_description_no_tags",createUid:function(){return"untagged"},getTitleRes:function(){return"filter_label_no_tags"},getIconRes:function(){return"label_off"}},STARRED:{id:2,order:1,group:r.a.NOTES.id,hintRes:"main_list_empty_description_starred",createUid:function(){return"starred"},getTitleRes:function(){return"filter_label_fav"},getIconRes:function(){return"star"}},CLIPBOARD:{id:3,order:1,group:r.a.NOTES.id,hintRes:"main_list_empty_description_clipboard",createUid:function(){return"clipboard"},getTitleRes:function(){return"runes_clipboard_title"},getIconRes:function(){return"svguse:icons.svg#rune_clipboard"}},DELETED:{id:4,order:1,group:r.a.NOTES.id,hintRes:"main_list_empty_description_deleted",createUid:function(){return"deleted"},getTitleRes:function(){return"filter_deleted_title"},getIconRes:function(){return"delete"}},LAST:{id:5,order:1,hintRes:"hint_filter_custom",createUid:function(){return"last"},getTitleRes:function(){return"main_filter_filtered"},getIconRes:function(){return"filter_alt"}},CONTEXT:{id:6,order:1,createUid:function(){return"context"}},SNIPPETS:{id:11,order:2,group:r.a.NOTES.id,hintRes:"main_list_empty_description_snippets",createUid:function(){return"snippets"},getTitleRes:function(){return"filter_label_snippets"},getIconRes:function(){return"text_snippet"}},GROUP_NOTES:{id:13,order:1,hintRes:"hint_notes",createUid:function(){return"notes"},getIconRes:function(){return"description"},getTitleRes:function(){return"main_filter_notes"}},GROUP_FILTERS:{id:14,order:1,hintRes:"hint_filters",createUid:function(){return"filters"},getIconRes:function(){return"filter_alt"},getTitleRes:function(){return"main_filter_filters"}},GROUP_TAGS:{id:15,order:1,hintRes:"hint_tags",createUid:function(){return"tags"},getIconRes:function(){return"label"},getTitleRes:function(){return"main_filter_tags"}},GROUP_SNIPPETS:{id:16,order:1,hintRes:"hint_snippets",createUid:function(){return"group_snippets"},getIconRes:function(){return"snippet_folder"},getTitleRes:function(){return"clip_details_tab_snippet_kits"}},TAG:{id:7,order:2,hintRes:"hint_tag",group:r.a.TAGS.id,hintNewRes:"tag_new_name",deleteTitleRes:"filter_tag_delete_title",deleteDescriptionRes:"filter_tag_delete_description",createUid:function(t){return i.a.autoId(t)},getIconRes:function(t){return t.color?"label":"label_outline"}},LINK:{id:8,order:2,createUid:function(){return i.a.autoId()}},CUSTOM:{id:9,order:2,hintRes:"hint_filter_custom",createUid:function(){return i.a.autoId()}},NAMED:{id:10,order:2,hintRes:"hint_filter",group:r.a.FILTERS.id,hintNewRes:"filter_hint_name",deleteTitleRes:"filter_delete_title",deleteDescriptionRes:"filter_delete_description",createUid:function(){return i.a.autoId()},getIconRes:function(){return"filter_alt"}},SNIPPET_KIT:{id:17,order:2,hintRes:"hint_snippet",group:r.a.SNIPPET_KITS.id,hintNewRes:"snippet_kit_hint_name",deleteTitleRes:"snippet_kit_delete_title",deleteDescriptionRes:"snippet_kit_delete_description",createUid:function(){return i.a.autoId()},getIconRes:function(){return"snippet_folder"}}};o.byId={0:o.ALL,1:o.UNTAGGED,2:o.STARRED,3:o.CLIPBOARD,4:o.DELETED,5:o.LAST,6:o.CONTEXT,7:o.TAG,8:o.LINK,9:o.CUSTOM,10:o.NAMED,11:o.SNIPPETS,13:o.GROUP_NOTES,14:o.GROUP_FILTERS,15:o.GROUP_TAGS,16:o.GROUP_SNIPPETS,17:o.SNIPPET_KIT}},"6fbd":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={CLIP:{id:1},FILE:{id:2}};i._byId={1:i.CLIP,2:i.FILE},i.byId=function(t){return i._byId[t]}},"71a7":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={NEW_LINE:"\n\n",SPACE:" ",MD:"\n***\n"}},"721b":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getSelectedLanguage",(function(){return d})),n.d(i,"getSelectedTheme",(function(){return h})),n.d(i,"isSelectedThemeDark",(function(){return p})),n.d(i,"canShowTooltips",(function(){return f})),n.d(i,"getBorderRadius",(function(){return g})),n.d(i,"getBorderRadiusSm",(function(){return m})),n.d(i,"getBorderRadiusLg",(function(){return v})),n.d(i,"getAppBarHeight",(function(){return y})),n.d(i,"isAppBarHasCustomActions",(function(){return _})),n.d(i,"isAppBarAvailable",(function(){return b})),n.d(i,"isSecondaryAppBarAvailable",(function(){return S})),n.d(i,"getAppAvailableHeight",(function(){return C})),n.d(i,"getAppContentStyle",(function(){return T})),n.d(i,"getAppDialogStyle",(function(){return w})),n.d(i,"getAppDialogClass",(function(){return I})),n.d(i,"getAppFragmentDialogClass",(function(){return E})),n.d(i,"getAppFragmentDialogStyle",(function(){return A})),n.d(i,"getAppFrameStyle",(function(){return x})),n.d(i,"getAppContextMenuClass",(function(){return k})),n.d(i,"getAppContextMenuStyle",(function(){return D})),n.d(i,"getAppPopupMenuStyle",(function(){return R})),n.d(i,"getAppDateDialogStyle",(function(){return L})),n.d(i,"getAppButtonStyle",(function(){return F})),n.d(i,"getAppImageStyle",(function(){return O})),n.d(i,"getAppButtonToggleStyle",(function(){return P})),n.d(i,"getAppAvatarStyle",(function(){return N})),n.d(i,"getAppCardStyle",(function(){return B})),n.d(i,"getAppToolbarStyle",(function(){return M})),n.d(i,"getAppBorderedTextBlockStyle",(function(){return q})),n.d(i,"getAppBottomSheetBorderStyle",(function(){return U})),n.d(i,"getAppSelectPopupStyle",(function(){return $})),n.d(i,"getAppDialogBottomSheetBorderStyle",(function(){return j})),n.d(i,"getAppBannerStyle",(function(){return V})),n.d(i,"getAppBannerClass",(function(){return H})),n.d(i,"getAppHeaderClass",(function(){return z})),n.d(i,"getAppFooterClass",(function(){return W})),n.d(i,"getAppContentClass",(function(){return K})),n.d(i,"getAppContentToolbarStyle",(function(){return G})),n.d(i,"getAppContentToolbarNotResizableStyle",(function(){return Q}));n("99af");var r=n("a987"),o=n("e2db"),a=n("72a1"),s=n("a849"),c=n("5046"),l=n("96e0"),u=n("09f9");function d(t){return t.selectedLanguage||r.a.getLanguage()}function h(t){return t.selectedTheme||s.a.getCurrentTheme()}function p(t){return t.selectedTheme.dark||t.selectedTheme.id===l.a.DEFAULT.id}function f(){return o.a.isDesktopOrDesktopBrowser()}function g(){return c.a.getBorderRadius()}function m(){return c.a.getBorderRadiusSm()}function v(){return c.a.getBorderRadiusLg()}function y(){return o.a.isDesktop()?o.a.isDesktopWin()?c.a.getBarStandardHeight()+c.a.getSeparatorHeight():c.a.getBarDenseHeight()+c.a.getSeparatorHeight():0}function _(){return o.a.isDesktopWin()||o.a.isDesktopLinux()}function b(t,e){return e.getAppBarHeight>0}function S(t,e){return e.isAppBarAvailable&&u.a.lt.sm}function C(t,e){return o.a.getScreenHeight()-e.getAppBarHeight}function T(t,e){return"height: ".concat(e.getAppAvailableHeight,"px")}function w(t,e){return"max-width: 80vh; border-radius: ".concat(e.getBorderRadius,"px")}function I(t,e){var n=a.a.emptyIfNull(e.getSelectedFontClass);return"bg-colorContext non-selectable q-px-xs ".concat(n)}function E(t,e){var n=a.a.emptyIfNull(e.getSelectedFontClass);return"non-selectable bg-colorContext fit ".concat(n)}function A(t,e){return"border-radius: ".concat(e.getBorderRadius,"px")}function x(t,e){return""}function k(t,e){return"bg-colorDialog column q-gutter-y-sm q-py-sm non-selectable ".concat(e.getSelectedFont.styleClass)}function D(t,e){return"min-width: ".concat(c.a.getScreenMinWidth(),"px; border-radius: ").concat(e.getBorderRadius,"px")}function R(t,e){return"border-radius: ".concat(e.getBorderRadius,"px")}function L(t,e){return"border-radius: ".concat(e.getBorderRadius,"px;")}function F(t,e){return"border-radius: ".concat(e.getBorderRadiusSm,"px;")}function O(t,e){return"border-radius: ".concat(e.getBorderRadius,"px;")}function P(t,e){var n=e.getSelectedTheme;return"border: 1px solid ".concat(c.a.getColorBackgroundHighlight(n),"; border-radius: ").concat(e.getBorderRadiusSm,"px")}function N(t,e){return"border-radius: ".concat(e.getBorderRadius,"px")}function B(t,e){return"border-radius: ".concat(e.getBorderRadius,"px")}function M(t,e){return"border-radius: ".concat(e.getBorderRadiusSm,"px")}function q(t,e){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              border-radius: ".concat(e.getBorderRadius,"px;\n              font-size: 14px;\n      ")}function U(t,e){return"border-top-left-radius: ".concat(e.getBorderRadius,"px; border-top-right-radius: ").concat(e.getBorderRadius,"px;")}function $(t,e){return"border-bottom-left-radius: ".concat(e.getBorderRadius,"px; border-bottom-right-radius: ").concat(e.getBorderRadius,"px;")}function j(t,e){return u.a.lt.sm?e.getAppBottomSheetBorderStyle:"border-radius: ".concat(e.getBorderRadius,"px;")}function V(){var t=Math.max(o.a.getScreenWidth()/3,o.a.getScreenMinWidth());return"width: ".concat(t,"px; max-width: ").concat(t,"px;")}function H(){return"absolute-top z-top"}function z(){return"absolute-top"}function W(){return"absolute-bottom"}function K(t,e){var n="bg-colorPrimaryInverse",i=e.getSelectedFont;return i&&(n+=" ".concat(i.styleClass)),n}function G(t,e){return"".concat(e.getAppContentToolbarNotResizableStyle,"; cursor: col-resize;")}function Q(t,e){var n=e.getSelectedTheme,i=c.a.getColorBrand("colorPrimaryInverse",{alpha:.87,theme:n});return"background: ".concat(i)}var Y,X=n("9523"),Z=n.n(X),J=n("ed99"),tt=(Y={},Z()(Y,J.a.SET_LANGUAGE,(function(t,e){t.selectedLanguage=e})),Z()(Y,J.a.SET_THEME,(function(t,e){s.a.setTheme(e),t.selectedTheme=e})),Z()(Y,J.a.UPDATE_THEME,(function(t,e){e.apply(),t.selectedTheme=e})),Y),et=n("baab"),nt=n.n(et);e.a={namespaced:!1,state:function(){return{selectedLanguage:null,selectedTheme:null}},getters:i,mutations:tt,actions:nt.a}},7389:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getPublicLinkState",(function(){return l})),n.d(i,"getPublicLink",(function(){return u})),n.d(i,"getPublicLinkPassword",(function(){return d})),n.d(i,"isPublicLinkUnavailable",(function(){return h})),n.d(i,"isPublicLinkAlreadyOpened",(function(){return p})),n.d(i,"isPublicLinkExpired",(function(){return f})),n.d(i,"isPublicLinkPostponed",(function(){return g})),n.d(i,"isPublicLinkCanBeExpired",(function(){return m})),n.d(i,"isPublicLinkAvailable",(function(){return v})),n.d(i,"isPublicLinkLocked",(function(){return y}));var r=n("970b"),o=n.n(r),a=n("9523"),s=n.n(a),c=(n("9911"),function t(){o()(this,t),s()(this,"link",void 0)});s()(c,"createViewState",(function(t){var e=new c;return e.link=t,e}));function l(t){return t.publicLinkState}function u(t){return t.publicLinkState.link}function d(t){return t.publicLinkPassword}function h(t,e){var n=e.getPublicLink;return n&&n.isUnavailable()}function p(t,e){var n=e.getPublicLink;return n&&n.isAlreadyOpened()}function f(t,e){var n=e.getPublicLink;return n&&n.isExpired()}function g(t,e){var n=e.getPublicLink;return n&&n.isPostponed()}function m(t,e){var n=e.getPublicLink;return n&&n.canBeExpired()}function v(t,e){var n=e.getPublicLink;return n&&n.isAvailable()}function y(t,e){var n=e.getPublicLink;return n&&n.isLocked()&&!n.isAvailable()&&!n.isPostponed()}var _,b=n("ed99"),S=(_={},s()(_,b.a.VIEW_PUBLIC_LINK,(function(t,e){t.publicLinkState=e})),s()(_,b.a.SET_PUBLIC_LINK_PASSWORD,(function(t,e){t.publicLinkPassword=e})),_),C=(n("d3b7"),n("e6cf"),n("a79d"),n("25f0"),n("ac1f"),n("466d"),n("c973")),T=n.n(C),w=(n("96cf"),n("a4d3"),n("e01a"),n("b0c0"),n("6fbd")),I=function t(){o()(this,t),s()(this,"entityTypeId",void 0),s()(this,"data",void 0),s()(this,"uid",void 0)};I.prototype.getEntityType=function(){return w.a.byId(this.entityTypeId)},I.prototype.isClip=function(){return this.entityTypeId===w.a.CLIP.id},I.prototype.isFile=function(){return this.entityTypeId===w.a.FILE.id};var E,A=n("72a1"),x=n("c1d9"),k=n("a8e6"),D=n("1cee"),R=n("782d"),L=n("31a0"),F={mapResponseToPublicLink:function(t){var e=this,n=t.data,i=t.serverTime;if(!A.a.isObject(n))return x.a.unavailable();var r=x.a.newInstance();r.uid=n.uid,r.userId=n.userId,r.link=n.link,r.locked=n.locked,r.password=n.password,r.serverTime=k.a.fromJsonDate(i),r.createDate=k.a.fromJsonDate(n.createDate),r.updateDate=k.a.fromJsonDate(n.updateDate),r.passwordClue=n.passwordClue,r.unavailable=n.unavailable,r.oneTimeOpening=n.oneTimeOpening,r.expiresAtDate=k.a.fromJsonDate(n.expiresAtDate),r.expiresInMillis=n.expiresInMillis,r.postponeAtDate=k.a.fromJsonDate(n.postponeAtDate),r.postponeInMillis=n.postponeInMillis,r.openedTimes=n.openedTimes,r.postponed=k.a.fromJsonDate(n.postponed),r.expired=k.a.fromJsonDate(n.expired),r.legacy=n.legacy;var o=n.items;return A.a.isArray(o)&&(r.items=A.a.arrayMapNotNull(o,(function(t){var n=t.entityTypeId,i=t.data,r=new I;return r.entityTypeId=n,r.uid=t.uid,n===w.a.CLIP.id?r.data=e.mapItemToClip(i):n===w.a.FILE.id?r.data=e.mapItemToFile(i):(D.a.error("unknown entity type",n),r=null),r}))),r},mapErrorToPublicLink:function(){return x.a.unavailable()},mapItemToClip:function(t){var e=this;if(!A.a.isObject(t))return null;var n=R.a.newInstance();n.firestoreId=t.firestoreId,n.abbreviation=t.abbreviation,n.description=t.description,n.title=t.title,n.text=t.text,n.createDate=k.a.fromJsonDate(t.createDate),n.updateDate=k.a.fromJsonDate(t.updateDate),n.modifyDate=k.a.fromJsonDate(t.modifyDate),n.deleteDate=k.a.fromJsonDate(t.deleteDate),n.setTextType(t.textType),n.setFileIds(t.fileIds);var i=t.files;return A.a.isArray(i)&&(n.files=A.a.arrayMapNotNull(i,(function(t){return e.mapItemToFile(t)}))),n},mapItemToFile:function(t){if(!A.a.isObject(t))return null;var e=L.a.newInstance();return e.firestoreId=t.firestoreId,e.folder=t.folder,e.name=t.name,e.type=t.type,e.mediaType=t.mediaType,e.size=t.size,e.md5=t.md5,e.downloadUrl=t.downloadUrl,e.createDate=k.a.fromJsonDate(t.createDate),e.updateDate=k.a.fromJsonDate(t.updateDate),e.setUploaded(t.uploaded),e.setDownloaded(!0),e}},O=n("25d0"),P=n("3a75"),N=function(t,e,n,i){return D.a.debug("PublicLinkRepository#getLink",e,n,i),P.a.getPublicLink(e,n,i).then((function(t){return F.mapResponseToPublicLink(t)})).catch((function(t){return F.mapErrorToPublicLink(t)}))},B=function(t,e,n){return D.a.debug("PublicLinkRepository#removeLink",e,n),P.a.removePublicLink(e,n).then(T()(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n){i.next=10;break}return i.next=3,O.a.getByFirestoreId(e);case 3:if(r=i.sent,A.a.isNull(r)){i.next=10;break}return D.a.debug("PublicLinkRepository :: update legacy link",r),r.publicLink=null,i.next=9,O.a.save(r);case 9:t.commit(b.a.VIEW_CLIP,r);case 10:case"end":return i.stop()}}),i)}))))},M=function(t,e){return P.a.savePublicLink(e).then((function(t){return F.mapResponseToPublicLink(t)})).then(function(){var n=T()(regeneratorRuntime.mark((function n(i){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(D.a.debug("saved link",i),!e.legacy){n.next=11;break}return n.next=4,O.a.getByFirestoreId(e.firestoreId);case 4:if(r=n.sent,A.a.isNull(r)){n.next=11;break}return D.a.debug("PublicLinkRepository :: update legacy link",r),r.publicLink=i,n.next=10,O.a.save(r);case 10:t.commit(b.a.VIEW_CLIP,r);case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},q=n("61b4"),U=n("533d"),$=n("5046"),j=n("c9d9"),V=(E={},s()(E,j.a.onInitPublicLink,(function(t,e){var n=function(){var t=window.location.toString(),e=t.match(/id=(.*)/);if(e&&2===e.length){var n=e[1];if(n)return{id:n,legacy:!0}}var i=t.match(/\/(note|link)\/(.*)/);if(i&&3===i.length){var r=i[2];if(r)return{id:r,legacy:"note"===i[1]}}return null}();if(n)return t.dispatch(j.a.onInitSettings,e).then((function(){return t.dispatch(j.a.onGetPublicLink,n)}))})),s()(E,j.a.onGetPublicLink,(function(t,e){var n=e.id,i=e.legacy,r=t.getters.getPublicLinkPassword;return $.a.showLoadingState(),N(t,n,r,i).then((function(t){return c.createViewState(t)})).then((function(e){return t.commit(b.a.VIEW_PUBLIC_LINK,e)})).finally((function(){return $.a.hideLoadingState()}))})),s()(E,j.a.onRefreshPublicLink,(function(t){var e=t.getters.getPublicLink;return t.dispatch(j.a.onGetPublicLink,{legacy:e.legacy,id:e.uid})})),s()(E,j.a.onUnlockPublicLink,(function(t,e){var n=e.publicLink,i=U.a.sha256Text(e.password);return t.commit(b.a.SET_PUBLIC_LINK_PASSWORD,i),t.dispatch(j.a.onGetPublicLink,{legacy:n.legacy,id:n.uid}).then((function(){return t.getters.isPublicLinkAvailable}))})),s()(E,j.a.onRemovePublicLink,(function(t,e){return q.a.runOnUI((function(n){var i=e.id,r=e.legacy;return t.dispatch(j.a.onShowConfirm,{title:n.$t("public_note_link_action_remove_confirm_title"),message:n.$t("public_note_link_action_remove_confirm_description"),confirmLabel:n.$t("button_confirm"),cancelLabel:n.$t("menu_cancel"),onConfirmed:function(){return $.a.showLoadingState(),B(t,i,r).finally((function(){return $.a.hideLoadingState()}))}})}))})),s()(E,j.a.onSavePublicLink,(function(t,e){var n=e.publicLink;return $.a.showLoadingState(),M(t,n).finally((function(){return $.a.hideLoadingState()}))})),E);e.a={namespaced:!1,state:function(){return{publicLinkPassword:null,publicLinkState:c.createViewState()}},getters:i,mutations:S,actions:V}},7561:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("ac1f"),n("5319");var i=n("d0c5"),r=n("7c5c"),o={marked:function(t,e){if(t){var n=t;return e&&e.trimLines&&(n=i.a.trimLines(n)),e&&e.normalize&&(n=n.replace(/```/g,"\n```")),n=Object(r.marked)(n),e&&e.sanitize&&(n=i.a.sanitize(n)),n}return null}}},"782d":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("6374"),r=n.n(i),o=n("c973"),a=n.n(o),s=n("448a"),c=n.n(s),l=(n("96cf"),n("a9e3"),n("a4d3"),n("e01a"),n("9911"),n("9ba6")),u=n("8376"),d=n("f936"),h=n("72a1"),p=n("ad89"),f=n("0477"),g=(n("99af"),n("498a"),n("4de4"),n("d3b7"),n("d81d"),n("ac1f"),n("1276"),n("a15b"),n("2667")),m=(g.a.clipto.tags.defineClass({id:Number,name:String,clipCount:Number}),{TAG_DELIMITER:"~",getAlias:function(t){return"".concat(m.TAG_DELIMITER).concat(t.trim())},getTagList:function(t){return h.a.isNullOrBlank(t)?[]:t.split(m.TAG_DELIMITER).map((function(t){return t.trim()})).filter((function(t){return!h.a.isNullOrBlank(t)}))},getTagListAsString:function(t){var e=this;return t.filter((function(t){return!h.a.isNullOrBlank(t)})).map((function(t){return e.getAlias(t)})).join("")}}),v=(n("1cee"),n("5046")),y=g.a.clipto.clips.defineClass({id:Number,objectType:Number,firestoreId:String,abbreviation:String,description:String,fav:Number,text:String,tags:String,tagsIn:Array,title:String,createDate:Date,updateDate:Date,modifyDate:Date,deleteDate:Date,deleted:Number,textType:Number,tracked:Number,snippet:Number,snippetId:String,usageCount:Number,files:Array,fileIds:Array,filesCount:Number,size:Number,publicLink:Object,characters:Number,excludedTags:Array,dynamic:Number,tagIds:Array,tagIdsCount:Number,snippetSetsIds:Array,snippetSetsIdsCount:Number});y.prototype.apply=function(t){return t?(t.id&&(this.id=t.id),this.objectType=t.objectType,this.firestoreId=t.firestoreId,this.snippetId=t.snippetId,this.fav=t.fav,this.text=t.text,this.title=t.title,this.platform=t.platform,this.createDate=t.createDate,this.updateDate=t.updateDate,this.modifyDate=t.modifyDate,this.deleteDate=t.deleteDate,this.deleted=t.deleted,this.textType=t.textType,this.description=t.description,this.abbreviation=t.abbreviation,this.setKitIds(c()(t.getKitIds())),this.tracked=t.tracked,this.usageCount=t.usageCount,this.setFileIds(c()(t.getFileIds())),this.size=t.size,this.publicLink=t.publicLink,this.sourceClips=t.sourceClips,this.snippet=t.snippet,this.dynamic=t.dynamic,this.characters=t.characters,this.setTagIds(c()(t.getTagIds()))):(this.usageCount=0,this.characters=0,this.createDate=new Date,this.modifyDate=this.createDate),this},y.prototype.areContentTheSame=function(t){return this.textType===t.textType&&h.a.areStringsTheSame(this.text,t.text)&&h.a.areStringsTheSame(this.title,t.title)&&h.a.areObjectsTheSame(this.fileIds,t.fileIds)&&h.a.areStringsTheSame(this.abbreviation,t.abbreviation)&&h.a.areStringsTheSame(this.description,t.description)},y.prototype.getFiles=function(){return this.files},y.prototype.hasPublicLink=function(){return this.publicLink&&!h.a.isNullOrZero(this.publicLink.link)},y.prototype.setTextType=function(t){this.textType=h.a.zeroIfNull(t)},y.prototype.getTextType=function(){return f.a.byId[this.textType]||f.a.TEXT_PLAIN},y.prototype.setUsageCount=function(t){this.usageCount=h.a.zeroIfNull(t)},y.prototype.setObjectType=function(t){this.objectType=h.a.zeroIfNull(t)},y.prototype.isDeleted=function(){return!h.a.isNull(this.deleteDate)},y.prototype.isStarred=function(){return 1===this.fav},y.prototype.setStarred=function(t){this.fav=h.a.booleanToInt(t)},y.prototype.isTracked=function(){return 1===this.tracked},y.prototype.setTracked=function(t){this.tracked=h.a.booleanToInt(t)},y.prototype.isSnippet=function(){return!h.a.isNullOrBlank(this.snippetId)||h.a.arrayIsNotEmpty(this.snippetSetsIds)},y.prototype.isDynamic=function(){return!h.a.isNullOrZero(this.dynamic)},y.prototype.hasDescription=function(){return!h.a.isNullOrBlank(this.description)},y.prototype.hasAbbreviation=function(){return!h.a.isNullOrBlank(this.abbreviation)},y.prototype.getFileIds=function(){return this.fileIds?this.fileIds:[]},y.prototype.setFileIds=function(t){var e=t||[];this.filesCount=e.length,this.fileIds=e},y.prototype.hasFiles=function(){return this.filesCount>0},y.prototype.isEmpty=function(){return!1},y.prototype.isNew=function(){return h.a.isNullOrZero(this.id)},y.prototype.isSynced=function(){return!h.a.isNullOrBlank(this.firestoreId)},y.prototype.hasTags=function(){return!h.a.isNullOrBlank(this.tags)},y.prototype.getTagNames=function(){return m.getTagList(this.tags)},y.prototype.getTagIds=function(){return this.tagIds||[]},y.prototype.getExcludedTagIds=function(){return this.excludedTags||[]},y.prototype.setTagIds=function(t){var e=t||[];delete this.tags,delete this.tagsIn,this.tagIds=e,this.tagIdsCount=e.length},y.prototype.getTags=function(){var t=this.getTagIds();if(h.a.arrayIsEmpty(t))return[];var e=d.a.getFilters();return h.a.arrayMapNotNull(t,(function(t){return e.findFilterByTagId(t)}))},y.prototype.getKitIds=function(){return this.snippetSetsIds||[]},y.prototype.setKitIds=function(t){var e=t||[];this.snippetSetsIdsCount=e.length,this.snippetSetsIds=e},y.prototype.getTextLength=function(){var t=this.text;return t?t.length:0},y.prototype.getTitleLength=function(){var t=this.title;return t?t.length:0},y.prototype.canApplyAutoTags=function(){return this.text&&this.objectType!==p.a.EXTERNAL_SNIPPET},y.prototype.isImportant=function(){return this.hasFiles()>0||this.hasPublicLink()||this.isStarred()||this.isSnippet()},y.prototype.normalize=function(){return this.title=h.a.nullIfEmpty(this.title),this.text=h.a.nullIfEmpty(this.text),this},y.prototype.shake=a()(regeneratorRuntime.mark((function t(){var e,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0,n=this.getFileIds(),i=r()(n),t.prev=3,i.s();case 5:if((o=i.n()).done){t.next=13;break}return a=o.value,t.next=9,u.a.getByUid(a);case 9:s=t.sent,h.a.isNull(s)||(e+=s.size);case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:e+=h.a.getLength(this.text),e+=h.a.getLength(this.title),(c=this).size=e,c.fav=h.a.zeroIfNull(c.fav),c.usageCount=h.a.zeroIfNull(c.usageCount),c.firestoreId=h.a.emptyIfNull(c.firestoreId),c.updateDate=c.updateDate||c.createDate,c.tracked=h.a.zeroIfNull(c.tracked),c.textType=c.textType||f.a.TEXT_PLAIN.id,c.objectType=c.objectType||p.a.INTERNAL.id,c.text=h.a.emptyIfNull(c.text),c.title=h.a.emptyIfNull(c.title),c.description=h.a.emptyIfNull(c.description),c.abbreviation=h.a.emptyIfNull(c.abbreviation),c.characters=h.a.getLength(c.text),c.deleted=h.a.dateToInt(c.deleteDate),c.snippet=h.a.booleanToInt(c.isSnippet()),c.dynamic=h.a.booleanToInt(l.a.isDynamicAccurate(c.text)),c.setTagIds(c.getTagIds()),c.setKitIds(c.getKitIds()),c.setFileIds(n);case 43:case"end":return t.stop()}}),t,this,[[3,15,18,21]])}))),y.prototype.areContentTheSame=function(t){return h.a.areNumbersTheSame(this.textType,t.textType)&&h.a.areStringsTheSame(this.title,t.title)&&h.a.areStringsTheSame(this.text,t.text)&&h.a.areObjectsTheSame(this.fileIds,t.fileIds)&&h.a.areStringsTheSame(this.abbreviation,t.abbreviation)&&h.a.areStringsTheSame(this.description,t.description)},y.areTheSame=function(t,e){return h.a.areNumbersTheSame(t.usageCount,e.usageCount)&&h.a.areNumbersTheSame(t.fav,e.fav)&&h.a.areStringsTheSame(t.snippetId,e.snippetId)&&h.a.areDatesTheSame(t.modifyDate,e.modifyDate,"modifyDate")&&h.a.areDatesTheSame(t.deleteDate,e.deleteDate,"deleteDate")&&h.a.areNumbersTheSame(t.textType,e.textType)&&h.a.areStringsTheSame(t.title,e.title)&&h.a.areStringsTheSame(t.text,e.text)&&h.a.areStringsTheSame(t.abbreviation,e.abbreviation)&&h.a.areStringsTheSame(t.description,e.description)&&h.a.areObjectsTheSame(t.getTagIds(),e.getTagIds())&&h.a.areObjectsTheSame(t.getKitIds(),e.getKitIds())&&h.a.areObjectsTheSame(t.getFileIds(),e.getFileIds())&&h.a.areObjectsTheSame(t.publicLink,e.publicLink)},y.newInstance=function(t,e){var n=new y;return n.createDate=new Date,n.setTracked(e),n.usageCount=0,n.text=t,n},y.prototype.getStarIconData=function(){return this.isStarred()?{iconClass:"text-colorAccent",icon:"star"}:{iconClass:"text-textColorPrimary",icon:"star_border"}},y.prototype.getIconData=function(){var t,e;if(this.isStarred())t="star",e=v.a.getColorBrand("colorAccent");else if(this.isSnippet()){t="text_snippet";var n=this.getKitIds();if(h.a.arrayIsNotEmpty(n)){var i=d.a.getFilters().findFilterBySnippetKitId(n[0]);i&&i.color&&(e=i.color)}}else this.isDynamic()?t="dynamic_form":this.isTracked()&&(t="svguse:icons.svg#rune_clipboard");return t?(e||(e=v.a.getColorBrand("textColorSecondary")),{icon:t,style:"color: ".concat(e)}):null},y.prototype.getPublicLinkData=function(){var t=this.publicLink;return t&&t.link?t.link&&!t.unavailable?{icon:"link",iconColor:"positive"}:{icon:"link",iconColor:"negative"}:null}},"78c8":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("00b4"),n("9911"),n("99af");var i=n("1732"),r=n("fbcd"),o=n.n(r),a=n("62d3"),s=n("c9d9"),c=n("72a1"),l={urlPattern:new RegExp("^(https?)","i"),linkifyIt:new o.a,isValidURL:function(t){return!!l.urlPattern.test(t)},hasLinks:function(t){return!c.a.isNull(t)&&l.linkifyIt.test(t)},linkify:function(t,e){return a.a.link(t,{stripPrefix:!1,replaceFn:function(t){return e(t)}})},preview:function(t,e,n,r,o,a){if(!(t.$store.getters.remoteConfigCanPreviewLinks&&(o||a)))return o?'<a href="#" target="_blank">'.concat(n,"</a>"):'<a href="'.concat(e,'" target="_blank">').concat(n,"</a>");var c="lp_".concat(Object(i.a)());try{return o?'<div><a href="#" target="_blank" style="text-decoration: none">'.concat(n,'</a><div id="').concat(c,'"></div></div>'):'<div><a href="'.concat(e,'" target="_blank">').concat(n,'</a><div id="').concat(c,'"></div></div>')}finally{l.isValidURL(e)&&t.$store.dispatch(s.a.onGetLinkPreview,{ui:t.$store.getters.getUI||t,forcePreview:o,previewCache:r,url:e,id:c}).then((function(){}))}}}},"78ef":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={ANY_OF:{id:0,titleRes:"where_any_of"},ALL_OF:{id:1,titleRes:"where_all_of"},NONE_OF:{id:2,titleRes:"where_none_of"}};i.byId={0:i.ANY_OF,1:i.ALL_OF,2:i.NONE_OF}},7903:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,i=3,r=40,o=10;function a(t,n,i){switch(t){case e.Patterns.PATTERN000:return(n+i)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return i%3==0;case e.Patterns.PATTERN011:return(n+i)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case e.Patterns.PATTERN101:return n*i%2+n*i%3==0;case e.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case e.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,i=0,r=0,o=0,a=null,s=null,c=0;c<e;c++){r=o=0,a=s=null;for(var l=0;l<e;l++){var u=t.get(c,l);u===a?r++:(r>=5&&(i+=n+(r-5)),a=u,r=1),(u=t.get(l,c))===s?o++:(o>=5&&(i+=n+(o-5)),s=u,o=1)}r>=5&&(i+=n+(r-5)),o>=5&&(i+=n+(o-5))}return i},e.getPenaltyN2=function(t){for(var e=t.size,n=0,r=0;r<e-1;r++)for(var o=0;o<e-1;o++){var a=t.get(r,o)+t.get(r,o+1)+t.get(r+1,o)+t.get(r+1,o+1);4!==a&&0!==a||n++}return n*i},e.getPenaltyN3=function(t){for(var e=t.size,n=0,i=0,o=0,a=0;a<e;a++){i=o=0;for(var s=0;s<e;s++)i=i<<1&2047|t.get(a,s),s>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|t.get(s,a),s>=10&&(1488===o||93===o)&&n++}return n*r},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,i=0;i<n;i++)e+=t.data[i];return Math.abs(Math.ceil(100*e/n/5)-10)*o},e.applyMask=function(t,e){for(var n=e.size,i=0;i<n;i++)for(var r=0;r<n;r++)e.isReserved(r,i)||e.xor(r,i,a(t,r,i))},e.getBestMask=function(t,n){for(var i=Object.keys(e.Patterns).length,r=0,o=1/0,a=0;a<i;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<o&&(o=s,r=a)}return r}},"7a20":function(t,e,n){"use strict";n.r(e);n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0");var i=n("61b4"),r=n("05f0"),o=n("9ee1"),a=n("e2db"),s=n("a8e6"),c=n("72a1"),l=n("ed99"),u=n("596c"),d=n("c9d9"),h=n("96e0"),p=n("721b"),f=n("0a49"),g=n("2858"),m=n("d0a2");n.e(7).then(n.bind(null,"2d44"));var v={name:"Print",components:{ClipDetailsTextBlock:g.a,ObjectTitleBlock:m.a},beforeMount:function(){var t=this,e=this,n=e.$store;r.a.registerCommand(o.a.onPrintClip,(function(i,r){u.a.registerModule(t,"appearance",p.a),u.a.registerModule(t,"settings",f.a),n.dispatch(d.a.onInitSettings,e).then((function(){return n.commit(l.a.UPDATE_THEME,h.a.DEFAULT)})).then((function(){return e.onPrint(r)}))}))},data:function(){return{clip:null}},computed:{getHeight:function(){return a.a.getScreenHeight()},getSelectedTheme:function(){return this.$store.getters.getSelectedTheme},getContentClass:function(){return"fit bg-colorPrimaryInverse ".concat(this.$store.getters.getSelectedFontClass)},hasTitle:function(){return!c.a.isNullOrBlank(this.getClip.title)},getClip:function(){return this.clip}},methods:{onPrint:function(t){var e=this;e.clip=t,i.a.nextTick((function(){document.title=s.a.createFileName(e,t),r.a.sendCommand(o.a.onPrintFinished)}))}}},y=n("2877"),_=Object(y.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.getClip?n("div",{class:t.getContentClass},[t.hasTitle?n("ObjectTitleBlock",{staticClass:"q-mt-sm",attrs:{readonly:!0,"hide-additional-attrs":!0},model:{value:t.getClip.title,callback:function(e){t.$set(t.getClip,"title",e)},expression:"getClip.title"}}):t._e(),n("ClipDetailsTextBlock",{attrs:{clip:t.getClip,"static-text":!0,"is-edit-mode":!1}})],1):t._e()}),[],!1,null,null,null);e.default=_.exports},"7a43":function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},"7ba0":function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},"7bf0":function(t,e){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return i[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},8376:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("6374"),r=n.n(i),o=n("c973"),a=n.n(o),s=(n("d3b7"),n("e6cf"),n("7db0"),n("26e9"),n("caad"),n("2532"),n("4de4"),n("ac1f"),n("00b4"),n("b0c0"),n("a4d3"),n("e01a"),n("96cf"),n("2063")),c=n("72a1"),l=n("8841"),u=n("78ef"),d=n("1cee"),h=n("2667").a.clipto,p={clear:function(){return h.fileRefs.clear()},saveAll:function(t){return a()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.fileRefs.bulkPut(t);case 2:case"end":return e.stop()}}),e)})))()},deleteAll:function(t){return a()(regeneratorRuntime.mark((function e(){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=r()(t),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=11;break}return a=o.value,e.next=8,s.a.update(a,null);case 8:n.push(a.id);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:return e.next=21,h.fileRefs.bulkDelete(n);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))()},save:function(t){return a()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.a.debug("save file",t,h.fileRefs),e.next=3,h.fileRefs.put(t);case 3:return t.id=e.sent,d.a.debug("saved file",t,h.fileRefs),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()},getById:function(t){return h.fileRefs.get(t)},getByUid:function(t){return h.fileRefs.where({firestoreId:t}).first()},getByPathAndName:function(t,e){return h.fileRefs.where({path:t,name:e}).first()},delete:function(t){return a()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.update(t,null);case 2:return e.abrupt("return",h.fileRefs.delete(t.id));case 3:case"end":return e.stop()}}),e)})))()},getFiles:function(t){return a()(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getFileIds(),!c.a.isEmpty(n)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,h.fileRefs.where("firestoreId").anyOf(n).toArray();case 5:return i=e.sent,d.a.debug("getFiles",i),e.abrupt("return",c.a.arrayMapNotNull(n,(function(t){return i.find((function(e){return e.getUid()===t}))})));case 8:case"end":return e.stop()}}),e)})))()},getFilesByIds:function(t){return a()(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.a.isEmpty(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,h.fileRefs.where("firestoreId").anyOf(t).distinct().toArray();case 4:return n=e.sent,d.a.debug("getFilesByIds",n),e.abrupt("return",c.a.arrayMapNotNull(t,(function(t){return n.find((function(e){return e.getUid()===t}))})));case 7:case"end":return e.stop()}}),e)})))()},getFiltered:function(t){return this._createFilterQuery(t).reverse().sortBy("createDate")},_createFilterQuery:function(t){var e=!1,n=h.fileRefs;d.a.debug("createFilterQuery",t);var i=t.fileIds;c.a.arrayIsNotEmpty(i)&&(t.fileIdsWhereType===u.a.NONE_OF.id&&(n=e?n.and((function(t){return!i.includes(t.firestoreId)})):n.where("firestoreId").noneOf(i),d.a.debug("query by fileIds: multipleConditions =",e),e=!0));if(t.recycled||(n=e?n.and((function(t){return!t.deleted})):n.filter((function(t){return!t.deleted})),d.a.debug("query by deleted :: multipleConditions",e)),t.textLike){d.a.debug("query by textLike:",t.textLike);var r=l.a.createSearchRegExp(t.textLike);n=n.filter((function(t){return r.test(t.name)||r.test(t.abbreviation)||r.test(t.description)}))}return n}}},8380:function(t,e,n){"use strict";var i=n("ded3"),r=n.n(i),o=n("2b0e"),a=n("594d");e.a=o.default.extend({name:"QSpinnerDots",mixins:[a.a],render:function(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:r()({},this.qListeners),attrs:{focusable:"false",fill:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[t("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":".3"}},[t("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[t("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])}})},8488:function(t,e,n){var i={"./":["a6d8",3],"./ar":["13ef",9,37],"./ar.js":["13ef",9,37],"./az-latn":["4336",9,38],"./az-latn.js":["4336",9,38],"./bg":["a6b2",9,39],"./bg.js":["a6b2",9,39],"./ca":["8378",9,40],"./ca.js":["8378",9,40],"./cs":["5ddc",9,41],"./cs.js":["5ddc",9,41],"./da":["d3e4",9,42],"./da.js":["d3e4",9,42],"./de":["215a",9,43],"./de.js":["215a",9,43],"./el":["83bc",9,44],"./el.js":["83bc",9,44],"./en-gb":["17f5",9,45],"./en-gb.js":["17f5",9,45],"./en-us":["1f91",9],"./en-us.js":["1f91",9],"./eo":["b25b",9,46],"./eo.js":["b25b",9,46],"./es":["df1a",9,47],"./es.js":["df1a",9,47],"./et":["c3ad",9,48],"./et.js":["c3ad",9,48],"./fa":["a0f3",9,50],"./fa-ir":["b67a",9,49],"./fa-ir.js":["b67a",9,49],"./fa.js":["a0f3",9,50],"./fi":["10c0",9,51],"./fi.js":["10c0",9,51],"./fr":["34fe",9,52],"./fr.js":["34fe",9,52],"./gn":["3c87",9,53],"./gn.js":["3c87",9,53],"./he":["36eb",9,54],"./he.js":["36eb",9,54],"./hr":["007f",9,55],"./hr.js":["007f",9,55],"./hu":["a9af",9,56],"./hu.js":["a9af",9,56],"./id":["7e40",9,57],"./id.js":["7e40",9,57],"./index":["a6d8",3],"./index.json":["a6d8",3],"./is":["e41d",9,58],"./is.js":["e41d",9,58],"./it":["a745",9,59],"./it.js":["a745",9,59],"./ja":["5521",9,60],"./ja.js":["5521",9,60],"./km":["726e",9,61],"./km.js":["726e",9,61],"./ko-kr":["187f",9,62],"./ko-kr.js":["187f",9,62],"./kur-ckb":["d9db",9,63],"./kur-ckb.js":["d9db",9,63],"./lu":["1ee2",9,64],"./lu.js":["1ee2",9,64],"./lv":["004e",9,65],"./lv.js":["004e",9,65],"./ml":["c454",9,66],"./ml.js":["c454",9,66],"./ms":["bf26",9,67],"./ms.js":["bf26",9,67],"./nb-no":["dacc",9,68],"./nb-no.js":["dacc",9,68],"./nl":["8cf4",9,69],"./nl.js":["8cf4",9,69],"./pl":["700f",9,70],"./pl.js":["700f",9,70],"./pt":["37ed",9,72],"./pt-br":["f476",9,71],"./pt-br.js":["f476",9,71],"./pt.js":["37ed",9,72],"./ro":["fecf",9,73],"./ro.js":["fecf",9,73],"./ru":["14c0",9,74],"./ru.js":["14c0",9,74],"./sk":["15e6",9,75],"./sk.js":["15e6",9,75],"./sl":["5e5a",9,76],"./sl.js":["5e5a",9,76],"./sr":["78dc",9,77],"./sr.js":["78dc",9,77],"./sv":["7107",9,78],"./sv.js":["7107",9,78],"./ta":["3572",9,79],"./ta.js":["3572",9,79],"./th":["c9b0",9,80],"./th.js":["c9b0",9,80],"./tr":["c1a5",9,81],"./tr.js":["c1a5",9,81],"./ug":["c290",9,82],"./ug.js":["c290",9,82],"./uk":["6464",9,83],"./uk.js":["6464",9,83],"./vi":["1fb0",9,84],"./vi.js":["1fb0",9,84],"./zh-hans":["bf69",9,85],"./zh-hans.js":["bf69",9,85],"./zh-hant":["db10",9,86],"./zh-hant.js":["db10",9,86]};function r(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],r=e[0];return Promise.all(e.slice(2).map(n.e)).then((function(){return n.t(r,e[1])}))}r.keys=function(){return Object.keys(i)},r.id="8488",t.exports=r},8841:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("6374"),r=n.n(i),o=(n("4de4"),n("d3b7"),n("caad"),n("2532"),n("7db0"),n("159b"),n("d81d"),n("a15b"),n("ac1f"),n("1276"),n("498a"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("5319"),n("72a1")),a={getClipsCommonTagIds:function(t){if(o.a.isEmpty(t))return[];var e,n=t[0].getTagIds(),i=r()(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(!(n.length>0))break;!function(){var t=a.getTagIds();n=n.filter((function(e){return t.includes(e)}))}()}}catch(t){i.e(t)}finally{i.f()}return n},getClipsCommonTitle:function(t){var e=t.find((function(t){return!o.a.isNullOrBlank(t.title)}));return e?e.title:null},getClipsDistinctTagIds:function(t){var e=[];return t.map((function(t){return t.getTagIds()})).forEach((function(t){t.forEach((function(t){return o.a.arrayAddItem(e,t)}))})),e},getClipsDistinctFileIds:function(t){var e=[];return t.map((function(t){return t.getFileIds()})).forEach((function(t){t.forEach((function(t){return o.a.arrayAddItem(e,t)}))})),e},getClipsText:function(t,e){return t.map((function(t){return t.text})).join(e)},createSearchRegExp:function(t){var e=t.split(",").map((function(t){return t.trim()})).filter((function(t){return t&&t.length>0})).join("|");return new RegExp(e.replace(/[.*+?^${}()[\]\\]/g,"\\$&"),"i")}}},"886e":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("a9e3"),n("b0c0"),n("a4d3"),n("e01a");var i=n("2667"),r=n("29a4"),o=n("0860"),a=n("72a1"),s=n("6f2e"),c=n("fab3"),l=n("78ef"),u=n("ad89"),d=n("176d"),h=n("f936"),p=n("37f6"),f=i.a.clipto.filters.defineClass({id:Number,objectType:Number,uid:String,name:String,type:Number,createDate:Date,updateDate:Date,syncDate:Date,notesCount:Number,hideHint:Boolean,limit:Number,color:String,sortBy:Number,listStyle:Number,description:String,autoRuleByTextIn:String,autoRulesEnabled:Boolean,pinStarredEnabled:Boolean,excludeWithCustomAttributes:Boolean,tagIds:Array,tagIdsWhereType:Number,snippetSetIds:Array,snippetSetIdsWhereType:Number,textTypeIn:Array,locatedInWhereType:Number,textLike:String,starred:Boolean,untagged:Boolean,clipboard:Boolean,recycled:Boolean,snippets:Boolean,showOnlyWithAttachments:Boolean,showOnlyWithPublicLink:Boolean,showOnlyNotSynced:Boolean,createDateFrom:Date,createDateTo:Date,createDatePeriod:Number,updateDateFrom:Date,updateDateTo:Date,updateDatePeriod:Number,activeFilterId:String,snippetKit:o.a,tagsIn:Array});f.prototype.getCreateTimeInterval=function(){var t=p.a.byId[this.createDatePeriod];return t?t.toInterval(this.createDateFrom,this.createDateTo):new r.a},f.prototype.getUpdateTimeInterval=function(){var t=p.a.byId[this.updateDatePeriod];return t?t.toInterval(this.updateDateFrom,this.updateDateTo):new r.a},f.prototype.setHideHint=function(t){this.hideHint=t},f.prototype.getTagIds=function(){return this.tagIds||[]},f.prototype.getKitIds=function(){return this.snippetSetIds||[]},f.prototype.getTitle=function(){return this.name||""},f.prototype.isManualSorting=function(){return this.sortBy===c.a.MANUAL_ASC.id||this.sortBy===c.a.MANUAL_DESC.id},f.prototype.hasActiveFilter=function(){return!(!this.activeFilterId||this.activeFilterId===s.a.ALL.createUid())||(this.starred||this.untagged||this.clipboard||this.recycled||this.snippets||!a.a.isNullOrBlank(this.tagIds)||!a.a.isNullOrBlank(this.snippetSetIds)||!a.a.isNullOrBlank(this.textLike)||!this.doesNotHaveAdvancedFiltering(!0))},f.prototype.getUid=function(){return this.uid},f.prototype.updateColor=function(t){this.color=a.a.nullIfEmpty(t)},f.prototype.withKit=function(t){this.snippetKit=t,this.name=t.name,this.color=t.color,this.sortBy=t.sortBy,this.listStyle=t.listStyle,this.description=t.description},f.prototype.applyFilter=function(t){return this.uid=t.uid,this.name=t.name,this.type=t.type,this.objectType=t.objectType,this.snippetKit=t.snippetKit,this.description=t.description,this.createDate=t.createDate,this.updateDate=t.updateDate,this.notesCount=t.getNotesCount(),this.hideHint=t.hideHint,this.withFilter(t)},f.prototype.withFilter=function(t,e){return e&&(this.name=t.name,this.description=t.description,this.createDate=t.createDate,this.updateDate=t.updateDate,this.snippetKit=t.snippetKit,this.hideHint=t.hideHint),this.limit=t.limit,this.color=t.color,this.sortBy=t.sortBy,this.listStyle=t.listStyle,this.autoRulesEnabled=t.autoRulesEnabled,this.autoRuleByTextIn=t.autoRuleByTextIn,this.pinStarredEnabled=t.pinStarredEnabled,this.excludeWithCustomAttributes=t.excludeWithCustomAttributes,this.tagIds=t.tagIds,this.tagIdsWhereType=t.tagIdsWhereType,this.snippetSetIds=t.snippetSetIds,this.snippetSetIdsWhereType=t.snippetSetIdsWhereType,this.textLike=t.textLike,this.starred=t.starred,this.untagged=t.untagged,this.clipboard=t.clipboard,this.recycled=t.recycled,this.snippets=t.snippets,this.locatedInWhereType=t.locatedInWhereType,this.showOnlyWithPublicLink=t.showOnlyWithPublicLink,this.showOnlyWithAttachments=t.showOnlyWithAttachments,this.showOnlyNotSynced=t.showOnlyNotSynced,this.createDatePeriod=t.createDatePeriod,this.createDateFrom=t.createDateFrom,this.createDateTo=t.createDateTo,this.updateDatePeriod=t.updateDatePeriod,this.updateDateFrom=t.updateDateFrom,this.updateDateTo=t.updateDateTo,this.textTypeIn=t.textTypeIn,this.activeFilterId=t.activeFilterId,this},f.prototype.withSnapshot=function(t){return this.listStyle=t.listStyle,this.sortBy=t.sortBy,this.tagIds=t.tagIds,this.textLike=t.textLike,this.starred=t.starred,this.untagged=t.untagged,this.clipboard=t.clipboard,this.recycled=t.recycled,this.snippets=t.snippets,this.activeFilterId=t.filterId,this.tagIdsWhereType=t.tagIdsWhereType,this.showOnlyWithPublicLink=t.showOnlyWithPublicLink,this.showOnlyWithAttachments=t.showOnlyWithAttachments,this.locatedInWhereType=t.locatedInWhereType,this.showOnlyNotSynced=t.showOnlyNotSynced,this.textTypeIn=t.textTypeIn,this.createDateFrom=t.createDateFrom,this.createDateTo=t.createDateTo,this.createDatePeriod=t.createDatePeriod,this.updateDateTo=t.updateDateTo,this.updateDateFrom=t.updateDateFrom,this.updateDatePeriod=t.updateDatePeriod,this.snippetSetIds=t.snippetSetIds,this.snippetSetIdsWhereType=t.snippetSetIdsWhereType,this},f.prototype.isNew=function(){return a.a.isEmpty(this.uid)||a.a.isNullOrZero(this.id)},f.prototype.hasNotes=function(){return this.getNotesCount()>0},f.prototype.isContext=function(){return this.type===s.a.CONTEXT.id},f.prototype.isLast=function(){return this.type===s.a.LAST.id},f.prototype.isGroupTags=function(){return this.type===s.a.GROUP_TAGS.id},f.prototype.isGroupNotes=function(){return this.type===s.a.GROUP_NOTES.id},f.prototype.isGroupFilters=function(){return this.type===s.a.GROUP_FILTERS.id},f.prototype.isGroupSnippets=function(){return this.type===s.a.GROUP_SNIPPETS.id},f.prototype.isGroup=function(){return this.isGroupTags()||this.isGroupNotes()||this.isGroupFilters()||this.isGroupSnippets()},f.prototype.isNamedFilter=function(){return this.type===s.a.NAMED.id},f.prototype.isNotesCategory=function(){return this.type===s.a.ALL.id||this.type===s.a.STARRED.id||this.type===s.a.UNTAGGED.id||this.type===s.a.CLIPBOARD.id||this.type===s.a.SNIPPETS.id||this.type===s.a.DELETED.id},f.prototype.hasActiveAutoRule=function(){return this.isTag()&&this.autoRulesEnabled&&!a.a.isNullOrBlank(this.autoRuleByTextIn)},f.prototype.isNameEditable=function(){return this.isNamedFilter()||this.isTag()||this.isSnippetKit()},f.prototype.isAll=function(){return this.type===s.a.ALL.id||!this.starred&&!this.untagged&&!this.clipboard&&!this.recycled&&!this.snippets&&!this.isNamedFilter()&&!this.isGroup()&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},f.prototype.isStarred=function(){return this.type===s.a.STARRED.id||this.starred&&!this.untagged&&!this.clipboard&&!this.recycled&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},f.prototype.isSnippets=function(){return this.type===s.a.SNIPPETS.id||this.snippets&&!this.starred&&!this.untagged&&!this.clipboard&&!this.recycled&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},f.prototype.isUntagged=function(){return this.type===s.a.UNTAGGED.id||this.untagged&&!this.starred&&!this.clipboard&&!this.recycled&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},f.prototype.isClipboard=function(){return this.type===s.a.CLIPBOARD.id||this.clipboard&&!this.untagged&&!this.starred&&!this.recycled&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},f.prototype.isDeleted=function(){return this.type===s.a.DELETED.id||this.recycled&&!this.untagged&&!this.starred&&!this.clipboard&&!this.snippets&&this.doesNotHaveAdvancedFiltering(!1,!0,!0)},f.prototype.isTag=function(t){if(this.type===s.a.TAG.id)return!0;var e=this.tagIds;return!(!t||!Array.isArray(e)||1!==e.length)&&(!this.recycled&&!this.untagged&&!this.starred&&!this.clipboard&&!this.snippets&&t.filtersByUid[e[0]]&&this.doesNotHaveAdvancedFiltering(!1,!1,!0))},f.prototype.isSnippetKit=function(t){if(this.type===s.a.SNIPPET_KIT.id)return!0;var e=this.snippetSetIds;return!(!t||!Array.isArray(e)||1!==e.length)&&(!this.recycled&&!this.untagged&&!this.starred&&!this.clipboard&&!this.snippets&&t.filtersByUid[e[0]]&&this.doesNotHaveAdvancedFiltering(!1,!0,!1))},f.prototype.isSame=function(t){return a.a.areObjectsTheSame(this,t,["id","updateDate","notesCount","tagsIn"])},f.prototype.normalize=function(){return this.isNamedFilter()||this.isLast()||(this.textLike=null),this.isTag()&&this.uid?this.tagIds=[this.uid]:this.isSnippetKit()&&this.uid&&(this.snippetSetIds=[this.uid]),this.hideHint||(this.hideHint=!1),a.a.isNumber(this.listStyle)||(this.listStyle=d.a.DEFAULT.id),a.a.isNumber(this.sortBy)||(this.sortBy=c.a.CREATE_DATE_DESC.id),this.notesCount=Math.max(0,this.getNotesCount()),this},f.prototype.anonymize=function(){return this.objectType=u.a.INTERNAL.id,this.type=s.a.CUSTOM.id,this.autoRulesEnabled=!1,this.description=null,this.snippetKit=null,this.name=null,this.uid=null,delete this.id,this},f.prototype.doesNotHaveAdvancedFiltering=function(t,e,n){return a.a.isNullOrBlank(this.textLike)&&!this.showOnlyWithAttachments&&!this.showOnlyWithPublicLink&&!this.showOnlyNotSynced&&a.a.isNullOrBlank(this.textTypeIn)&&(a.a.isNull(this.createDatePeriod)||this.createDatePeriod===p.a.CUSTOM_INTERVAL.id&&!this.createDateTo&&!this.createDateFrom)&&(a.a.isNull(this.updateDatePeriod)||this.updateDatePeriod===p.a.CUSTOM_INTERVAL.id&&!this.updateDateTo&&!this.updateDateFrom)&&(!e||a.a.isNullOrBlank(this.tagIds))&&(!n||a.a.isNullOrBlank(this.snippetSetIds))&&(!this.locatedInWhereType||this.locatedInWhereType===l.a.ANY_OF.id||t&&!this.starred&&!this.snippets&&!this.untagged&&!this.clipboard&&!this.recycled)},f.prototype.getTextTypeIn=function(){return this.textTypeIn||[]},f.prototype.getTagIds=function(){return this.tagIds||[]},f.prototype.getTags=function(){var t=this.getTagIds();if(a.a.arrayIsEmpty(t))return[];var e=h.a.getFilters();return a.a.arrayMapNotNull(t,(function(t){return e.findFilterByTagId(t)}))},f.prototype.asNewNamedFilter=function(){var t=f.newInstance().applyFilter(this).anonymize();return t.uid=s.a.NAMED.createUid(),t.type=s.a.NAMED.id,t.pinStarredEnabled=!1,t.autoRulesEnabled=!1,t.autoRuleByTextIn=null,t.description=null,t},f.prototype.getHintRes=function(){var t=s.a.byId[this.type];return t?t.hintRes:null},f.prototype.getNotesCount=function(){return a.a.zeroIfNull(this.notesCount)},f.prototype.getName=function(){var t=this.name;if(!t){var e=s.a.byId[this.type];if(e&&e.getTitleRes){var n=e.getTitleRes(),i=h.a.getUI();i&&(t=i.$t(n))}}return t},f.prototype.getType=function(){return s.a.byId[this.type]},f.prototype.isActiveInFilter=function(t){return this.starred&&t.starred||this.clipboard&&t.clipboard||this.recycled&&t.recycled||this.snippets&&t.snippets||this.untagged&&t.untagged},f.prototype.toggleInFilter=function(t){this.starred?t.starred=!t.starred:this.recycled?t.recycled=!t.recycled:this.snippets?t.snippets=!t.snippets:this.untagged?t.untagged=!t.untagged:this.clipboard&&(t.clipboard=!t.clipboard)},f.prototype.clearToggledFilters=function(){this.starred=!1,this.recycled=!1,this.snippets=!1,this.untagged=!1,this.clipboard=!1},f.prototype.getIcon=function(){var t=s.a.byId[this.type];return t&&t.getIconRes?t.getIconRes():null},f.createTag=function(t,e){var n,i=f.newInstance();(i.objectType=u.a.INTERNAL.id,i.sortBy=c.a.CREATE_DATE_DESC.id,i.listStyle=d.a.DEFAULT.id,i.type=s.a.TAG.id,i.hideHint=!0,i.color=null,t)&&(n=e?s.a.TAG.createUid(t):s.a.TAG.createUid(),i.tagIds=[n],i.name=t,i.uid=n);return i},f.createTagFromId=function(t){var e=f.newInstance(),n=t||s.a.TAG.createUid();return e.objectType=u.a.INTERNAL.id,e.sortBy=c.a.CREATE_DATE_DESC.id,e.listStyle=d.a.DEFAULT.id,e.type=s.a.TAG.id,e.tagIds=[n],e.hideHint=!0,e.color=null,e.uid=n,e},f.createSnippetKit=function(t){var e=f.newInstance(),n=t||s.a.SNIPPET_KIT.createUid();return e.objectType=u.a.INTERNAL.id,e.sortBy=c.a.CREATE_DATE_DESC.id,e.listStyle=d.a.DEFAULT.id,e.type=s.a.SNIPPET_KIT.id,e.snippetSetIds=[n],e.hideHint=!0,e.color=null,e.uid=n,e},f.newInstance=function(){var t=new f;return t.objectType=u.a.INTERNAL.id,t.sortBy=c.a.CREATE_DATE_DESC.id,t.listStyle=d.a.DEFAULT.id,t.hideHint=!0,t.color=null,t}},8909:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getSelectedClipState",(function(){return v})),n.d(i,"getSelectedClipFocusMode",(function(){return y})),n.d(i,"isSelectedClipFocusOnTitle",(function(){return _})),n.d(i,"isSelectedClipFocusOnText",(function(){return b})),n.d(i,"getSelectedClip",(function(){return S})),n.d(i,"getOriginalClip",(function(){return C})),n.d(i,"getSelectedClipFilesCount",(function(){return T})),n.d(i,"getSelectedClipAttributesCount",(function(){return w})),n.d(i,"getSelectedClipIndex",(function(){return I})),n.d(i,"getSelectedClipTextType",(function(){return E})),n.d(i,"isStateEdit",(function(){return A})),n.d(i,"isClipContentChanged",(function(){return x})),n.d(i,"isClipAttributesChanged",(function(){return k})),n.d(i,"getAvailableAttachments",(function(){return D})),n.d(i,"getAvailableAttachmentsFilter",(function(){return R})),n.d(i,"isInAvailableAttachmentsLoadingState",(function(){return L}));var r=n("970b"),o=n.n(r),a=n("9523"),s=n.n(a),c=(n("c740"),n("d1fd")),l=n("f936"),u={TEXT:"TEXT",TEXT_AUTO_SCROLL:"TEXT_AUTO_SCROLL",TITLE:"TITLE",DESCRIPTION:"DESCRIPTION",ABBREVIATION:"ABBREVIATION",TAGS:"TAGS",PREVIEW:"PREVIEW",NONE:"NONE",getDefault:function(){return l.a.getSettings().focusOnTitle?u.TITLE:u.TEXT}},d=n("6683"),h=n("72a1"),p=n("1cee"),f=n("782d"),g=function t(){o()(this,t),s()(this,"clip",void 0),s()(this,"original",void 0),s()(this,"viewMode",void 0),s()(this,"focusMode",void 0),s()(this,"listIndex",void 0),s()(this,"navigationMode",void 0)};s()(g,"createState",(function(t,e,n,i,r){var o=new g,a=r||l.a.getClips().findIndex((function(e){return e.id===t.id}));return o.original=f.a.newInstance().apply(t),o.clip=f.a.newInstance().apply(t),o.navigationMode=i,o.focusMode=n,o.listIndex=a,o.viewMode=e,p.a.debug("create state:",a,o),o})),s()(g,"createViewState",(function(t){return g.createState(t,d.a.VIEW,u.NONE,c.a.CLICK)})),s()(g,"createEditState",(function(t){return g.createState(f.a.newInstance().apply(t),d.a.EDIT,u.getDefault(),c.a.CLICK)})),s()(g,"createNewState",(function(){return g.createState(f.a.newInstance(),d.a.EDIT,u.getDefault(),c.a.CLICK)})),g.prototype.getOriginal=function(){return this.original},g.prototype.isPreviewMode=function(){return this.viewMode===d.a.PREVIEW},g.prototype.isEditMode=function(){return this.viewMode===d.a.EDIT&&this.isEditable()},g.prototype.isViewMode=function(){return this.viewMode===d.a.VIEW},g.prototype.isNavigatedViaClick=function(){return this.navigationMode===c.a.CLICK},g.prototype.isEditable=function(){return!this.clip.isDeleted()},g.prototype.isClipEdited=function(){return!(this.clip.isEmpty()||this.clip.areContentTheSame(this.original)&&h.a.areObjectsTheSame(this.clip.tagIds,this.original.tagIds)&&h.a.areObjectsTheSame(this.clip.snippetSetsIds,this.original.snippetSetsIds)&&this.clip.isStarred()===this.original.isStarred())},g.prototype.isClipAttributesEdited=function(){return!(this.clip.isEmpty()||h.a.areObjectsTheSame(this.clip.tagIds,this.original.tagIds)&&h.a.areObjectsTheSame(this.clip.snippetSetsIds,this.original.snippetSetsIds)&&this.clip.isStarred()===this.original.isStarred()&&this.clip.textType===this.original.textType)};var m={availableAttachmentsFilter:n("d1c6").a.newInstance(20,0),selectedClipState:g.createNewState(),requestUpdateAvailableAttachments:null,availableAttachmentsLoadingState:null};function v(t){return t.selectedClipState}function y(t){return t.selectedClipState.focusMode}function _(t,e){return e.getSelectedClipFocusMode===u.TITLE}function b(t,e){return e.getSelectedClipFocusMode===u.TEXT}function S(t){return t.selectedClipState.clip}function C(t){return t.selectedClipState.original}function T(t,e){return e.getSelectedClip.filesCount}function w(t,e){var n=e.getSelectedClip;return n.getTagIds().length+n.getKitIds().length}function I(t){return t.selectedClipState.listIndex}function E(t){return t.selectedClipState.clip.textType}function A(t){return t.selectedClipState.isEditMode()}function x(t){return t.selectedClipState.isClipEdited()}function k(t){return t.selectedClipState.isClipAttributesEdited()}function D(t){var e=t.requestUpdateAvailableAttachments;return l.a.getAvailableAttachments(e)}function R(t){return t.availableAttachmentsFilter}function L(t){return t.availableAttachmentsLoadingState}n("7db0"),n("d3b7"),n("159b");var F,O=n("ed99"),P=(F={},s()(F,O.a.NEW_CLIP,(function(t,e){var n=l.a.getFilterLast(),i=e||f.a.newInstance();i.textType=l.a.getSettings().textType,i.setStarred(n.starred),i.setTagIds(n.tagIds),N(t,{navigationMode:c.a.CLICK,focusMode:u.getDefault(),viewMode:d.a.EDIT,clip:i})})),s()(F,O.a.VIEW_CLIP,(function(t,e){N(t,{navigationMode:c.a.CLICK,focusMode:u.NONE,viewMode:d.a.VIEW,clip:e})})),s()(F,O.a.EDIT_CLIP,(function(t,e){N(t,{navigationMode:c.a.CLICK,focusMode:u.NONE,viewMode:d.a.EDIT,clip:e})})),s()(F,O.a.CANCEL_EDIT_CLIP,(function(t){N(t,{clip:t.selectedClipState.getOriginal(),navigationMode:c.a.CLICK,focusMode:u.NONE,viewMode:d.a.VIEW})})),s()(F,O.a.UPDATE_CLIP,(function(t,e){var n=t.selectedClipState,i=e||[];h.a.isArray(i)||(i=[i]);var r=i.find((function(t){return t.id===n.clip.id}));r&&N(t,{focusMode:u.NONE,clip:r});var o=l.a.getClips();i.forEach((function(t){var e=o.find((function(e){return e.id===t.id}));e&&(p.a.debug("update clip in list",t),e.apply(t))}))})),s()(F,O.a.SELECT_NEXT_CLIP,(function(t){var e=l.a.getClips(),n=t.selectedClipState.listIndex+1;if(n>=e.length&&(n=0),p.a.debug("select next clip:",n+1,"/",e.length),e.length>0){var i=e[n];N(t,{navigationMode:c.a.KEYBOARD,focusMode:u.NONE,viewMode:d.a.VIEW,index:n,clip:i})}})),s()(F,O.a.SELECT_PREV_CLIP,(function(t){var e=l.a.getClips(),n=t.selectedClipState.listIndex-1;if(n<0&&(n=e.length-1),p.a.debug("select prev clip:",n+1,"/",e.length),e.length>0){var i=e[n];N(t,{navigationMode:c.a.KEYBOARD,focusMode:u.NONE,viewMode:d.a.VIEW,index:n,clip:i})}})),s()(F,O.a.UPDATE_CLIP_INDEX,(function(t){N(t,{navigationMode:c.a.KEYBOARD,focusMode:u.NONE})})),s()(F,O.a.SET_AVAILABLE_ATTACHMENTS,(function(t,e){l.a.setAvailableAttachments(e),t.requestUpdateAvailableAttachments=Date.now(),t.availableAttachmentsLoadingState=!1})),s()(F,O.a.SET_AVAILABLE_ATTACHMENTS_FILTER,(function(t,e){l.a.setAvailableAttachments([]),t.availableAttachmentsFilter=e,t.availableAttachmentsLoadingState=!0,t.requestUpdateAvailableAttachments=Date.now()})),F);function N(t,e){var n=t.selectedClipState,i=e.viewMode||n.viewMode,r=e.focusMode||n.focusMode,o=e.navigationMode||n.navigationMode,a=e.clip||n.clip,s=e.index;a.isNew()&&(i=d.a.EDIT,e.focusMode||(r=u.getDefault())),t.selectedClipState=g.createState(a,i,r,o,s)}var B=n("448a"),M=n.n(B),q=n("c973"),U=n.n(q),$=(n("d81d"),n("e6cf"),n("a79d"),n("4de4"),n("96cf"),n("e8ea")),j=n("d577"),V=n("8376"),H=n("e2db"),z=n("0b57"),W=n("19cf"),K=n("5046"),G=n("c9d9"),Q=n("9ba6"),Y=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class X{constructor(t){this._id=t}getKey(){return this._id}getValue(t){return Y(this,void 0,void 0,(function*(){try{return this.getValueUnsafe(t)}catch(t){return this._id}}))}}var Z=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class J extends X{constructor(){super(J.KEY)}getValueUnsafe(){return Z(this,void 0,void 0,(function*(){return H.a.getPlatform()}))}}J.KEY="platform";var tt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class et extends X{constructor(t){super(t)}getValueUnsafe(){return tt(this,void 0,void 0,(function*(){return this.getKey()}))}}et.KEY="unknown";var nt=n("3a75"),it=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class rt extends X{constructor(){super(rt.KEY),this._ip=null}getValueUnsafe(){return it(this,void 0,void 0,(function*(){if(null!==this._ip)return this._ip;{let t=this;return nt.a.getIpAddress().then(e=>{t._ip=e}),"0.0.0.0"}}))}}rt.KEY="ip_address";var ot=n("a8e6"),at=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class st extends X{constructor(){super(st.KEY)}getValueUnsafe(){return at(this,void 0,void 0,(function*(){return ot.a.formatTime(new Date)}))}}st.KEY="time";var ct=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class lt extends X{constructor(){super(lt.KEY)}getValueUnsafe(){return ct(this,void 0,void 0,(function*(){return ot.a.formatDateShort(new Date)}))}}lt.KEY="date";var ut=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class dt extends X{constructor(){super(dt.KEY)}getValueUnsafe(){return ut(this,void 0,void 0,(function*(){return ot.a.formatDate(new Date)}))}}dt.KEY="date_time";var ht=n("a987"),pt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class ft extends X{constructor(){super(ft.KEY)}getValueUnsafe(){return pt(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{weekday:"long"}).formatToParts(new Date);return null!==t&&1===t.length?t[0].value:this.getKey()}))}}ft.KEY="day_of_week";var gt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class mt extends X{constructor(){super(mt.KEY)}getValueUnsafe(){return gt(this,void 0,void 0,(function*(){return(new Date).getDate().toString()}))}}mt.KEY="day_of_month";var vt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class yt extends X{constructor(){super(yt.KEY)}getValueUnsafe(){return vt(this,void 0,void 0,(function*(){let t=(new Date).getDate();return t<10?"0"+t:t.toString()}))}}yt.KEY="day_of_month_zero";var _t=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class bt extends X{constructor(){super(bt.KEY)}getValueUnsafe(){return _t(this,void 0,void 0,(function*(){return(new Date).getFullYear().toString()}))}}bt.KEY="year";var St=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Ct extends X{constructor(){super(Ct.KEY)}getValueUnsafe(){return St(this,void 0,void 0,(function*(){let t=(new Date).getFullYear().toString();return t.substring(t.length-2)}))}}Ct.KEY="year_short";var Tt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class wt extends X{constructor(){super(wt.KEY)}getValueUnsafe(){return Tt(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{hour:"2-digit",hour12:!1}).formatToParts(new Date);return null!==t&&1===t.length?t[0].value:this.getKey()}))}}wt.KEY="hour24";var It=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Et extends X{constructor(){super(Et.KEY)}getValueUnsafe(){return It(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{hour:"2-digit",hour12:!0}).formatToParts(new Date);return null!==t&&3===t.length?t[0].value:this.getKey()}))}}Et.KEY="hour12";var At=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class xt extends X{constructor(){super(xt.KEY)}getValueUnsafe(){return At(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{hour:"2-digit",hour12:!0}).formatToParts(new Date);return null!==t&&3===t.length?t[2].value:this.getKey()}))}}xt.KEY="am_pm";var kt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Dt extends X{constructor(){super(Dt.KEY)}getValueUnsafe(){return kt(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{minute:"2-digit"}).formatToParts(new Date);return null!==t&&1===t.length?t[0].value:this.getKey()}))}}Dt.KEY="minutes";var Rt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Lt extends X{constructor(){super(Lt.KEY)}getValueUnsafe(){return Rt(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{second:"2-digit"}).formatToParts(new Date);return null!==t&&1===t.length?t[0].value:this.getKey()}))}}Lt.KEY="seconds";var Ft=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Ot extends X{constructor(){super(Ot.KEY)}getValueUnsafe(){return Ft(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{timeZoneName:"short"}).formatToParts(new Date);return null!==t?t[t.length-1].value:this.getKey()}))}}Ot.KEY="timezone";var Pt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Nt extends X{constructor(){super(Nt.KEY)}getValueUnsafe(){return Pt(this,void 0,void 0,(function*(){let t=new Intl.DateTimeFormat(ht.a.getLanguage(),{month:"long"}).formatToParts(new Date);return null!==t?t[t.length-1].value:this.getKey()}))}}Nt.KEY="month";var Bt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Mt extends X{constructor(){super(Mt.KEY)}getValueUnsafe(){return Bt(this,void 0,void 0,(function*(){return((new Date).getMonth()+1).toString()}))}}Mt.KEY="month_number";var qt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Ut extends X{constructor(){super(Ut.KEY)}getValueUnsafe(){return qt(this,void 0,void 0,(function*(){let t=(new Date).getMonth()+1;return t<10?"0"+t:t.toString()}))}}Ut.KEY="month_number_zero";var $t=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class jt extends X{constructor(){super(jt.KEY)}getValueUnsafe(){return $t(this,void 0,void 0,(function*(){return Math.floor(10*Math.random()).toString()}))}}jt.KEY="random_digit";var Vt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Ht extends X{constructor(){super(Ht.KEY)}getValueUnsafe(){return Vt(this,void 0,void 0,(function*(){let t=Math.floor(Math.random()*Ht.symbols.length);return Ht.symbols.charAt(t)}))}}Ht.KEY="random_latin",Ht.symbols="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";var zt=n("25d0"),Wt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Kt extends X{constructor(t,e){super(t),this._level=e}getValueUnsafe(t){return Wt(this,void 0,void 0,(function*(){let e,n=this.getKey().substring(Kt.KEY.length).trim(),i=yield zt.a.getBySnippetId(n);return e=i?i.text:this.getKey(),this._level<=t._deepReplaceLevel?t._processor.process(e,this._level+1,t):e}))}}Kt.KEY="snippet:";class Gt{static withCommon(t){return[t.getPlaceholder(),t]}static getCommonValues(){return Array.from(this.commonValues.values())}static getDynamicValue(t,e){let n=this.commonValues.get(t);return null==n&&(n=t.startsWith(Kt.KEY)?Gt.SNIPPET:Gt.UNKNOWN),n.getDynamicValue(t,e)}}Gt.PLATFORM=new Q.a(J.KEY,"clip_add_dynamic_value_platform",()=>new J),Gt.IP_ADDRESS=new Q.a(rt.KEY,"clip_add_dynamic_value_ip",()=>new rt),Gt.TIME=new Q.a(st.KEY,"clip_add_dynamic_value_time",()=>new st),Gt.DATE=new Q.a(lt.KEY,"clip_add_dynamic_value_date",()=>new lt),Gt.DATE_TIME=new Q.a(dt.KEY,"clip_add_dynamic_value_date_time",()=>new dt),Gt.DAY_OF_WEEK=new Q.a(ft.KEY,"clip_add_dynamic_value_day_of_week",()=>new ft),Gt.DAY_OF_MONTH=new Q.a(mt.KEY,"clip_add_dynamic_value_day_of_month",()=>new mt),Gt.DAY_OF_MONTH_ZERO=new Q.a(yt.KEY,"clip_add_dynamic_value_day_of_month_zero",()=>new yt),Gt.YEAR=new Q.a(bt.KEY,"clip_add_dynamic_value_year",()=>new bt),Gt.YEAR_SHORT=new Q.a(Ct.KEY,"clip_add_dynamic_value_year_short",()=>new Ct),Gt.HOUR24=new Q.a(wt.KEY,"clip_add_dynamic_value_hour24",()=>new wt),Gt.HOUR12=new Q.a(Et.KEY,"clip_add_dynamic_value_hour12",()=>new Et),Gt.MINUTES=new Q.a(Dt.KEY,"clip_add_dynamic_value_minutes",()=>new Dt),Gt.SECONDS=new Q.a(Lt.KEY,"clip_add_dynamic_value_seconds",()=>new Lt),Gt.AM_PM=new Q.a(xt.KEY,"clip_add_dynamic_value_am_pm",()=>new xt),Gt.TIMEZONE=new Q.a(Ot.KEY,"clip_add_dynamic_value_timezone",()=>new Ot),Gt.MONTH=new Q.a(Nt.KEY,"clip_add_dynamic_value_month",()=>new Nt),Gt.MONTH_NUMBER=new Q.a(Mt.KEY,"clip_add_dynamic_value_month_number",()=>new Mt),Gt.MONTH_NUMBER_ZERO=new Q.a(Ut.KEY,"clip_add_dynamic_value_month_number_zero",()=>new Ut),Gt.RANDOM_DIGIT=new Q.a(jt.KEY,"clip_add_dynamic_value_random_digit",()=>new jt),Gt.RANDOM_LATIN=new Q.a(Ht.KEY,"clip_add_dynamic_value_random_latin",()=>new Ht),Gt.SNIPPET=new Q.a(Kt.KEY,"",(t,e)=>new Kt(t,e)),Gt.UNKNOWN=new Q.a(et.KEY,"",t=>new et(t)),Gt.commonValues=new Map([Gt.withCommon(Gt.DATE_TIME),Gt.withCommon(Gt.DATE),Gt.withCommon(Gt.TIME),Gt.withCommon(Gt.DAY_OF_WEEK),Gt.withCommon(Gt.DAY_OF_MONTH),Gt.withCommon(Gt.DAY_OF_MONTH_ZERO),Gt.withCommon(Gt.MONTH),Gt.withCommon(Gt.MONTH_NUMBER),Gt.withCommon(Gt.MONTH_NUMBER_ZERO),Gt.withCommon(Gt.YEAR),Gt.withCommon(Gt.YEAR_SHORT),Gt.withCommon(Gt.HOUR24),Gt.withCommon(Gt.HOUR12),Gt.withCommon(Gt.MINUTES),Gt.withCommon(Gt.SECONDS),Gt.withCommon(Gt.AM_PM),Gt.withCommon(Gt.TIMEZONE),Gt.withCommon(Gt.IP_ADDRESS),Gt.withCommon(Gt.PLATFORM),Gt.withCommon(Gt.RANDOM_DIGIT),Gt.withCommon(Gt.RANDOM_LATIN)]);var Qt,Yt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};class Xt{process(t,e,n){return Yt(this,void 0,void 0,(function*(){try{let i,r="",o=0,a=new RegExp(Q.a.PATTERN,"g");for(;i=a.exec(t);){let s=a.lastIndex-i[0].length;s>o&&(r+=t.substring(o,s));let c=i[1].trim(),l=c;try{let t=Gt.getDynamicValue(c,e),i=yield t.getValue(n);i&&(l=i)}catch(t){console.error("DynamicValuesProcessor::process",t)}o=a.lastIndex,r+=l}return 0===r.length?r=t:r+=t.substring(o,t.length),r}catch(e){return t}}))}}class Zt{constructor(t,e){this._deepReplaceLevel=e,this._processor=t}}var Jt=(Qt={},s()(Qt,G.a.onGetClipText,(function(t,e){return U()(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.text||"",r=new Xt,o=t.getters.remoteConfigDeepReplaceLevel,n.abrupt("return",r.process(i,0,new Zt(r,o)));case 4:case"end":return n.stop()}}),n)})))()})),s()(Qt,G.a.onAutoSaveSelectedClip,(function(t){return U()(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.getters.isStateEdit){e.next=5;break}if(!(n=t.getters.getSelectedClipState).isClipEdited()){e.next=5;break}return p.a.debug("onAutoSaveSelectedClip",n.clip),e.abrupt("return",t.dispatch(G.a.onSaveClip,{clip:n.clip,autoSave:!0}));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))()})),s()(Qt,G.a.onSaveSelectedClip,(function(t,e){return U()(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.getters.getSelectedClipState,!t.getters.isStateEdit){n.next=9;break}if(!i.isEditMode()||!i.isClipEdited()){n.next=9;break}return p.a.debug("onSaveSelectedClip",i.clip),n.next=6,t.dispatch(G.a.onSaveClip,{clip:i.clip});case 6:return r=n.sent,e||t.commit(O.a.VIEW_CLIP,r),n.abrupt("return",r);case 9:return n.abrupt("return",i.clip);case 10:case"end":return n.stop()}}),n)})))()})),s()(Qt,G.a.onCreateNewClip,(function(t){return U()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.debug("onCreateNewClip"),e.next=3,t.dispatch(G.a.onSaveSelectedClip);case 3:return t.commit(O.a.REQUEST_HIDE_LEFT_NAV),t.commit(O.a.NEW_CLIP),e.abrupt("return",t.getters.getSelectedClipState.clip);case 6:case"end":return e.stop()}}),e)})))()})),s()(Qt,G.a.onEditClip,(function(t,e){return U()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.a.debug("onEditClip",e),n.next=3,t.dispatch(G.a.onSaveSelectedClip);case 3:return t.commit(O.a.EDIT_CLIP,e),n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})))()})),s()(Qt,G.a.onPrintClip,(function(t,e){return H.a.isDesktop()?t.dispatch(G.a.onPrintClipElectron,e):t.dispatch(G.a.onSaveSelectedClip).then((function(){return t.commit(O.a.VIEW_CLIP,e)})).then((function(){return W.a.print("printContent",e.title)})).then((function(){return e}))})),s()(Qt,G.a.onCopyClip,(function(t,e){return U()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=l.a.getSettings(),p.a.debug("CLIPBOARD :: onCopyClip",e),n.next=4,t.dispatch(G.a.onCopyText,{text:e.text});case 4:if(t.commit(O.a.SET_ACTIVE_CLIPBOARD_CLIP,e),!i.hideOnCopy||!H.a.isDesktop()){n.next=8;break}return n.next=8,t.dispatch(G.a.onHideOnCopyElectron);case 8:return n.abrupt("return",e);case 9:case"end":return n.stop()}}),n)})))()})),s()(Qt,G.a.onSaveClip,(function(t,e){return U()(regeneratorRuntime.mark((function n(){var i,r,o,a,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.autoSave,r=e.manualSave,o=e.clip.normalize(),a=e.mergedClips,!(s=h.a.toBoolean(e.copied))){n.next=11;break}return c=t.getters.getActiveClipboardClipId,n.next=9,t.dispatch(G.a.onCopyClip,o);case 9:if(o.isNew()||o.id!==c){n.next=11;break}return n.abrupt("return",o);case 11:return n.next=13,j.a.save(t,o,s,a);case 13:return o=n.sent,i?t.commit(O.a.UPDATE_CLIP,o):h.a.arrayIsNotEmpty(a)||r?t.commit(O.a.VIEW_CLIP,o):t.commit(O.a.UPDATE_CLIP,o),n.abrupt("return",o);case 16:case"end":return n.stop()}}),n)})))()})),s()(Qt,G.a.onAddClipFiles,(function(t,e){var n=e.files,i=e.clip;if(h.a.arrayIsNotEmpty(n))return $.a.upload(t,n).then((function(t){var e,n=t.map((function(t){return t.getUid()})),r=M()(i.getFileIds());return(e=r).push.apply(e,M()(n)),r=h.a.arrayDistinct(r),i.setFileIds(r),i})).then((function(e){return t.getters.isStateEdit?e:t.dispatch(G.a.onSaveClip,{clip:e})}))})),s()(Qt,G.a.onRemoveClipFiles,(function(t,e){var n=e.clip,i=e.files,r=M()(n.getFileIds());i.forEach((function(t){return h.a.arrayRemoveItem(r,t.getUid())})),n.setFileIds(r)})),s()(Qt,G.a.onAddOrRemoveClipAttachment,(function(t,e){var n=e.clip,i=e.file,r=M()(n.getFileIds());if(h.a.arrayAddOrRemoveItem(r,i.getUid()),n.setFileIds(r),p.a.debug(G.a.onAddOrRemoveClipAttachment,i.getUid(),r),!t.getters.isStateEdit)return K.a.showLoadingState(!0),t.dispatch(G.a.onSaveClip,{clip:n}).finally((function(){return K.a.hideLoadingState()}))})),s()(Qt,G.a.onViewClipFiles,(function(t,e){var n=e.file,i=e.files;t.commit(O.a.SET_FILES,i),t.commit(O.a.VIEW_FILE,n)})),s()(Qt,G.a.onUpdateAvailableAttachments,(function(t,e){return U()(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e.filter,p.a.debug(G.a.onUpdateAvailableAttachments,i),r=t.getters.getAvailableAttachmentsFilter,(z.a.isLiveQueryDisposed("liveAttachments")||!h.a.areObjectsTheSame(r,i))&&(p.a.debug(G.a.onUpdateAvailableAttachments,"filter updated",i),t.commit(O.a.SET_AVAILABLE_ATTACHMENTS_FILTER,i),z.a.createLiveQuery("liveAttachments",(function(){return V.a.getFiltered(i)}),function(){var e=U()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.commit(O.a.SET_AVAILABLE_ATTACHMENTS,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return n.stop()}}),n)})))()})),Qt);e.a={namespaced:!1,state:m,getters:i,mutations:P,actions:Jt}},"891b":function(t,e,n){"use strict";var i={name:"VerticalSeparatorItem"},r=n("2877"),o=n("eb85"),a=n("eebe"),s=n.n(a),c=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("q-separator",{staticClass:"bg-colorDividerLight q-my-sm",attrs:{vertical:""}})}),[],!1,null,null,null);e.a=c.exports;s()(c,"components",{QSeparator:o.a})},"89da":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("6374"),r=n.n(i),o=(n("b64b"),n("22a9")),a=n("e6d6"),s=n("f52e"),c=n("403c"),l=n("27f0"),u=n("72a1"),d=n("e2db"),h=n("5046"),p=n("1cee"),f=n("baf0"),g={changesListener:null,stopSync:function(){var t=g.changesListener;t&&(t.dispose(),g.changesListener=null)},startSync:function(t,e,n,i,r){g.stopSync();var s=t.getters.getAuthUserCollection;if(s){var c=t.getters.isAuthForceSync;c&&h.a.showLoadingState();var l=new o.a("clips",t,s.getActiveClipsRef(),s.getDeletedClipsRef(),"activeClipsLatestDate","deletedClipsLatestDate",a.a.ATTR_CLIP_CREATE_DATE,e,n,i,r);g.changesListener=l.subscribe(c)}},getFirestoreId:function(t){var e=t.firestoreId||t.snippetId||f.a.autoId();return t.firestoreId=e,e},saveInBatch:function(t,e,n,i){var r=t.getters.getAuthUserCollection;if(r){var o=g._getLastActiveDate();p.a.debug("FIREBASE LISTENER :: saveInBatch with last date",o);var s=e.firestoreId,u=g.getFirestoreId(e),h=r.getActiveClipsRef().doc(u);if(i&&Object.keys(i).length>0)a.a.normalizeMap(i,!0),i[a.a.ATTR_DEVICE_ID]=d.a.getDeviceId(),i[a.a.ATTR_API_VERSION]=l.a.apiVersion,i[a.a.ATTR_CHANGE_TIMESTAMP]=o,n?n.update(h,i):h.update(i);else{var f=c.a.toMap(e);f[a.a.ATTR_CHANGE_TIMESTAMP]=o,n?n.set(h,f,{merge:!0}):h.set(f,{merge:!0})}return s!==e.firestoreId}return!1},save:function(t,e,n){var i=this.saveInBatch(t,e,null,n);return p.a.debug("save single clip",e),i},deleteAllInBatch:function(t,e,n){if(t.getters.getAuthUserCollection&&u.a.arrayIsNotEmpty(e)){var i,o=r()(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.deleteInBatch(t,a,n)}}catch(t){o.e(t)}finally{o.f()}}},deleteInBatch:function(t,e,n){if(e.isSynced()){var i=t.getters.getAuthUserCollection;if(i){var r=e.firestoreId,o=i.getActiveClipsRef().doc(r);if(e.isDeleted()){var c={};c[a.a.ATTR_DEVICE_ID]=d.a.getDeviceId(),c[a.a.ATTR_API_VERSION]=l.a.apiVersion,c[a.a.ATTR_CHANGE_TIMESTAMP]=g._getLastActiveDate(),c[a.a.ATTR_CLIP_DELETE_DATE]=s.a.toTimestamp(e.deleteDate),n.update(o,c)}else{var u=i.clipsDeletedRef.doc(r),h={};h[a.a.ATTR_DEVICE_ID]=d.a.getDeviceId(),h[a.a.ATTR_API_VERSION]=l.a.apiVersion,h[a.a.ATTR_CHANGE_TIMESTAMP]=g._getLastDeleteDate(),p.a.debug("createListener :: delete clip",h),n.set(u,h),n.delete(o),e.hasPublicLink()&&n.delete(i.getPublicNoteRef(r))}}}},_getLastActiveDate:function(){return a.a.getServerTimestamp()},_getLastDeleteDate:function(){return a.a.getServerTimestamp()}}},"8a46":function(t,e,n){var i;"undefined"!=typeof self&&self,i=function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"06cf":function(t,e,n){var i=n("83ab"),r=n("d1e7"),o=n("5c6c"),a=n("fc6a"),s=n("c04e"),c=n("5135"),l=n("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},"0cfb":function(t,e,n){var i=n("83ab"),r=n("d039"),o=n("cc12");t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),o=n("825a"),a=n("1d80"),s=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),h=n("d039"),p=[].push,f=Math.min,g=!h((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,o);for(var s,c,l,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,g=new RegExp(t.source,h+"g");(s=d.call(g,i))&&!((c=g.lastIndex)>f&&(u.push(i.slice(f,s.index)),s.length>1&&s.index<i.length&&p.apply(u,s.slice(1)),l=s[0].length,f=c,u.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return f===i.length?!l&&g.test("")||u.push(""):u.push(i.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,t,this,r,i!==e);if(a.done)return a.value;var d=o(t),h=String(this),p=s(d,RegExp),m=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new p(g?d:"^(?:"+d.source+")",v),_=void 0===r?4294967295:r>>>0;if(0===_)return[];if(0===h.length)return null===u(y,h)?[h]:[];for(var b=0,S=0,C=[];S<h.length;){y.lastIndex=g?S:0;var T,w=u(y,g?h:h.slice(S));if(null===w||(T=f(l(y.lastIndex+(g?0:S)),h.length))===b)S=c(h,S,m);else{if(C.push(h.slice(b,S)),C.length===_)return C;for(var I=1;I<=w.length-1;I++)if(C.push(w[I]),C.length===_)return C;S=b=T}}return C.push(h.slice(b)),C}]}),!g)},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"1be4":function(t,e,n){var i=n("d066");t.exports=i("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1d80":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"23cb":function(t,e,n){var i=n("a691"),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},"23e7":function(t,e,n){var i=n("da84"),r=n("06cf").f,o=n("9112"),a=n("6eeb"),s=n("ce4e"),c=n("e893"),l=n("94ca");t.exports=function(t,e){var n,u,d,h,p,f=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[f]||s(f,{}):(i[f]||{}).prototype)for(u in e){if(h=e[u],d=t.noTargetGet?(p=r(n,u))&&p.value:n[u],!l(g?u:f+(m?".":"#")+u,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(n,u,h,t)}}},"241c":function(t,e,n){var i=n("ca84"),r=n("7839").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"24fb":function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i,r,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),c=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(c).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},"37e8":function(t,e,n){var i=n("83ab"),r=n("9bf2"),o=n("825a"),a=n("df75");t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,c=0;s>c;)r.f(t,n=i[c++],e[n]);return t}},"3bbe":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"428f":function(t,e,n){var i=n("da84");t.exports=i},"44ad":function(t,e,n){var i=n("d039"),r=n("c6b6"),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),o=n("b622")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},4840:function(t,e,n){var i=n("825a"),r=n("1c0b"),o=n("b622")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},4930:function(t,e,n){var i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"499e":function(t,e,n){"use strict";function i(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=o[0],s={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},d=null,h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,r){l=n,d=r||{};var a=i(t,e);return f(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r];(c=o[s.id]).refs--,n.push(c)}for(e?f(a=i(t,e)):a=[],r=0;r<n.length;r++){var c;if(0===(c=n[r]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(m(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(m(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(l)return u;i.parentNode.removeChild(i)}if(h){var r=c++;i=s||(s=g()),e=_.bind(null,i,r,!1),n=_.bind(null,i,r,!0)}else i=g(),e=b.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function _(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function b(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),d.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},"4d64":function(t,e,n){var i=n("fc6a"),r=n("50c4"),o=n("23cb"),a=function(t){return function(e,n,a){var s,c=i(e),l=r(c.length),u=o(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(t,e,n){var i=n("a691"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5692:function(t,e,n){var i=n("c430"),r=n("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var i=n("d066"),r=n("241c"),o=n("7418"),a=n("825a");t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r="["+n("5899")+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60da":function(t,e,n){"use strict";var i=n("83ab"),r=n("d039"),o=n("df75"),a=n("7418"),s=n("d1e7"),c=n("7b0b"),l=n("44ad"),u=Object.assign,d=Object.defineProperty;t.exports=!u||r((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=o(u({},e)).join("")}))?function(t,e){for(var n=c(t),r=arguments.length,u=1,d=a.f,h=s.f;r>u;)for(var p,f=l(arguments[u++]),g=d?o(f).concat(d(f)):o(f),m=g.length,v=0;m>v;)p=g[v++],i&&!h.call(f,p)||(n[p]=f[p]);return n}:u},6547:function(t,e,n){var i=n("a691"),r=n("1d80"),o=function(t){return function(e,n){var o,a,s=String(r(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},"69f3":function(t,e,n){var i,r,o,a=n("7f9a"),s=n("da84"),c=n("861d"),l=n("9112"),u=n("5135"),d=n("f772"),h=n("d012"),p=s.WeakMap;if(a){var f=new p,g=f.get,m=f.has,v=f.set;i=function(t,e){return v.call(f,t,e),e},r=function(t){return g.call(f,t)||{}},o=function(t){return m.call(f,t)}}else{var y=d("state");h[y]=!0,i=function(t,e){return l(t,y,e),e},r=function(t){return u(t,y)?t[y]:{}},o=function(t){return u(t,y)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},"6eeb":function(t,e,n){var i=n("da84"),r=n("9112"),o=n("5135"),a=n("ce4e"),s=n("8925"),c=n("69f3"),l=c.get,u=c.enforce,d=String(String).split("String");(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),u(n).source=d.join("string"==typeof e?e:"")),t!==i?(c?!h&&t[e]&&(l=!0):delete t[e],l?t[e]=n:r(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,n){var i=n("1d80");t.exports=function(t){return Object(i(t))}},"7c73":function(t,e,n){var i,r=n("825a"),o=n("37e8"),a=n("7839"),s=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),d=u("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},f=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=i?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=r(t),n=new h,h.prototype=null,n[d]=t):n=f(),void 0===e?n:o(n,e)}},"7f9a":function(t,e,n){var i=n("da84"),r=n("8925"),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},"825a":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var i=n("d039");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},8925:function(t,e,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"8bbf":function(e,n){e.exports=t},"90e3":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},9112:function(t,e,n){var i=n("83ab"),r=n("9bf2"),o=n("5c6c");t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9263:function(t,e,n){"use strict";var i,r,o=n("ad6d"),a=n("9f7f"),s=RegExp.prototype.exec,c=String.prototype.replace,l=s,u=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||d)&&(l=function(t){var e,n,i,r,a=this,l=d&&a.sticky,p=o.call(a),f=a.source,g=0,m=t;return l&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,g++),n=new RegExp("^(?:"+f+")",p)),h&&(n=new RegExp("^"+f+"$(?!\\s)",p)),u&&(e=a.lastIndex),i=s.call(l?n:a,m),l?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=a.lastIndex,a.lastIndex+=i[0].length):a.lastIndex=0:u&&i&&(a.lastIndex=a.global?i.index+i[0].length:e),h&&i&&i.length>1&&c.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=l},"94ca":function(t,e,n){var i=n("d039"),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=c&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},"9bf2":function(t,e,n){var i=n("83ab"),r=n("0cfb"),o=n("825a"),a=n("c04e"),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var i=n("23e7"),r=n("44ad"),o=n("fc6a"),a=n("a640"),s=[].join,c=r!=Object,l=a("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),o=n("94ca"),a=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),h=n("7c73"),p=n("241c").f,f=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,v=r.Number,y=v.prototype,_="Number"==c(h(y)),b=function(t){var e,n,i,r,o,a,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=m(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>r)return NaN;return parseInt(o,i)}return+l};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(_?d((function(){y.valueOf.call(n)})):"Number"!=c(n))?l(new v(b(e)),n,C):b(e)},T=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;T.length>w;w++)s(v,S=T[w])&&!s(C,S)&&g(C,S,f(v,S));C.prototype=y,y.constructor=C,a(r,"Number",C)}},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var i=n("83ab"),r=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in o)&&r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b622:function(t,e,n){var i=n("da84"),r=n("5692"),o=n("5135"),a=n("90e3"),s=n("4930"),c=n("fdbf"),l=r("wks"),u=i.Symbol,d=c?u:u&&u.withoutSetter||a;t.exports=function(t){return o(l,t)||(s&&o(u,t)?l[t]=u[t]:l[t]=d("Symbol."+t)),l[t]}},c04e:function(t,e,n){var i=n("861d");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var i=n("da84"),r=n("ce4e"),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},c6e4:function(t,e,n){(e=n("24fb")(!1)).push([t.i,".pinch-zoom-wrapper{position:relative;overflow:hidden;display:block}.pinch-zoom-content{height:inherit}.pz-dragging{cursor:all-scroll}.pz-zoom-button{position:absolute;z-index:1000;color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0ibm9uZSIvPjxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiPjxwYXRoIGQ9Ik0xNS41IDE0aC0uNzlsLS4yOC0uMjdBNi40NzEgNi40NzEgMCAwMDE2IDkuNSA2LjUgNi41IDAgMTA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMiAxMGgtMnYySDl2LTJIN1Y5aDJWN2gxdjJoMnYxeiIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=),url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0ibm9uZSIvPjxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiPjxwYXRoIGQ9Ik0xNS41IDE0aC0uNzlsLS4yOC0uMjdBNi40NzEgNi40NzEgMCAwMDE2IDkuNSA2LjUgNi41IDAgMTA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0ek03IDloNXYxSDd6IiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);background-color:rgba(0,0,0,.8);background-position:50%,-1000px;background-repeat:no-repeat,no-repeat;background-size:40px;width:56px;height:56px;border-radius:4px;opacity:.5;cursor:pointer;-webkit-transition:opacity .1s;transition:opacity .1s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pz-zoom-button-out{background-position:-1000px,50%}.pz-zoom-button:hover{opacity:.7}.pz-zoom-button.pz-zoom-control-position-right{right:16px;top:50%;margin-top:-28px}.pz-zoom-button.pz-zoom-control-position-right-bottom{right:16px;bottom:32px}.pz-zoom-button.pz-zoom-control-position-bottom{bottom:16px;left:50%;margin-left:-28px}.pz-zoom-control{position:absolute;background-color:rgba(0,0,0,.8);border-radius:4px;overflow:hidden}.pz-zoom-control.pz-zoom-control-position-right{right:16px;top:50%;margin-top:-48px}.pz-zoom-control.pz-zoom-control-position-right-bottom{right:16px;bottom:32px}.pz-zoom-control.pz-zoom-control-position-bottom{bottom:16px;left:50%;margin-left:-48px}.pz-zoom-in,.pz-zoom-out{width:48px;height:48px;background-position:50%;background-repeat:no-repeat;opacity:1;cursor:pointer}.pz-zoom-in:hover,.pz-zoom-out:hover{background-color:hsla(0,0%,100%,.2)}.pz-zoom-control-position-bottom .pz-zoom-in,.pz-zoom-control-position-bottom .pz-zoom-out{float:right}.pz-disabled{opacity:.5;cursor:default}.pz-disabled:hover{background-color:hsla(0,0%,100%,0)}",""]),t.exports=e},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var i=n("5135"),r=n("fc6a"),o=n("4d64").indexOf,a=n("d012");t.exports=function(t,e){var n,s=r(t),c=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~o(l,n)||l.push(n));return l}},cc12:function(t,e,n){var i=n("da84"),r=n("861d"),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},cca6:function(t,e,n){var i=n("23e7"),r=n("60da");i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},ce4e:function(t,e,n){var i=n("da84"),r=n("9112");t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},cf25:function(t,e,n){"use strict";var i=n("daa0");n.n(i).a},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},d066:function(t,e,n){var i=n("428f"),r=n("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},d1e7:function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},d2bb:function(t,e,n){var i=n("825a"),r=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),o=n("b622"),a=n("9263"),s=n("9112"),c=o("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=o("replace"),h=!!/./[d]&&""===/./[d]("a","$0"),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var f=o(t),g=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=g&&!r((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!g||!m||"replace"===t&&(!l||!u||h)||"split"===t&&!p){var v=/./[f],y=n(f,""[t],(function(t,e,n,i,r){return e.exec===a?g&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=y[0],b=y[1];i(String.prototype,t,_),i(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}d&&s(RegExp.prototype[f],"sham",!0)}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},daa0:function(t,e,n){var i=n("c6e4");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),(0,n("499e").default)("410f26b6",i,!0,{sourceMap:!1,shadowMode:!1})},df75:function(t,e,n){var i=n("ca84"),r=n("7839");t.exports=Object.keys||function(t){return i(t,r)}},e893:function(t,e,n){var i=n("5135"),r=n("56ef"),o=n("06cf"),a=n("9bf2");t.exports=function(t,e){for(var n=r(e),s=a.f,c=o.f,l=0;l<n.length;l++){var u=n[l];i(t,u)||s(t,u,c(e,u))}}},f6fd:function(t,e){!function(t){var e=t.getElementsByTagName("script");"currentScript"in t||Object.defineProperty(t,"currentScript",{get:function(){try{throw new Error}catch(i){var t,n=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(t in e)if(e[t].src==n||"interactive"==e[t].readyState)return e[t];return null}}})}(document)},f772:function(t,e,n){var i=n("5692"),r=n("90e3"),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},fb15:function(t,e,n){"use strict";var i;n.r(e),"undefined"!=typeof window&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1])),n("a15b"),n("b0c0"),n("cca6"),n("ac1f"),n("1276");var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}var a=n("8bbf"),s=n.n(a);
/**
  * vue-class-component v7.2.2
  * (c) 2015-present Evan You
  * @license MIT
  */
function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function h(t,e){p(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){p(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){p(t,e,n)}))}function p(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(i){var r=n?Reflect.getOwnMetadata(i,e,n):Reflect.getOwnMetadata(i,e);n?Reflect.defineMetadata(i,r,t,n):Reflect.defineMetadata(i,r,t)}))}var f={__proto__:[]}instanceof Array;function g(t){return function(e,n,i){var r="function"==typeof e?e:e.constructor;r.__decorators__||(r.__decorators__=[]),"number"!=typeof i&&(i=void 0),r.__decorators__.push((function(e){return t(e,n,i)}))}}function m(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var i in t.$options.props)t.hasOwnProperty(i)||n.push(i);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var i=new e;e.prototype._init=n;var r={};return Object.keys(i).forEach((function(t){void 0!==i[t]&&(r[t]=i[t])})),r}var v=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(v.indexOf(t)>-1)e[t]=n[t];else{var i=Object.getOwnPropertyDescriptor(n,t);void 0!==i.value?"function"==typeof i.value?(e.methods||(e.methods={}))[t]=i.value:(e.mixins||(e.mixins=[])).push({data:function(){return l({},t,i.value)}}):(i.get||i.set)&&((e.computed||(e.computed={}))[t]={get:i.get,set:i.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return m(this,t)}});var i=t.__decorators__;i&&(i.forEach((function(t){return t(e)})),delete t.__decorators__);var r=Object.getPrototypeOf(t.prototype),o=r instanceof s.a?r.constructor:s.a,a=o.extend(e);return b(a,t,o),d()&&h(a,t),a}var _={prototype:!0,arguments:!0,callee:!0,caller:!0};function b(t,e,n){Object.getOwnPropertyNames(e).forEach((function(i){if(!_[i]){var r=Object.getOwnPropertyDescriptor(t,i);if(!r||r.configurable){var o,a,s=Object.getOwnPropertyDescriptor(e,i);if(!f){if("cid"===i)return;var l=Object.getOwnPropertyDescriptor(n,i);if(o=s.value,a=c(o),null!=o&&("object"===a||"function"===a)&&l&&l.value===s.value)return}Object.defineProperty(t,i,s)}}}))}function S(t){return"function"==typeof t?y(t):function(e){return y(e,t)}}S.registerHooks=function(t){v.push.apply(v,u(t))};var C=S,T="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function w(t,e,n){T&&(Array.isArray(t)||"function"==typeof t||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function I(t){return void 0===t&&(t={}),function(e,n){w(t,e,n),g((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}n("a9e3");var E=function(){function t(t){var e=this;this.eventType=void 0,this.handlers={},this.startX=0,this.startY=0,this.lastTap=0,this.doubleTapMinTimeout=300,this.tapMinTimeout=200,this.touchstartTime=0,this.i=0,this.isMousedown=!1,this.touchListeners={touchstart:"handleTouchstart",touchmove:"handleTouchmove",touchend:"handleTouchend"},this.mouseListeners={mousedown:"handleMousedown",mousemove:"handleMousemove",mouseup:"handleMouseup",wheel:"handleWheel"},this.otherListeners={resize:"handleResize"},this.handleTouchstart=function(t){e.elementPosition=e.getElementPosition(),e.touchstartTime=(new Date).getTime(),void 0===e.eventType&&e.getTouchstartPosition(t),e.runHandler("touchstart",t)},this.handleTouchmove=function(t){var n=t.touches;e.detectPan(n)&&e.runHandler("pan",t),e.detectPinch(t)&&e.runHandler("pinch",t)},this.handleTouchend=function(t){var n=t.touches;e.detectDoubleTap()&&e.runHandler("double-tap",t),e.detectTap(),e.runHandler("touchend",t),e.eventType="touchend",n&&0===n.length&&(e.eventType=void 0,e.i=0)},this.handleMousedown=function(t){e.isMousedown=!0,e.elementPosition=e.getElementPosition(),e.touchstartTime=(new Date).getTime(),void 0===e.eventType&&e.getMousedownPosition(t),e.runHandler("mousedown",t)},this.handleMousemove=function(t){if(e.isMousedown){switch(e.runHandler("pan",t),e.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",e.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",e.runHandler("vertical-swipe",t)}(e.detectLinearSwipe(t)||"horizontal-swipe"===e.eventType||"vertical-swipe"===e.eventType)&&e.handleLinearSwipe(t)}},this.handleMouseup=function(t){e.detectTap(),e.isMousedown=!1,e.runHandler("mouseup",t),e.eventType=void 0,e.i=0},this.handleWheel=function(t){e.runHandler("wheel",t)},this.handleResize=function(t){e.runHandler("resize",t)},this.properties=t,this.element=this.properties.element,this.elementPosition=this.getElementPosition(),this.toggleEventListeners("addEventListener")}return t.prototype.destroy=function(){this.toggleEventListeners("removeEventListener")},t.prototype.toggleEventListeners=function(t){var e;for(var n in e="mouse and touch"===this.properties.listeners?Object.assign(this.touchListeners,this.mouseListeners):this.detectTouchScreen()?this.touchListeners:this.mouseListeners,this.properties.resize&&(e=Object.assign(e,this.otherListeners)),e){var i=e[n];"resize"===n?("addEventListener"===t&&window.addEventListener(n,this[i],!1),"removeEventListener"===t&&window.removeEventListener(n,this[i],!1)):"mouseup"===n||"mousemove"===n?("addEventListener"===t&&document.addEventListener(n,this[i],!1),"removeEventListener"===t&&document.removeEventListener(n,this[i],!1)):("addEventListener"===t&&this.element.addEventListener(n,this[i],!1),"removeEventListener"===t&&this.element.removeEventListener(n,this[i],!1))}},t.prototype.handleLinearSwipe=function(t){this.i++,this.i>3&&(this.eventType=this.getLinearSwipeType(t)),"horizontal-swipe"===this.eventType&&this.runHandler("horizontal-swipe",t),"vertical-swipe"===this.eventType&&this.runHandler("vertical-swipe",t)},t.prototype.runHandler=function(t,e){this.handlers[t]&&this.handlers[t](e)},t.prototype.detectPan=function(t){return 1===t.length&&!this.eventType||"pan"===this.eventType},t.prototype.detectDoubleTap=function(){var t=this;if(null==this.eventType){var e=(new Date).getTime(),n=e-this.lastTap;if(clearTimeout(this.doubleTapTimeout),n<this.doubleTapMinTimeout&&n>0)return!0;this.doubleTapTimeout=setTimeout((function(){clearTimeout(t.doubleTapTimeout)}),this.doubleTapMinTimeout),this.lastTap=e}},t.prototype.detectTap=function(){if(null==this.eventType){var t=(new Date).getTime()-this.touchstartTime;t>0&&(t<this.tapMinTimeout?this.runHandler("tap",event):this.runHandler("longtap",event))}},t.prototype.detectPinch=function(t){return 2===t.touches.length&&void 0===this.eventType||"pinch"===this.eventType},t.prototype.detectLinearSwipe=function(t){var e=t.touches;if(e){if(1===e.length&&!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}else if(!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)},t.prototype.getLinearSwipeType=function(t){if("horizontal-swipe"!==this.eventType&&"vertical-swipe"!==this.eventType){var e=Math.abs(this.moveLeft(0,t)-this.startX);return 3*Math.abs(this.moveTop(0,t)-this.startY)>e?"vertical-swipe":"horizontal-swipe"}return this.eventType},t.prototype.getElementPosition=function(){return this.element.getBoundingClientRect()},t.prototype.getTouchstartPosition=function(t){this.startX=t.touches[0].clientX-this.elementPosition.left,this.startY=t.touches[0].clientY-this.elementPosition.top},t.prototype.getMousedownPosition=function(t){this.startX=t.clientX-this.elementPosition.left,this.startY=t.clientY-this.elementPosition.top},t.prototype.moveLeft=function(t,e){var n=e.touches;return n?n[t].clientX-this.elementPosition.left:e.clientX-this.elementPosition.left},t.prototype.moveTop=function(t,e){var n=e.touches;return n?n[t].clientY-this.elementPosition.top:e.clientY-this.elementPosition.top},t.prototype.detectTouchScreen=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))},t.prototype.on=function(t,e){t&&(this.handlers[t]=e)},t}(),A={doubleTap:!0,doubleTapScale:2,transitionDuration:200,limitZoom:"original image size",minScale:0,wheel:!0,wheelZoomFactor:.2,draggableImage:!0,listeners:"auto",zoomControlScale:2},x=function(){function t(t){var e=this;this.i=0,this.scale=1,this.initialScale=1,this.startX=0,this.startY=0,this.moveX=0,this.moveY=0,this.initialMoveX=0,this.initialMoveY=0,this.moveXC=0,this.moveYC=0,this.lastTap=0,this.draggingMode=!1,this.distance=0,this.doubleTapTimeout=0,this.initialDistance=0,this.events={},this.maxHtmlContentScale=3,this.maxScale=3,this.handleTouchstart=function(t){e.getElementPosition(),void 0===e.eventType&&e.getTouchstartPosition(t)},this.handleTouchend=function(t){if("touchend"===t.type){e.i=0,e.draggingMode=!1;var n=t.touches;e.scale<1&&(e.scale=1),e.properties.autoZoomOut&&"pinch"===e.eventType&&(e.scale=1),"pinch"!==e.eventType&&"pan"!==e.eventType||e.alignImage(),"pinch"!==e.eventType&&"pan"!==e.eventType&&"horizontal-swipe"!==e.eventType&&"vertical-swipe"!==e.eventType||e.updateInitialValues(),e.eventType="touchend",n&&0===n.length&&(e.eventType=void 0)}"mouseup"===t.type&&(e.draggingMode=!1,e.updateInitialValues(),e.eventType=void 0)},this.handlePan=function(t){if(!(e.scale<=1||e.properties.disablePan)){t.preventDefault();var n=e.getClientPosition(t),i=n.clientX,r=n.clientY;e.eventType||(e.startX=i-e.elementPosition.left,e.startY=r-e.elementPosition.top),e.eventType="pan",e.moveX=e.initialMoveX+(e.moveLeft(t,0)-e.startX),e.moveY=e.initialMoveY+(e.moveTop(t,0)-e.startY),e.properties.limitPan&&(e.limitPanY(),e.limitPanX()),"mousemove"===t.type&&e.centeringImage(),e.transformElement(0)}},this.handleDoubleTap=function(t){e.toggleZoom(t)},this.handlePinch=function(t){if(t.preventDefault(),void 0===e.eventType||"pinch"===e.eventType){var n=t.touches;if(!e.eventType){e.initialDistance=e.getDistance(n);var i=e.moveLeft(t,0),r=e.moveLeft(t,1),o=e.moveTop(t,0),a=e.moveTop(t,1);e.moveXC=(i+r)/2-e.initialMoveX,e.moveYC=(o+a)/2-e.initialMoveY}e.eventType="pinch",e.distance=e.getDistance(n),e.scale=e.initialScale*(e.distance/e.initialDistance),e.moveX=e.initialMoveX-(e.distance/e.initialDistance*e.moveXC-e.moveXC),e.moveY=e.initialMoveY-(e.distance/e.initialDistance*e.moveYC-e.moveYC),e.handleLimitZoom(),e.properties.limitPan&&(e.limitPanY(),e.limitPanX()),e.transformElement(0)}},this.handleWheel=function(t){t.preventDefault();var n=e.properties.wheelZoomFactor||0,i=t.deltaY<0?n:-n,r=e.initialScale+i;if(r<1+n?r=1:r<e.maxScale&&r>e.maxScale-n&&(r=e.maxScale),!(r<1||r>e.maxScale)&&r!==e.scale){e.getElementPosition(),e.scale=r;var o=t.clientX-e.elementPosition.left-e.initialMoveX,a=t.clientY-e.elementPosition.top-e.initialMoveY;e.setZoom({scale:r,center:[o,a]}),e.emitEvent({name:"wheel",detail:{scale:e.scale}})}},this.handleResize=function(t){e.setAutoHeight()},this.element=t.element,this.elementTarget=this.element.querySelector("*").tagName,this.parentElement=this.element.parentElement,this.properties=Object.assign({},A,t),this.pollLimitZoom(),this.touches=new E({element:t.element,listeners:this.properties.listeners,resize:this.properties.autoHeight}),this.setBasicStyles(),this.touches.on("touchstart",this.handleTouchstart),this.touches.on("touchend",this.handleTouchend),this.touches.on("mousedown",this.handleTouchstart),this.touches.on("mouseup",this.handleTouchend),this.touches.on("pan",this.handlePan),this.touches.on("mousemove",this.handlePan),this.touches.on("pinch",this.handlePinch),this.properties.wheel&&this.touches.on("wheel",this.handleWheel),this.properties.doubleTap&&this.touches.on("double-tap",this.handleDoubleTap),this.properties.autoHeight&&this.touches.on("resize",this.handleResize)}return t.prototype.emitEvent=function(t){this.properties.eventHandler&&this.properties.eventHandler(t)},t.prototype.handleLimitZoom=function(){var t=this.maxScale,e=this.properties.minScale||0;if(this.scale>t||this.scale<=e){var n=this.getImageWidth(),i=this.getImageHeight(),r=n*this.scale,o=i*this.scale,a=this.moveX/(r-n),s=this.moveY/(o-i);this.scale>t&&(this.scale=t),this.scale<=e&&(this.scale=e);var c=n*this.scale,l=i*this.scale;this.moveX=-Math.abs(a*(c-n)),this.moveY=-Math.abs(-s*(l-i))}},t.prototype.getLimitZoom=function(){if("original image size"!==this.properties.limitZoom)return this.maxScale=this.properties.limitZoom||0,this.maxScale;if("IMG"!==this.elementTarget)return this.maxScale=this.maxHtmlContentScale,this.maxScale;var t=this.element.getElementsByTagName("img")[0];return t.naturalWidth&&t.offsetWidth?(this.maxScale=t.naturalWidth/t.offsetWidth,this.maxScale):void 0},t.prototype.moveLeft=function(t,e){return void 0===e&&(e=0),this.getClientPosition(t,e).clientX-this.elementPosition.left},t.prototype.moveTop=function(t,e){return void 0===e&&(e=0),this.getClientPosition(t,e).clientY-this.elementPosition.top},t.prototype.centeringImage=function(){var t=this.element.getElementsByTagName(this.elementTarget)[0],e=this.moveX,n=this.moveY;return this.moveY>0&&(this.moveY=0),this.moveX>0&&(this.moveX=0),t&&(this.limitPanY(),this.limitPanX()),t&&this.scale<1&&this.moveX<this.element.offsetWidth*(1-this.scale)&&(this.moveX=this.element.offsetWidth*(1-this.scale)),e!==this.moveX||n!==this.moveY},t.prototype.limitPanY=function(){var t=this.getImageHeight(),e=t*this.scale,n=this.parentElement.offsetHeight,i=this.element.offsetHeight;if(e<n)this.moveY=(n-i*this.scale)/2;else{var r=(t-i)*this.scale/2;this.moveY>r?this.moveY=r:e+Math.abs(r)-n+this.moveY<0&&(this.moveY=-(e+Math.abs(r)-n))}},t.prototype.limitPanX=function(){var t=this.getImageWidth(),e=t*this.scale,n=this.parentElement.offsetWidth,i=this.element.offsetWidth;if(e<n)this.moveX=(n-i*this.scale)/2;else{var r=(t-i)*this.scale/2;this.moveX>r?this.moveX=r:e+Math.abs(r)-n+this.moveX<0&&(this.moveX=-(t*this.scale+Math.abs(r)-n))}},t.prototype.setBasicStyles=function(){this.element.style.display="flex",this.element.style.alignItems="center",this.element.style.justifyContent="center",this.element.style.transformOrigin="0 0",this.setImageSize(),this.setDraggableImage()},t.prototype.removeBasicStyles=function(){this.element.style.display="",this.element.style.alignItems="",this.element.style.justifyContent="",this.element.style.transformOrigin="",this.removeImageSize(),this.removeDraggableImage()},t.prototype.setDraggableImage=function(){var t=this.getImageElement();t&&(t.draggable=this.properties.draggableImage)},t.prototype.removeDraggableImage=function(){var t=this.getImageElement();t&&(t.draggable=!0)},t.prototype.setImageSize=function(){var t=this.element.getElementsByTagName(this.elementTarget);t.length&&(t[0].style.maxWidth="100%",t[0].style.maxHeight="100%",this.setAutoHeight())},t.prototype.setAutoHeight=function(){var t=this.element.getElementsByTagName(this.elementTarget);if(this.properties.autoHeight&&t.length){var e=t[0].getAttribute("width")/t[0].getAttribute("height"),n=this.parentElement.offsetWidth;t[0].style.maxHeight=n/e+"px"}},t.prototype.removeImageSize=function(){var t=this.element.getElementsByTagName(this.elementTarget);t.length&&(t[0].style.maxWidth="",t[0].style.maxHeight="")},t.prototype.getElementPosition=function(){this.elementPosition=this.element.parentElement.getBoundingClientRect()},t.prototype.getTouchstartPosition=function(t){var e=this.getClientPosition(t),n=e.clientX,i=e.clientY;this.startX=n-this.elementPosition.left,this.startY=i-this.elementPosition.top},t.prototype.getClientPosition=function(t,e){var n,i;return void 0===e&&(e=0),"touchstart"!==t.type&&"touchmove"!==t.type||(n=t.touches[e].clientX,i=t.touches[e].clientY),"mousedown"!==t.type&&"mousemove"!==t.type||(n=t.clientX,i=t.clientY),{clientX:n,clientY:i}},t.prototype.resetScale=function(){this.scale=1,this.moveX=0,this.moveY=0,this.updateInitialValues(),this.transformElement(this.properties.transitionDuration)},t.prototype.updateInitialValues=function(){this.initialScale=this.scale,this.initialMoveX=this.moveX,this.initialMoveY=this.moveY},t.prototype.getDistance=function(t){return Math.sqrt(Math.pow(t[0].pageX-t[1].pageX,2)+Math.pow(t[0].pageY-t[1].pageY,2))},t.prototype.getImageHeight=function(){return this.element.getElementsByTagName(this.elementTarget)[0].offsetHeight},t.prototype.getImageWidth=function(){return this.element.getElementsByTagName(this.elementTarget)[0].offsetWidth},t.prototype.transformElement=function(t){this.element.style.transition="all "+t+"ms",this.element.style.transform="matrix("+Number(this.scale)+", 0, 0, "+Number(this.scale)+", "+Number(this.moveX)+", "+Number(this.moveY)+")"},t.prototype.isTouchScreen=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var e=["(",t.join("touch-enabled),("),"heartz",")"].join("");return this.getMatchMedia(e)},t.prototype.getMatchMedia=function(t){return window.matchMedia(t).matches},t.prototype.isDragging=function(){if(this.properties.disablePan)return!1;var t=this.getImageHeight(),e=this.getImageWidth();return this.scale>1?t*this.scale>this.parentElement.offsetHeight||e*this.scale>this.parentElement.offsetWidth:1===this.scale?t>this.parentElement.offsetHeight||e>this.parentElement.offsetWidth:void 0},t.prototype.pollLimitZoom=function(){var t=this,e=setInterval((function(){t.getLimitZoom()&&clearInterval(e)}),10)},t.prototype.getImageElement=function(){var t=this.element.getElementsByTagName(this.elementTarget);if(t.length)return t[0]},t.prototype.toggleZoom=function(t){if(void 0===t&&(t=!1),1===this.initialScale){if(t&&t.changedTouches){if(void 0===this.properties.doubleTapScale)return;var e=t.changedTouches;this.scale=this.initialScale*this.properties.doubleTapScale,this.moveX=this.initialMoveX-(e[0].clientX-this.elementPosition.left)*(this.properties.doubleTapScale-1),this.moveY=this.initialMoveY-(e[0].clientY-this.elementPosition.top)*(this.properties.doubleTapScale-1)}else{var n=this.properties.zoomControlScale||0;this.scale=this.initialScale*(n+1),this.moveX=this.initialMoveX-this.element.offsetWidth*(this.scale-1)/2,this.moveY=this.initialMoveY-this.element.offsetHeight*(this.scale-1)/2}this.centeringImage(),this.updateInitialValues(),this.transformElement(this.properties.transitionDuration)}else this.resetScale()},t.prototype.setZoom=function(t){var e,n;this.scale=t.scale;var i=this.element.offsetWidth,r=this.element.offsetHeight,o=i*this.scale/(i*this.initialScale);t.center?(e=t.center[0],n=t.center[1]):(e=i/2-this.initialMoveX,n=r/2-this.initialMoveY),this.moveX=this.initialMoveX-(o*e-e),this.moveY=this.initialMoveY-(o*n-n),this.centeringImage(),this.updateInitialValues(),this.transformElement(this.properties.transitionDuration)},t.prototype.alignImage=function(){this.centeringImage()&&(this.updateInitialValues(),this.transformElement(this.properties.transitionDuration))},t.prototype.destroy=function(){this.removeBasicStyles(),this.touches.destroy()},t}(),k={transitionDuration:200,doubleTap:!0,doubleTapScale:2,limitZoom:"original image size",autoZoomOut:!1,disabled:!1,overflow:"hidden",zoomControlScale:1,backgroundColor:"rgba(0,0,0,0.85)",minScale:0,disableZoomControl:"auto",listeners:"mouse and touch",wheel:!0,wheelZoomFactor:.2,draggableImage:!1},D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isZoomedIn=!1,e}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"isTouchScreen",{get:function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))},enumerable:!0,configurable:!0}),e.prototype.created=function(){var t=this.getProperties(this.$props);this.applyOptionsDefault(k,t),this.setStyles()},e.prototype.mounted=function(){this.init()},e.prototype.beforeDestroy=function(){this.ivyPinch.destroy()},e.prototype.isDragging=function(){if(this.ivyPinch)return this.ivyPinch.isDragging()},e.prototype.isControl=function(){return!this._properties.disabled&&(this._properties?"disable"!==this._properties.disableZoomControl&&(!this.isTouchScreen||"auto"!==this._properties.disableZoomControl):void 0)},e.prototype.getScale=function(){if(this.ivyPinch)return this.ivyPinch.scale},e.prototype.init=function(){this._properties.disabled||(this._properties.element=this.$refs.wrapper,this._properties.eventHandler=this.myEventHandler,this.ivyPinch=new x(this._properties),this.pollLimitZoom())},e.prototype.getProperties=function(t){var e={};for(var n in t)void 0!==t[n]&&("properties"!==n&&(e[n]=t[n]),"properties"===n&&(e=t[n]));return e},e.prototype.applyOptionsDefault=function(t,e){this._properties=Object.assign({},t,e)},e.prototype.myEventHandler=function(t){"wheel"===t.name&&(this.isZoomedIn=t.detail.scale>1)},e.prototype.toggleZoom=function(){this.ivyPinch.toggleZoom(),this.isZoomedIn=this.getScale()>1},e.prototype.pollLimitZoom=function(){this.ivyPinch.pollLimitZoom()},e.prototype.setStyles=function(){this.styleObject={overflow:this._properties.overflow,"background-color":this._properties.backgroundColor}},o([I()],e.prototype,"properties",void 0),o([I()],e.prototype,"transitionDuration",void 0),o([I()],e.prototype,"doubleTap",void 0),o([I()],e.prototype,"doubleTapScale",void 0),o([I()],e.prototype,"autoZoomOut",void 0),o([I()],e.prototype,"limitZoom",void 0),o([I()],e.prototype,"disabled",void 0),o([I()],e.prototype,"disablePan",void 0),o([I()],e.prototype,"overflow",void 0),o([I()],e.prototype,"disableZoomControl",void 0),o([I()],e.prototype,"backgroundColor",void 0),o([I()],e.prototype,"limitPan",void 0),o([I()],e.prototype,"minScale",void 0),o([I()],e.prototype,"listeners",void 0),o([I()],e.prototype,"wheel",void 0),o([I()],e.prototype,"autoHeight",void 0),o([I()],e.prototype,"wheelZoomFactor",void 0),o([I()],e.prototype,"draggableImage",void 0),e=o([C],e)}(s.a);n("cf25");var R=function(t,e,n,i,r,o,a,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pinch-zoom-wrapper",style:t.styleObject},[n("div",{ref:"wrapper",staticClass:"pinch-zoom-content",class:{"pz-dragging":t.isDragging()}},[t._t("default")],2),t.isControl()?n("div",{staticClass:"pz-zoom-button pz-zoom-control-position-bottom",class:{"pz-zoom-button-out":t.isZoomedIn},on:{click:function(e){return t.toggleZoom()}}}):t._e()])}),[],!1,null,null,null).exports;e.default=R},fc6a:function(t,e,n){var i=n("44ad"),r=n("1d80");t.exports=function(t){return i(r(t))}},fdbf:function(t,e,n){var i=n("4930");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},t.exports=i(n("2b0e"))},"8d20":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"getActiveClipboardClipId",(function(){return r})),n.d(i,"getActiveClipboardText",(function(){return o}));function r(t){return t.activeClipboardClipId}function o(t){return t.activeClipboardText}var a,s=n("9523"),c=n.n(s),l=n("ed99"),u=(a={},c()(a,l.a.SET_ACTIVE_CLIPBOARD_CLIP,(function(t,e){t.activeClipboardClipId=e.id,t.activeClipboardText=e.text})),c()(a,l.a.SET_ACTIVE_CLIPBOARD_TEXT,(function(t,e){t.activeClipboardText=e})),a),d=n("61b4"),h=n("cda8"),p=n("e2db"),f=n("c9d9"),g=c()({},f.a.onCopyText,(function(t,e){d.a.runOnUI((function(n){if(p.a.isDesktop())return t.dispatch(f.a.onElectronCopyText,e);var i=e.text;return t.commit(l.a.SET_ACTIVE_CLIPBOARD_TEXT,i),h.a.onCopyText(i,n,e.titleRes,e.descriptionRes)}))}));e.a={namespaced:!1,state:{activeClipboardClipId:-1,activeClipboardText:null},getters:i,mutations:u,actions:g}},"8d23":function(t,e,n){var i=n("5a88"),r=n("2732"),o=n("3646").Buffer;function a(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},a.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=i.alloc(this.degree),n=o.concat([t,e],t.length+this.degree),a=r.mod(n,this.genPoly),s=this.degree-a.length;if(s>0){var c=i.alloc(this.degree);return a.copy(c,s),c}return a},t.exports=a},"8e0d":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={ROBOTO:{id:1,styleClass:"",titleRes:"text_config_font_roboto"},ROBOTO_MONO:{id:6,styleClass:"font_roboto_mono",titleRes:"text_config_font_roboto_mono"},WORK_SANS:{id:2,styleClass:"font_work_sans",titleRes:"text_config_font_work_sans"},OPEN_SANS:{id:3,styleClass:"font_open_sans",titleRes:"text_config_font_open_sans"},MONTSERRAT:{id:4,styleClass:"font_montserrat",titleRes:"text_config_font_montserrat"},UBUNTU:{id:5,styleClass:"font_ubuntu",titleRes:"text_config_font_ubuntu"},UBUNTU_MONO:{id:7,styleClass:"font_ubuntu_mono",titleRes:"text_config_font_ubuntu_mono"},OSWALD:{id:22,styleClass:"font_oswald",titleRes:"text_config_font_oswald"},JETBRAINS_MONO:{id:28,styleClass:"font_jetbrains_mono",titleRes:"text_config_font_jetbrains_mono"},MANROPE:{id:29,styleClass:"font_manrope",titleRes:"text_config_font_manrope"},RUBIK:{id:30,styleClass:"font_rubik",titleRes:"text_config_font_rubik"}}},"8fa9":function(t,e,n){"use strict";n("07ac"),n("d3b7"),n("159b"),n("4de4");var i=n("8e0d"),r=n("c9d9"),o=n("96e0"),a=n("ed99"),s=n("9b2f"),c=n("08ff"),l={name:"SelectBlock",props:["optionValue","optionLabel","displayValue","titleRes","options","value"],data:function(){return{selectValue:this.value}},watch:{value:function(t){this.selectValue=t}},computed:{getAppPopupMenuStyle:function(){return this.$store.getters.getAppPopupMenuStyle},isDarkMode:function(){return this.$store.getters.isDarkMode},getTitle:function(){return this.$t(this.titleRes)}},methods:{onInput:function(t){this.$emit("input",t)}}},u=n("2877"),d=n("ddd8"),h=n("eebe"),p=n.n(h),f=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-px-md"},[n("div",{staticClass:"text-textColorPrimary"},[t._v(t._s(t.getTitle))]),n("q-select",{staticClass:"q-mt-sm",attrs:{"popup-content-style":t.getAppPopupMenuStyle,"popup-content-class":"bg-colorDialog","options-dark":t.isDarkMode,"option-value":t.optionValue,"option-label":t.optionLabel,"display-value":t.displayValue,"dropdown-icon":"expand_more",dark:t.isDarkMode,color:"colorAccent",options:t.options,outlined:"",dense:""},on:{input:t.onInput},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})],1)}),[],!1,null,null,null),g=f.exports;p()(f,"components",{QSelect:d.a});var m={name:"ObjectViewSettings",props:["hideFullScreenSettings","hideTextSizeSettings"],components:{SliderBlock:s.a,SwitchBlock:c.a,SelectBlock:g},data:function(){return{textFont:this.getTextFont,theme:this.getTheme}},watch:{getTextFont:function(t){this.textFont=t},getTextSize:function(t){this.onTextSizeChanged(t)},theme:function(t){this.onThemeChanged(t)},textFont:function(t){this.onTextFontChanged(t)}},computed:{getAppContextMenuClass:function(){return"q-pb-md ".concat(this.$store.getters.getAppContextMenuClass)},getAppContextMenuStyle:function(){return this.$store.getters.getAppContextMenuStyle},getSettings:function(){return this.$store.getters.getSettings},getTextSize:function(){return this.getSettings.textSize},getTextFont:function(){return this.$store.getters.getSelectedFont},getTheme:function(){return this.$store.getters.getSelectedTheme},isInFullScreen:function(){return this.$store.getters.isInFullScreen},getViewMode:function(){return this.$store.getters.getViewMode},getTextSizeMin:function(){return this.$store.getters.remoteConfigTextSizeMin},getTextSizeMax:function(){return this.$store.getters.remoteConfigTextSizeMax},getTextFonts:function(){var t=this,e=Object.values(i.a);return e.forEach((function(e){e.title=t.$t(e.titleRes)})),e},getThemes:function(){var t=this,e=Object.values(o.a).filter((function(t){return t.titleRes}));return e.forEach((function(e){e.title=t.$t(e.titleRes)})),e},getTextFontLabel:function(){return this.$t(this.getTextFont.titleRes)},getThemeLabel:function(){return this.$t(this.getTheme.titleRes)}},methods:{onTextSizeChanged:function(t){this.$store.commit(a.a.SET_TEXT_SIZE,t),this.$store.dispatch(r.a.onChangeTextSize,{textSize:t})},onTextFontChanged:function(t){this.$store.dispatch(r.a.onChangeTextFont,{textFont:t})},onThemeChanged:function(t){this.$store.dispatch(r.a.onChangeTheme,{theme:t})},onToggleFullscreen:function(){this.$store.commit(a.a.SET_VIEW_MODE,this.getViewMode.next())}}},v=Object(u.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getAppContextMenuClass},[t.hideFullScreenSettings||t.$q.screen.lt.sm?t._e():n("SwitchBlock",{attrs:{"title-res":"menu_fullscreen_enter","on-checked":t.onToggleFullscreen,checked:t.isInFullScreen}}),n("SelectBlock",{staticClass:"q-mt-md",attrs:{"option-value":"id","option-label":"title",options:t.getThemes,"display-value":t.getThemeLabel,"title-res":"settings_theme_title"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}}),n("SelectBlock",{staticClass:"q-mt-md",attrs:{"option-value":"id","option-label":"title",options:t.getTextFonts,"display-value":t.getTextFontLabel,"title-res":"text_config_font"},model:{value:t.textFont,callback:function(e){t.textFont=e},expression:"textFont"}}),t.hideTextSizeSettings?t._e():n("SliderBlock",{staticClass:"q-mt-md",attrs:{"value-label":t.getTextSize,"title-res":"text_config_size","min-value":t.getTextSizeMin,"max-value":t.getTextSizeMax},model:{value:t.getSettings.textSize,callback:function(e){t.$set(t.getSettings,"textSize",e)},expression:"getSettings.textSize"}})],1)}),[],!1,null,null,null);e.a=v.exports},"914e":function(t,e,n){"use strict";n("99af");var i=n("5046"),r=n("e2db"),o={name:"VerticalScrollView",props:["domId","height","thumbWidth","contentClass","contentStyle","onHideToolbars"],data:function(){return{minUpEvents:0,directionType:{down:{bind:function(t,e){0!==e.position&&(t.onHideToolbars(!0),t.minUpEvents=0)}},up:{bind:function(t,e){e.directionChanged&&(r.a.isSafari()?t.minUpEvents=10:t.minUpEvents=0),(0===e.position||--t.minUpEvents<0)&&(t.onHideToolbars(!1),t.minUpEvents=0)}}}}},computed:{getScrollbarDisappearDelay:function(){return this.$store.getters.remoteConfigScrollBarDisappearDelay},getScrollStyle:function(){if(!this.height)return this.contentStyle;var t=this.contentStyle||"";return"height: ".concat(this.height,"px; max-height: ").concat(this.height,"px; ").concat(t)},getThumbStyle:function(){return i.a.getScrollAreaThumbStyle(this.thumbWidth||12)}},methods:{onScroll:function(t){var e=this.directionType[t.direction];e&&e.bind(this,t)}}},a=n("2877"),s=n("4983"),c=n("ed5e"),l=n("eebe"),u=n.n(l),d=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-scroll-area",{class:t.contentClass,style:t.getScrollStyle,attrs:{id:t.domId,"thumb-style":t.getThumbStyle,delay:t.getScrollbarDisappearDelay}},[t._t("default"),t.onHideToolbars?n("q-scroll-observer",{on:{scroll:t.onScroll}}):t._e()],2)}),[],!1,null,null,null);e.a=d.exports;u()(d,"components",{QScrollArea:s.a,QScrollObserver:c.a})},"924f":function(t,e,n){var i=n("7bf0").getSymbolSize;e.getPositions=function(t){var e=i(t);return[[0,0],[e-7,0],[0,e-7]]}},"92d5":function(t,e,n){"use strict";n.r(e);var i,r=n("612c"),o=n("596c"),a=n("db86"),s=n.n(a),c=n("6a7b"),l=n("b0f0"),u=n("c973"),d=n.n(u),h=n("9523"),p=n.n(h),f=(n("96cf"),n("a15b"),n("4e82"),n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("b64b"),n("498a"),n("4de4"),n("7db0"),n("00b4"),n("466d"),n("970b")),g=n.n(f),m=n("5bc3"),v=n.n(m),y=(n("c740"),n("a434"),n("99af"),n("25f0"),n("61b4")),_=n("1cee"),b=n("34bb").clipboard,S={clipboardEmitter:new(function(){function t(){g()(this,t),this.eventListeners={}}return v()(t,[{key:"on",value:function(t,e){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(e)}},{key:"single",value:function(t,e){this.eventListeners[t]=[e]}},{key:"once",value:function(t,e){e.$emitOnce=!0,this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(e)}},{key:"removeListener",value:function(t,e){if(this.eventListeners[t]){var n=this.eventListeners[t].findIndex((function(t){return t===e}));n>=0&&this.eventListeners[t].splice(n)}}},{key:"removeAllListeners",value:function(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=this;r.eventListeners[t]&&(r.eventListeners[t].forEach((function(e){_.a.debug("CLIPBOARD :: emit",t,n),e.call.apply(e,[r].concat(n))})),r.eventListeners[t].filter((function(t){return t.$emitOnce})).forEach((function(e){r.removeListener(t,e)})))}}]),t}()),previousText:b.readText(),readText:function(){return b.readText()},writeText:function(t){var e=Buffer.from(t,"utf8");b.writeText(e.toString())},isDiffText:function(t,e){return e&&t!==e},on:function(t,e){this.clipboardEmitter.on(t,e)},onTextChanged:function(t){this.clipboardEmitter.single("text-changed",t)},once:function(t,e){this.clipboardEmitter.once(t,e)},off:function(t,e){e?this.clipboardEmitter.removeListener(t,e):this.clipboardEmitter.removeAllListeners(t)},startWatching:function(t){var e=t.getters.remoteConfigClipboardReadInterval;y.a.runPeriodically("clipboard",e,(function(){var t=S.readText();S.isDiffText(S.previousText,S.previousText=t)&&(_.a.debug("text changed ::",t),S.clipboardEmitter.emit("text-changed",t))}))},stopWatching:function(){y.a.dispose("clipboard")}},C=n("9b6a"),T=n("25d0"),w=n("f936"),I=n("ed99"),E=n("782d"),A=n("c9d9"),x=n("5046"),k=n("e2db"),D=n("72a1"),R=n("533d"),L=n("27f0"),F=n("a987"),O=n("9ee1"),P=n("05f0"),N=n("8376"),B=n("e8ea"),M=n("cda8"),q=(i={},p()(i,A.a.onInitElectron,(function(t){return function(t){P.a.registerCommand(O.a.onToggleUniversalClipboard,(function(e,n){return w.a.getSettings().universalClipboard=n,t.dispatch(A.a.onSaveSettings)})),P.a.registerCommand(O.a.onToggleShowInTaskbar,(function(e,n){return w.a.getSettings().hideFromTaskBar=!n,t.dispatch(A.a.onSaveSettings)})),P.a.registerCommand(O.a.onToggleDisableSync,(function(e,n){return w.a.getSettings().disableSync=n,t.dispatch(A.a.onSaveSettings).then((function(){return t.dispatch(A.a.onInitCloudSync,!0)}))})),P.a.registerCommand(O.a.onFinishAuthFlow,(function(e,n){return H(t,n)})),P.a.registerCommand(O.a.onCancelAuthFlow,(function(){x.a.hideLoadingState()})),P.a.registerCommand(O.a.onUpdateAvailable,(function(e,n){var i=JSON.parse(n),r=k.a.getVersionId(i.version),o=k.a.getVersionId(k.a.getAppVersion());_.a.debug(O.a.onUpdateAvailable,o,r),r>o&&t.commit(I.a.SHOW_UPDATE,i)})),P.a.registerCommand(O.a.onWindowShow,(function(){return t.dispatch(A.a.onResumeFilter)})),P.a.registerCommand(O.a.onWindowHide,(function(){return t.dispatch(A.a.onPauseFilter)})),P.a.registerCommand(O.a.onSaveFromClipboard,d()(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=S.readText(),D.a.isEmpty(n)){e.next=4;break}return i=E.a.newInstance(n,!0),e.abrupt("return",t.dispatch(A.a.onSaveClip,{clip:i}).then((function(){return t.dispatch(A.a.onShowNotification,{titleRes:"desktop_shortcuts_saveFromClipboard",description:n})})));case 4:case"end":return e.stop()}}),e)})))),P.a.registerCommand(O.a.onToggleTrackClipboard,function(){var e=d()(regeneratorRuntime.mark((function e(n,i){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i?"notification_track_clipboard_resume":"notification_track_clipboard_pause",e.next=3,t.dispatch(A.a.onShowNotification,{titleRes:"settings_track_clipboard_title",descriptionRes:r});case 3:return w.a.getSettings().trackClipboardChanges=i,e.next=6,t.dispatch(A.a.onSaveSettings);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P.a.registerCommand(O.a.onProgressDownloadFile,function(){var e=d()(regeneratorRuntime.mark((function e(n,i){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.a.debug("progress download",i),e.next=3,N.a.getById(i.fileId);case 3:(r=e.sent).setDownloaded(!1),r.progress=100*i.percent,t.commit(I.a.SET_FILE_PROGRESS,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P.a.registerCommand(O.a.onCancelDownloadFile,function(){var e=d()(regeneratorRuntime.mark((function e(n,i){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.a.debug("cancel download",i),e.next=3,N.a.getById(i.fileId);case 3:return r=e.sent,e.next=6,B.a.cancelDownloadProgress(t,r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P.a.registerCommand(O.a.onCompleteDownloadFile,function(){var e=d()(regeneratorRuntime.mark((function e(n,i){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.a.debug("complete download",i),e.next=3,N.a.getById(i.fileId);case 3:return(r=e.sent).downloadUrl=i.path,r.setDownloaded(!0),e.next=8,B.a.save(t,r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}(t),$(t),function(t){S.onTextChanged((function(e){if(t.getters.isAuthFlowStarted){var n=e.trim();return function(t,e){try{_.a.debug("onCheckAuthToken",e);var n=e.match(/c=(.*)/);if(n&&2===n.length){var i=n[1];return H(t,i).then((function(){return P.a.sendCommand(O.a.onCompleteAuthFlow),t.dispatch(A.a.onCancelElectronExternalAuthFlow)}))}}catch(t){_.a.error(t)}return!1}(t,n)}if(w.a.getSettings().trackClipboardChanges&&!k.a.isTextSelected()&&!D.a.isEmpty(e)){var i=t.getters.getActiveClipboardText;if(i!==e){_.a.debug("CLIPBOARD ::  track clipboard",D.a.getLength(i),D.a.getLength(e),i,e);var r=E.a.newInstance(e,!0);return t.dispatch(A.a.onSaveClip,{clip:r})}_.a.debug("CLIPBOARD :: clipboard text is not changed",i)}})),U(t)}(t),t.dispatch(A.a.onUpdateElectronState)})),p()(i,A.a.onElectronCopyText,(function(t,e){var n=e.text;return _.a.debug("CLIPBOARD :: onElectronCopyText",n),t.commit(I.a.SET_ACTIVE_CLIPBOARD_TEXT,n),S.writeText(n),y.a.runOnUI((function(t){M.a.onNotify(n,t,e.titleRes,e.descriptionRes)}))})),p()(i,A.a.onStartElectronInternalAuthFlow,(function(){navigator.onLine?(x.a.showLoadingState(),P.a.sendCommand(O.a.onStartAuthFlow)):x.a.showToast("No Internet Connection")})),p()(i,A.a.onStartElectronExternalAuthFlow,(function(t){S.startWatching(t),x.a.openURL(L.a.authUrl),t.commit(I.a.REQUEST_WEB_AUTH)})),p()(i,A.a.onCancelElectronExternalAuthFlow,(function(t){t.commit(I.a.CANCEL_WEB_AUTH),U(t)})),p()(i,A.a.onUpdateElectronState,(function(t){y.a.runOnUI((function(e){var n=w.a.getSettings(),i=n.getHotkeysMap(),r={state:{language:F.a.getLanguageCode(n.language),isAuthorized:t.getters.isAuthorized},hotkeys:{showHideApp:i.showHideApp,trackClipboard:i.trackClipboard,saveFromClipboard:i.saveFromClipboard},settings:{trackClipboardChanges:n.trackClipboardChanges,universalClipboard:n.universalClipboard,hideFromTaskBar:n.hideFromTaskBar,disableSync:n.disableSync},labels:{trayUniversalClipboard:e.$t("settings_universal_clipboard_title"),traySaveFromClipboard:e.$t("desktop_shortcuts_saveFromClipboard"),trayTrackClipboard:e.$t("settings_track_clipboard_title"),trayShowInTaskbar:e.$t("desktop_tray_show_in_taskbar"),traySyncNotes:e.$t("account_sync_title"),trayQuit:e.$t("desktop_tray_quit"),trayShow:e.$t("desktop_tray_show"),contextGoogleTranslate:e.$t("fast_actions_google_translate"),contextYoutubeSearch:e.$t("fast_actions_youtube_search"),contextTwitterPost:e.$t("fast_actions_twitter_post"),contextWikiSearch:e.$t("fast_actions_wiki_search"),contextWebSearch:e.$t("fast_actions_web_search"),contextPaste:e.$t("menu_paste"),contextPrint:e.$t("menu_print"),contextCopy:e.$t("menu_copy"),contextCut:e.$t("menu_cut")}};P.a.sendCommand(O.a.onUpdateState,r,!0);var o={backgroundColor:n.getTheme().colorPrimaryInverse};P.a.sendCommand(O.a.onUpdateTheme,o,!0),P.a.sendCommand(O.a.onAutoLaunch,n.launchOnStartup,!0),U(t)}))})),p()(i,A.a.onHideOnCopyElectron,(function(){P.a.sendCommand(O.a.onHideOnCopy)})),p()(i,A.a.onPrintClipElectron,(function(t,e){P.a.sendCommand(O.a.onPrintStarted,e)})),p()(i,A.a.onUpdateHotkeyElectron,(function(t,e){var n=w.a.getSettings(),i=n.getHotkeysMap(),r=e.key,o=e.value;if(_.a.debug(A.a.onUpdateHotkeyElectron,r,o),D.a.isNullOrBlank(o))i[r]=null;else{var a=o.split("+").sort().join("+");Object.keys(i).forEach((function(t){var e=i[t];if(D.a.isString(e)){var n=e.split("+").sort().join("+");n===a&&(_.a.debug("reset existing combo",t,n),i[t]=null)}})),i[r]=o}return $(t),n.setHotkeysMap(i),t.dispatch(A.a.onSaveSettings)})),p()(i,A.a.onPasteFromClipboardElectron,(function(t){var e=S.readText();if(_.a.debug(A.a.onPasteFromClipboardElectron,e),!D.a.isNullOrBlank(e)){var n=E.a.newInstance(e);T.a.applyAutoTags(n,t),t.commit(I.a.NEW_CLIP,n)}})),p()(i,A.a.onOpenLinkElectron,(function(t,e){P.a.showFileInFolder(e)})),p()(i,A.a.onDownloadFileElectron,(function(t,e){var n=e.fileRef;return P.a.sendCommand(O.a.onStartDownloadFile,{fileName:n.getName(),fileId:n.id,url:e.url})})),p()(i,A.a.onCancelDownloadFileElectron,(function(t,e){P.a.sendCommand(O.a.onCancelDownloadFile,e.fileRef.id)})),p()(i,A.a.onElectronAppBarDoubleClick,(function(){P.a.sendCommand(O.a.onAppBarDoubleClick)})),p()(i,A.a.onElectronAppBarMaximizeMinimize,(function(){P.a.sendCommand(O.a.onAppBarMaximizeMinimize)})),p()(i,A.a.onElectronAppBarHide,(function(){P.a.sendCommand(O.a.onAppBarHide)})),p()(i,A.a.onElectronAppBarClose,(function(){P.a.sendCommand(O.a.onAppBarClose)})),i);function U(t){w.a.getSettings().trackClipboardChanges?S.startWatching(t):t.getters.isAuthFlowStarted||S.stopWatching()}function $(t){var e=w.a.getSettings().getHotkeysMap();C.a.deleteScope("user"),C.a.filter=function(t){return"keydown"===t.type},Object(C.a)(e.noteOpen,"user",(function(e){if(!j(e)&&!V(t)){var n=t.getters.getSelectedClip;n.isNew()||(e.preventDefault(),e.stopPropagation(),t.commit(I.a.VIEW_CLIP,n))}})),Object(C.a)(e.noteEdit,"user",(function(e){if(!j(e)&&!V(t)){var n=t.getters.getSelectedClip;n.isNew()||(e.preventDefault(),e.stopPropagation(),t.commit(I.a.EDIT_CLIP,n))}})),Object(C.a)(e.noteNext,"user",(function(e){j(e)||(e.preventDefault(),e.stopPropagation(),t.commit(I.a.SELECT_NEXT_CLIP))})),Object(C.a)(e.notePrev,"user",(function(e){j(e)||(e.preventDefault(),e.stopPropagation(),t.commit(I.a.SELECT_PREV_CLIP))})),Object(C.a)(e.noteCopy,"user",(function(e){if(!V(t)&&!k.a.isTextSelected())return e.preventDefault(),e.stopPropagation(),t.dispatch(A.a.onCopySelectedClips)})),Object(C.a)(e.notePaste,"user",(function(e){if(!j(e)&&!V(t)&&!k.a.isTextSelected())return e.preventDefault(),e.stopPropagation(),t.dispatch(A.a.onPasteFromClipboardElectron)})),Object(C.a)(e.notePrint,"user",(function(e){if(!V(t)){e.preventDefault(),e.stopPropagation();var n=t.getters.getSelectedClip;return t.dispatch(A.a.onPrintClip,n)}})),Object(C.a)(e.noteNew,"user",(function(e){return e.preventDefault(),e.stopPropagation(),t.dispatch(A.a.onCreateNewClip)})),Object(C.a)(e.noteSave,"user",(function(e){return e.preventDefault(),e.stopPropagation(),t.dispatch(A.a.onSaveSelectedClip)})),Object(C.a)(e.noteDelete,"user",(function(e){e.preventDefault(),e.stopPropagation();var n=t.getters.getSelectedClips,i=t.getters.getSelectedClip;return n.length>0?t.dispatch(A.a.onDeleteSelectedClips,{clips:n}):i&&i.id?t.dispatch(A.a.onDeleteSelectedClips,{clips:[i]}):void 0})),Object(C.a)("shift+".concat(e.noteNext),"user",(function(e){if(!V(t)){e.preventDefault(),e.stopPropagation();var n=t.getters.getSelectedClip;if(!n.isNew()){var i={clip:n,toggleOne:!0,toggleRange:!1,toggleReset:!1};return t.dispatch(A.a.onSelectClip,i).then((function(){return t.commit(I.a.SELECT_NEXT_CLIP)}))}}})),Object(C.a)("shift+".concat(e.notePrev),"user",(function(e){if(!V(t)){e.preventDefault(),e.stopPropagation();var n=t.getters.getSelectedClip;if(!n.isNew()){var i={clip:n,toggleOne:!0,toggleRange:!1,toggleReset:!1};return t.dispatch(A.a.onSelectClip,i).then((function(){return t.commit(I.a.SELECT_PREV_CLIP)}))}}})),Object(C.a)(e.contextModeSelect,"user",(function(e){if(!j(e)){e.preventDefault(),e.stopPropagation();var n=t.getters.getSelectedClip;if(!n.isNew()){var i={clip:n,toggleOne:!0,toggleRange:!1,toggleReset:!1};return t.dispatch(A.a.onSelectClip,i)}}})),Object(C.a)(e.contextModeSelectAll,"user",(function(e){if(!j(e))return e.preventDefault(),e.stopPropagation(),t.dispatch(A.a.onSelectAllClips)})),Object(C.a)(e.contextModeCancel,"user",(function(e){return e.preventDefault(),e.stopPropagation(),t.dispatch(A.a.onUnselectAllClips)})),Object(C.a)(e.noteFind,"user",(function(e){V(t)||(e.preventDefault(),e.stopPropagation(),t.commit(I.a.REQUEST_FOCUS_ON_SEARCH))})),Object(C.a)(e.modeFullscreen,"user",(function(t){t.preventDefault(),t.stopPropagation(),P.a.sendCommand(O.a.onSwitchViewMode,1)})),Object(C.a)(e.modeComfortable,"user",(function(t){t.preventDefault(),t.stopPropagation(),P.a.sendCommand(O.a.onSwitchViewMode,2)})),Object(C.a)(e.modeCompact,"user",(function(t){t.preventDefault(),t.stopPropagation(),P.a.sendCommand(O.a.onSwitchViewMode,3)})),Object(C.a)(e.tagNext,"user",(function(e){if(!V(t)){e.preventDefault(),e.stopPropagation();var n=0,i=t.getters.getFiltersData,r=i.find((function(t){return t.isActive}));r&&(n=r.index+1);var o=i.find((function(t){return t.index===n}));return o&&(o=o.filter),o||(o=w.a.getFilters().all),t.dispatch(A.a.onApplyFilter,{filter:o})}})),Object(C.a)(e.tagPrev,"user",(function(e){if(!V(t)){e.preventDefault(),e.stopPropagation();var n=0,i=t.getters.getFiltersData,r=i.find((function(t){return t.isActive}));r&&(n=r.index-1);var o=i.find((function(t){return t.index===n}));return o&&(o=o.filter),o||(o=w.a.getFilters().deleted),t.dispatch(A.a.onApplyFilter,{filter:o})}})),C.a.setScope("user")}function j(t){var e=(t.target||t.srcElement).tagName;return/^(INPUT|TEXTAREA|SELECT)$/.test(e)}function V(t){return t.getters.getSelectedClipState.isEditMode()}function H(t,e){return z.apply(this,arguments)}function z(){return(z=d()(regeneratorRuntime.mark((function t(e,n){var i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=R.a.decryptCtr(n))){t.next=7;break}if(r=JSON.parse(i),!(o=r.token)){t.next=7;break}return _.a.debug("onSignInWithCustomToken",o),t.abrupt("return",e.dispatch(A.a.onSignInWithCustomToken,o));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var W={namespaced:!1,state:s.a,getters:c,mutations:l,actions:q},K={name:"EditorElectron",components:{App:r.a},methods:{registerModules:function(){o.a.registerModule(this,"electron",W)}}},G=n("2877"),Q=Object(G.a)(K,(function(){var t=this.$createElement;return(this._self._c||t)("App",{attrs:{registerModules:this.registerModules}})}),[],!1,null,null,null);e.default=Q.exports},9400:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"remoteConfigAttachmentDownloadInMemoryLimit",(function(){return u})),n.d(i,"remoteConfigNoteListUnsubscribeOnPauseDelay",(function(){return d})),n.d(i,"remoteConfigAttachmentUploadLimitInMb",(function(){return h})),n.d(i,"remoteConfigAttachmentUploadLimit",(function(){return p})),n.d(i,"remoteConfigCanPreviewLinks",(function(){return f})),n.d(i,"remoteConfigMaxLengthTitle",(function(){return g})),n.d(i,"remoteConfigMaxLengthTag",(function(){return m})),n.d(i,"remoteConfigUseExternalAuthFlow",(function(){return v})),n.d(i,"remoteConfigCanReportUnexpectedErrors",(function(){return y})),n.d(i,"remoteConfigCanCreateTagAutoRules",(function(){return _})),n.d(i,"remoteConfigTagRuleMaxLength",(function(){return b})),n.d(i,"remoteConfigTagColorsMatrix",(function(){return S})),n.d(i,"remoteConfigLimitDeletedNotesDefault",(function(){return C})),n.d(i,"remoteConfigLimitDeletedNotesRange",(function(){return T})),n.d(i,"remoteConfigLimitClipboardNotesDefault",(function(){return w})),n.d(i,"remoteConfigLimitClipboardNotesRange",(function(){return I})),n.d(i,"remoteConfigNoteScrollbarMultiplier",(function(){return E})),n.d(i,"remoteConfigCanSortTagsOnSave",(function(){return A})),n.d(i,"remoteConfigCanCreatePublicLinks",(function(){return x})),n.d(i,"remoteConfigSyncPlanActivated",(function(){return k})),n.d(i,"remoteConfigSyncPlanNotesFreeLimit",(function(){return D})),n.d(i,"remoteConfigFirestoreBatchSize",(function(){return R})),n.d(i,"remoteConfigFirestoreClearCacheOnLogout",(function(){return L})),n.d(i,"remoteConfigUrlAuthInstruction",(function(){return F})),n.d(i,"remoteConfigMaxNotesForContextActions",(function(){return O})),n.d(i,"remoteConfigClipEditFocusOnText",(function(){return P})),n.d(i,"remoteConfigCanDonate",(function(){return N})),n.d(i,"remoteConfigAnalyticsSessionProlongInterval",(function(){return B})),n.d(i,"remoteConfigSupportAutoSave",(function(){return M})),n.d(i,"remoteConfigAutoSaveInterval",(function(){return q})),n.d(i,"remoteConfigUrlTranslate",(function(){return U})),n.d(i,"remoteConfigCanSelectPlan",(function(){return $})),n.d(i,"remoteConfigQueryOnlyLatestChangedNotesReconnectDelay",(function(){return j})),n.d(i,"remoteConfigQueryOnlyLatestChangedNotesMinimumInterval",(function(){return V})),n.d(i,"remoteConfigQueryOnlyLatestChangedNotesThreshold",(function(){return H})),n.d(i,"remoteConfigUrlUnexpectedErrorInstruction",(function(){return z})),n.d(i,"remoteConfigCanReportUnexpectedErrorDirectly",(function(){return W})),n.d(i,"remoteConfigTextSizeMin",(function(){return K})),n.d(i,"remoteConfigTextSizeMax",(function(){return G})),n.d(i,"remoteConfigCanRemoveNotSyncedNotesOnLogout",(function(){return Q})),n.d(i,"remoteConfigDeepReplaceLevel",(function(){return Y})),n.d(i,"remoteConfigRuneConfigs",(function(){return X})),n.d(i,"remoteConfigAutoLockInMinutes",(function(){return Z})),n.d(i,"remoteConfigUrlLinkPreviewExampleUrl",(function(){return J})),n.d(i,"remoteConfigRunesFlatModeExpanded",(function(){return tt})),n.d(i,"remoteConfigClipboardReadInterval",(function(){return et})),n.d(i,"remoteConfigClipboardUseNativeListeners",(function(){return nt})),n.d(i,"remoteConfigScrollBarDisappearDelay",(function(){return it})),n.d(i,"remoteConfigMaxLengthAbbreviation",(function(){return rt})),n.d(i,"remoteConfigMaxLengthDescription",(function(){return ot})),n.d(i,"remoteConfigAbbreviationLeadingSymbol",(function(){return at})),n.d(i,"getFastScrollBarMinTextLines",(function(){return st}));var r=n("2eba"),o=n("448a"),a=n.n(o),s=n("6374"),c=n.n(s),l=n("0967");function u(t){return 1024*t.attachmentDownloadInMemoryLimit*1024}function d(t){return t.noteListUnsubscribeOnPauseDelay}function h(t){return t.attachmentUploadLimit}function p(t){return 1024*t.attachmentUploadLimit*1024}function f(t){return t.canPreviewLinks}function g(t){return t.maxLengthTitle}function m(t){return t.maxLengthTag}function v(t){return t.useExternalAuthFlow}function y(t){return t.canReportUnexpectedErrors}function _(t){return t.canCreateTagAutoRules}function b(t){return t.tagRuleMaxLength}function S(t){var e,n=JSON.parse(t.tagColors),i=[],r=c()(n);try{for(r.s();!(e=r.n()).done;){var o=e.value,s=[null];s.push.apply(s,a()(o)),i.push(s)}}catch(t){r.e(t)}finally{r.f()}return i}function C(t){return t.limitDeletedNotesDefault}function T(t){return JSON.parse(t.limitDeletedNotesRange)}function w(t){return t.limitClipboardNotesDefault}function I(t){return JSON.parse(t.limitClipboardNotesRange)}function E(t){return t.noteScrollbarMultiplier}function A(t){return t.canSortTagsOnSave}function x(t){return t.canCreatePublicLinks}function k(t){return t.syncPlanActivated}function D(t){return t.syncPlanNotesFreeLimit}function R(t){return t.firestoreBatchSize}function L(t){return t.firestoreClearCacheOnLogout}function F(t){return t.urlAuthInstruction}function O(t){return t.maxNotesForContextActions}function P(t){return t.clipEditFocusOnText}function N(t){return t.canDonate}function B(t){return t.analyticsSessionProlongInterval}function M(t){return t.supportAutoSave}function q(t){return t.autoSaveInterval}function U(t){return t.urlTranslate}function $(t){return t.canSelectPlan}function j(t){return t.queryOnlyLatestChangedNotesReconnectDelay}function V(t){return t.queryOnlyLatestChangedNotesMinimumInterval}function H(t){return t.queryOnlyLatestChangedNotesThreshold}function z(t){return t.urlUnexpectedErrorInstruction}function W(t){return t.canReportUnexpectedErrorDirectly}function K(t){return t.textSizeMin}function G(t){return t.textSizeMax}function Q(t){return t.canRemoveNotSyncedNotesOnLogout}function Y(t){return t.deepReplaceLevel}function X(t){return JSON.parse(t.runeConfigs)}function Z(t){return t.autoLockInMinutes}function J(t){return t.urlLinkPreviewExampleUrl}function tt(t){return t.runesFlatModeExpanded}function et(t){return t.clipboardReadInterval}function nt(t){return l.b.is.mac&&t.clipboardUseNativeListenersMac||l.b.is.win&&t.clipboardUseNativeListenersWin||l.b.is.linux&&t.clipboardUseNativeListenersLinux}function it(t){return t.scrollBarDisappearDelay}function rt(t){return t.maxLengthAbbreviation}function ot(t){return t.maxLengthDescription}function at(t){return t.abbreviationLeadingSymbol}function st(t){return t.fastScrollBarMinTextLines}var ct=n("9523"),lt=n.n(ct),ut=n("ed99"),dt=lt()({},ut.a.SET_REMOTE_CONFIG,(function(t,e){t.autoLockInMinutes=e.getNumber("auto_lock_in_minutes"),t.attachmentDownloadInMemoryLimit=e.getNumber("attachment_download_in_memory_limit"),t.attachmentUploadLimit=e.getNumber("attachment_upload_limit"),t.firestoreClearCacheOnLogout=e.getBoolean("firestore_clear_cache_on_logout"),t.canReportUnexpectedErrors=e.getBoolean("can_report_unexpected_errors"),t.useExternalAuthFlow=e.getBoolean("use_external_auth_flow"),t.firestoreBatchSize=e.getNumber("firestore_batch_size"),t.maxNotesForContextActions=e.getNumber("max_notes_for_context_actions");var n=e.getNumber("analytics_session_prolong_interval");n>0&&(t.analyticsSessionProlongInterval=n);var i=e.getNumber("query_only_latest_changed_notes_reconnect_delay");i>0&&(t.queryOnlyLatestChangedNotesReconnectDelay=i);var r=e.getNumber("query_only_latest_changed_notes_minimum_interval");r>0&&(t.queryOnlyLatestChangedNotesMinimumInterval=r);var o=e.getNumber("query_only_latest_changed_notes_threshold");o>0&&(t.queryOnlyLatestChangedNotesThreshold=o);var a=e.getNumber("query_only_latest_changed_notes_default_limit");a>0&&(t.queryOnlyLatestChangedNotesDefaultLimit=a),t.canReportUnexpectedErrorDirectly=e.getBoolean("can_report_unexpected_errors_directly"),t.canRemoveNotSyncedNotesOnLogout=e.getBoolean("can_remove_not_synced_notes_on_logout");var s=e.getNumber("scrollbar_disappear_delay");s>0&&(t.scrollBarDisappearDelay=s),t.canDonate=e.getBoolean("can_donate"),t.canSortTagsOnSave=e.getBoolean("can_sort_tags_on_save"),t.canCreatePublicLinks=e.getBoolean("can_create_public_links"),t.noteScrollbarMultiplier=e.getNumber("note_scrollbar_multiplier"),t.canPreviewLinks=e.getBoolean("can_preview_links");var c=e.getNumber("max_length_abbreviation");c>0&&(t.maxLengthAbbreviation=c);var l=e.getNumber("max_length_description");l>0&&(t.maxLengthDescription=l);var u=e.getString("note_abbreviation_leading_symbol");u&&(t.abbreviationLeadingSymbol=u),t.maxLengthTitle=e.getNumber("max_length_title"),t.maxLengthTag=e.getNumber("max_length_tag"),t.clipEditFocusOnText=e.getBoolean("clip_edit_focus_on_text"),t.supportAutoSave=e.getBoolean("support_auto_save");var d=e.getNumber("text_size_min");d>0&&(t.textSizeMin=d);var h=e.getNumber("text_size_max");h>0&&(t.textSizeMax=h);var p=e.getNumber("auto_save_interval");p>0&&(t.autoSaveInterval=p);var f=e.getNumber("note_fast_scroll_min_text_lines");f>0&&(t.fastScrollBarMinTextLines=f),t.canCreateTagAutoRules=e.getBoolean("can_create_tag_auto_rules"),t.tagRuleMaxLength=e.getNumber("tag_rule_max_length"),t.tagColors=e.getString("tag_colors"),t.limitDeletedNotesDefault=e.getNumber("limit_deleted_notes_default");var g=e.getString("limit_deleted_notes_range");g&&(t.limitDeletedNotesRange=g);var m=e.getNumber("logcat_read_timeout");m>0&&(t.clipboardReadInterval=m),t.limitClipboardNotesDefault=e.getNumber("limit_clipboard_notes_default");var v=e.getString("limit_clipboard_notes_range");v&&(t.limitClipboardNotesRange=v),t.clipboardUseNativeListenersMac=e.getBoolean("clipboard_use_native_listeners_mac"),t.clipboardUseNativeListenersWin=e.getBoolean("clipboard_use_native_listeners_win"),t.clipboardUseNativeListenersLinux=e.getBoolean("clipboard_use_native_listeners_linux"),t.syncPlanActivated=e.getBoolean("sync_plan_activated"),t.syncPlanNotesFreeLimit=e.getNumber("sync_plan_notes_free_limit"),t.urlUnexpectedErrorInstruction=e.getString("url_unexpected_error_instruction"),t.urlLinkPreviewExampleUrl=e.getString("url_link_preview_example"),t.urlAuthInstruction=e.getString("url_auth_instruction"),t.urlTranslate=e.getString("url_translate");var y=e.getNumber("deep_replace_level");0!==y&&(t.deepReplaceLevel=y);var _=e.getString("rune_configs");_&&(t.runeConfigs=_);var b=e.getBoolean("runes_flat_mode_expanded");b&&(t.runesFlatModeExpanded=b);var S=e.getNumber("note_list_unsubscribe_on_pause_delay");0!==S&&(t.noteListUnsubscribeOnPauseDelay=S)})),ht=n("c9d9"),pt=n("260b"),ft=(n("a111"),lt()({},ht.a.onInitFirebase,(function(t){var e=pt.a.remoteConfig();return e.fetchAndActivate().then((function(){return t.commit(ut.a.SET_REMOTE_CONFIG,e)})).catch((function(){}))}))),gt={autoLockInMinutes:2,attachmentDownloadInMemoryLimit:50,attachmentUploadLimit:300,canReportUnexpectedErrors:!0,canReportUnexpectedErrorDirectly:!1,useExternalAuthFlow:!0,firestoreBatchSize:100,firestoreClearCacheOnLogout:!0,maxNotesForContextActions:100,analyticsSessionProlongInterval:9e5,queryOnlyLatestChangedNotesMinimumInterval:36e5,queryOnlyLatestChangedNotesReconnectDelay:2e4,queryOnlyLatestChangedNotesThreshold:10,canRemoveNotSyncedNotesOnLogout:!1,scrollBarDisappearDelay:3e3,canDonate:!1,canSelectPlan:!n("e2db").a.isDesktopWin(),canSortTagsOnSave:!0,canCreatePublicLinks:!0,noteScrollbarMultiplier:4,canPreviewLinks:!0,maxLengthAbbreviation:8,maxLengthDescription:1e3,maxLengthTitle:150,maxLengthTag:50,clipEditFocusOnText:!0,supportAutoSave:!0,autoSaveInterval:1e3,textSizeMin:10,textSizeMax:72,abbreviationLeadingSymbol:"/",fastScrollBarMinTextLines:50,noteListUnsubscribeOnPauseDelay:36e5,canCreateTagAutoRules:!0,tagRuleMaxLength:100,tagColors:'\n    [\n      ["#ef9a9a", "#F48FB1", "#CE93D8", "#B39DDB", "#9FA8DA", "#90CAF9", "#81D4FA", "#80DEEA", "#80CBC4", "#A5D6A7", "#C5E1A5", "#E6EE9C", "#FFF59D", "#FFE082", "#FFCC80", "#FFAB91", "#BCAAA4", "#EEEEEE", "#B0BEC5"],\n\n      ["#e57373", "#F06292", "#BA68C8", "#9575CD", "#7986CB", "#64B5F6", "#4FC3F7", "#4DD0E1", "#4DB6AC", "#81C784", "#AED581", "#DCE775", "#FFF176", "#FFD54F", "#FFB74D", "#FF8A65", "#A1887F", "#E0E0E0", "#90A4AE"],\n\n      ["#f44336", "#E91E63", "#9C27B0", "#673AB7", "#3F51B5", "#2196F3", "#03A9F4", "#00BCD4", "#009688", "#4CAF50", "#8BC34A", "#CDDC39", "#FFEB3B", "#FFC107", "#FF9800", "#FF5722", "#795548", "#9E9E9E", "#607D8B"],\n\n      ["#d32f2f", "#C2185B", "#7B1FA2", "#512DA8", "#303F9F", "#1976D2", "#0288D1", "#0097A7", "#00796B", "#388E3C", "#689F38", "#AFB42B", "#FBC02D", "#FFA000", "#F57C00", "#E64A19", "#5D4037", "#616161", "#455A64"],\n\n      ["#b71c1c", "#880E4F", "#4A148C", "#311B92", "#1A237E", "#0D47A1", "#01579B", "#006064", "#004D40", "#1B5E20", "#33691E", "#827717", "#F57F17", "#FF6F00", "#E65100", "#BF360C", "#3E2723", "#212121", "#263238"]\n    ]\n  ',limitDeletedNotesDefault:100,limitDeletedNotesRange:"[10, 50, 100, 150, 200, 250, 300]",clipboardReadInterval:500,limitClipboardNotesDefault:300,clipboardUseNativeListenersLinux:!1,clipboardUseNativeListenersWin:!1,clipboardUseNativeListenersMac:!1,limitClipboardNotesRange:"[1, 10, 50, 100, 200, 300, 500, 1000, 2000, 3000, 5000, 10000, -1]",syncPlanActivated:!0,syncPlanNotesFreeLimit:300,urlUnexpectedErrorInstruction:"https://clipto.pro/l/qcAUHxuk8tHQ7osL6",urlAuthInstruction:"https://clipto.pro/l/f91nrrark2saJahaA",urlTranslate:"https://crowdin.com/project/clipto",urlLinkPreviewExampleUrl:"https://play.google.com/store/apps/details?id=com.wb.clipboard.pro",deepReplaceLevel:5,runesFlatModeExpanded:!1,runeConfigs:'\n    [\n            {\n                "id": "instant_sync",\n                "colorLight": "#00CAE0",\n                "colorDark": "#00E5FF"\n            },\n            {\n                "id": "pincode",\n                "colorLight": "#00E676",\n                "colorDark": "#00E676"\n            },\n            {\n                "id": "theme",\n                "colorLight": "#64DD17",\n                "colorDark": "#76FF03"\n            },\n            {\n                "id": "clipboard",\n                "colorLight": "#FF3D00",\n                "colorDark": "#FF3D00"\n            },\n            {\n                "id": "link_preview",\n                "colorLight": "#00B0FF",\n                "colorDark": "#00B0FF"\n            },\n            {\n                "id": "auto_save",\n                "colorLight": "#D500F9",\n                "colorDark": "#D500F9"\n            },\n            {\n                "id": "remember_last_filter",\n                "colorLight": "#536DFE",\n                "colorDark": "#536DFE"\n            },\n            {\n                "id": "swipe_actions",\n                "colorLight": "#FFAB00",\n                "colorDark": "#FFAB00"\n            },\n            {\n                "id": "focus_on_title",\n                "colorLight": "#844CFF",\n                "colorDark": "#844CFF"\n            },\n            {\n                "id": "hide_on_copy",\n                "colorLight": "#FDD835",\n                "colorDark": "#FFFF00"\n            },\n            {\n                "id": "double_click_actions",\n                "colorLight": "#FFC6FF00",\n                "colorDark": "#FFC6FF00"\n            },\n            {\n                "id": "loyalty",\n                "colorLight": "#FF1744",\n                "colorDark": "#FF5252"\n            },\n            {\n                "id": "backup_restore",\n                "colorLight": "#00BFA5",\n                "colorDark": "#00BFA5"\n            },\n            {\n                "id": "texpander",\n                "colorLight": "#FF9100",\n                "colorDark": "#FF9100"\n            }\n        ]\n  '};n("ca8a");pt.a.initializeApp(r.a.getFirebaseConfig()),pt.a.performance();e.a={namespaced:!1,state:gt,getters:i,mutations:dt,actions:ft}},9582:function(t,e,n){var i=n("7bf0"),r=i.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,o=n<<10;i.getBCHDigit(o)-r>=0;)o^=1335<<i.getBCHDigit(o)-r;return 21522^(n<<10|o)}},"96e0":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("bc78"),r={DEFAULT:{id:1,dark:!1,titleRes:"theme_default",iconRes:"./app-icon.png",colorListItemSelected:"rgba(52,73,85,0.3)",colorPrimaryInverse:"#ffffff",colorAccent:"#f9aa33",apply:function(){i.a.setBrand("colorLink","#0366d6"),i.a.setBrand("colorAccent","#f9aa33"),i.a.setBrand("colorPrimary","#344955"),i.a.setBrand("colorPrimaryDark","#232f34"),i.a.setBrand("colorPrimaryLight","#4a6572"),i.a.setBrand("colorPrimaryInverse","#ffffff"),i.a.setBrand("colorSecondaryInverse","#fcfcfc"),i.a.setBrand("actionIconColorHighlight","#f9aa33"),i.a.setBrand("actionIconColorInactive","#bfbfbf"),i.a.setBrand("actionIconColorNormal","#fff"),i.a.setBrand("colorContext","#fcfcfc"),i.a.setBrand("colorDialog","#fcfcfc"),i.a.setBrand("colorCustomTagBackground","#344955"),i.a.setBrand("textColorPrimary","#000"),i.a.setBrand("textColorSecondary","#757575"),i.a.setBrand("textColorPrimaryInverse","#fff"),i.a.setBrand("textColorSecondaryInverse","#bfbfbf"),i.a.setBrand("textColorOnSurface","#000"),i.a.setBrand("colorDividerLight","#e6e6e6"),i.a.setBrand("colorDividerDark","#4d4d4d"),i.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.1)")}},WHITE:{id:7,dark:!1,titleRes:"theme_white",iconRes:"./app-icon.png",colorListItemSelected:"rgba(94,141,198,0.3)",colorPrimaryInverse:"#ffffff",colorAccent:"#74b5e0",apply:function(){i.a.setBrand("colorLink","#0366d6"),i.a.setBrand("colorAccent","#5E8DC6"),i.a.setBrand("colorPrimary","#fff"),i.a.setBrand("colorPrimaryDark","#fff"),i.a.setBrand("colorPrimaryLight","#fff"),i.a.setBrand("colorPrimaryInverse","#ffffff"),i.a.setBrand("colorSecondaryInverse","#fff"),i.a.setBrand("actionIconColorHighlight","#5E8DC6"),i.a.setBrand("actionIconColorInactive","rgba(0,0,0,0.7)"),i.a.setBrand("actionIconColorNormal","#000"),i.a.setBrand("colorContext","#fff"),i.a.setBrand("colorDialog","#fff"),i.a.setBrand("colorCustomTagBackground","#5E8DC6"),i.a.setBrand("textColorPrimary","#000"),i.a.setBrand("textColorSecondary","#757575"),i.a.setBrand("textColorPrimaryInverse","#fff"),i.a.setBrand("textColorSecondaryInverse","#757575"),i.a.setBrand("textColorOnSurface","#000"),i.a.setBrand("colorDividerLight","#e6e6e6"),i.a.setBrand("colorDividerDark","#e6e6e6"),i.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.10)")}},SEPIA:{id:4,dark:!1,titleRes:"theme_sepia",iconRes:"./app-icon.png",colorListItemSelected:"#DBE6E7",colorPrimaryInverse:"#F3EDDB",colorAccent:"#5E8DC6",apply:function(){i.a.setBrand("colorLink","#5E8DC6"),i.a.setBrand("colorAccent","#5E8DC6"),i.a.setBrand("colorPrimary","#c0bba9"),i.a.setBrand("colorPrimaryDark","#F3EDDB"),i.a.setBrand("colorPrimaryLight","#c0bba9"),i.a.setBrand("colorPrimaryInverse","#F3EDDB"),i.a.setBrand("colorSecondaryInverse","#F3EDDB"),i.a.setBrand("actionIconColorHighlight","#5E8DC6"),i.a.setBrand("actionIconColorInactive","rgba(0,0,0,0.89)"),i.a.setBrand("actionIconColorNormal","rgba(0,0,0,0.71)"),i.a.setBrand("colorContext","#F3EDDB"),i.a.setBrand("colorDialog","#F8F1DE"),i.a.setBrand("colorCustomTagBackground","#5E8DC6"),i.a.setBrand("textColorPrimary","#000"),i.a.setBrand("textColorSecondary","#757575"),i.a.setBrand("textColorPrimaryInverse","#fff"),i.a.setBrand("textColorSecondaryInverse","#bfbfbf"),i.a.setBrand("textColorOnSurface","#fff"),i.a.setBrand("colorDividerLight","#cdc8b9"),i.a.setBrand("colorDividerDark","#cdc8b9"),i.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.10)")}},GREEN:{id:6,dark:!1,titleRes:"theme_green",iconRes:"./app-icon.png",colorListItemSelected:"#E2E9CE",colorPrimaryInverse:"#fffbe6",colorAccent:"#fa5630",apply:function(){i.a.setBrand("colorLink","#fa5630"),i.a.setBrand("colorAccent","#fa5630"),i.a.setBrand("colorPrimary","#DCDBC3"),i.a.setBrand("colorPrimaryDark","#f2f5e0"),i.a.setBrand("colorPrimaryLight","#b9b8a2"),i.a.setBrand("colorPrimaryInverse","#fffbe6"),i.a.setBrand("colorSecondaryInverse","#fffbe6"),i.a.setBrand("actionIconColorHighlight","#fa5630"),i.a.setBrand("actionIconColorInactive","#356859"),i.a.setBrand("actionIconColorNormal","#356859"),i.a.setBrand("colorContext","#fffbe6"),i.a.setBrand("colorDialog","#fefae5"),i.a.setBrand("colorCustomTagBackground","#356859"),i.a.setBrand("textColorPrimary","#356859"),i.a.setBrand("textColorSecondary","rgba(53,105,89,0.8)"),i.a.setBrand("textColorPrimaryInverse","#fff"),i.a.setBrand("textColorSecondaryInverse","rgba(53,105,89,0.8)"),i.a.setBrand("textColorOnSurface","#fff"),i.a.setBrand("colorDividerLight","#d7e6cf"),i.a.setBrand("colorDividerDark","#d7e6cf"),i.a.setBrand("listItemSelected","rgba(0,0,0,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(0,0,0,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(0,0,0,0.10)")}},PINK:{id:9,dark:!1,titleRes:"theme_pink",iconRes:"./app-icon.png",colorListItemSelected:"rgba(254,219,208,0.3)",colorPrimaryInverse:"#ffffff",colorAccent:"#fddbd1",apply:function(){i.a.setBrand("colorLink","#f48aa6"),i.a.setBrand("colorAccent","#f48aa6"),i.a.setBrand("colorPrimary","#fedbd0"),i.a.setBrand("colorPrimaryDark","#feeae6"),i.a.setBrand("colorPrimaryLight","#feeae6"),i.a.setBrand("colorPrimaryInverse","#ffffff"),i.a.setBrand("colorSecondaryInverse","#fff"),i.a.setBrand("actionIconColorHighlight","#f48aa6"),i.a.setBrand("actionIconColorInactive","#442C2E"),i.a.setBrand("actionIconColorNormal","#442C2E"),i.a.setBrand("colorContext","#fff"),i.a.setBrand("colorDialog","#fff"),i.a.setBrand("colorCustomTagBackground","rgba(68,44,46,0.85)"),i.a.setBrand("textColorPrimary","#442C2E"),i.a.setBrand("textColorSecondary","rgba(68,44,46,0.70)"),i.a.setBrand("textColorPrimaryInverse","#fff"),i.a.setBrand("textColorSecondaryInverse","rgba(68,44,46,0.70)"),i.a.setBrand("textColorOnSurface","#442C2E"),i.a.setBrand("colorDividerLight","#e6e6e6"),i.a.setBrand("colorDividerDark","#cccccc"),i.a.setBrand("listItemSelected","rgba(254,219,208,0.10)"),i.a.setBrand("listItemMultipleSelected","rgba(254,219,208,0.30)"),i.a.setBrand("myBackgroundHighlight","rgba(68,44,46,0.1)")}},DARK:{id:2,dark:!0,titleRes:"theme_dark",iconRes:"./app-icon.png",colorListItemSelected:"#747778",colorPrimaryInverse:"#2E3032",colorAccent:"#f9aa33",apply:function(){i.a.setBrand("colorLink","#f9aa33"),i.a.setBrand("colorAccent","#f9aa33"),i.a.setBrand("colorPrimary","#2E3032"),i.a.setBrand("colorPrimaryDark","#262729"),i.a.setBrand("colorPrimaryLight","#494B4C"),i.a.setBrand("colorPrimaryInverse","#2E3032"),i.a.setBrand("colorSecondaryInverse","#2E3032"),i.a.setBrand("actionIconColorHighlight","#f9aa33"),i.a.setBrand("actionIconColorInactive","#DADCE0"),i.a.setBrand("actionIconColorNormal","#fff"),i.a.setBrand("colorContext","#2E3032"),i.a.setBrand("colorDialog","#3b3d3f"),i.a.setBrand("colorCustomTagBackground","#f9aa33"),i.a.setBrand("textColorPrimary","#fff"),i.a.setBrand("textColorSecondary","#bfbfbf"),i.a.setBrand("textColorPrimaryInverse","#000"),i.a.setBrand("textColorSecondaryInverse","#757575"),i.a.setBrand("textColorOnSurface","#000"),i.a.setBrand("colorDividerLight","#4d4d4d"),i.a.setBrand("colorDividerDark","#4d4d4d"),i.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},DARK_BLUE:{id:3,dark:!0,titleRes:"theme_dark_blue",iconRes:"./app-icon.png",colorListItemSelected:"#314A61",colorPrimaryInverse:"#1D2733",colorAccent:"#5E8DC6",apply:function(){i.a.setBrand("colorLink","#5E8DC6"),i.a.setBrand("colorAccent","#5E8DC6"),i.a.setBrand("colorPrimary","#212D3B"),i.a.setBrand("colorPrimaryDark","#1A242F"),i.a.setBrand("colorPrimaryLight","#25374C"),i.a.setBrand("colorPrimaryInverse","#1D2733"),i.a.setBrand("colorSecondaryInverse","#1D2733"),i.a.setBrand("actionIconColorHighlight","#5E8DC6"),i.a.setBrand("actionIconColorInactive","#DADCE0"),i.a.setBrand("actionIconColorNormal","#fff"),i.a.setBrand("colorContext","#1D2733"),i.a.setBrand("colorDialog","#2c3846"),i.a.setBrand("colorCustomTagBackground","#5E8DC6"),i.a.setBrand("textColorPrimary","#fff"),i.a.setBrand("textColorSecondary","#bfbfbf"),i.a.setBrand("textColorPrimaryInverse","#000"),i.a.setBrand("textColorSecondaryInverse","#757575"),i.a.setBrand("textColorOnSurface","#fff"),i.a.setBrand("colorDividerLight","#0f1923"),i.a.setBrand("colorDividerDark","#0f1923"),i.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},DARK_GREEN:{id:10,dark:!0,titleRes:"theme_dark_green",iconRes:"./app-icon.png",colorListItemSelected:"#3a462e",colorPrimaryInverse:"#0B1B07",colorAccent:"#94B042",apply:function(){i.a.setBrand("colorLink","#94B042"),i.a.setBrand("colorAccent","#94B042"),i.a.setBrand("colorPrimary","#212919"),i.a.setBrand("colorPrimaryDark","#091505"),i.a.setBrand("colorPrimaryLight","#212919"),i.a.setBrand("colorPrimaryInverse","#0B1B07"),i.a.setBrand("colorSecondaryInverse","#0B1B07"),i.a.setBrand("actionIconColorHighlight","#94B042"),i.a.setBrand("actionIconColorInactive","#DADCE0"),i.a.setBrand("actionIconColorNormal","#fff"),i.a.setBrand("colorContext","#22291B"),i.a.setBrand("colorDialog","#313b2f"),i.a.setBrand("colorCustomTagBackground","#94B042"),i.a.setBrand("textColorPrimary","#fff"),i.a.setBrand("textColorSecondary","#bfbfbf"),i.a.setBrand("textColorPrimaryInverse","#000"),i.a.setBrand("textColorSecondaryInverse","#757575"),i.a.setBrand("textColorOnSurface","#fff"),i.a.setBrand("colorDividerLight","#253124"),i.a.setBrand("colorDividerDark","#212919"),i.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},DARK_BLURPLE:{id:8,dark:!0,titleRes:"theme_dark_blurple",iconRes:"./app-icon.png",colorListItemSelected:"rgba(255,255,255,0.1)",colorPrimaryInverse:"#2C2F33",colorAccent:"#7289DA",apply:function(){i.a.setBrand("colorLink","#a5b9ff"),i.a.setBrand("colorAccent","#7289DA"),i.a.setBrand("colorPrimary","#2C2F33"),i.a.setBrand("colorPrimaryDark","#23272A"),i.a.setBrand("colorPrimaryLight","#2C2F33"),i.a.setBrand("colorPrimaryInverse","#2C2F33"),i.a.setBrand("colorSecondaryInverse","#2C2F33"),i.a.setBrand("actionIconColorHighlight","#7289DA"),i.a.setBrand("actionIconColorInactive","#d4d4d5"),i.a.setBrand("actionIconColorNormal","#fff"),i.a.setBrand("colorContext","#2C2F33"),i.a.setBrand("colorDialog","#3b3d3f"),i.a.setBrand("colorCustomTagBackground","#a5b9ff"),i.a.setBrand("textColorPrimary","#fff"),i.a.setBrand("textColorSecondary","#d4d4d5"),i.a.setBrand("textColorPrimaryInverse","#000"),i.a.setBrand("textColorSecondaryInverse","#757575"),i.a.setBrand("textColorOnSurface","#fff"),i.a.setBrand("colorDividerLight","#4d4d4d"),i.a.setBrand("colorDividerDark","#4d4d4d"),i.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}},BLACK:{id:5,dark:!0,titleRes:"theme_black",iconRes:"./app-icon.png",colorListItemSelected:"#2b2b2b",colorPrimaryInverse:"#000000",colorAccent:"#5E8DC6",apply:function(){i.a.setBrand("colorLink","#5E8DC6"),i.a.setBrand("colorAccent","#5E8DC6"),i.a.setBrand("colorPrimary","#121212"),i.a.setBrand("colorPrimaryDark","#000"),i.a.setBrand("colorPrimaryLight","#121212"),i.a.setBrand("colorPrimaryInverse","#000000"),i.a.setBrand("colorSecondaryInverse","#000"),i.a.setBrand("actionIconColorHighlight","#5E8DC6"),i.a.setBrand("actionIconColorInactive","#CDCDCD"),i.a.setBrand("actionIconColorNormal","#CDCDCD"),i.a.setBrand("colorContext","#000"),i.a.setBrand("colorDialog","#121212"),i.a.setBrand("colorCustomTagBackground","#5E8DC6"),i.a.setBrand("textColorPrimary","#CDCDCD"),i.a.setBrand("textColorSecondary","#929292"),i.a.setBrand("textColorPrimaryInverse","#000"),i.a.setBrand("textColorSecondaryInverse","#000"),i.a.setBrand("textColorOnSurface","#fff"),i.a.setBrand("colorDividerLight","#2d2d2d"),i.a.setBrand("colorDividerDark","#2d2d2d"),i.a.setBrand("listItemSelected","rgba(255,255,255,0.1)"),i.a.setBrand("listItemMultipleSelected","rgba(255,255,255,0.2)"),i.a.setBrand("myBackgroundHighlight","rgba(255,255,255,0.10)")}}};r._byId={1:r.DEFAULT,2:r.DARK,3:r.DARK_BLUE,4:r.SEPIA,5:r.BLACK,6:r.GREEN,7:r.WHITE,8:r.DARK_BLURPLE,9:r.PINK,10:r.DARK_GREEN},r.getById=function(t){return r._byId[t]||r.DARK}},"96e4":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("9911");var i=n("e6d6"),r=n("f52e"),o=n("970b"),a=n.n(o),s=n("9523"),c=n.n(s),l=function t(){a()(this,t),c()(this,"created",void 0),c()(this,"updated",void 0),c()(this,"postponed",void 0),c()(this,"postponeInMillis",void 0),c()(this,"postponeAtDate",void 0),c()(this,"expired",void 0),c()(this,"expiresInMillis",void 0),c()(this,"expiresAtDate",void 0),c()(this,"link",void 0),c()(this,"unavailable",void 0),c()(this,"passwordClue",void 0),c()(this,"openedTimes",void 0),c()(this,"oneTimeOpening",void 0),c()(this,"locked",void 0)},u={toMap:function(t){if(!t||!t.link)return null;var e={};return t.postponeAtDate&&(e[i.a.ATTR_PUBLIC_NOTE_POSTPONE_AT_DATE]=t.postponeAtDate),t.postponeInMillis&&(e[i.a.ATTR_PUBLIC_NOTE_POSTPONE_IN_MILLIS]=t.postponeInMillis),t.expiresAtDate&&(e[i.a.ATTR_PUBLIC_NOTE_EXPIRES_AT_DATE]=t.expiresAtDate),t.expiresInMillis&&(e[i.a.ATTR_PUBLIC_NOTE_EXPIRES_IN_MILLIS]=t.expiresInMillis),t.link&&(e[i.a.ATTR_PUBLIC_NOTE_LINK]=t.link),t.passwordClue&&(e[i.a.ATTR_PUBLIC_NOTE_PASSWORD_CLUE]=t.passwordClue),t.openedTimes&&(e[i.a.ATTR_PUBLIC_NOTE_OPENED_TIMES]=t.openedTimes),e[i.a.ATTR_PUBLIC_NOTE_UNAVAILABLE]=t.unavailable||!1,e[i.a.ATTR_PUBLIC_NOTE_ONETIME]=t.oneTimeOpening||!1,e[i.a.ATTR_PUBLIC_NOTE_LOCKED]=t.locked||!1,e},fromMap:function(t){if(!t)return null;var e=new l;return e.postponeAtDate=r.a.toDate(t[i.a.ATTR_PUBLIC_NOTE_POSTPONE_AT_DATE]),e.postponeInMillis=t[i.a.ATTR_PUBLIC_NOTE_POSTPONE_IN_MILLIS],e.expiresAtDate=r.a.toDate(t[i.a.ATTR_PUBLIC_NOTE_EXPIRES_AT_DATE]),e.expiresInMillis=t[i.a.ATTR_PUBLIC_NOTE_EXPIRES_IN_MILLIS],e.link=t[i.a.ATTR_PUBLIC_NOTE_LINK],e.unavailable=t[i.a.ATTR_PUBLIC_NOTE_UNAVAILABLE],e.passwordClue=t[i.a.ATTR_PUBLIC_NOTE_PASSWORD_CLUE],e.openedTimes=t[i.a.ATTR_PUBLIC_NOTE_OPENED_TIMES],e.oneTimeOpening=t[i.a.ATTR_PUBLIC_NOTE_ONETIME],e.locked=t[i.a.ATTR_PUBLIC_NOTE_LOCKED],e}}},9861:function(t,e,n){"use strict";n("e260");var i=n("23e7"),r=n("da84"),o=n("d066"),a=n("c65b"),s=n("e330"),c=n("0d3b"),l=n("6eeb"),u=n("e2cc"),d=n("d44e"),h=n("9ed3"),p=n("69f3"),f=n("19aa"),g=n("1626"),m=n("1a2d"),v=n("0366"),y=n("f5df"),_=n("825a"),b=n("861d"),S=n("577e"),C=n("7c73"),T=n("5c6c"),w=n("9a1f"),I=n("35a1"),E=n("b622"),A=n("addb"),x=E("iterator"),k=p.set,D=p.getterFor("URLSearchParams"),R=p.getterFor("URLSearchParamsIterator"),L=o("fetch"),F=o("Request"),O=o("Headers"),P=F&&F.prototype,N=O&&O.prototype,B=r.RegExp,M=r.TypeError,q=r.decodeURIComponent,U=r.encodeURIComponent,$=s("".charAt),j=s([].join),V=s([].push),H=s("".replace),z=s([].shift),W=s([].splice),K=s("".split),G=s("".slice),Q=/\+/g,Y=Array(4),X=function(t){return Y[t-1]||(Y[t-1]=B("((?:%[\\da-f]{2}){"+t+"})","gi"))},Z=function(t){try{return q(t)}catch(e){return t}},J=function(t){var e=H(t,Q," "),n=4;try{return q(e)}catch(t){for(;n;)e=H(e,X(n--),Z);return e}},tt=/[!'()~]|%20/g,et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nt=function(t){return et[t]},it=function(t){return H(U(t),tt,nt)},rt=function(t,e){if(e)for(var n,i,r=K(e,"&"),o=0;o<r.length;)(n=r[o++]).length&&(i=K(n,"="),V(t,{key:J(z(i)),value:J(j(i,"="))}))},ot=function(t){this.entries.length=0,rt(this.entries,t)},at=function(t,e){if(t<e)throw M("Not enough arguments")},st=h((function(t,e){k(this,{type:"URLSearchParamsIterator",iterator:w(D(t).entries),kind:e})}),"Iterator",(function(){var t=R(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),ct=function(){f(this,lt);var t,e,n,i,r,o,s,c,l,u=arguments.length>0?arguments[0]:void 0,d=this,h=[];if(k(d,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:ot}),void 0!==u)if(b(u))if(t=I(u))for(n=(e=w(u,t)).next;!(i=a(n,e)).done;){if(o=(r=w(_(i.value))).next,(s=a(o,r)).done||(c=a(o,r)).done||!a(o,r).done)throw M("Expected sequence with length 2");V(h,{key:S(s.value),value:S(c.value)})}else for(l in u)m(u,l)&&V(h,{key:l,value:S(u[l])});else rt(h,"string"==typeof u?"?"===$(u,0)?G(u,1):u:S(u))},lt=ct.prototype;if(u(lt,{append:function(t,e){at(arguments.length,2);var n=D(this);V(n.entries,{key:S(t),value:S(e)}),n.updateURL()},delete:function(t){at(arguments.length,1);for(var e=D(this),n=e.entries,i=S(t),r=0;r<n.length;)n[r].key===i?W(n,r,1):r++;e.updateURL()},get:function(t){at(arguments.length,1);for(var e=D(this).entries,n=S(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){at(arguments.length,1);for(var e=D(this).entries,n=S(t),i=[],r=0;r<e.length;r++)e[r].key===n&&V(i,e[r].value);return i},has:function(t){at(arguments.length,1);for(var e=D(this).entries,n=S(t),i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){at(arguments.length,1);for(var n,i=D(this),r=i.entries,o=!1,a=S(t),s=S(e),c=0;c<r.length;c++)(n=r[c]).key===a&&(o?W(r,c--,1):(o=!0,n.value=s));o||V(r,{key:a,value:s}),i.updateURL()},sort:function(){var t=D(this);A(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=D(this).entries,i=v(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),l(lt,x,lt.entries,{name:"entries"}),l(lt,"toString",(function(){for(var t,e=D(this).entries,n=[],i=0;i<e.length;)t=e[i++],V(n,it(t.key)+"="+it(t.value));return j(n,"&")}),{enumerable:!0}),d(ct,"URLSearchParams"),i({global:!0,forced:!c},{URLSearchParams:ct}),!c&&g(O)){var ut=s(N.has),dt=s(N.set),ht=function(t){if(b(t)){var e,n=t.body;if("URLSearchParams"===y(n))return e=t.headers?new O(t.headers):new O,ut(e,"content-type")||dt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(t,{body:T(0,S(n)),headers:T(0,e)})}return t};if(g(L)&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(t,arguments.length>1?ht(arguments[1]):{})}}),g(F)){var pt=function(t){return f(this,P),new F(t,arguments.length>1?ht(arguments[1]):{})};P.constructor=pt,pt.prototype=P,i({global:!0,forced:!0},{Request:pt})}}t.exports={URLSearchParams:ct,getState:D}},"9b2f":function(t,e,n){"use strict";var i={name:"SliderBlock",props:["titleRes","descriptionRes","valueLabel","minValue","maxValue","disable","value"],data:function(){return{sliderValue:this.value}},watch:{value:function(t){this.sliderValue=t}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTitle:function(){return this.$t(this.titleRes)},getDescription:function(){return this.$t(this.descriptionRes)},getValueLabel:function(){return this.valueLabel}},methods:{onInput:function(t){this.$emit("input",t)}}},r=n("2877"),o=n("66e5"),a=n("4074"),s=n("0170"),c=n("c1d0"),l=n("eebe"),u=n.n(l),d=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-item",{attrs:{disable:t.disable,dense:!t.descriptionRes}},[n("q-item-section",[n("q-item-label",{staticClass:"text-textColorPrimary"},[t._v("\n        "+t._s(t.getTitle)+"\n      ")]),t.descriptionRes?n("q-item-label",{staticClass:"text-textColorSecondary",attrs:{caption:""}},[t._v("\n        "+t._s(t.getDescription)+"\n      ")]):t._e()],1),n("q-item-section",{attrs:{side:""}},[n("q-item-label",{staticClass:"text-colorAccent text-right text-body2 text-weight-medium",staticStyle:{"min-width":"36px"}},[t._v("\n        "+t._s(t.getValueLabel)+"\n      ")])],1)],1),n("div",{staticClass:"q-mx-lg q-my-sm"},[n("q-slider",{attrs:{dark:t.isDarkMode,disable:t.disable,color:"colorAccent",min:t.minValue,max:t.maxValue,dense:"",snap:""},on:{input:t.onInput},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1)],1)}),[],!1,null,null,null);e.a=d.exports;u()(d,"components",{QItem:o.a,QItemSection:a.a,QItemLabel:s.a,QSlider:c.a})},"9b6a":function(t,e,n){"use strict";
/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */var i="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function r(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on".concat(e),(function(){n(window.event)}))}function o(t,e){for(var n=e.slice(0,e.length-1),i=0;i<n.length;i++)n[i]=t[n[i].toLowerCase()];return n}function a(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}for(var s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":i?173:189,"=":i?61:187,";":i?59:186,"'":222,"[":219,"]":221,"\\":220},c={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},l={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},u={16:!1,18:!1,17:!1,91:!1},d={},h=1;h<20;h++)s["f".concat(h)]=111+h;var p=[],f="all",g=[],m=function(t){return s[t.toLowerCase()]||c[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function v(t){f=t||"all"}function y(){return f||"all"}var _=function(t){var e=t.key,n=t.scope,i=t.method,r=t.splitKey,s=void 0===r?"+":r;a(e).forEach((function(t){var e=t.split(s),r=e.length,a=e[r-1],l="*"===a?"*":m(a);if(d[l]){n||(n=y());var u=r>1?o(c,e):[];d[l]=d[l].map((function(t){return(!i||t.method===i)&&t.scope===n&&function(t,e){for(var n=t.length>=e.length?t:e,i=t.length>=e.length?e:t,r=!0,o=0;o<n.length;o++)-1===i.indexOf(n[o])&&(r=!1);return r}(t.mods,u)?{}:t}))}}))};function b(t,e,n){var i;if(e.scope===n||"all"===e.scope){for(var r in i=e.mods.length>0,u)Object.prototype.hasOwnProperty.call(u,r)&&(!u[r]&&e.mods.indexOf(+r)>-1||u[r]&&-1===e.mods.indexOf(+r))&&(i=!1);(0!==e.mods.length||u[16]||u[18]||u[17]||u[91])&&!i&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function S(t){var e=d["*"],n=t.keyCode||t.which||t.charCode;if(C.filter.call(this,t)){if(93!==n&&224!==n||(n=91),-1===p.indexOf(n)&&229!==n&&p.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var n=l[e];t[e]&&-1===p.indexOf(n)?p.push(n):!t[e]&&p.indexOf(n)>-1?p.splice(p.indexOf(n),1):"metaKey"===e&&t[e]&&3===p.length&&(t.ctrlKey||t.shiftKey||t.altKey||(p=p.slice(p.indexOf(n))))})),n in u){for(var i in u[n]=!0,c)c[i]===n&&(C[i]=!0);if(!e)return}for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(u[r]=t[l[r]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===p.indexOf(17)&&p.push(17),-1===p.indexOf(18)&&p.push(18),u[17]=!0,u[18]=!0);var o=y();if(e)for(var a=0;a<e.length;a++)e[a].scope===o&&("keydown"===t.type&&e[a].keydown||"keyup"===t.type&&e[a].keyup)&&b(t,e[a],o);if(n in d)for(var s=0;s<d[n].length;s++)if(("keydown"===t.type&&d[n][s].keydown||"keyup"===t.type&&d[n][s].keyup)&&d[n][s].key){for(var h=d[n][s],f=h.splitKey,g=h.key.split(f),v=[],_=0;_<g.length;_++)v.push(m(g[_]));v.sort().join("")===p.sort().join("")&&b(t,h,o)}}}function C(t,e,n){p=[];var i=a(t),s=[],l="all",h=document,f=0,v=!1,y=!0,_="+";for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(l=e.scope),e.element&&(h=e.element),e.keyup&&(v=e.keyup),void 0!==e.keydown&&(y=e.keydown),"string"==typeof e.splitKey&&(_=e.splitKey)),"string"==typeof e&&(l=e);f<i.length;f++)s=[],(t=i[f].split(_)).length>1&&(s=o(c,t)),(t="*"===(t=t[t.length-1])?"*":m(t))in d||(d[t]=[]),d[t].push({keyup:v,keydown:y,scope:l,mods:s,shortcut:i[f],method:n,key:i[f],splitKey:_});void 0!==h&&!function(t){return g.indexOf(t)>-1}(h)&&window&&(g.push(h),r(h,"keydown",(function(t){S(t)})),r(window,"focus",(function(){p=[]})),r(h,"keyup",(function(t){S(t),function(t){var e=t.keyCode||t.which||t.charCode,n=p.indexOf(e);if(n>=0&&p.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&p.splice(0,p.length),93!==e&&224!==e||(e=91),e in u)for(var i in u[e]=!1,c)c[i]===e&&(C[i]=!1)}(t)})))}var T={setScope:v,getScope:y,deleteScope:function(t,e){var n,i;for(var r in t||(t=y()),d)if(Object.prototype.hasOwnProperty.call(d,r))for(n=d[r],i=0;i<n.length;)n[i].scope===t?n.splice(i,1):i++;y()===t&&v(e||"all")},getPressedKeyCodes:function(){return p.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=m(t)),-1!==p.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,n=e.tagName,i=!0;return!e.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)||(i=!1),i},unbind:function(t){if(t){if(Array.isArray(t))t.forEach((function(t){t.key&&_(t)}));else if("object"==typeof t)t.key&&_(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n[0],o=n[1];"function"==typeof r&&(o=r,r=""),_({key:t,scope:r,method:o,splitKey:"+"})}}else Object.keys(d).forEach((function(t){return delete d[t]}))}};for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(C[w]=T[w]);if("undefined"!=typeof window){var I=window.hotkeys;C.noConflict=function(t){return t&&window.hotkeys===C&&(window.hotkeys=I),C},window.hotkeys=C}e.a=C},"9ba6":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("72a1");class r{constructor(t,e,n){this._createDynamicValue=n,this._placeholder=t,this._titleRes=e}getDynamicValue(t,e){if(t===this._placeholder){let n=this._cached||this._createDynamicValue.call(this,t,e);return this._cached=n,n}return this._createDynamicValue.call(this,t,e)}isValid(t){return t===this._placeholder}getPlaceholderValue(t){let e=t||"";return`${r.PLACEHOLDER_OPEN} ${this._placeholder}${e} ${r.PLACEHOLDER_CLOSE}`}getPlaceholder(){return this._placeholder}getValue(t){return t}getTitle(){return this._titleRes}static isDynamic(t){return null!==t&&t.includes(this.PLACEHOLDER_OPEN)&&t.includes(this.PLACEHOLDER_CLOSE)}static isDynamicAccurate(t){return!i.a.isNull(t)&&!i.a.isNull(t.match(this.PATTERN))}}r.PLACEHOLDER_OPEN="{{",r.PLACEHOLDER_CLOSE="}}",r.PATTERN="{{([\\sa-zA-Z0-9_.:]+)}}"},"9d94":function(t,e,n){var i=n("bbf0"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=i.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*r.indexOf(this.data[e]);n+=r.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(r.indexOf(this.data[e]),6)},t.exports=o},"9ee1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={onUpdateState:"onUpdateState",onToggleDisableSync:"onToggleDisableSync",onToggleShowInTaskbar:"onToggleShowInTaskbar",onToggleUniversalClipboard:"onToggleUniversalClipboard",onToggleTrackClipboard:"onToggleTrackClipboard",onSaveFromClipboard:"onSaveFromClipboard",onUpdateAvailable:"onUpdateAvailable",onCompleteAuthFlow:"onCompleteAuthFlow",onCancelAuthFlow:"onCancelAuthFlow",onFinishAuthFlow:"onFinishAuthFlow",onStartAuthFlow:"onStartAuthFlow",onSwitchViewMode:"onSwitchViewMode",onHideOnCopy:"onHideOnCopy",onWindowShow:"onWindowShow",onWindowHide:"onWindowHide",onAutoLaunch:"onAutoLaunch",onDownloadFile:"onDownloadFile",onStartDownloadFile:"onStartDownloadFile",onCancelDownloadFile:"onCancelDownloadFile",onCompleteDownloadFile:"onCompleteDownloadFile",onProgressDownloadFile:"onProgressDownloadFile",onUpdateTheme:"onUpdateTheme",onAppBarDoubleClick:"onAppBarDoubleClick",onAppBarMaximizeMinimize:"onAppBarMaximizeMinimize",onAppBarClose:"onAppBarClose",onAppBarHide:"onAppBarHide",onPrintClip:"onPrintClip",onPrintStarted:"onPrintStarted",onPrintFinished:"onPrintFinished"}},a087:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("d3b7"),n("159b"),n("b64b"),n("99af"),n("498a");var i=n("27f0"),r=n("72a1"),o=n("e2db"),a=n("b06b"),s=n("0967"),c={email:function(t,e,n){try{var c=function(t){if(!r.a.isObject(t))return t;var e="";return Object.keys(t).forEach((function(n){"hotkeysMap"!==n&&"_hotkeysMap"!==n&&"id"!==n&&"referralId"!==n&&"isFirstLaunch"!==n&&t[n]&&(e+="".concat(n,": ").concat(t[n],"\n"))})),e.trim()},l=t.$t("app_name"),u=t.$tc("about_label_email_support_subject",{n:l},{n:l}),d=null,h=t.$store.getters.getAuthUserId;h&&(d="**** Info:\n",d+="User: ".concat(h,"\n"),d+="Version: ".concat(o.a.getAppVersion()));var p,f="***** Device:\n".concat(c(s.b.is)),g=t.$store.getters.getSettings;p="**** Settings:\n",p+=c(g);var m=null;n&&(m="***** Error:\n".concat(c(n)));var v="".concat(e||t.$t("about_label_email_support_message"));d&&(v+="\n\n".concat(d)),f&&(v+="\n\n".concat(f)),p&&(v+="\n\n".concat(p)),m&&(v+="\n\n".concat(m)),v=v.trim();var y=encodeURI("mailto:".concat(i.a.email,"?subject=").concat(u,"&body=").concat(v));Object(a.a)(y)}catch(t){Object(a.a)("mailto:".concat(i.a.email))}}}},a849:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("4de4"),n("d3b7"),n("07ac");var i=n("8896"),r=n("72a1"),o=n("96e0"),a={getCurrentTheme:function(){return o.a.getById(i.a.getInt("themeId"))},getThemes:function(){return Object.values(o.a).filter((function(t){return r.a.isNumber(t.id)}))},setTheme:function(t){t.apply(),i.a.set("themeId",t.id)}}},a8e6:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("b680"),n("a9e3"),n("99af"),n("bf19"),n("ac1f"),n("5319");var i=n("72a1"),r=n("0af5"),o=n("bd4c"),a=n("7937"),s={parseDate:function(t,e){try{return r.a.parse(t,e)}catch(t){return null}},formatDate:function(t,e,n){if(!i.a.isNull(t)){var r=s.fromJsonDate(t);return i.a.isNull(e)?r.toLocaleString():o.b.formatDate(r,e)}return n?null:"-"},formatDateShort:function(t){return t?s.fromJsonDate(t).toLocaleDateString():"-"},formatTime:function(t){return t?s.fromJsonDate(t).toLocaleTimeString():"-"},formatSize:function(t){return t?a.c.humanStorageSize(t):a.c.humanStorageSize(0)},formatSeconds:function(t){if(!t)return"--:--:--";var e=t||0,n=Number(e/3600-.5).toFixed(0),i=Number(e%3600/60-.5).toFixed(0),r=Number(e%60-.5).toFixed(0);return n<=0?n="00":n<10&&(n="0"+n),i<=0?i="00":i<10&&(i="0"+i),r<=0?r="00":r<10&&(r="0"+r),"".concat(n,":").concat(i,":").concat(r)},toJsonDate:function(t){if(t){if(t.toJSON)return t.toJSON();var e=s.fromJsonDate(t);if(e.toJSON)return e.toJSON()}return null},fromJsonDate:function(t){return i.a.isString(t)?new Date(Date.parse(t)):i.a.isNumber(t)?new Date(t):t},createFileName:function(t,e){var n;n=i.a.isNullOrBlank(e.title)?t.$t("clip_hint_title"):e.title.replace(/[^\w\d]/g,"_");var r=s.formatDate(Date(),"YYMMDD_hhmmss");return"".concat(n,"_").concat(r)}}},a987:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i,r=n("c973"),o=n.n(r),a=(n("96cf"),n("4e82"),n("7db0"),n("d3b7"),n("e6cf"),n("a79d"),n("e260"),n("3ca3"),n("ddb0"),n("8896")),s=n("a6d8"),c=n("b05d"),l={getLanguages:function(){return["ar","be","bg","ca","da","de","el","en-us","es","es-us","et","fil","fr","hi","hu","it","ja","ko-kr","nl","pl","pt-br","ru","sl","sv","tr","uk","vi","id","zh-hans","zh-hant"].sort()},getLanguagesFlags:function(){return{ar:"img:flags/ar.png",be:"img:flags/be.png",bg:"img:flags/bg.png",ca:"img:flags/ca.png",da:"img:flags/da.png",de:"img:flags/de.png",el:"img:flags/el.png","en-us":"img:flags/en.png",es:"img:flags/es-ES.png","es-us":"img:flags/es-US.png",et:"img:flags/et.png",fil:"img:flags/fil.png",fr:"img:flags/fr.png",hi:"img:flags/hi.png",hu:"img:flags/hu.png",it:"img:flags/it.png",ja:"img:flags/ja.png","ko-kr":"img:flags/ko.png",nl:"img:flags/nl.png",pl:"img:flags/pl.png","pt-br":"img:flags/pt-BR.png",ru:"img:flags/ru.png",sl:"img:flags/sl.png",sv:"img:flags/sv-SE.png",tr:"img:flags/tr.png",uk:"img:flags/uk.png",vi:"img:flags/vi.png",id:"img:flags/id.png","zh-hans":"img:flags/zh-CN.png","zh-hant":"🇹🇼"}},getLanguageCode:function(t){return t?"zh-hans"===t?"zh-CN":"zh-hant"===t?"zh-TW":-1!==t.indexOf("-")?t.substring(0,t.indexOf("-")):t:"en"},getLanguageLabel:function(t){if("fil"===t)return"Filipino";if("hi"===t)return"Hindi";if("ru"===t)return"Русский";if("be"===t)return"Белорусский";if("es-us"===t)return"Spanish, United States";if("nl"===t)return"Dutch";var e=s.find((function(e){return e.isoName===t}));return e?e.nativeName:t},getLanguage:function(){return a.a.get("languageId")||c.a.lang.isoName||c.a.lang.getLocale()},setLanguage:(i=o()(regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return",i);case 2:if(e.$i18n.locale!==i){t.next=4;break}return t.abrupt("return",i);case 4:return t.abrupt("return",n("2e98")("./".concat(i)).then((function(t){return e.$i18n.setLocaleMessage(i,t.default)})).then((function(){return n("8488")("./".concat(i))})).then((function(t){e.$q.lang.set(t.default),e.$i18n.locale=i})).catch((function(){e.$i18n.locale=i})).then((function(){return i})).finally((function(){a.a.set("languageId",i)})));case 5:case"end":return t.stop()}}),t)}))),function(t,e){return i.apply(this,arguments)})}},aa63:function(t,e,n){var i=n("5a88"),r=n("7bf0"),o=n("7a43"),a=n("7ba0"),s=n("577e4"),c=n("d6c0"),l=n("924f"),u=n("7903"),d=n("34fc"),h=n("8d23"),p=n("c8aa"),f=n("9582"),g=n("bbf0"),m=n("befa"),v=n("e3db");function y(t,e,n){var i,r,o=t.size,a=f.getEncodedBits(e,n);for(i=0;i<15;i++)r=1==(a>>i&1),i<6?t.set(i,8,r,!0):i<8?t.set(i+1,8,r,!0):t.set(o-15+i,8,r,!0),i<8?t.set(8,o-i-1,r,!0):i<9?t.set(8,15-i-1+1,r,!0):t.set(8,15-i-1,r,!0);t.set(o-8,8,1,!0)}function _(t,e,n){var o=new a;n.forEach((function(e){o.put(e.mode.bit,4),o.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(o)}));var s=8*(r.getSymbolTotalCodewords(t)-d.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var c=(s-o.getLengthInBits())/8,l=0;l<c;l++)o.put(l%2?17:236,8);return function(t,e,n){for(var o=r.getSymbolTotalCodewords(e),a=d.getTotalCodewordsCount(e,n),s=o-a,c=d.getBlocksCount(e,n),l=c-o%c,u=Math.floor(o/c),p=Math.floor(s/c),f=p+1,g=u-p,m=new h(g),v=0,y=new Array(c),_=new Array(c),b=0,S=i.from(t.buffer),C=0;C<c;C++){var T=C<l?p:f;y[C]=S.slice(v,v+T),_[C]=m.encode(y[C]),v+=T,b=Math.max(b,T)}var w,I,E=i.alloc(o),A=0;for(w=0;w<b;w++)for(I=0;I<c;I++)w<y[I].length&&(E[A++]=y[I][w]);for(w=0;w<g;w++)for(I=0;I<c;I++)E[A++]=_[I][w];return E}(o,t,e)}function b(t,e,n,i){var o;if(v(t))o=m.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var a=e;if(!a){var d=m.rawSplit(t);a=p.getBestVersionForData(d,n)}o=m.fromString(t,a||40)}var h=p.getBestVersionForData(o,n);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<h)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+h+".\n")}else e=h;var f=_(e,n,o),g=r.getSymbolSize(e),b=new s(g);return function(t,e){for(var n=t.size,i=l.getPositions(e),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||(s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4?t.set(o+s,a+c,!0,!0):t.set(o+s,a+c,!1,!0))}(b,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var i=n%2==0;t.set(n,6,i,!0),t.set(6,n,i,!0)}}(b),function(t,e){for(var n=c.getPositions(e),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?t.set(r+a,o+s,!0,!0):t.set(r+a,o+s,!1,!0)}(b,e),y(b,n,0),e>=7&&function(t,e){for(var n,i,r,o=t.size,a=p.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),i=s%3+o-8-3,r=1==(a>>s&1),t.set(n,i,r,!0),t.set(i,n,r,!0)}(b,e),function(t,e){for(var n=t.size,i=-1,r=n-1,o=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!t.isReserved(r,s-c)){var l=!1;a<e.length&&(l=1==(e[a]>>>o&1)),t.set(r,s-c,l),-1===--o&&(a++,o=7)}if((r+=i)<0||n<=r){r-=i,i=-i;break}}}(b,f),isNaN(i)&&(i=u.getBestMask(b,y.bind(null,b,n))),u.applyMask(i,b),y(b,n,i),{modules:b,version:e,errorCorrectionLevel:n,maskPattern:i,segments:o}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,i,a=o.M;return void 0!==e&&(a=o.from(e.errorCorrectionLevel,o.M),n=p.from(e.version),i=u.from(e.maskPattern),e.toSJISFunc&&r.setToSJISFunction(e.toSJISFunc)),b(t,n,a,i)}},ac7d:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("f936")),a=n("1cee"),s=n("2667").a.clipto,c={init:function(){return r()(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.settings.toCollection().first();case 2:if(e=t.sent,n=o.a.getSettings(),e){t.next=11;break}return n.isFirstLaunch=!0,t.next=8,s.settings.put(n);case 8:n.id=t.sent,t.next=13;break;case 11:(n=e.normalize(n)).isFirstLaunch=!1;case 13:return n=n.normalize(),o.a.setSettings(n),t.abrupt("return",n);case 16:case"end":return t.stop()}}),t)})))()},save:function(){return r()(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.a.getSettings(),t.next=3,s.settings.put(e);case 3:return e.id=t.sent,o.a.setSettings(e),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()},saveLater:function(){c.save().then((function(){return a.a.debug("save settings later")}))},clear:function(){return r()(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=o.a.getSettings()).disableSync){t.next=4;break}return e.disableSync=!1,t.abrupt("return",c.save());case 4:case"end":return t.stop()}}),t)})))()},get:function(){return o.a.getSettings()}}},ad89:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={INTERNAL:{id:0},INTERNAL_GENERATED:{id:3},EXTERNAL_SNIPPET:{id:1},EXTERNAL_SNIPPET_KIT:{id:2},READONLY:{id:4}};i.byId={0:i.INTERNAL,1:i.EXTERNAL_SNIPPET,2:i.EXTERNAL_SNIPPET_KIT,3:i.INTERNAL_GENERATED,4:i.READONLY}},add5:function(t,e,n){var i;window,i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n(/*! ./sass/index.scss */"./src/sass/index.scss");var i=n(/*! ./js/init */"./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=i),e.default=i},"./src/js/browser.js":
/*!***************************!*\
  !*** ./src/js/browser.js ***!
  \***************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!t.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};e.default=i},"./src/js/functions.js":
/*!*****************************!*\
  !*** ./src/js/functions.js ***!
  \*****************************/
/*! exports provided: addWrapper, capitalizePrint, collectStyles, addHeader, cleanUp, isRawHTML */function(t,e,n){"use strict";n.r(e),n.d(e,"addWrapper",(function(){return a})),n.d(e,"capitalizePrint",(function(){return s})),n.d(e,"collectStyles",(function(){return c})),n.d(e,"addHeader",(function(){return u})),n.d(e,"cleanUp",(function(){return d})),n.d(e,"isRawHTML",(function(){return h}));var i=n(/*! ./modal */"./src/js/modal.js"),r=n(/*! ./browser */"./src/js/browser.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return'<div style="font-family:'+e.font+" !important; font-size: "+e.font_size+' !important; width:100%;">'+t+"</div>"}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function c(t,e){for(var n="",i=(document.defaultView||window).getComputedStyle(t,""),r=0;r<i.length;r++)(-1!==e.targetStyles.indexOf("*")||-1!==e.targetStyle.indexOf(i[r])||l(e.targetStyles,i[r]))&&i.getPropertyValue(i[r])&&(n+=i[r]+":"+i.getPropertyValue(i[r])+";");return n+="max-width: "+e.maxWidth+"px !important; font-size: "+e.font_size+" !important;"}function l(t,e){for(var n=0;n<t.length;n++)if("object"===o(e)&&-1!==e.indexOf(t[n]))return!0;return!1}function u(t,e){var n=document.createElement("div");if(h(e.header))n.innerHTML=e.header;else{var i=document.createElement("h1"),r=document.createTextNode(e.header);i.appendChild(r),i.setAttribute("style",e.headerStyle),n.appendChild(i)}t.insertBefore(n,t.childNodes[0])}function d(t){t.showModal&&i.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable);var e="mouseover";(r.default.isChrome()||r.default.isFirefox())&&(e="focus"),window.addEventListener(e,(function n(){window.removeEventListener(e,n),t.onPrintDialogClose();var i=document.getElementById(t.frameId);i&&i.remove()}))}function h(t){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(t)}},"./src/js/html.js":
/*!************************!*\
  !*** ./src/js/html.js ***!
  \************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./functions */"./src/js/functions.js"),r=n(/*! ./print */"./src/js/print.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default={print:function(t,e){var n,a="object"===o(n=t.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?t.printable:document.getElementById(t.printable);a?(t.printableElement=function t(e,n){for(var r=e.cloneNode(),o=Array.prototype.slice.call(e.childNodes),a=0;a<o.length;a++)if(-1===n.ignoreElements.indexOf(o[a].id)){var s=t(o[a],n);r.appendChild(s)}switch(n.scanStyles&&1===e.nodeType&&r.setAttribute("style",Object(i.collectStyles)(e,n)),e.tagName){case"SELECT":r.value=e.value;break;case"CANVAS":r.getContext("2d").drawImage(e,0,0)}return r}(a,t),t.header&&Object(i.addHeader)(t.printableElement,t),r.default.send(t,e)):window.console.error("Invalid HTML element id: "+t.printable)}}},"./src/js/image.js":
/*!*************************!*\
  !*** ./src/js/image.js ***!
  \*************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./functions */"./src/js/functions.js"),r=n(/*! ./print */"./src/js/print.js"),o=n(/*! ./browser */"./src/js/browser.js");e.default={print:function(t,e){t.printable.constructor!==Array&&(t.printable=[t.printable]),t.printableElement=document.createElement("div"),t.printable.forEach((function(e){var n=document.createElement("img");if(n.setAttribute("style",t.imageStyle),n.src=e,o.default.isFirefox()){var i=n.src;n.src=i}var r=document.createElement("div");r.appendChild(n),t.printableElement.appendChild(r)})),t.header&&Object(i.addHeader)(t.printableElement,t),r.default.send(t,e)}}},"./src/js/init.js":
/*!************************!*\
  !*** ./src/js/init.js ***!
  \************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./browser */"./src/js/browser.js"),r=n(/*! ./modal */"./src/js/modal.js"),o=n(/*! ./pdf */"./src/js/pdf.js"),a=n(/*! ./html */"./src/js/html.js"),s=n(/*! ./raw-html */"./src/js/raw-html.js"),c=n(/*! ./image */"./src/js/image.js"),l=n(/*! ./json */"./src/js/json.js");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=["pdf","html","image","json","raw-html"];e.default={init:function(){var t={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(t){throw t},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},e=arguments[0];if(void 0===e)throw new Error("printJS expects at least 1 attribute.");switch(u(e)){case"string":t.printable=encodeURI(e),t.fallbackPrintable=t.printable,t.type=arguments[1]||t.type;break;case"object":for(var n in t.printable=e.printable,t.fallbackPrintable=void 0!==e.fallbackPrintable?e.fallbackPrintable:t.printable,t.fallbackPrintable=t.base64?"data:application/pdf;base64,".concat(t.fallbackPrintable):t.fallbackPrintable,t)"printable"!==n&&"fallbackPrintable"!==n&&(t[n]=void 0!==e[n]?e[n]:t[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+u(e))}if(!t.printable)throw new Error("Missing printable information.");if(!t.type||"string"!=typeof t.type||-1===d.indexOf(t.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");t.showModal&&r.default.show(t),t.onLoadingStart&&t.onLoadingStart();var h=document.getElementById(t.frameId);h&&h.parentNode.removeChild(h);var p=document.createElement("iframe");switch(i.default.isFirefox()?p.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):p.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),p.setAttribute("id",t.frameId),"pdf"!==t.type&&(p.srcdoc="<html><head><title>"+t.documentTitle+"</title>",t.css&&(Array.isArray(t.css)||(t.css=[t.css]),t.css.forEach((function(t){p.srcdoc+='<link rel="stylesheet" href="'+t+'">'}))),p.srcdoc+="</head><body></body></html>"),t.type){case"pdf":if(i.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var f=window.open(t.fallbackPrintable,"_blank");f.focus(),t.onIncompatibleBrowser()}catch(e){t.onError(e)}finally{t.showModal&&r.default.close(),t.onLoadingEnd&&t.onLoadingEnd()}else o.default.print(t,p);break;case"image":c.default.print(t,p);break;case"html":a.default.print(t,p);break;case"raw-html":s.default.print(t,p);break;case"json":l.default.print(t,p)}}}},"./src/js/json.js":
/*!************************!*\
  !*** ./src/js/json.js ***!
  \************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./functions */"./src/js/functions.js"),r=n(/*! ./print */"./src/js/print.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default={print:function(t,e){if("object"!==o(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map((function(e){return{field:"object"===o(e)?e.field:e,displayName:"object"===o(e)?e.displayName:e,columnSize:"object"===o(e)&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}})),t.printableElement=document.createElement("div"),t.header&&Object(i.addHeader)(t.printableElement,t),t.printableElement.innerHTML+=function(t){var e=t.printable,n=t.properties,r='<table style="border-collapse: collapse; width: 100%;">';t.repeatTableHeader&&(r+="<thead>"),r+="<tr>";for(var o=0;o<n.length;o++)r+='<th style="width:'+n[o].columnSize+";"+t.gridHeaderStyle+'">'+Object(i.capitalizePrint)(n[o].displayName)+"</th>";r+="</tr>",t.repeatTableHeader&&(r+="</thead>"),r+="<tbody>";for(var a=0;a<e.length;a++){r+="<tr>";for(var s=0;s<n.length;s++){var c=e[a],l=n[s].field.split(".");if(l.length>1)for(var u=0;u<l.length;u++)c=c[l[u]];else c=c[n[s].field];r+='<td style="width:'+n[s].columnSize+t.gridStyle+'">'+c+"</td>"}r+="</tr>"}return r+="</tbody></table>"}(t),r.default.send(t,e)}}},"./src/js/modal.js":
/*!*************************!*\
  !*** ./src/js/modal.js ***!
  \*************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i={show:function(t){var e=document.createElement("div");e.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),e.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),n.appendChild(r);var o=document.createElement("span");o.setAttribute("class","printSpinner"),n.appendChild(o);var a=document.createTextNode(t.modalMessage);n.appendChild(a),e.appendChild(n),document.getElementsByTagName("body")[0].appendChild(e),document.getElementById("printClose").addEventListener("click",(function(){i.close()}))},close:function(){var t=document.getElementById("printJS-Modal");t&&t.parentNode.removeChild(t)}};e.default=i},"./src/js/pdf.js":
/*!***********************!*\
  !*** ./src/js/pdf.js ***!
  \***********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./print */"./src/js/print.js"),r=n(/*! ./functions */"./src/js/functions.js");function o(t,e,n){var r=new window.Blob([n],{type:"application/pdf"});r=window.URL.createObjectURL(r),e.setAttribute("src",r),i.default.send(t,e)}e.default={print:function(t,e){if(t.base64){var n=Uint8Array.from(atob(t.printable),(function(t){return t.charCodeAt(0)}));o(t,e,n)}else{t.printable=/^(blob|http|\/\/)/i.test(t.printable)?t.printable:window.location.origin+("/"!==t.printable.charAt(0)?"/"+t.printable:t.printable);var i=new window.XMLHttpRequest;i.responseType="arraybuffer",i.addEventListener("error",(function(){Object(r.cleanUp)(t),t.onError(i.statusText,i)})),i.addEventListener("load",(function(){if(-1===[200,201].indexOf(i.status))return Object(r.cleanUp)(t),void t.onError(i.statusText,i);o(t,e,i.response)})),i.open("GET",t.printable,!0),i.send()}}}},"./src/js/print.js":
/*!*************************!*\
  !*** ./src/js/print.js ***!
  \*************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./browser */"./src/js/browser.js"),r=n(/*! ./functions */"./src/js/functions.js"),o={send:function(t,e){document.getElementsByTagName("body")[0].appendChild(e);var n=document.getElementById(t.frameId);n.onload=function(){if("pdf"!==t.type){var e=n.contentWindow||n.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(t.printableElement),"pdf"!==t.type&&t.style){var r=document.createElement("style");r.innerHTML=t.style,e.head.appendChild(r)}var o=e.getElementsByTagName("img");o.length>0?function(t){var e=t.map((function(t){if(t.src&&t.src!==window.location.href)return function(t){return new Promise((function(e){!function n(){t&&void 0!==t.naturalWidth&&0!==t.naturalWidth&&t.complete?e():setTimeout(n,500)}()}))}(t)}));return Promise.all(e)}(Array.from(o)).then((function(){return a(n,t)})):a(n,t)}else i.default.isFirefox()?setTimeout((function(){return a(n,t)}),1e3):a(n,t)}}};function a(t,e){try{if(t.focus(),i.default.isEdge()||i.default.isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(e){t.contentWindow.print()}else t.contentWindow.print()}catch(t){e.onError(t)}finally{i.default.isFirefox()&&(t.style.visibility="hidden",t.style.left="-1px"),Object(r.cleanUp)(e)}}e.default=o},"./src/js/raw-html.js":
/*!****************************!*\
  !*** ./src/js/raw-html.js ***!
  \****************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./print */"./src/js/print.js");e.default={print:function(t,e){t.printableElement=document.createElement("div"),t.printableElement.setAttribute("style","width:100%"),t.printableElement.innerHTML=t.printable,i.default.send(t,e)}}},"./src/sass/index.scss":
/*!*****************************!*\
  !*** ./src/sass/index.scss ***!
  \*****************************/
/*! no static exports found */function(t,e,n){},0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */function(t,e,n){t.exports=n(/*! ./src/index.js */"./src/index.js")}}).default},t.exports=i()},b047:function(t,e,n){"use strict";var i=n("9523"),r=n.n(i),o=(n("a9e3"),n("cca6"),n("2b0e")),a=n("0016"),s=n("b7fa"),c=n("3d69"),l=n("6642"),u=n("d882"),d=n("dde5"),h=n("0cd3");e.a=o.default.extend({name:"QChip",mixins:[c.a,s.a,Object(l.b)({xs:8,sm:10,md:14,lg:20,xl:24})],model:{event:"remove"},props:{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,value:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean},computed:{classes:function(){var t,e=!0===this.outline&&this.color||this.textColor;return t={},r()(t,"bg-".concat(this.color),!1===this.outline&&void 0!==this.color),r()(t,"text-".concat(e," q-chip--colored"),e),r()(t,"disabled",this.disable),r()(t,"q-chip--dense",this.dense),r()(t,"q-chip--outline",this.outline),r()(t,"q-chip--selected",this.selected),r()(t,"q-chip--clickable cursor-pointer non-selectable q-hoverable",this.isClickable),r()(t,"q-chip--square",this.square),r()(t,"q-chip--dark q-dark",this.isDark),t},hasLeftIcon:function(){return!0===this.selected||void 0!==this.icon},leftIcon:function(){return!0===this.selected?this.iconSelected||this.$q.iconSet.chip.selected:this.icon},removeIcon:function(){return this.iconRemove||this.$q.iconSet.chip.remove},isClickable:function(){return!1===this.disable&&(!0===this.clickable||null!==this.selected)},attrs:function(){return!0===this.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:this.tabindex||0}}},methods:{__onKeyup:function(t){13===t.keyCode&&this.__onClick(t)},__onClick:function(t){this.disable||(this.$emit("update:selected",!this.selected),this.$emit("click",t))},__onRemove:function(t){void 0!==t.keyCode&&13!==t.keyCode||(Object(u.l)(t),!this.disable&&this.$emit("remove",!1))},__getContent:function(t){var e=[];!0===this.isClickable&&e.push(t("div",{staticClass:"q-focus-helper"})),!0===this.hasLeftIcon&&e.push(t(a.a,{staticClass:"q-chip__icon q-chip__icon--left",props:{name:this.leftIcon}}));var n=void 0!==this.label?[t("div",{staticClass:"ellipsis"},[this.label])]:void 0;return e.push(t("div",{staticClass:"q-chip__content col row no-wrap items-center q-anchor--skip"},Object(d.b)(n,this,"default"))),this.iconRight&&e.push(t(a.a,{staticClass:"q-chip__icon q-chip__icon--right",props:{name:this.iconRight}})),!0===this.removable&&e.push(t(a.a,{staticClass:"q-chip__icon q-chip__icon--remove cursor-pointer",props:{name:this.removeIcon},attrs:this.attrs,on:Object(h.b)(this,"non",{click:this.__onRemove,keyup:this.__onRemove})})),e}},render:function(t){if(!1!==this.value){var e={staticClass:"q-chip row inline no-wrap items-center",class:this.classes,style:this.sizeStyle};return!0===this.isClickable&&Object.assign(e,{attrs:this.attrs,on:Object(h.b)(this,"click",{click:this.__onClick,keyup:this.__onKeyup}),directives:Object(h.b)(this,"dir#"+this.ripple,[{name:"ripple",value:this.ripple}])}),t("div",e,this.__getContent(t))}}})},b0f0:function(t,e){},b605:function(t,e,n){"use strict";n("0481"),n("4069");var i=n("72a1"),r={name:"DropdownButtonView",props:["buttonClass","onClicked","label","color","icon","size","flat"],computed:{getAppPopupMenuStyle:function(){return this.$store.getters.getAppPopupMenuStyle},getAppButtonStyle:function(){return this.flat?null:this.$store.getters.getAppButtonStyle},getColor:function(){return this.color||"textColorSecondary"},getClass:function(){return this.buttonClass}},methods:{onClick:function(){i.a.execFunction(this.onClicked)}}},o=n("2877"),a=n("ded3"),s=n.n(a),c=(n("ac1f"),n("1276"),n("99af"),n("2b0e")),l=n("c8c8"),u=n("f376"),d=n("0016"),h=n("9c40"),p=n("e7a9"),f=n("4e73"),g=n("dde5"),m=n("d882"),v=n("0cd3"),y=c.default.extend({name:"QBtnDropdown",mixins:[l.a,u.b],inheritAttrs:!1,props:{value:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean},data:function(){return{showing:this.value}},watch:{value:function(t){void 0!==this.$refs.menu&&this.$refs.menu[t?"show":"hide"]()},split:function(){this.hide()}},render:function(t){var e=this,n=Object(g.c)(this,"label",[]),i={"aria-expanded":!0===this.showing?"true":"false","aria-haspopup":"true"};(!0===this.disable||!1===this.split&&!0===this.disableMainBtn||!0===this.disableDropdown)&&(i["aria-disabled"]="true");var r=[t(d.a,{props:{name:this.dropdownIcon||this.$q.iconSet.arrow.dropdown},class:"q-btn-dropdown__arrow"+(!0===this.showing&&!1===this.noIconAnimation?" rotate-180":"")+(!1===this.split?" q-btn-dropdown__arrow-container":"")})];if(!0!==this.disableDropdown&&r.push(t(f.a,{ref:"menu",props:{cover:this.cover,fit:!0,persistent:this.persistent,noRouteDismiss:this.noRouteDismiss,autoClose:this.autoClose,anchor:this.menuAnchor,self:this.menuSelf,offset:this.menuOffset,contentClass:this.contentClass,contentStyle:this.contentStyle,separateClosePopup:!0},on:Object(v.b)(this,"menu",{"before-show":function(t){e.showing=!0,e.$emit("before-show",t)},show:function(t){e.$emit("show",t),e.$emit("input",!0)},"before-hide":function(t){e.showing=!1,e.$emit("before-hide",t)},hide:function(t){e.$emit("hide",t),e.$emit("input",!1)}})},Object(g.c)(this,"default"))),!1===this.split)return t(h.a,{class:"q-btn-dropdown q-btn-dropdown--simple",props:s()(s()({},this.$props),{},{disable:!0===this.disable||!0===this.disableMainBtn,noWrap:!0,round:!1}),attrs:s()(s()({},this.qAttrs),i),on:Object(v.b)(this,"nonSpl",{click:function(t){e.$emit("click",t)}})},n.concat(r));var o=t(h.a,{class:"q-btn-dropdown--current",props:s()(s()({},this.$props),{},{disable:!0===this.disable||!0===this.disableMainBtn,noWrap:!0,iconRight:this.iconRight,round:!1}),attrs:this.qAttrs,on:Object(v.b)(this,"spl",{click:function(t){Object(m.k)(t),e.hide(),e.$emit("click",t)}})},n);return t(p.a,{props:{outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,unelevated:this.unelevated,glossy:this.glossy,stretch:this.stretch},staticClass:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item"},[o,t(h.a,{staticClass:"q-btn-dropdown__arrow-container q-anchor--skip",attrs:i,props:{disable:!0===this.disable||!0===this.disableDropdown,outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,size:this.size,color:this.color,textColor:this.textColor,dense:this.dense,ripple:this.ripple}},r)])},methods:{toggle:function(t){this.$refs.menu&&this.$refs.menu.toggle(t)},show:function(t){this.$refs.menu&&this.$refs.menu.show(t)},hide:function(t){this.$refs.menu&&this.$refs.menu.hide(t)}},mounted:function(){!0===this.value&&this.show()}}),_=n("1c1c"),b=n("eebe"),S=n.n(b),C=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn-dropdown",{class:t.getClass,style:t.getAppButtonStyle,attrs:{"content-style":t.getAppPopupMenuStyle,"content-class":"bg-colorDialog text-textColorPrimary","options-selected-class":"text-colorAccent","dropdown-icon":"expand_more",color:t.getColor,label:t.label,icon:t.icon,size:t.size,"no-caps":"",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("q-list",{staticClass:"non-selectable"},[t._t("list")],2)],1)}),[],!1,null,null,null);e.a=C.exports;S()(C,"components",{QBtnDropdown:y,QList:_.a})},baab:function(t,e){},baf0:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("e260"),n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var i=n("533d"),r={randomBytes:function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n},autoId:function(t){if(t)return i.a.sha1Text(t);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,o="";o.length<20;)for(var a=r.randomBytes(40),s=0;s<a.length;++s)o.length<20&&a[s]<n&&(o+=e.charAt(a[s]%e.length));return o}}},bbf0:function(t,e,n){var i=n("27a3"),r=n("0425");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},befa:function(t,e,n){var i=n("bbf0"),r=n("dd7e"),o=n("9d94"),a=n("0196"),s=n("2f3ab"),c=n("0425"),l=n("7bf0"),u=n("10b0");function d(t){return unescape(encodeURIComponent(t)).length}function h(t,e,n){for(var i,r=[];null!==(i=t.exec(n));)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function p(t){var e,n,r=h(c.NUMERIC,i.NUMERIC,t),o=h(c.ALPHANUMERIC,i.ALPHANUMERIC,t);return l.isKanjiModeEnabled()?(e=h(c.BYTE,i.BYTE,t),n=h(c.KANJI,i.KANJI,t)):(e=h(c.BYTE_KANJI,i.BYTE,t),n=[]),r.concat(o,e,n).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,e){switch(e){case i.NUMERIC:return r.getBitsLength(t);case i.ALPHANUMERIC:return o.getBitsLength(t);case i.KANJI:return s.getBitsLength(t);case i.BYTE:return a.getBitsLength(t)}}function g(t,e){var n,c=i.getBestModeForData(t);if((n=i.from(e,c))!==i.BYTE&&n.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(c));switch(n!==i.KANJI||l.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(t);case i.ALPHANUMERIC:return new o(t);case i.KANJI:return new s(t);case i.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,n){for(var r=function(t,e){for(var n={},r={start:{}},o=["start"],a=0;a<t.length;a++){for(var s=t[a],c=[],l=0;l<s.length;l++){var u=s[l],d=""+a+l;c.push(d),n[d]={node:u,lastCount:0},r[d]={};for(var h=0;h<o.length;h++){var p=o[h];n[p]&&n[p].node.mode===u.mode?(r[p][d]=f(n[p].lastCount+u.length,u.mode)-f(n[p].lastCount,u.mode),n[p].lastCount+=u.length):(n[p]&&(n[p].lastCount=u.length),r[p][d]=f(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,e))}}o=c}for(h=0;h<o.length;h++)r[o[h]].end=0;return{map:r,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];switch(r.mode){case i.NUMERIC:e.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:e.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:e.push([r,{data:r.data,mode:i.BYTE,length:d(r.data)}]);break;case i.BYTE:e.push([{data:r.data,mode:i.BYTE,length:d(r.data)}])}}return e}(p(t,l.isKanjiModeEnabled())),n),o=u.find_path(r.map,"start","end"),a=[],s=1;s<o.length-1;s++)a.push(r.table[o[s]].node);return e.fromArray(function(t){return t.reduce((function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(a))},e.rawSplit=function(t){return e.fromArray(p(t,l.isKanjiModeEnabled()))}},bf07:function(t,e,n){"use strict";var i=n("6374"),r=n.n(i),o=(n("d81d"),n("c9d9")),a=n("5046"),s=n("72a1"),c={name:"ClipDetailsAttachmentsBlock",components:{HorizontalScrollView:n("cd82").a},props:["clip","editable","attachments"],watch:{getUpdateFilesProgress:function(t){var e=this.getAttachments;if(s.a.isArray(e)){var n,i=r()(this.getAttachments);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t[o.id];a&&o.apply(a)}}catch(t){i.e(t)}finally{i.f()}}}},asyncComputed:{getAttachments:function(){var t=this.attachments;if(s.a.isArray(t))return t;var e=this.getClipFileIds;return s.a.arrayIsEmpty(e)?[]:this.$store.dispatch(o.a.onGetFilesByIds,{ids:e})}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getTheme:function(){return this.$store.getters.getSelectedTheme},getChipStyle:function(){return"max-width: 280px;"},getChipTextStyle:function(){return"max-width: 200px"},getBlockHeight:function(){return a.a.getBarStandardHeight()},canHideScrollbars:function(){return!this.getAttachments||this.getAttachments.length<5},getAttachmentsModels:function(){var t=this.getTheme;return(this.getAttachments||[]).map((function(e){var n=e.getState(t),i=n.progressTrackColor,r=n.getIcon(e),o=e.progress,a=e.getTitle();return{attachment:e,progressTrackColor:i,iconColor:n.iconColor,progress:o,title:a,icon:r}}))},getUpdateFilesProgress:function(){return this.$store.getters.getUpdateFilesProgress},getClip:function(){return this.clip},getClipFileIds:function(){return this.getClip.getFileIds()}},methods:{onAttachmentOpen:function(t){this.$store.dispatch(o.a.onViewClipFiles,{files:this.getAttachments,clip:this.getClip,file:t})},onAttachmentRemove:function(t){this.$store.dispatch(o.a.onRemoveClipFiles,{files:[t],clip:this.getClip})}}},l=n("2877"),u=n("b047"),d=n("58ea"),h=n("0016"),p=n("eebe"),f=n.n(p),g=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HorizontalScrollView",{staticClass:"q-mt-md non-selectable",attrs:{height:t.getBlockHeight,"hide-scrollbar":t.canHideScrollbars}},t._l(t.getAttachmentsModels,(function(e){return n("q-chip",{key:e.attachment.id,staticClass:"text-no-wrap ellipsis q-ml-none q-mr-sm",attrs:{color:e.iconColor,removable:t.editable,dark:t.isDarkMode,clickable:"",outline:""},on:{remove:function(n){return t.onAttachmentRemove(e.attachment)},click:function(n){return n.stopPropagation(),t.onAttachmentOpen(e.attachment)}}},[n("q-circular-progress",{staticClass:"q-mr-xs",attrs:{size:"20px",thickness:.15,"track-color":e.progressTrackColor,value:e.progress,color:"positive","show-value":""}},[n("q-icon",{attrs:{name:e.icon,size:"16px"}})],1),n("span",{staticClass:"ellipsis",style:t.getChipTextStyle},[t._v(t._s(e.title))])],1)})),1)}),[],!1,null,null,null);e.a=g.exports;f()(g,"components",{QChip:u.a,QCircularProgress:d.a,QIcon:h.a})},bfd1:function(t,e,n){},c1d9:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a9e3"),n("9911");var i=n("72a1"),r=n("6fbd"),o=n("1cee"),a=n("2667").a.clipto.publicLinks.defineClass({id:Number,uid:String,link:String,title:String,locked:Boolean,password:String,createDate:Date,updateDate:Date,passwordClue:String,unavailable:Boolean,oneTimeOpening:Boolean,expiresAtDate:Date,expiresInMillis:Number,postponeAtDate:Date,postponeInMillis:Number,items:Array,serverTime:Date,legacy:Boolean});a.prototype.apply=function(t){return o.a.debug("public link :: apply",t),t?(t.id&&(this.id=t.id),this.uid=t.uid,this.expiresAtDate=t.expiresAtDate,this.expiresInMillis=t.expiresInMillis,this.postponeAtDate=t.postponeAtDate,this.postponeInMillis=t.postponeInMillis,this.oneTimeOpening=t.oneTimeOpening,this.passwordClue=t.passwordClue,this.unavailable=t.unavailable,this.createDate=t.createDate,this.updateDate=t.updateDate,this.password=t.password,this.locked=t.locked,this.items=t.items,this.link=t.link,this):this},a.prototype.isLocked=function(){return this.locked},a.prototype.isUnavailable=function(){return this.unavailable},a.prototype.isAvailable=function(){return i.a.arrayIsNotEmpty(this.items)},a.prototype.setLocked=function(t){this.locked=t},a.prototype.isOneTimeOpening=function(){return this.oneTimeOpening},a.prototype.setOneTimeOpening=function(t){this.oneTimeOpening=t},a.prototype.hasLink=function(){return!i.a.isNullOrZero(this.link)},a.prototype.getItems=function(){return this.items||[]},a.prototype.isAlreadyOpened=function(){return this.oneTimeOpening&&this.openedTimes>0},a.prototype.isExpired=function(){return this.expired&&this.expired.getTime()<=Date.now()},a.prototype.canBeExpired=function(){var t=this.serverTime,e=this.expired;return i.a.isDate(t)&&i.a.isDate(e)&&e.getTime()>t.getTime()},a.prototype.isPostponed=function(){return this.postponed&&this.postponed.getTime()>Date.now()},a.prototype.getClip=function(){var t=this.getItems();if(i.a.arrayIsEmpty(t))return null;var e=t[0],n=e.data,o=e.entityTypeId;return i.a.isNull(n)||o!==r.a.CLIP.id?null:n},a.prototype.getAppearance=function(){var t=this.link;return i.a.isNull(t)?null:this.isUnavailable()?{icon:"link",iconColor:"negative"}:{icon:"link",iconColor:"positive"}},a.newInstance=function(t){var e=(new a).apply(t);return e.oneTimeOpening=e.oneTimeOpening||!1,e.unavailable=e.unavailable||!1,e.locked=e.locked||!1,e.legacy=e.legacy||!1,e},a.unavailable=function(){var t=new a;return t.unavailable=!0,t}},c466:function(t,e,n){"use strict";var i=n("1cee"),r=n("a8e6"),o=n("cd82"),a=n("c9d9"),s={name:"HorizontalAttrItem",components:{VerticalSeparatorItem:n("891b").a},props:["option"],computed:{getLabel:function(){return this.option.label},getValue:function(){return this.option.value},isSeparator:function(){return this.option.separator}},methods:{onCopyValue:function(){this.$store.dispatch(a.a.onCopyText,{text:this.getValue})}}},c=n("2877"),l=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isSeparator?n("VerticalSeparatorItem"):n("div",{staticClass:"column q-gutter-y-xs items-center",staticStyle:{cursor:"copy"},on:{click:function(e){return e.stopPropagation(),t.onCopyValue(e)}}},[n("div",{staticClass:"text-no-wrap text-textColorPrimary text-caption text-weight-medium"},[t._v(t._s(t.getValue))]),n("div",{staticClass:"text-no-wrap text-textColorSecondary text-caption"},[t._v(t._s(t.getLabel))])])}),[],!1,null,null,null).exports,u={name:"AttrsRowBlock",components:{HorizontalScrollView:o.a,HorizontalAttrItem:l},props:["options"]},d={name:"FileDetailsAttrsBlock",components:{AttrsRowBlock:Object(c.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("HorizontalScrollView",{attrs:{"hide-scrollbar":this.options.length<10,height:"48"}},[e("div",{staticClass:"row no-wrap q-gutter-x-md fit items-center"},this._l(this.options,(function(t){return e("HorizontalAttrItem",{key:t.id,attrs:{option:t}})})),1)])}),[],!1,null,null,null).exports},props:["file"],computed:{getOptions:function(){var t=this.file;return i.a.debug("file attrs",t),[{label:this.$t("attachments_attr_size"),value:r.a.formatSize(t.size)},{separator:!0},{label:this.$t("attachments_attr_type"),value:t.mediaType},{separator:!0},{label:this.$t("attachments_attr_created"),value:r.a.formatDate(t.createDate)},{separator:!0},{label:this.$t("file_attr_last_modified"),value:r.a.formatDate(t.modifyDate)},{separator:!0},{label:this.$t("file_attr_updated"),value:r.a.formatDate(t.updateDate)}]}}},h=Object(c.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("AttrsRowBlock",{attrs:{options:this.getOptions}})}),[],!1,null,null,null);e.a=h.exports},c8aa:function(t,e,n){var i=n("7bf0"),r=n("34fc"),o=n("7a43"),a=n("bbf0"),s=n("27a3"),c=n("e3db"),l=i.getBCHDigit(7973);function u(t,e){return a.getCharCountIndicator(t,e)+4}function d(t,e){var n=0;return t.forEach((function(t){var i=u(t.mode,e);n+=i+t.getBitsLength()})),n}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var o=8*(i.getSymbolTotalCodewords(t)-r.getTotalCodewordsCount(t,e));if(n===a.MIXED)return o;var c=o-u(n,t);switch(n){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){var i,r=o.from(n,o.M);if(c(t)){if(t.length>1)return function(t,n){for(var i=1;i<=40;i++){if(d(t,i)<=e.getCapacity(i,n,a.MIXED))return i}}(t,r);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,i){for(var r=1;r<=40;r++)if(n<=e.getCapacity(r,i,t))return r}(i.mode,i.getLength(),r)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;i.getBCHDigit(e)-l>=0;)e^=7973<<i.getBCHDigit(e)-l;return t<<12|e}},c9d9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={onInitHome:"onInitHome",onShowHint:"onShowHint",onShowError:"onShowError",onShowConfirm:"onShowConfirm",onShowNotification:"onShowNotification",onHandleReferralLink:"onHandleReferralLink",onGenerateReferralLink:"onGenerateReferralLink",onOpenLink:"onOpenLink",onInitElectron:"onInitElectron",onOpenLinkElectron:"onOpenLinkElectron",onPrintClipElectron:"onPrintClipElectron",onAutoLaunchElectron:"onAutoLaunchElectron",onHideOnCopyElectron:"onHideOnCopyElectron",onUpdateElectronState:"onUpdateElectronState",onUpdateHotkeyElectron:"onUpdateHotkeyElectron",onDownloadFileElectron:"onDownloadFileElectron",onCancelDownloadFileElectron:"onCancelDownloadFileElectron",onPasteFromClipboardElectron:"onPasteFromClipboardElectron",onStartElectronInternalAuthFlow:"onStartElectronInternalAuthFlow",onStartElectronExternalAuthFlow:"onStartElectronExternalAuthFlow",onCancelElectronExternalAuthFlow:"onCancelElectronExternalAuthFlow",onElectronAppBarMaximizeMinimize:"onElectronAppBarMaximizeMinimize",onElectronAppBarDoubleClick:"onElectronAppBarDoubleClick",onElectronAppBarClose:"onElectronAppBarClose",onElectronAppBarHide:"onElectronAppBarHide",onElectronCopyText:"onElectronCopyText",onInitApp:"onInitApp",onSelectClip:"onSelectClip",onSyncNewClips:"onSyncNewClips",onSelectAllClips:"onSelectAllClips",onClearClipboard:"onClearClipboard",onClearRecycleBin:"onClearRecycleBin",onUnselectAllClips:"onUnselectAllClips",onSyncSelectedClips:"onSyncSelectedClips",onCopySelectedClips:"onCopySelectedClips",onDeleteSelectedClips:"onDeleteSelectedClips",onUndoDeleteSelectedClips:"onUndoDeleteSelectedClips",onFavSelectedClips:"onFavSelectedClips",onTagSelectedClips:"onTagSelectedClips",onInitClipsSync:"onInitClipsSync",onInitFilesSync:"onInitFilesSync",onCompleteDragAndDrop:"onCompleteDragAndDrop",onCancelDragAndDrop:"onCancelDragAndDrop",onUpdateAvailableAttachments:"onUpdateAvailableAttachments",onAutoSaveSelectedClip:"onAutoSaveSelectedClip",onSaveSelectedClip:"onSaveSelectedClip",onCreateNewClip:"onCreateNewClip",onGetClipText:"onGetClipText",onPrintClip:"onPrintClip",onEditClip:"onEditClip",onSaveClip:"onSaveClip",onCopyClip:"onCopyClip",onRemoveClipFiles:"onRemoveClipFiles",onAddClipFiles:"onAddClipFiles",onAddOrRemoveClipAttachment:"onAddOrRemoveClipAttachment",onViewClipFiles:"onViewClipFiles",onGetLinkPreview:"onGetLinkPreview",onCopyText:"onCopyText",onInitFirebase:"onInitFirebase",onInitAnalytics:"onInitAnalytics",onSignInWithCustomToken:"onSignInWithCustomToken",onSignIn:"onSignIn",onSignOut:"onSignOut",onInitAuth:"onInitAuth",onStartSession:"onStartSession",onCheckSession:"onCheckSession",onInitCloudSync:"onInitCloudSync",onStartAuthFlow:"onStartAuthFlow",onStartInternalAuthFlow:"onStartInternalAuthFlow",onStartExternalAuthFlow:"onStartExternalAuthFlow",onStartMobileAuthFlow:"onStartMobileAuthFlow",onStartZapierAuthFlow:"onStartZapierAuthFlow",onInitSettings:"onInitSettings",onChangeNoteAdditionalAttrsState:"onChangeNoteAdditionalAttrsState",onChangeLeftNavigationState:"onChangeLeftNavigationState",onChangeTextSeparator:"onChangeTextSeparator",onCompleteFirstLaunch:"onCompleteFirstLaunch",onChangeSettingsMode:"onChangeSettingsMode",onChangeWindowSize:"onChangeWindowSize",onRefreshSettings:"onRefreshSettings",onShowHidePreview:"onShowHidePreview",onChangeLanguage:"onChangeLanguage",onChangeTextFont:"onChangeTextFont",onChangeTextSize:"onChangeTextSize",onSaveSettings:"onSaveSettings",onChangeTheme:"onChangeTheme",onApplyAdvancedFilter:"onApplyAdvancedFilter",onSaveAndApplyFilter:"onSaveAndApplyFilter",onToggleFilterGroup:"onToggleFilterGroup",onChangeListStyle:"onChangeListStyle",onChangeSortOrder:"onChangeSortOrder",onCreateNewSnippetKit:"onCreateNewSnippetKit",onCreateNewFilter:"onCreateNewFilter",onCreateNewTag:"onCreateNewTag",onResumeFilter:"onResumeFilter",onDeleteFilter:"onDeleteFilter",onPauseFilter:"onPauseFilter",onResetFilter:"onResetFilter",onApplyFilter:"onApplyFilter",onSaveFilter:"onSaveFilter",onInitFiltersSync:"onInitFiltersSync",onUploadFile:"onUploadFile",onDownloadFile:"onDownloadFile",onGetFileShareUrl:"onGetFileShareUrl",onGetFileDownloadUrl:"onGetFileDownloadUrl",onAutoSaveSelectedFile:"onAutoSaveSelectedFile",onCancelFileUploadProgress:"onCancelFileUploadProgress",onCancelFileDownloadProgress:"onCancelFileDownloadProgress",onGetFilesByIds:"onGetFilesByIds",onReUploadFile:"onReUploadFile",onSaveFile:"onSaveFile",onStartShowFilterDetailsUseCase:"onStartShowFilterDetailsUseCase",onStartEditCommonTagsUseCase:"onStartEditCommonTagsUseCase",onStartAdvancedFilterUseCase:"onStartAdvancedFilterUseCase",onStartShowSettingsUseCase:"onStartShowSettingsUseCase",onStartSelectPlanUseCase:"onStartSelectPlanUseCase",onStartMergeClipsUseCase:"onStartMergeClipsUseCase",onStartEditTagsUseCase:"onStartEditTagsUseCase",onShowBannerUseCase:"onShowBannerUseCase",onRefreshPublicLink:"onRefreshPublicLink",onUnlockPublicLink:"onUnlockPublicLink",onRemovePublicLink:"onRemovePublicLink",onSavePublicLink:"onSavePublicLink",onInitPublicLink:"onInitPublicLink",onGetPublicLink:"onGetPublicLink"}},ca69:function(t,e,n){"use strict";var i={name:"MenuView",props:["autoClose"],computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getAppContextMenuStyle:function(){return this.$store.getters.getAppContextMenuStyle}}},r=n("2877"),o=n("4e73"),a=n("eebe"),s=n.n(a),c=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("q-menu",{attrs:{dark:this.isDarkMode,"auto-close":this.autoClose,"content-style":this.$store.getters.getAppContextMenuStyle}},[this._t("default")],2)}),[],!1,null,null,null);e.a=c.exports;s()(c,"components",{QMenu:o.a})},cb29:function(t,e,n){var i=n("23e7"),r=n("81d5"),o=n("44d2");i({target:"Array",proto:!0},{fill:r}),o("fill")},cd82:function(t,e,n){"use strict";n("99af");var i=n("5046"),r={name:"HorizontalScrollView",props:["height","hideScrollbar"],data:function(){return{width:"100%"}},computed:{isDarkMode:function(){return this.$store.getters.isDarkMode},getScrollStyle:function(){return"height: ".concat(this.height,"px; width: ").concat(this.width)},getThumbStyle:function(){var t=10;return this.hideScrollbar&&(t=0),i.a.getScrollAreaThumbStyle(t)}}},o=n("2877"),a=n("4983"),s=n("eebe"),c=n.n(s),l=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-scroll-area",{staticClass:"non-selectable overflow-hidden-y",style:this.getScrollStyle,attrs:{horizontal:"",dark:this.isDarkMode,"thumb-style":this.getThumbStyle}},[e("div",{staticClass:"row no-wrap fit items-center q-mx-md"},[this._t("default")],2)])}),[],!1,null,null,null);e.a=l.exports;c()(l,"components",{QScrollArea:a.a})},cda8:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("61b4")),a=n("72a1"),s=n("5046"),c=n("1cee"),l=n("c9d9"),u=n("782d"),d=n("cdde");document.onCopyEncodedText=function(t){o.a.runOnUI((function(e){var n=h.decodeText(t),i={clip:u.a.newInstance(n,!0),copied:!0};return c.a.debug("CLIPBOARD :: onCopyEncodedText",n),e.$store.dispatch(l.a.onSaveClip,i)}))};var h={encodedTexts:[],clearEncodedTexts:function(){this.encodedTexts=[]},encodeText:function(t){return this.encodedTexts.push(t)-1},decodeText:function(t){var e=parseInt(t);return c.a.debug("CLIPBOARD :: decodeText",e),this.encodedTexts[e]},onCopyText:function(t,e,n,i){return r()(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.a.debug("CLIPBOARD :: onCopyText",t),!t){r.next=3;break}return r.abrupt("return",Object(d.a)(t).then((function(){return h.onNotify(t,e,n,i)})).catch((function(t){return c.a.error("CLIPBOARD :: onCopyText",t)})));case 3:case"end":return r.stop()}}),r)})))()},onNotify:function(t,e,n,i){if(!a.a.isNull(e))if(n&&i){var r=new Notification(e.$t(n),{body:t});r.onclick=function(){r.close()}}else s.a.showToast(e.$t("clip_snackbar_text_copied"))}}},cdde:function(t,e,n){"use strict";n("d3b7"),n("e6cf");e.a=function(t){return void 0!==navigator.clipboard?navigator.clipboard.writeText(t):new Promise((function(e,n){var i=function(t){var e=document.createElement("textarea");e.value=t,e.contentEditable=!0,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();var n=document.execCommand("copy");return e.remove(),n}(t);i?e(!0):n(i)}))}},d055:function(t,e,n){var i=n("67dd"),r=n("aa63"),o=n("4146"),a=n("4006");function s(t,e,n,o,a){var s=[].slice.call(arguments,1),c=s.length,l="function"==typeof s[c-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=e,e=o=void 0):2!==c||e.getContext||(o=n,n=e,e=void 0),new Promise((function(i,a){try{var s=r.create(n,o);i(t(s,e,o))}catch(t){a(t)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(a=n,n=e,e=o=void 0):3===c&&(e.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=e,e=void 0));try{var u=r.create(n,o);a(null,t(u,e,o))}catch(t){a(t)}}e.create=r.create,e.toCanvas=s.bind(null,o.render),e.toDataURL=s.bind(null,o.renderToDataURL),e.toString=s.bind(null,(function(t,e,n){return a.render(t,n)}))},d0a2:function(t,e,n){"use strict";var i=n("61b4"),r=n("72a1"),o=n("e2db"),a=n("c9d9"),s={name:"ObjectTitleBlock",components:{ActionButton:n("deff").a},props:["onNavigateNextInput","hasAdditionalAttrs","hideAdditionalAttrs","hintTextRes","autofocus","readonly","disable","value"],data:function(){return{title:this.value}},watch:{value:function(t){this.title=t},autofocus:function(){var t=this;i.a.nextTick((function(){return o.a.setFocus(t.$refs.titleView,!0)}))}},computed:{getAttrsIcon:function(){return this.canShowAdditionalAttributes?"expand_less":"expand_more"},getInputMaxLength:function(){return this.$store.getters.remoteConfigMaxLengthTitle},canShowAdditionalAttributes:function(){return this.$store.getters.canShowAdditionalAttributes},isAutoFocus:function(){return!r.a.isNull(this.autofocus)}},methods:{onNavigateNext:function(){r.a.execFunction(this.onNavigateNextInput)},onShowHideAttrs:function(){this.$store.dispatch(a.a.onChangeNoteAdditionalAttrsState)},onInput:function(){this.$emit("input",this.title)}}},c=n("2877"),l=n("27f9"),u=n("0016"),d=n("eebe"),h=n.n(d),p=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{ref:"titleView",staticClass:"text-textColorPrimary q-ml-md q-mr-sm",attrs:{inputClass:"text-textColorPrimary text-h5 scroll-x ellipsis",placeholder:t.$t(t.hintTextRes),maxlength:t.getInputMaxLength,autofocus:t.isAutoFocus,readonly:t.readonly,disable:t.disable,borderless:"",dense:""},on:{input:t.onInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onNavigateNext(e)}},scopedSlots:t._u([t.hideAdditionalAttrs?null:{key:"append",fn:function(){return[n("div",{staticClass:"row q-mr-xs text-no-wrap"},[t._t("actions",[n("ActionButton",{attrs:{icon:t.getAttrsIcon,"on-click":t.onShowHideAttrs}}),!t.canShowAdditionalAttributes&&t.hasAdditionalAttrs?n("q-icon",{staticClass:"absolute-top-right q-mx-sm q-my-sm",attrs:{color:"negative",name:"circle",size:"6px"}}):t._e()])],2)]},proxy:!0}],null,!0),model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})}),[],!1,null,null,null);e.a=p.exports;h()(p,"components",{QInput:l.a,QIcon:u.a})},d0c5:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n("e260"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("5319"),n("498a"),n("4de4");var i=n("72a1"),r=n("e55f"),o=n("c0c4"),a=n.n(o),s=n("abc8"),c=n.n(s),l=new Map,u={"<":"&lt;",">":"&gt;"};function d(t){return u[t]||t}var h={toPascalCase:function(t,e){if(i.a.isNull(t))return null;var n={pascalCase:!0};return e?t.split(e).map((function(t){return c()(t,n)})).join(e):c()(t,n)},inBrackets:function(t){return"(".concat(t,")")},htmlLines:function(t){return t.replace(/\n/g,"<br />")},trimLines:function(t){return t.split("\n").map((function(t){return t.trim()})).join("\n")},sanitize:function(t){return a.a.sanitize(t,{ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})},safe:function(t){return t?t.replace(/[&<>]/g,d):null},highlight:function(t,e,n){if(!t)return"";var o=t;if(n&&(o=h.safe(t)),e){var a=l.get(e);return a||(a=i.a.isArray(e)?e:e.split(",").map((function(t){return t.trim()})).filter((function(t){return t&&t.length>0})),l.set(e,a),0!==a.length)?Object(r.findAll)({searchWords:a,autoEscape:!0,caseSensitive:!1,textToHighlight:o}).map((function(t){var e=t.end,n=t.highlight,i=t.start,r=o.substr(i,e-i);return n?"<mark class='bg-colorAccent'>".concat(r,"</mark>"):r})).join(""):o}return o}}},d1c6:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("970b"),r=n.n(i),o=n("9523"),a=n.n(o),s=n("37f6"),c=n("29a4"),l=function t(){r()(this,t),a()(this,"filterId",void 0),a()(this,"tagIds",void 0),a()(this,"tagIdsWhereType",void 0),a()(this,"locatedInWhereType",void 0),a()(this,"starred",void 0),a()(this,"untagged",void 0),a()(this,"clipboard",void 0),a()(this,"recycled",void 0),a()(this,"snippets",void 0),a()(this,"pinStarred",void 0),a()(this,"pinSnippets",void 0),a()(this,"textLike",void 0),a()(this,"sortBy",void 0),a()(this,"showOnlyWithPublicLink",void 0),a()(this,"showOnlyWithAttachments",void 0),a()(this,"showOnlyNotSynced",void 0),a()(this,"textTypeIn",void 0),a()(this,"createDateFrom",void 0),a()(this,"createDateTo",void 0),a()(this,"createDatePeriod",void 0),a()(this,"updateDateFrom",void 0),a()(this,"updateDateTo",void 0),a()(this,"updateDatePeriod",void 0),a()(this,"cleanupRequest",void 0),a()(this,"snippetSetIds",void 0),a()(this,"snippetSetIdsWhereType",void 0),a()(this,"listStyle",void 0),a()(this,"fileIds",void 0),a()(this,"fileIdsWhereType",void 0),a()(this,"limit",void 0),a()(this,"offset",void 0)};l.prototype.copy=function(t){return this.filterId=t.uid||t.filterId,this.tagIds=t.tagIds,this.tagIdsWhereType=t.tagIdsWhereType,this.textLike=t.textLike,this.starred=t.starred,this.untagged=t.untagged,this.clipboard=t.clipboard,this.recycled=t.recycled,this.snippets=t.snippets,this.sortBy=t.sortBy,this.showOnlyWithPublicLink=t.showOnlyWithPublicLink,this.showOnlyWithAttachments=t.showOnlyWithAttachments,this.showOnlyNotSynced=t.showOnlyNotSynced,this.textTypeIn=t.textTypeIn,this.createDateFrom=t.createDateFrom,this.createDateTo=t.createDateTo,this.createDatePeriod=t.createDatePeriod,this.updateDateFrom=t.updateDateFrom,this.updateDateTo=t.updateDateTo,this.updateDatePeriod=t.updateDatePeriod,this.locatedInWhereType=t.locatedInWhereType,this.snippetSetIds=t.snippetSetIds,this.snippetSetIdsWhereType=t.snippetSetIdsWhereType,this.listStyle=t.listStyle,this.fileIds=t.fileIds,this.fileIdsWhereType=t.fileIdsWhereType,this.offset=t.offset,this.limit=t.limit,this},l.prototype.getCreateTimeInterval=function(){var t=s.a.byId[this.createDatePeriod];return t?t.toInterval(this.createDateFrom,this.createDateTo):new c.a},l.prototype.getUpdateTimeInterval=function(){var t=s.a.byId[this.updateDatePeriod];return t?t.toInterval(this.updateDateFrom,this.updateDateTo):new c.a},l.newInstance=function(t,e){var n=new l;return n.limit=t,n.offset=e,n}},d1fd:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={CLICK:"CLICK",KEYBOARD:"KEYBOARD"}},d577:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var i=n("448a"),r=n.n(i),o=n("6374"),a=n.n(o),s=n("c973"),c=n.n(s),l=(n("d3b7"),n("159b"),n("4de4"),n("3ca3"),n("e260"),n("ddb0"),n("caad"),n("2532"),n("e6cf"),n("a79d"),n("7db0"),n("fb6a"),n("99af"),n("a4d3"),n("e01a"),n("d81d"),n("2ca0"),n("96cf"),n("96e4")),u=n("e6d6"),d=n("89da"),h=n("403c"),p=n("f52e"),f=n("e8ea"),g=n("27f0"),m=n("2063"),v=n("25d0"),y=n("fb10"),_=n("f936"),b=n("72a1"),S=n("5046"),C=n("ed99"),T=n("1cee"),w=n("c9d9"),I=n("d975"),E=n("782d"),A={terminate:function(){d.a.stopSync()},initSync:function(t){return c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.a.startSync(t,(function(e){return x(t,e)}),(function(e){return D(t,e)}),(function(e){return L(t,e)}),(function(e){return L(t,e)}));case 1:case"end":return e.stop()}}),e)})))()},getNotSynced:function(){return v.a.getNotSynced()},favAll:function(t,e,n){return e.forEach((function(t){return t.setStarred(n)})),I.a.inTx("update fav",(function(){return v.a.saveAll(e)})).then(c()(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.getters.getAuthUserCollection){i.next=7;break}return(r={})[u.a.ATTR_CLIP_FAV]=n,o=e.filter((function(t){return t.isSynced()})),i.next=7,u.a.splitBatches(t,o,function(){var e=c()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.inTx("fav",c()(regeneratorRuntime.mark((function e(){var i,o,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=u.a.createFirebaseBatch(),o=[],s=a()(n);try{for(s.s();!(c=s.n()).done;)l=c.value,d.a.saveInBatch(t,l,i,r)&&o.push(l)}catch(t){s.e(t)}finally{s.f()}if(!b.a.arrayIsNotEmpty(o)){e.next=7;break}return e.next=7,v.a.saveAll(o);case 7:i.commit().then((function(){return T.a.debug("batch completed for fav")}));case 8:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return i.stop()}}),i)}))))},syncAll:function(t,e){return c()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.getters.getAuthUser,t.getters.getAuthUserCollection){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,u.a.splitBatches(t,e,function(){var e=c()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getters.isSyncRestricted){e.next=10;break}return e.next=3,I.a.inTx("Update synced clips",c()(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.a.createFirebaseBatch(),n.forEach((function(e){return d.a.saveInBatch(t,e,i)})),e.next=4,v.a.saveAll(n,t);case 4:i.commit().then((function(){return T.a.debug("batch completed")}));case 5:case"end":return e.stop()}}),e)}))));case 3:return e.next=5,v.a.getSyncedClipsCount();case 5:if(!(e.sent>=t.getters.getSyncLimit)){e.next=10;break}return i.syncIsRestricted=!0,e.next=10,y.a.save(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)})))()},tagAll:function(t,e,n,i){return I.a.inTx("update tags",c()(regeneratorRuntime.mark((function t(){var o,s,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],s=a()(e),t.prev=2,s.s();case 4:if((c=s.n()).done){t.next=13;break}return l=c.value,t.next=8,v.a.getById(l.id);case 8:if(!(u=t.sent)){t.next=11;break}return t.delegateYield(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(a=l.getTagIds()).filter((function(t){return!i.includes(t)})),(e=a).push.apply(e,r()(n.filter((function(t){return!a.includes(t)})))),l.setTagIds(a),b.a.areObjectsTheSame(u.getTagIds(),a)){t.next=9;break}return t.next=7,m.a.update(u,l);case 7:u.setTagIds(a),o.push(u);case 9:case"end":return t.stop()}}),t)}))(),"t0",11);case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(2),s.e(t.t1);case 18:return t.prev=18,s.f(),t.finish(18);case 21:if(!b.a.arrayIsNotEmpty(o)){t.next=24;break}return t.next=24,v.a.saveAll(o);case 24:return t.abrupt("return",o);case 25:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))).then(function(){var e=c()(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.getters.getAuthUserCollection){e.next=5;break}return i=n.filter((function(t){return t.isSynced()})),e.next=5,u.a.splitBatches(t,i,function(){var e=c()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.inTx("assign tags",c()(regeneratorRuntime.mark((function e(){var i,r,o,s,c,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=u.a.createFirebaseBatch(),r=u.a.getServerTimestamp(),o=[],s=a()(n);try{for(s.s();!(c=s.n()).done;)l=c.value,(h={})[u.a.ATTR_CLIP_UPDATE_DATE]=r,h[u.a.ATTR_CLIP_TAG_IDS]=l.tagIds,h[u.a.ATTR_API_VERSION]=g.a.apiVersion,d.a.saveInBatch(t,l,i,h)&&o.push(l)}catch(t){s.e(t)}finally{s.f()}if(!b.a.arrayIsNotEmpty(o)){e.next=8;break}return e.next=8,v.a.saveAll(o);case 8:i.commit().then((function(){return T.a.debug("batch completed for assign tags")}));case 9:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},clearRecycleBin:function(t){return c()(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getDeletedCleanupClips();case 2:return n=e.sent,e.abrupt("return",A.deleteAll(t,n,!1,!0));case 4:case"end":return e.stop()}}),e)})))()},clearClipboard:function(t){return c()(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getClipboardCleanupClips();case 2:return n=e.sent,e.abrupt("return",A.deleteAll(t,n,!1,!0));case 4:case"end":return e.stop()}}),e)})))()},deleteAll:function(t,e,n,i){return c()(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return S.a.showLoadingState(),o.abrupt("return",I.a.inTx("delete clips",c()(regeneratorRuntime.mark((function n(){var o,s,c,l,u,d,h,p,f,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i&&null!=e.find((function(t){return!t.isDeleted()}))){n.next=6;break}return n.next=3,v.a.deleteAll(e,t);case 3:return n.abrupt("return",e);case 6:o=new Date,s=[],c=[],l=a()(e),n.prev=10,l.s();case 12:if((u=l.n()).done){n.next=20;break}return d=u.value,n.next=16,m.a.update(d,null);case 16:d.deleteDate=o,s.push(d);case 18:n.next=12;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(10),l.e(n.t0);case 25:return n.prev=25,l.f(),n.finish(25);case 28:return n.next=30,v.a.saveAll(s);case 30:if((p=_.a.getFilters()).deleted&&(h=p.deleted.limit),h||(h=t.getters.remoteConfigLimitDeletedNotesDefault),!(h>0)){n.next=46;break}return n.next=36,v.a.getDeletedClipsCount();case 36:if(f=n.sent,!((g=f-h)>0)){n.next=46;break}if(!(g>0)){n.next=46;break}return n.next=42,v.a.getDeletedCleanupClips();case 42:return c=(c=n.sent).slice(0,g),n.next=46,v.a.deleteAll(c);case 46:return n.abrupt("return",s.concat.apply(s,r()(c)));case 47:case"end":return n.stop()}}),n,null,[[10,22,25,28]])})))).then(function(){var e=c()(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.getters.getAuthUserCollection){e.next=4;break}return i=n.filter((function(t){return t.isSynced()})),e.next=4,u.a.splitBatches(t,i,(function(e){var n=u.a.createFirebaseBatch();d.a.deleteAllInBatch(t,e,n),n.commit().then((function(){return T.a.debug("batch completed")}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){var i=b.a.takeIf(e,(function(){return n}));t.commit(C.a.REQUEST_UNDO_DELETE,i),t.commit(C.a.UPDATE_CLIP,e)})).then((function(){return t.dispatch(w.a.onUnselectAllClips)})).then((function(){return t.commit(C.a.REQUEST_SHOW_FILTER_DETAILS)})).finally((function(){S.a.hideLoadingState()})));case 2:case"end":return o.stop()}}),o)})))()},undoDeleteAll:function(t,e){return c()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S.a.showLoadingState(),n.abrupt("return",I.a.inTx("undo delete clips",(function(){return v.a.undoDeleteAll(e)})).then(c()(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.getters.getAuthUserCollection){n.next=5;break}return i=e.filter((function(t){return t.isSynced()})),n.next=5,u.a.splitBatches(t,i,function(){var e=c()(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.inTx("undo delete",c()(regeneratorRuntime.mark((function e(){var i,r,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=u.a.createFirebaseBatch(),r=[],o=a()(n);try{for(o.s();!(s=o.n()).done;)c=s.value,d.a.saveInBatch(t,c,i)&&r.push(c)}catch(t){o.e(t)}finally{o.f()}if(!b.a.arrayIsNotEmpty(r)){e.next=7;break}return e.next=7,v.a.saveAll(r);case 7:i.commit().then((function(){return T.a.debug("batch completed for undo")}));case 8:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})))).then((function(){return t.dispatch(w.a.onUnselectAllClips)})).then((function(){return t.commit(C.a.UPDATE_CLIP,e)})).then((function(){return t.dispatch(w.a.onApplyFilter)})).finally((function(){return S.a.hideLoadingState()})));case 2:case"end":return n.stop()}}),n)})))()},canSync:function(t,e){return t.getters.canSyncNotes&&(!e.isTracked()||_.a.getSettings().universalClipboard)},save:function(t,e,n,i){return c()(regeneratorRuntime.mark((function r(){var o,a,s,h,f,m,y,S,C,w,x,k,D,R,L,F,O,P,N;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.getKitIds(),a=e.getFileIds(),s=e.getFileIds(),h=e.getTagIds(),f=e.abbreviation,m=e.description,y=e.objectType,S=e.modifyDate,C=e.deleteDate,w=e.usageCount,x=e.snippetId,k=e.textType,D=e.title,R=e.text,L=e.fav,F=!1,O=!1,P=!1,r.next=20,v.a.getById(e.id);case 20:if((N=r.sent)||!e.isTracked()){r.next=25;break}return r.next=24,v.a.getByText(e.text);case 24:N=r.sent;case 25:if(!N){r.next=47;break}o=N.getKitIds(),a=N.getFileIds(),f=N.abbreviation,m=N.description,y=N.objectType,S=N.modifyDate,C=N.deleteDate,w=N.usageCount,x=N.snippetId,h=N.getTagIds(),k=N.textType,D=N.title,R=N.text,L=N.fav,n=n||!e.id&&e.isTracked(),O=n||!E.a.areTheSame(N,e),F=!b.a.areObjectsTheSame(s,a),P=!b.a.areObjectsTheSame(e.publicLink,N.publicLink),T.a.debug("clip changed? contentChanged =",O,"filesChanged =",F,"publicLinkChanged =",P),r.next=53;break;case 47:if(O=!0,P=!1,F=b.a.arrayIsNotEmpty(s),!n||t.getters.canTrackClipboard){r.next=53;break}return T.a.debug("skip save due to disabled clipboard tracking",R),r.abrupt("return",e);case 53:return r.abrupt("return",I.a.inTx("save clip",c()(regeneratorRuntime.mark((function r(){var a,c,I,E,B,M,q,U,$;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=null,I=!1,E=(a=e).isSynced(),B=t.getters.isAuthorized,M=B&&A.canSync(t,a),N||!a.isTracked()){r.next=14;break}return r.next=9,v.a.getClipboardExceedingClips(a);case 9:if(c=r.sent,!b.a.arrayIsNotEmpty(c)){r.next=14;break}return r.next=13,v.a.deleteAll(c,t);case 13:M||(M=B&&!t.getters.isSyncDisabled&&_.a.getSettings().universalClipboard,T.a.debug("CLIPBOARD :: update sync state",M));case 14:if(B&&(M||N)&&(q=a.firestoreId,a.firestoreId=d.a.getFirestoreId(a),I=q!==a.firestoreId),!(I||O||F||P)){r.next=59;break}return r.next=18,v.a.createOrUpdate(a,n,t);case 18:if(a=r.sent,!b.a.arrayIsNotEmpty(i)){r.next=22;break}return r.next=22,v.a.deleteAll(i,t);case 22:if(!B){r.next=59;break}if(E){r.next=34;break}if(!(M||b.a.arrayIsNotEmpty(i)||b.a.arrayIsNotEmpty(c))){r.next=32;break}if(!M||!d.a.save(t,a)){r.next=28;break}return r.next=28,v.a.save(a);case 28:return r.next=30,u.a.splitBatches(t,i,(function(e){var n=u.a.createFirebaseBatch();d.a.deleteAllInBatch(t,e,n),n.commit().then((function(){return T.a.debug("mergedClips :: batch completed")}))}));case 30:return r.next=32,u.a.splitBatches(t,c,(function(e){var n=u.a.createFirebaseBatch();d.a.deleteAllInBatch(t,e,n),n.commit().then((function(){return T.a.debug("sourceClips :: batch completed")}))}));case 32:r.next=59;break;case 34:if(!N){r.next=59;break}if(U={},$=!1,D!==a.title&&(U[u.a.ATTR_CLIP_TITLE]=a.title,$=!0),x!==a.snippetId&&(U[u.a.ATTR_CLIP_SNIPPET_ID]=a.snippetId,$=!0),R!==a.text&&(U[u.a.ATTR_CLIP_TEXT]=a.text,$=!0),w!==a.usageCount&&(U[u.a.ATTR_CLIP_UPDATE_DATE]=u.a.getServerTimestamp(),U[u.a.ATTR_CLIP_USAGE_COUNT]=a.usageCount,$=!0),b.a.areNumbersTheSame(k,a.textType)||(U[u.a.ATTR_CLIP_TEXT_TYPE]=a.textType,$=!0),b.a.areNumbersTheSame(y,a.objectType)||(U[u.a.ATTR_CLIP_OBJECT_TYPE]=a.objectType,$=!0),b.a.areObjectsTheSame(h,a.getTagIds())||(U[u.a.ATTR_CLIP_TAG_IDS]=a.getTagIds(),$=!0),b.a.areObjectsTheSame(o,a.getKitIds())||(U[u.a.ATTR_CLIP_SNIPPET_SETS_IDS]=a.getKitIds(),$=!0),f!==a.abbreviation&&(U[u.a.ATTR_CLIP_ABBREVIATION]=a.abbreviation,$=!0),m!==a.description&&(U[u.a.ATTR_CLIP_DESCRIPTION]=a.description,$=!0),L!==a.fav&&(U[u.a.ATTR_CLIP_FAV]=a.isStarred(),$=!0),a.modifyDate&&!b.a.areDatesTheSame(S,a.modifyDate,"modifyDate")&&(U[u.a.ATTR_CLIP_MODIFY_DATE]=p.a.toTimestamp(a.modifyDate),$=!0),b.a.areDatesTheSame(C,a.deleteDate,"deleteDate")||(U[u.a.ATTR_CLIP_DELETE_DATE]=p.a.toTimestamp(a.deleteDate,!0),$=!0),F&&(U[u.a.ATTR_CLIP_FILE_IDS]=s,$=!0),P&&(U[u.a.ATTR_CLIP_PUBLIC_LINK]=l.a.toMap(a.publicLink),$=!0),!$){r.next=59;break}if(U[u.a.ATTR_API_VERSION]=g.a.apiVersion,!d.a.save(t,a,U)){r.next=57;break}return r.next=57,v.a.save(a);case 57:return r.next=59,u.a.splitBatches(t,i,(function(e){var n=u.a.createFirebaseBatch();d.a.deleteAllInBatch(t,e,n),n.commit().then((function(){return T.a.debug("mergedClips :: batch completed")}))}));case 59:return r.abrupt("return",a);case 60:case"end":return r.stop()}}),r)})))));case 54:case"end":return r.stop()}}),r)})))()}};function x(t,e){return k.apply(this,arguments)}function k(){return(k=c()(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.filter((function(t){return"removed"!==t.type&&!t.doc.metadata.hasPendingWrites&&!t.doc.id.startsWith("b_")})).map((function(t){return h.a.fromMap(t)})),!b.a.arrayIsNotEmpty(i)){t.next=4;break}return S.a.showLoadingState(),t.abrupt("return",I.a.inTx("initialClips",c()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v.a.saveAllInitial(i));case 1:case"end":return t.stop()}}),t)})))).then((function(){return f.a.migrate(e,i.filter((function(t){return b.a.arrayIsNotEmpty(t.files)})))})).finally((function(){return S.a.hideLoadingState()})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e){return R.apply(this,arguments)}function R(){return(R=c()(regeneratorRuntime.mark((function t(e,n){var i,r,o,s,l,u,d,p,g,y,S,A,x,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.filter((function(t){return"removed"!==t.type&&!t.doc.metadata.hasPendingWrites&&!t.doc.id.startsWith("b_")})).map((function(t){return h.a.fromMap(t)})),!b.a.arrayIsNotEmpty(i)){t.next=39;break}r=1===i.length&&_.a.getSettings().universalClipboard,o=[],s=[],l=null,u=a()(i),t.prev=7,p=regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.value,n=s.find((function(t){return t.firestoreId===e.firestoreId}))){t.next=6;break}return t.next=5,v.a.getByFirestoreId(e.firestoreId);case 5:n=t.sent;case 6:n&&E.a.areTheSame(n,e)||(n&&!n.isDeleted()&&e.isDeleted()?o.push({prevClip:n,newClip:null}):n&&n.isDeleted()&&!e.isDeleted()?o.push({prevClip:null,newClip:e}):o.push({prevClip:n,newClip:e}),n&&(e.id=n.id),s.push(e),r&&!l&&(n?n.usageCount<e.usageCount&&(l=e):e.isTracked()&&(l=e)));case 7:case"end":return t.stop()}}),t)})),u.s();case 10:if((d=u.n()).done){t.next=14;break}return t.delegateYield(p(),"t0",12);case 12:t.next=10;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(7),u.e(t.t1);case 19:return t.prev=19,u.f(),t.finish(19);case 22:if(!b.a.arrayIsNotEmpty(s)){t.next=35;break}return T.a.debug("snapshotClips :: to be changed",s.length),g=e,y=s[0],S=e.getters.isStateEdit,A=e.getters.getSelectedClip,1===s.length&&S&&A&&A.id===y.id&&(g=null),t.next=31,I.a.inTx("sync with server state",c()(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a()(o),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=n.value,t.next=7,m.a.update(i.prevClip,i.newClip);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:return t.next=19,v.a.saveAll(s,g);case 19:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))));case 31:if(x=s.filter((function(t){return b.a.arrayIsNotEmpty(t.files)})),b.a.arrayIsEmpty(x)){t.next=35;break}return t.next=35,f.a.migrate(e,x);case 35:if(!l||l.isDeleted()){t.next=39;break}return k={titleRes:"settings_universal_clipboard_title",descriptionRes:"clip_snackbar_text_copied",text:l.text},t.next=39,e.dispatch(w.a.onCopyText,k).then((function(){return e.commit(C.a.SET_ACTIVE_CLIPBOARD_CLIP,l)}));case 39:case"end":return t.stop()}}),t,null,[[7,16,19,22]])})))).apply(this,arguments)}function L(t,e){return F.apply(this,arguments)}function F(){return(F=c()(regeneratorRuntime.mark((function t(e,n){var i,r,o,s,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.filter((function(t){return"removed"!==t.type&&!t.doc.metadata.hasPendingWrites})).map((function(t){return h.a.fromMap(t)})),!b.a.arrayIsNotEmpty(i)){t.next=25;break}r=[],o=a()(i),t.prev=4,o.s();case 6:if((s=o.n()).done){t.next=14;break}return l=s.value,t.next=10,v.a.getByFirestoreId(l.firestoreId);case 10:(u=t.sent)&&r.push(u);case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:if(!b.a.arrayIsNotEmpty(r)){t.next=25;break}return t.next=25,I.a.inTx("sync with server state",c()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.deleteAll(r,e);case 2:case"end":return t.stop()}}),t)}))));case 25:case"end":return t.stop()}}),t,null,[[4,16,19,22]])})))).apply(this,arguments)}},d6c0:function(t,e,n){var i=n("7bf0").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=i(t),r=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7],a=1;a<e-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},e.getPositions=function(t){for(var n=[],i=e.getRowColCoords(t),r=i.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||n.push([i[o],i[a]]);return n}},d975:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("1cee"),r=n("2667").a.clipto,o={tables:[r.clips,r.tags,r.users,r.filters,r.settings,r.fileRefs],inTx:function(t,e){return i.a.debug("inTx",t),r.transaction("rw",o.tables,(function(){return e()}))}}},db86:function(t,e){},dd7e:function(t,e,n){var i=n("bbf0");function r(t){this.mode=i.NUMERIC,this.data=t.toString()}r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);var r=this.data.length-e;r>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,3*r+1))},t.exports=r},ddd8:function(t,e,n){"use strict";var i=n("9523"),r=n.n(i),o=n("ded3"),a=n.n(o),s=(n("caad"),n("a9e3"),n("4de4"),n("d3b7"),n("d81d"),n("a15b"),n("fb6a"),n("99af"),n("a434"),n("c740"),n("7db0"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("1276"),n("00b4"),n("2b0e")),c=n("8572"),l=n("0016"),u=n("b047"),d=n("66e5"),h=n("4074"),p=n("0170"),f=n("4e73"),g=n("24e8"),m=n("5ff7"),v=n("d882"),y=n("7937"),_=n("d728"),b=n("dde5"),S=n("0cd3"),C=n("f89c"),T=n("e48b"),w=n("21e1"),I=n("87e8"),E=function(t){return["add","add-unique","toggle"].includes(t)};e.a=s.default.extend({name:"QSelect",mixins:[c.a,T.a,w.a,C.a,I.a],props:{value:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueSanitize:Boolean,dropdownIcon:String,options:{type:Array,default:function(){return[]}},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsSanitize:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:E},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,behavior:{type:String,validator:function(t){return["default","menu","dialog"].includes(t)},default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0}},data:function(){return{menu:!1,dialog:!1,optionIndex:-1,inputValue:"",dialogFieldFocused:!1}},watch:{innerValue:{handler:function(t){this.innerValueCache=t,!0===this.useInput&&!0===this.fillInput&&!0!==this.multiple&&!0!==this.innerLoading&&(!0!==this.dialog&&!0!==this.menu||!0!==this.hasValue)&&(!0!==this.userInputValue&&this.__resetInputValue(),!0!==this.dialog&&!0!==this.menu||this.filter(""))},immediate:!0},fillInput:function(){this.__resetInputValue()},menu:function(t){this.__updateMenu(t)}},computed:{isOptionsDark:function(){return null===this.optionsDark?this.isDark:this.optionsDark},virtualScrollLength:function(){return Array.isArray(this.options)?this.options.length:0},fieldClass:function(){return"q-select q-field--auto-height q-select--with".concat(!0!==this.useInput?"out":"","-input")+" q-select--with".concat(!0!==this.useChips?"out":"","-chips")+" q-select--".concat(!0===this.multiple?"multiple":"single")},computedInputClass:function(){return!0===this.hideSelected||0===this.innerValue.length?this.inputClass:void 0===this.inputClass?"q-field__input--padding":[this.inputClass,"q-field__input--padding"]},menuContentClass:function(){return(!0===this.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(this.popupContentClass?" "+this.popupContentClass:"")},innerValue:function(){var t=this,e=!0===this.mapOptions&&!0!==this.multiple,n=void 0===this.value||null===this.value&&!0!==e?[]:!0===this.multiple&&Array.isArray(this.value)?this.value:[this.value];if(!0===this.mapOptions&&!0===Array.isArray(this.options)){var i=!0===this.mapOptions&&void 0!==this.innerValueCache?this.innerValueCache:[],r=n.map((function(e){return t.__getOption(e,i)}));return null===this.value&&!0===e?r.filter((function(t){return null!==t})):r}return n},noOptions:function(){return 0===this.virtualScrollLength},selectedString:function(){var t=this;return this.innerValue.map((function(e){return t.getOptionLabel(e)})).join(", ")},sanitizeFn:function(){return!0===this.optionsSanitize?function(){return!0}:function(t){return null!=t&&!0===t.sanitize}},displayAsText:function(){return!0===this.displayValueSanitize||void 0===this.displayValue&&(!0===this.optionsSanitize||this.innerValue.some(this.sanitizeFn))},computedTabindex:function(){return!0===this.focused?this.tabindex:-1},selectedScope:function(){var t=this;return this.innerValue.map((function(e,n){return{index:n,opt:e,sanitize:t.sanitizeFn(e),selected:!0,removeAtIndex:t.__removeAtIndexAndFocus,toggleOption:t.toggleOption,tabindex:t.computedTabindex}}))},optionScope:function(){var t=this;if(0===this.virtualScrollLength)return[];var e=this.virtualScrollSliceRange,n=e.from,i=e.to,r=this.__optionScopeCache,o=r.options,s=r.optionEls;return this.options.slice(n,i).map((function(e,i){var r=!0===t.isOptionDisabled(e),c=n+i,l={clickable:!0,active:!1,activeClass:t.computedOptionsSelectedClass,manualFocus:!0,focused:!1,disable:r,tabindex:-1,dense:t.optionsDense,dark:t.isOptionsDark},u={role:"option",id:"".concat(t.targetUid,"_").concat(c)};!0!==r&&(!0===t.isOptionSelected(e)&&(l.active=!0),u["aria-selected"]=!0===l.active?"true":"false",t.optionIndex===c&&(l.focused=!0));var d={click:function(){t.toggleOption(e)}};!0===t.$q.platform.is.desktop&&(d.mousemove=function(){t.setOptionIndex(c)});var h={index:c,opt:e,sanitize:t.sanitizeFn(e),selected:l.active,focused:l.focused,toggleOption:t.toggleOption,setOptionIndex:t.setOptionIndex,itemProps:l,itemAttrs:u};return void 0!==o[i]&&!0===Object(m.b)(h,o[i])||(o[i]=h,s[i]=void 0),a()(a()({},h),{},{itemEvents:d})}))},dropdownArrowIcon:function(){return void 0!==this.dropdownIcon?this.dropdownIcon:this.$q.iconSet.arrow.dropdown},squaredMenu:function(){return!1===this.optionsCover&&!0!==this.outlined&&!0!==this.standout&&!0!==this.borderless&&!0!==this.rounded},computedOptionsSelectedClass:function(){return void 0!==this.optionsSelectedClass?this.optionsSelectedClass:void 0!==this.color?"text-".concat(this.color):""},innerOptionsValue:function(){var t=this;return this.innerValue.map((function(e){return t.getOptionValue(e)}))},getOptionValue:function(){return this.__getPropValueFn("optionValue","value")},getOptionLabel:function(){return this.__getPropValueFn("optionLabel","label")},isOptionDisabled:function(){return this.__getPropValueFn("optionDisable","disable")},inputControlEvents:function(){var t=this,e={input:this.__onInput,change:this.__onChange,keydown:this.__onTargetKeydown,keyup:this.__onTargetAutocomplete,keypress:this.__onTargetKeypress,focus:this.__selectInputText,click:function(e){!0===t.hasDialog&&Object(v.k)(e)}};return e.compositionstart=e.compositionupdate=e.compositionend=this.__onComposition,e},virtualScrollItemSizeComputed:function(){return void 0===this.virtualScrollItemSize?!0===this.dense?24:48:this.virtualScrollItemSize},comboboxAttrs:function(){return{role:"combobox","aria-multiselectable":!0===this.multiple?"true":"false","aria-expanded":!0===this.menu?"true":"false","aria-owns":"".concat(this.targetUid,"_lb"),"aria-activedescendant":"".concat(this.targetUid,"_").concat(this.optionIndex)}},listboxAttrs:function(){return{role:"listbox",id:"".concat(this.targetUid,"_lb")}}},methods:{getEmittingOptionValue:function(t){return!0===this.emitValue?this.getOptionValue(t):t},removeAtIndex:function(t){if(t>-1&&t<this.innerValue.length)if(!0===this.multiple){var e=this.value.slice();this.$emit("remove",{index:t,value:e.splice(t,1)[0]}),this.$emit("input",e)}else this.$emit("input",null)},__removeAtIndexAndFocus:function(t){this.removeAtIndex(t),this.__focus()},add:function(t,e){var n=this.getEmittingOptionValue(t);if(!0!==this.multiple)return!0===this.fillInput&&this.updateInputValue(this.getOptionLabel(t),!0,!0),void this.$emit("input",n);if(0===this.innerValue.length)return this.$emit("add",{index:0,value:n}),void this.$emit("input",!0===this.multiple?[n]:n);if(!(!0===e&&!0===this.isOptionSelected(t)||void 0!==this.maxValues&&this.value.length>=this.maxValues)){var i=this.value.slice();this.$emit("add",{index:i.length,value:n}),i.push(n),this.$emit("input",i)}},toggleOption:function(t,e){if(!0===this.editable&&void 0!==t&&!0!==this.isOptionDisabled(t)){var n=this.getOptionValue(t);if(!0!==this.multiple)return!0!==e&&(this.updateInputValue(!0===this.fillInput?this.getOptionLabel(t):"",!0,!0),this.hidePopup()),void 0!==this.$refs.target&&this.$refs.target.focus(),void(!0!==Object(m.b)(this.getOptionValue(this.innerValue[0]),n)&&this.$emit("input",!0===this.emitValue?n:t));if((!0!==this.hasDialog||!0===this.dialogFieldFocused)&&this.__focus(),this.__selectInputText(),0===this.innerValue.length){var i=!0===this.emitValue?n:t;return this.$emit("add",{index:0,value:i}),void this.$emit("input",!0===this.multiple?[i]:i)}var r=this.value.slice(),o=this.innerOptionsValue.findIndex((function(t){return Object(m.b)(t,n)}));if(o>-1)this.$emit("remove",{index:o,value:r.splice(o,1)[0]});else{if(void 0!==this.maxValues&&r.length>=this.maxValues)return;var a=!0===this.emitValue?n:t;this.$emit("add",{index:r.length,value:a}),r.push(a)}this.$emit("input",r)}},setOptionIndex:function(t){if(!0===this.$q.platform.is.desktop){var e=t>-1&&t<this.virtualScrollLength?t:-1;this.optionIndex!==e&&(this.optionIndex=e)}},moveOptionSelection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;if(!0===this.menu){var n=this.optionIndex;do{n=Object(y.e)(n+t,-1,this.virtualScrollLength-1)}while(-1!==n&&n!==this.optionIndex&&!0===this.isOptionDisabled(this.options[n]));this.optionIndex!==n&&(this.setOptionIndex(n),this.scrollTo(n),!0!==e&&!0===this.useInput&&!0===this.fillInput&&this.__setInputValue(n>=0?this.getOptionLabel(this.options[n]):this.defaultInputValue))}},__getOption:function(t,e){var n=this,i=function(e){return Object(m.b)(n.getOptionValue(e),t)};return this.options.find(i)||e.find(i)||t},__getPropValueFn:function(t,e){var n=void 0!==this[t]?this[t]:e;return"function"==typeof n?n:function(t){return Object(t)===t&&n in t?t[n]:t}},isOptionSelected:function(t){var e=this.getOptionValue(t);return void 0!==this.innerOptionsValue.find((function(t){return Object(m.b)(t,e)}))},__selectInputText:function(){!0===this.useInput&&void 0!==this.$refs.target&&this.$refs.target.select()},__onTargetKeyup:function(t){!0===Object(_.a)(t,27)&&!0===this.menu&&(Object(v.k)(t),this.hidePopup(),this.__resetInputValue()),this.$emit("keyup",t)},__onTargetAutocomplete:function(t){var e=this,n=t.target.value;if(void 0===t.keyCode)if(t.target.value="",clearTimeout(this.inputTimer),this.__resetInputValue(),"string"==typeof n&&n.length>0){var i=n.toLocaleLowerCase(),r=function(t){return e.getOptionValue(t).toLocaleLowerCase()===i},o=this.options.find(r);void 0!==o?-1===this.innerValue.indexOf(o)?this.toggleOption(o):this.hidePopup():(r=function(t){return e.getOptionLabel(t).toLocaleLowerCase()===i},void 0!==(o=this.options.find(r))?-1===this.innerValue.indexOf(o)?this.toggleOption(o):this.hidePopup():this.filter(n,!0))}else this.__clearValue(t);else this.__onTargetKeyup(t)},__onTargetKeypress:function(t){this.$emit("keypress",t)},__onTargetKeydown:function(t){var e=this;if(this.$emit("keydown",t),!0!==Object(_.c)(t)){var n=this.inputValue.length>0&&(void 0!==this.newValueMode||void 0!==this.qListeners["new-value"]),i=!0!==t.shiftKey&&!0!==this.multiple&&(this.optionIndex>-1||!0===n);if(27!==t.keyCode)if(9!==t.keyCode||!1!==i){if(void 0!==t.target&&t.target.id===this.targetUid){if(40===t.keyCode&&!0!==this.innerLoading&&!1===this.menu)return Object(v.l)(t),void this.showPopup();if(8!==t.keyCode||!0===this.hideSelected||0!==this.inputValue.length){35!==t.keyCode&&36!==t.keyCode||"string"==typeof this.inputValue&&0!==this.inputValue.length||(Object(v.l)(t),this.optionIndex=-1,this.moveOptionSelection(36===t.keyCode?1:-1,this.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===this.virtualScrollSliceSizeComputed||(Object(v.l)(t),this.optionIndex=Math.max(-1,Math.min(this.virtualScrollLength,this.optionIndex+(33===t.keyCode?-1:1)*this.virtualScrollSliceSizeComputed.view)),this.moveOptionSelection(33===t.keyCode?1:-1,this.multiple)),38!==t.keyCode&&40!==t.keyCode||(Object(v.l)(t),this.moveOptionSelection(38===t.keyCode?-1:1,this.multiple));var r=this.virtualScrollLength;if((void 0===this.searchBuffer||this.searchBufferExp<Date.now())&&(this.searchBuffer=""),r>0&&!0!==this.useInput&&void 0!==t.key&&1===t.key.length&&t.altKey===t.ctrlKey&&(32!==t.keyCode||this.searchBuffer.length>0)){!0!==this.menu&&this.showPopup(t);var o=t.key.toLocaleLowerCase(),a=1===this.searchBuffer.length&&this.searchBuffer[0]===o;this.searchBufferExp=Date.now()+1500,!1===a&&(Object(v.l)(t),this.searchBuffer+=o);var s=new RegExp("^"+this.searchBuffer.split("").map((function(t){return".*+?^${}()|[]\\".indexOf(t)>-1?"\\"+t:t})).join(".*"),"i"),c=this.optionIndex;if(!0===a||c<0||!0!==s.test(this.getOptionLabel(this.options[c])))do{c=Object(y.e)(c+1,-1,r-1)}while(c!==this.optionIndex&&(!0===this.isOptionDisabled(this.options[c])||!0!==s.test(this.getOptionLabel(this.options[c]))));this.optionIndex!==c&&this.$nextTick((function(){e.setOptionIndex(c),e.scrollTo(c),c>=0&&!0===e.useInput&&!0===e.fillInput&&e.__setInputValue(e.getOptionLabel(e.options[c]))}))}else if(13===t.keyCode||32===t.keyCode&&!0!==this.useInput&&""===this.searchBuffer||9===t.keyCode&&!1!==i)if(9!==t.keyCode&&Object(v.l)(t),this.optionIndex>-1&&this.optionIndex<r)this.toggleOption(this.options[this.optionIndex]);else{if(!0===n){var l=function(t,n){if(n){if(!0!==E(n))return}else n=e.newValueMode;null!=t&&(e.updateInputValue("",!0!==e.multiple,!0),e["toggle"===n?"toggleOption":"add"](t,"add-unique"===n),!0!==e.multiple&&(void 0!==e.$refs.target&&e.$refs.target.focus(),e.hidePopup()))};if(void 0!==this.qListeners["new-value"]?this.$emit("new-value",this.inputValue,l):l(this.inputValue),!0!==this.multiple)return}!0===this.menu?this.__closeMenu():!0!==this.innerLoading&&this.showPopup()}}else!0===this.multiple&&Array.isArray(this.value)?this.removeAtIndex(this.value.length-1):!0!==this.multiple&&null!==this.value&&this.$emit("input",null)}}else this.__closeMenu();else Object(v.i)(t)}},__getVirtualScrollEl:function(){return!0===this.hasDialog?this.$refs.menuContent:void 0!==this.$refs.menu&&void 0!==this.$refs.menu.__portal?this.$refs.menu.__portal.$el:void 0},__getVirtualScrollTarget:function(){return this.__getVirtualScrollEl()},__getSelection:function(t){var e=this;return!0===this.hideSelected?[]:void 0!==this.$scopedSlots["selected-item"]?this.selectedScope.map((function(t){return e.$scopedSlots["selected-item"](t)})).slice():void 0!==this.$scopedSlots.selected?[].concat(this.$scopedSlots.selected()):!0===this.useChips?this.selectedScope.map((function(n,i){return t(u.a,{key:"option-"+i,props:{removable:!0===e.editable&&!0!==e.isOptionDisabled(n.opt),dense:!0,textColor:e.color,tabindex:e.computedTabindex},on:Object(S.b)(e,"rem#"+i,{remove:function(){n.removeAtIndex(i)}})},[t("span",{staticClass:"ellipsis",domProps:r()({},!0===n.sanitize?"textContent":"innerHTML",e.getOptionLabel(n.opt))})])})):[t("span",{domProps:r()({},this.displayAsText?"textContent":"innerHTML",void 0!==this.displayValue?this.displayValue:this.selectedString)})]},__getControl:function(t,e){var n=this.__getSelection(t),i=!0===e||!0!==this.dialog||!0!==this.hasDialog;if(!0===this.useInput?n.push(this.__getInput(t,e,i)):!0===this.editable&&!0===i&&(n.push(t("div",{ref:"target",key:"d_t",staticClass:"no-outline",attrs:a()({id:this.targetUid,tabindex:this.tabindex},this.comboboxAttrs),on:Object(S.b)(this,"f-tget",{keydown:this.__onTargetKeydown,keyup:this.__onTargetKeyup,keypress:this.__onTargetKeypress})})),"string"==typeof this.autocomplete&&this.autocomplete.length>0&&n.push(t("input",{staticClass:"q-select__autocomplete-input no-outline",attrs:{autocomplete:this.autocomplete},on:Object(S.b)(this,"autoinp",{keyup:this.__onTargetAutocomplete})}))),void 0!==this.nameProp&&!0!==this.disable&&this.innerOptionsValue.length>0){var r=this.innerOptionsValue.map((function(e){return t("option",{attrs:{value:e,selected:!0}})}));n.push(t("select",{staticClass:"hidden",attrs:{name:this.nameProp,multiple:this.multiple}},r))}return t("div",{staticClass:"q-field__native row items-center",attrs:this.qAttrs},n)},__getOptions:function(t){var e=this;if(!0===this.menu){void 0!==this.$scopedSlots.option&&this.__optionScopeCache.optionSlot!==this.$scopedSlots.option&&(this.__optionScopeCache.optionSlot=this.$scopedSlots.option,this.__optionScopeCache.optionEls=[]);var n=void 0!==this.$scopedSlots.option?this.$scopedSlots.option:function(n){return t(d.a,{key:n.index,props:n.itemProps,attrs:n.itemAttrs,on:n.itemEvents},[t(h.a,[t(p.a,{domProps:r()({},!0===n.sanitize?"textContent":"innerHTML",e.getOptionLabel(n.opt))})])])},i=this.__optionScopeCache.optionEls,o=this.__padVirtualScroll(t,"div",this.optionScope.map((function(t,e){return void 0===i[e]&&(i[e]=n(t)),i[e]})));return void 0!==this.$scopedSlots["before-options"]&&(o=this.$scopedSlots["before-options"]().concat(o)),Object(b.a)(o,this,"after-options")}},__getInnerAppend:function(t){return!0!==this.loading&&!0!==this.innerLoadingIndicator&&!0!==this.hideDropdownIcon?[t(l.a,{staticClass:"q-select__dropdown-icon"+(!0===this.menu?" rotate-180":""),props:{name:this.dropdownArrowIcon}})]:null},__getInput:function(t,e,n){var i={ref:!0===n?"target":void 0,key:"i_t",staticClass:"q-field__input q-placeholder col",style:this.inputStyle,class:this.computedInputClass,domProps:{value:void 0!==this.inputValue?this.inputValue:""},attrs:a()(a()({type:"search"},this.qAttrs),{},{id:this.targetUid,maxlength:this.maxlength,tabindex:this.tabindex,autocomplete:this.autocomplete,"data-autofocus":!0!==e&&this.autofocus,disabled:!0===this.disable,readonly:!0===this.readonly},this.comboboxAttrs),on:this.inputControlEvents};return!0!==e&&!0===this.hasDialog&&(i.staticClass+=" no-pointer-events"),t("input",i)},__onChange:function(t){this.__onComposition(t)},__onInput:function(t){var e=this;clearTimeout(this.inputTimer),t&&t.target&&!0===t.target.composing||(this.__setInputValue(t.target.value||""),this.userInputValue=!0,this.defaultInputValue=this.inputValue,!0===this.focused||!0===this.hasDialog&&!0!==this.dialogFieldFocused||this.__focus(),void 0!==this.qListeners.filter&&(this.inputTimer=setTimeout((function(){e.filter(e.inputValue)}),this.inputDebounce)))},__setInputValue:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input-value",t))},updateInputValue:function(t,e,n){this.userInputValue=!0!==n,!0===this.useInput&&(this.__setInputValue(t),!0!==e&&!0===n||(this.defaultInputValue=t),!0!==e&&this.filter(t))},filter:function(t,e){var n=this;if(void 0!==this.qListeners.filter&&(!0===e||!0===this.focused)){!0===this.innerLoading?this.$emit("filter-abort"):(this.innerLoading=!0,this.innerLoadingIndicator=!0),""!==t&&!0!==this.multiple&&this.innerValue.length>0&&!0!==this.userInputValue&&t===this.getOptionLabel(this.innerValue[0])&&(t="");var i=setTimeout((function(){!0===n.menu&&(n.menu=!1)}),10);clearTimeout(this.filterId),this.filterId=i,this.$emit("filter",t,(function(t,r){!0!==e&&!0!==n.focused||n.filterId!==i||(clearTimeout(n.filterId),"function"==typeof t&&t(),n.innerLoadingIndicator=!1,n.$nextTick((function(){n.innerLoading=!1,!0===n.editable&&(!0===e?!0===n.menu&&n.hidePopup():!0===n.menu?n.__updateMenu(!0):n.menu=!0),"function"==typeof r&&n.$nextTick((function(){r(n)}))})))}),(function(){!0===n.focused&&n.filterId===i&&(clearTimeout(n.filterId),n.innerLoading=!1,n.innerLoadingIndicator=!1),!0===n.menu&&(n.menu=!1)}))}},__getControlEvents:function(){var t=this,e=function(e){t.__onControlFocusout(e,(function(){t.__resetInputValue(),t.__closeMenu()}))};return{focusin:this.__onControlFocusin,focusout:e,"popup-show":this.__onControlPopupShow,"popup-hide":function(n){void 0!==n&&Object(v.k)(n),t.$emit("popup-hide",n),t.hasPopupOpen=!1,e(n)},click:function(e){if(!0!==t.hasDialog&&(Object(v.i)(e),!0===t.menu))return t.__closeMenu(),void(void 0!==t.$refs.target&&t.$refs.target.focus());t.showPopup(e)}}},__getControlChild:function(t){if(!1!==this.editable&&(!0===this.dialog||!0!==this.noOptions||void 0!==this.$scopedSlots["no-option"]))return this["__get".concat(!0===this.hasDialog?"Dialog":"Menu")](t)},__getMenu:function(t){var e=!0===this.noOptions?void 0!==this.$scopedSlots["no-option"]?this.$scopedSlots["no-option"]({inputValue:this.inputValue}):null:this.__getOptions(t);return t(f.a,{ref:"menu",props:{value:this.menu,fit:!0!==this.menuShrink,cover:!0===this.optionsCover&&!0!==this.noOptions&&!0!==this.useInput,anchor:this.menuAnchor,self:this.menuSelf,offset:this.menuOffset,contentClass:this.menuContentClass,contentStyle:this.popupContentStyle,dark:this.isOptionsDark,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:this.squaredMenu,transitionShow:this.transitionShow,transitionHide:this.transitionHide,separateClosePopup:!0},attrs:this.listboxAttrs,on:Object(S.b)(this,"menu",{"&scroll":this.__onVirtualScrollEvt,"before-hide":this.__closeMenu,show:this.__onMenuShow})},e)},__onMenuShow:function(){this.__setVirtualScrollSize()},__onDialogFieldFocus:function(t){Object(v.k)(t),void 0!==this.$refs.target&&this.$refs.target.focus(),this.dialogFieldFocused=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)},__onDialogFieldBlur:function(t){var e=this;Object(v.k)(t),this.$nextTick((function(){e.dialogFieldFocused=!1}))},__getDialog:function(t){var e=this,n=[t(c.a,{staticClass:"col-auto ".concat(this.fieldClass),props:a()(a()({},this.$props),{},{for:this.targetUid,dark:this.isOptionsDark,square:!0,filled:!0,itemAligned:!1,loading:this.innerLoadingIndicator,stackLabel:this.inputValue.length>0}),on:a()(a()({},this.qListeners),{},{focus:this.__onDialogFieldFocus,blur:this.__onDialogFieldBlur}),scopedSlots:a()(a()({},this.$scopedSlots),{},{rawControl:function(){return e.__getControl(t,!0)},before:void 0,after:void 0})})];return!0===this.menu&&n.push(t("div",{ref:"menuContent",staticClass:"scroll",class:this.menuContentClass,style:this.popupContentStyle,attrs:this.listboxAttrs,on:Object(S.b)(this,"virtMenu",{click:v.i,"&scroll":this.__onVirtualScrollEvt})},!0===this.noOptions?void 0!==this.$scopedSlots["no-option"]?this.$scopedSlots["no-option"]({inputValue:this.inputValue}):null:this.__getOptions(t))),t(g.a,{ref:"dialog",props:{value:this.dialog,dark:this.isOptionsDark,position:!0===this.useInput?"top":void 0,transitionShow:this.transitionShowComputed,transitionHide:this.transitionHide},on:Object(S.b)(this,"dialog",{"before-hide":this.__onDialogBeforeHide,hide:this.__onDialogHide,show:this.__onDialogShow})},[t("div",{staticClass:"q-select__dialog"+(!0===this.isOptionsDark?" q-select__dialog--dark q-dark":"")+(!0===this.dialogFieldFocused?" q-select__dialog--focused":"")},n)])},__onDialogBeforeHide:function(){this.$refs.dialog.__refocusTarget=this.$el.querySelector(".q-field__native > [tabindex]:last-child"),this.focused=!1},__onDialogHide:function(t){this.hidePopup(),!1===this.focused&&this.$emit("blur",t),this.__resetInputValue()},__onDialogShow:function(){var t=document.activeElement;null!==t&&t.id===this.targetUid||this.$refs.target===t||void 0===this.$refs.target||this.$refs.target.focus(),this.__setVirtualScrollSize()},__closeMenu:function(){void 0!==this.__optionScopeCache&&(this.__optionScopeCache.optionEls=[]),!0!==this.dialog&&(this.optionIndex=-1,!0===this.menu&&(this.menu=!1),!1===this.focused&&(clearTimeout(this.filterId),this.filterId=void 0,!0===this.innerLoading&&(this.$emit("filter-abort"),this.innerLoading=!1,this.innerLoadingIndicator=!1)))},showPopup:function(t){var e=this;!0===this.editable&&(!0===this.hasDialog?(this.__onControlFocusin(t),this.dialog=!0,this.$nextTick((function(){e.__focus()}))):this.__focus(),void 0!==this.qListeners.filter?this.filter(this.inputValue):!0===this.noOptions&&void 0===this.$scopedSlots["no-option"]||(this.menu=!0))},hidePopup:function(){this.dialog=!1,this.__closeMenu()},__resetInputValue:function(){!0===this.useInput&&this.updateInputValue(!0!==this.multiple&&!0===this.fillInput&&this.innerValue.length>0&&this.getOptionLabel(this.innerValue[0])||"",!0,!0)},__updateMenu:function(t){var e=this,n=-1;if(!0===t){if(this.innerValue.length>0){var i=this.getOptionValue(this.innerValue[0]);n=this.options.findIndex((function(t){return Object(m.b)(e.getOptionValue(t),i)}))}this.__resetVirtualScroll(n)}this.setOptionIndex(n)},__onPreRender:function(){this.hasDialog=(!0===this.$q.platform.is.mobile||"dialog"===this.behavior)&&("menu"!==this.behavior&&(!0!==this.useInput||(void 0!==this.$scopedSlots["no-option"]||void 0!==this.qListeners.filter||!1===this.noOptions))),this.transitionShowComputed=!0===this.hasDialog&&!0===this.useInput&&!0===this.$q.platform.is.ios?"fade":this.transitionShow},__onPostRender:function(){!1===this.dialog&&void 0!==this.$refs.menu&&this.$refs.menu.updatePosition()},updateMenuPosition:function(){this.__onPostRender()}},beforeMount:function(){this.__optionScopeCache={optionSlot:this.$scopedSlots.option,options:[],optionEls:[]}},beforeDestroy:function(){this.__optionScopeCache=void 0,clearTimeout(this.inputTimer)}})},de99:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("278c"),r=n.n(i),o=n("970b"),a=n.n(o),s=n("9523"),c=n.n(s),l=(n("4de4"),n("d3b7"),n("07ac"),n("b0c0"),n("7db0"),n("159b"),n("4fadc"),n("caad"),n("2532"),n("6f2e")),u=n("72a1"),d=n("fab3"),h=n("886e"),p=n("bc78"),f=n("25da"),g=function t(){a()(this,t),c()(this,"all",void 0),c()(this,"untagged",void 0),c()(this,"starred",void 0),c()(this,"clipboard",void 0),c()(this,"deleted",void 0),c()(this,"last",void 0),c()(this,"snippets",void 0),c()(this,"groupTags",void 0),c()(this,"groupNotes",void 0),c()(this,"groupFilters",void 0),c()(this,"groupSnippets",void 0),c()(this,"filtersByUid",void 0),c()(this,"initial",void 0),c()(this,"syncedCount",void 0),c()(this,"tags",void 0)};c()(g,"getDefault",(function(){var t=new g;return t.filtersByUid={},t})),c()(g,"getLuminosity",(function(t){return t?p.a.luminosity(t):0})),c()(g,"getFilterIndexInGroup",(function(t,e){return(e.tagIds||[]).indexOf(t.uid)})),c()(g,"sorted",(function(t,e){var n=[];switch(t.sortBy){case d.a.NOTES_COUNT_ASC.id:n.push({asc:function(t){return t.getNotesCount()}}),n.push({asc:function(t){return t.name}});break;case d.a.NOTES_COUNT_DESC.id:n.push({desc:function(t){return t.getNotesCount()}}),n.push({asc:function(t){return t.name}});break;case d.a.COLOR_ASC.id:n.push({asc:function(t){return g.getLuminosity(t.color)}}),n.push({asc:function(t){return t.name}});break;case d.a.COLOR_DESC.id:n.push({desc:function(t){return g.getLuminosity(t.color)}}),n.push({asc:function(t){return t.name}});break;case d.a.MANUAL_ASC.id:n.push({asc:function(e){return g.getFilterIndexInGroup(e,t)}}),n.push({asc:function(t){return t.name}});break;case d.a.MANUAL_DESC.id:n.push({desc:function(e){return g.getFilterIndexInGroup(e,t)}}),n.push({asc:function(t){return t.name}});break;case d.a.NAME_ASC.id:n.push({asc:function(t){return t.name}});break;case d.a.NAME_DESC.id:n.push({desc:function(t){return t.name}});break;default:n.push({asc:function(t){return t.name}})}return Object(f.a)(e).by(n),e})),c()(g,"REMOVABLE_TYPES",[l.a.TAG.id,l.a.LINK.id,l.a.NAMED.id,l.a.CONTEXT.id,l.a.CUSTOM.id,l.a.SNIPPET_KIT.id]),g.prototype.getFilteredNotesCount=function(){return this.last.notesCount},g.prototype.hasFilteredNotes=function(){return this.getFilteredNotesCount()>0},g.prototype.hasTags=function(){return this.getTags().length>0},g.prototype.hasActiveFilter=function(){return this.last.hasActiveFilter()},g.prototype.getByUid=function(t){return this.filtersByUid[t]},g.prototype.getTags=function(){return Object.values(this.filtersByUid).filter((function(t){return t.isTag()&&!u.a.isNull(t.name)}))},g.prototype.getSorted=function(t){return t.isGroupNotes()?this.getSortedCategories():t.isGroupTags()?this.getSortedTags():t.isGroupFilters()?this.getSortedNamedFilters():t.isGroupSnippets()?this.getSortedSnippetKits():null},g.prototype.getSortedTags=function(){return g.sorted(this.groupTags,this.getTags())},g.prototype.getSnippetKits=function(){return Object.values(this.filtersByUid).filter((function(t){return t.isSnippetKit()&&!u.a.isNull(t.name)}))},g.prototype.getSortedCategories=function(){return g.sorted(this.groupNotes,this.getCategories())},g.prototype.getSortedSnippetKits=function(){return g.sorted(this.groupSnippets,this.getSnippetKits())},g.prototype.getNamedFilters=function(){return Object.values(this.filtersByUid).filter((function(t){return t.isNamedFilter()}))},g.prototype.getSortedNamedFilters=function(){return g.sorted(this.groupFilters,this.getNamedFilters())},g.prototype.getCategories=function(){return[this.all,this.starred,this.untagged,this.clipboard,this.snippets,this.deleted]},g.prototype.getGroups=function(){return[this.groupNotes,this.groupTags,this.groupFilters,this.groupSnippets]},g.prototype.findFilterByTagId=function(t,e){var n=this.filtersByUid[t],i=u.a.takeIf(n,(function(t){return t&&t.isTag()}));return u.a.isNull(i)&&t&&e&&u.a.isNull(n)&&(i=h.a.createTagFromId(t),this.filtersByUid[t]=i),i},g.prototype.findFilterBySnippetKitId=function(t,e){var n=this.filtersByUid[t],i=u.a.takeIf(n,(function(t){return t&&t.isSnippetKit()}));return u.a.isNull(i)&&t&&e&&u.a.isNull(n)&&(i=h.a.createSnippetKit(t),this.filtersByUid[t]=i),i},g.prototype.findFilterByTagName=function(t){return Object.values(this.filtersByUid).find((function(e){return e.isTag()&&e.name===t}))},g.prototype.findFilterByName=function(t){return Object.values(this.filtersByUid).find((function(e){return e.isNamedFilter()&&e.name===t}))},g.prototype.findFilterBySnippetKitName=function(t){return Object.values(this.filtersByUid).find((function(e){return e.isSnippetKit()&&e.name===t}))},g.prototype.findGroup=function(t){return t.isTag()?this.groupTags:t.isNamedFilter()?this.groupFilters:t.isSnippetKit()?this.groupSnippets:t.isNotesCategory()?this.groupNotes:null},g.prototype.clear=function(){var t=this,e=g.REMOVABLE_TYPES;Object.entries(this.filtersByUid).forEach((function(n){var i=r()(n,2),o=i[0],a=i[1];e.includes(a.type)&&delete t.filtersByUid[o]})),this.last.withFilter(this.all)},g.prototype.findActive=function(t){var e=this.getByUid(t.activeFilterId);if(e)return e;if(t.isNamedFilter())return t;if(t.isTag(this)){var n=t.getTagIds()[0];return this.getByUid(n)||t}if(t.isSnippetKit(this)){var i=t.getKitIds()[0];return this.getByUid(i)||t}return t.isGroup()||t.isContext()?t:t.isStarred()?this.starred:t.isUntagged()?this.untagged:t.isClipboard()?this.clipboard:t.isDeleted()?this.deleted:t.isSnippets()?this.snippets:t.isAll()?this.all:t},g.prototype.isActive=function(t,e){var n=this.last,i=n.tagIds||[];return t===n||(!(!e||!n.activeFilterId||n.activeFilterId!==t.uid)||(!e&&n.activeFilterId?this.last.activeFilterId===t.uid:!(!t.isTag()||!i.includes(t.uid))||(!(!n.starred||!t.isStarred())||(!(!n.untagged||!t.isUntagged())||(!(!n.clipboard||!t.isClipboard())||(!(!n.recycled||!t.isDeleted())||(!(!n.snippets||!t.isSnippets())||(!!t.isSame(n)||!(!t.isAll()||!n.isAll())))))))))}},deff:function(t,e,n){"use strict";var i=n("72a1"),r={name:"ActionButton",props:["tooltipLabelRes","tooltipLabel","onMouseEnter","buttonClass","outline","onClick","disable","color","dense","icon"],computed:{getClass:function(){return this.buttonClass?this.buttonClass:this.color?null:"text-textColorPrimary"},getSize:function(){return this.outline?null:"12px"},canShowTooltips:function(){return this.$store.getters.canShowTooltips&&this.getTooltipLabel},getTooltipLabel:function(){return this.tooltipLabel||this.$t(this.tooltipLabelRes)}},methods:{onClicked:function(){i.a.execFunction(this.onClick)},onMouseEntered:function(){i.a.execFunction(this.onMouseEnter)}}},o=n("2877"),a=n("9c40"),s=n("05c0"),c=n("eebe"),l=n.n(c),u=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",{class:t.getClass,attrs:{disable:t.disable,color:t.color,dense:t.dense,icon:t.icon,outline:t.outline,flat:!t.outline,size:t.getSize,round:""},on:{mouseenter:t.onMouseEntered,click:function(e){return e.stopPropagation(),t.onClicked(e)}}},[t.canShowTooltips?n("q-tooltip",[t._v(t._s(t.getTooltipLabel))]):t._e(),t._t("default")],2)}),[],!1,null,null,null);e.a=u.exports;l()(u,"components",{QBtn:a.a,QTooltip:s.a})},df33:function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=i[e.toLowerCase()])return o===n;if(o=r[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=e.names=e.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e48b:function(t,e,n){"use strict";var i=n("9523"),r=n.n(i),o=n("ded3"),a=n.n(o),s=(n("fb6a"),n("d3b7"),n("a9e3"),n("99af"),n("b64b"),n("a15b"),n("d81d"),n("ac1f"),n("5319"),n("4de4"),n("1c16")),c=["start","center","end","start-force","center-force","end-force"],l=Array.prototype.slice,u=void 0;function d(t,e){return t+e}function h(t,e,n,i,r,o,a,s){var c=t===window?document.scrollingElement||document.documentElement:t,l=!0===r?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(!0===r?(t===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=window.innerWidth):(d.scrollStart=c.scrollLeft,d.scrollViewSize+=c.clientWidth),d.scrollMaxSize=c.scrollWidth,!0===o&&(d.scrollStart=(!0===u?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(t===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=window.innerHeight):(d.scrollStart=c.scrollTop,d.scrollViewSize+=c.clientHeight),d.scrollMaxSize=c.scrollHeight),void 0!==n)for(var h=n.previousElementSibling;null!==h;h=h.previousElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(d.offsetStart+=h[l]);if(void 0!==i)for(var p=i.nextElementSibling;null!==p;p=p.nextElementSibling)!1===p.classList.contains("q-virtual-scroll--skip")&&(d.offsetEnd+=p[l]);if(e!==t){var f=c.getBoundingClientRect(),g=e.getBoundingClientRect();!0===r?(d.offsetStart+=g.left-f.left,d.offsetEnd-=g.width):(d.offsetStart+=g.top-f.top,d.offsetEnd-=g.height),t!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function p(t,e,n,i){if(n>=i)return 0;var r=e.length,o=Math.floor(n/1e3),a=Math.floor((i-1)/1e3)+1,s=t.slice(o,a).reduce(d,0);return n%1e3!=0&&(s-=e.slice(1e3*o,n).reduce(d,0)),i%1e3!=0&&i!==r&&(s-=e.slice(i,1e3*a).reduce(d,0)),s}var f={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},g=1;Object.keys(f);e.a={props:a()({virtualScrollHorizontal:Boolean},f),data:function(){return{virtualScrollSliceRange:{from:0,to:0},id:"qvs_"+g++}},watch:{needsSliceRecalc:function(){this.__setVirtualScrollSize()},needsReset:function(){this.reset()}},computed:{needsReset:function(){var t=this;return["virtualScrollItemSizeComputed","virtualScrollHorizontal"].map((function(e){return t[e]})).join(";")},needsSliceRecalc:function(){var t=this;return this.needsReset+";"+["virtualScrollSliceRatioBefore","virtualScrollSliceRatioAfter"].map((function(e){return t[e]})).join(";")},colspanAttr:function(){return void 0!==this.tableColspan?{colspan:this.tableColspan}:{colspan:100}},virtualScrollItemSizeComputed:function(){return this.virtualScrollItemSize}},methods:{reset:function(){this.__resetVirtualScroll(this.prevToIndex,!0)},refresh:function(t){this.__resetVirtualScroll(void 0===t?this.prevToIndex:t)},scrollTo:function(t,e){var n=this.__getVirtualScrollTarget();if(null!=n&&8!==n.nodeType){var i=h(n,this.__getVirtualScrollEl(),this.$refs.before,this.$refs.after,this.virtualScrollHorizontal,this.$q.lang.rtl,this.virtualScrollStickySizeStart,this.virtualScrollStickySizeEnd);this.__scrollViewSize!==i.scrollViewSize&&this.__setVirtualScrollSize(i.scrollViewSize),this.__setVirtualScrollSliceRange(n,i,Math.min(this.virtualScrollLength-1,Math.max(0,parseInt(t,10)||0)),0,c.indexOf(e)>-1?e:this.prevToIndex>-1&&t>this.prevToIndex?"end":"start")}},__onVirtualScrollEvt:function(){var t=this.__getVirtualScrollTarget();if(null!=t&&8!==t.nodeType){var e=h(t,this.__getVirtualScrollEl(),this.$refs.before,this.$refs.after,this.virtualScrollHorizontal,this.$q.lang.rtl,this.virtualScrollStickySizeStart,this.virtualScrollStickySizeEnd),n=this.virtualScrollLength-1,i=e.scrollMaxSize-e.offsetStart-e.offsetEnd-this.virtualScrollPaddingAfter;if(this.prevScrollStart!==e.scrollStart)if(e.scrollMaxSize<=0)this.__setVirtualScrollSliceRange(t,e,0,0);else{this.__scrollViewSize!==e.scrollViewSize&&this.__setVirtualScrollSize(e.scrollViewSize),this.__updateVirtualScrollSizes(this.virtualScrollSliceRange.from);var r=Math.floor(e.scrollMaxSize-Math.max(e.scrollViewSize,e.offsetEnd)-Math.min(this.virtualScrollSizes[n],e.scrollViewSize/2));if(r>0&&Math.ceil(e.scrollStart)>=r)this.__setVirtualScrollSliceRange(t,e,n,e.scrollMaxSize-e.offsetEnd-this.virtualScrollSizesAgg.reduce(d,0));else{var o=0,a=e.scrollStart-e.offsetStart,s=a;if(a<=i&&a+e.scrollViewSize>=this.virtualScrollPaddingBefore)a-=this.virtualScrollPaddingBefore,o=this.virtualScrollSliceRange.from,s=a;else for(var c=0;a>=this.virtualScrollSizesAgg[c]&&o<n;c++)a-=this.virtualScrollSizesAgg[c],o+=1e3;for(;a>0&&o<n;)(a-=this.virtualScrollSizes[o])>-e.scrollViewSize?(o++,s=a):s=this.virtualScrollSizes[o]+a;this.__setVirtualScrollSliceRange(t,e,o,s)}}}},__setVirtualScrollSliceRange:function(t,e,n,i,r){var o=this,a="string"==typeof r&&r.indexOf("-force")>-1,s=!0===a?r.replace("-force",""):r,c=void 0!==s?s:"start",l=Math.max(0,n-this.virtualScrollSliceSizeComputed[c]),h=l+this.virtualScrollSliceSizeComputed.total;h>this.virtualScrollLength&&(h=this.virtualScrollLength,l=Math.max(0,h-this.virtualScrollSliceSizeComputed.total)),this.prevScrollStart=e.scrollStart;var f=l!==this.virtualScrollSliceRange.from||h!==this.virtualScrollSliceRange.to;if(!1!==f||void 0!==s){var g=document.activeElement;if(!0===f&&void 0!==this.$refs.content&&this.$refs.content!==g&&!0===this.$refs.content.contains(g)){var m=function(){o.$refs.content.focus()};g.addEventListener("blur",m,!0),requestAnimationFrame((function(){g.removeEventListener("blur",m,!0)}))}!function t(e,n){if(void 0===t.isSupported&&(t.isSupported=void 0!==window.getComputedStyle(document.body).overflowAnchor),!1!==t.isSupported){var i=e+"_ss",r=document.getElementById(i);null===r&&((r=document.createElement("style")).type="text/css",r.id=i,document.head.appendChild(r)),r.qChildIndex!==n&&(r.qChildIndex=n,r.innerHTML="#".concat(e," > *:nth-child(").concat(n,") { overflow-anchor: auto }"))}}(this.id,n-l+1);var v=void 0!==s?this.virtualScrollSizes.slice(l,n).reduce(d,0):0;if(!0===f){var y=h>=this.virtualScrollSliceRange.from&&l<=this.virtualScrollSliceRange.to?this.virtualScrollSliceRange.to:h;this.virtualScrollSliceRange={from:l,to:y},this.virtualScrollPaddingBefore=p(this.virtualScrollSizesAgg,this.virtualScrollSizes,0,l),this.virtualScrollPaddingAfter=p(this.virtualScrollSizesAgg,this.virtualScrollSizes,this.virtualScrollSliceRange.to,this.virtualScrollLength),requestAnimationFrame((function(){o.virtualScrollSliceRange.to!==h&&o.prevScrollStart===e.scrollStart&&(o.virtualScrollSliceRange={from:o.virtualScrollSliceRange.from,to:h},o.virtualScrollPaddingAfter=p(o.virtualScrollSizesAgg,o.virtualScrollSizes,h,o.virtualScrollLength))}))}requestAnimationFrame((function(){if(o.prevScrollStart===e.scrollStart){!0===f&&o.__updateVirtualScrollSizes(l);var r,c,h,p,g=o.virtualScrollSizes.slice(l,n).reduce(d,0),m=g+e.offsetStart+o.virtualScrollPaddingBefore,y=m+o.virtualScrollSizes[n],_=m+i;if(void 0!==s){var b=g-v,S=e.scrollStart+b;_=!0!==a&&S<m&&y<S+e.scrollViewSize?S:"end"===s?y-e.scrollViewSize:m-("start"===s?0:Math.round((e.scrollViewSize-o.virtualScrollSizes[n])/2))}o.prevScrollStart=_,r=t,c=_,h=o.virtualScrollHorizontal,p=o.$q.lang.rtl,r===window?!0===h?(!0===p&&(c=(!0===u?document.body.scrollWidth-window.innerWidth:0)-c),window.scrollTo(c,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c):!0===h?(!0===p&&(c=(!0===u?r.scrollWidth-r.offsetWidth:0)-c),r.scrollLeft=c):r.scrollTop=c,o.__emitScroll(n)}}))}else this.__emitScroll(n)},__updateVirtualScrollSizes:function(t){var e=this.$refs.content;if(void 0!==e)for(var n,i,r=l.call(e.children).filter((function(t){return!1===t.classList.contains("q-virtual-scroll--skip")})),o=r.length,a=!0===this.virtualScrollHorizontal?function(t){return t.getBoundingClientRect().width}:function(t){return t.offsetHeight},s=t,c=0;c<o;){for(n=a(r[c]),c++;c<o&&!0===r[c].classList.contains("q-virtual-scroll--with-prev");)n+=a(r[c]),c++;0!==(i=n-this.virtualScrollSizes[s])&&(this.virtualScrollSizes[s]+=i,this.virtualScrollSizesAgg[Math.floor(s/1e3)]+=i),s++}},__resetVirtualScroll:function(t,e){var n=this,i=1*this.virtualScrollItemSizeComputed;!0!==e&&!1!==Array.isArray(this.virtualScrollSizes)||(this.virtualScrollSizes=[]);var r=this.virtualScrollSizes.length;this.virtualScrollSizes.length=this.virtualScrollLength;for(var o=this.virtualScrollLength-1;o>=r;o--)this.virtualScrollSizes[o]=i;var a=Math.floor((this.virtualScrollLength-1)/1e3);this.virtualScrollSizesAgg=[];for(var s=0;s<=a;s++){for(var c=0,l=Math.min(1e3*(s+1),this.virtualScrollLength),u=1e3*s;u<l;u++)c+=this.virtualScrollSizes[u];this.virtualScrollSizesAgg.push(c)}this.prevToIndex=-1,this.prevScrollStart=void 0,t>=0?(this.__updateVirtualScrollSizes(this.virtualScrollSliceRange.from),this.$nextTick((function(){n.scrollTo(t)}))):(this.virtualScrollPaddingBefore=p(this.virtualScrollSizesAgg,this.virtualScrollSizes,0,this.virtualScrollSliceRange.from),this.virtualScrollPaddingAfter=p(this.virtualScrollSizesAgg,this.virtualScrollSizes,this.virtualScrollSliceRange.to,this.virtualScrollLength),this.__onVirtualScrollEvt())},__setVirtualScrollSize:function(t){if(void 0===t&&"undefined"!=typeof window){var e=this.__getVirtualScrollTarget();null!=e&&8!==e.nodeType&&(t=h(e,this.__getVirtualScrollEl(),this.$refs.before,this.$refs.after,this.virtualScrollHorizontal,this.$q.lang.rtl,this.virtualScrollStickySizeStart,this.virtualScrollStickySizeEnd).scrollViewSize)}this.__scrollViewSize=t;var n=1+this.virtualScrollSliceRatioBefore+this.virtualScrollSliceRatioAfter,i=void 0===t||t<=0?1:Math.ceil(t/this.virtualScrollItemSizeComputed),r=Math.max(10,i,Math.ceil(this.virtualScrollSliceSize/n));this.virtualScrollSliceSizeComputed={total:Math.ceil(r*n),start:Math.ceil(r*this.virtualScrollSliceRatioBefore),center:Math.ceil(r*(.5+this.virtualScrollSliceRatioBefore)),end:Math.ceil(r*(1+this.virtualScrollSliceRatioBefore)),view:i}},__padVirtualScroll:function(t,e,n){var i=!0===this.virtualScrollHorizontal?"width":"height",o=r()({},"--q-virtual-scroll-item-"+i,this.virtualScrollItemSizeComputed+"px");return["tbody"===e?t(e,{staticClass:"q-virtual-scroll__padding",key:"before",ref:"before"},[t("tr",[t("td",{style:a()(r()({},i,"".concat(this.virtualScrollPaddingBefore,"px")),o),attrs:this.colspanAttr})])]):t(e,{staticClass:"q-virtual-scroll__padding",key:"before",ref:"before",style:a()(r()({},i,"".concat(this.virtualScrollPaddingBefore,"px")),o)}),t(e,{staticClass:"q-virtual-scroll__content",key:"content",ref:"content",attrs:{id:this.id,tabindex:-1}},n),"tbody"===e?t(e,{staticClass:"q-virtual-scroll__padding",key:"after",ref:"after"},[t("tr",[t("td",{style:a()(r()({},i,"".concat(this.virtualScrollPaddingAfter,"px")),o),attrs:this.colspanAttr})])]):t(e,{staticClass:"q-virtual-scroll__padding",key:"after",ref:"after",style:a()(r()({},i,"".concat(this.virtualScrollPaddingAfter,"px")),o)})]},__emitScroll:function(t){this.prevToIndex!==t&&(void 0!==this.qListeners["virtual-scroll"]&&this.$emit("virtual-scroll",{index:t,from:this.virtualScrollSliceRange.from,to:this.virtualScrollSliceRange.to-1,direction:t<this.prevToIndex?"decrease":"increase",ref:this}),this.prevToIndex=t)}},created:function(){this.__setVirtualScrollSize()},beforeMount:function(){var t,e;void 0===u&&(t=document.createElement("div"),e=document.createElement("div"),t.setAttribute("dir","rtl"),t.style.width="1px",t.style.height="1px",t.style.overflow="auto",e.style.width="1000px",e.style.height="1px",document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,u=t.scrollLeft>=0,t.remove()),this.__onVirtualScrollEvt=Object(s.a)(this.__onVirtualScrollEvt,!0===this.$q.platform.is.ios?120:35),this.__setVirtualScrollSize()},beforeDestroy:function(){var t=document.getElementById(this.id+"_ss");null!==t&&t.remove()}}},e507:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("99af"),n("498a");var i=n("7561"),r=n("c9d9"),o={name:"ObjectDescriptionBlock",props:["hasDescription","closable","onClose","hideHint","textSize","readonly","value"],data:function(){return{description:this.value}},watch:{value:function(t){this.description=t}},computed:{getSettings:function(){return this.$store.getters.getSettings},getTextSize:function(){return this.textSize||this.getSettings.textSize-4},getInputMaxLength:function(){return this.$store.getters.remoteConfigMaxLengthDescription},getViewModeTextStyle:function(){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              padding-top: 11px;\n              padding-start: 12px;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(22+this.getTextSize,"px !important;\n              ").trim()},getInputStyle:function(){return"\n              resize: none;\n              text-indent: 0;\n              line-height: 120%;\n              word-spacing: normal;\n              font-family: inherit;\n              word-wrap: break-word;\n              letter-spacing: normal;\n              font-size: ".concat(this.getTextSize,"px;\n              min-height: ").concat(22+this.getTextSize,"px !important;\n              ").trim()},getPreviewText:function(){return i.a.marked(this.description,{normalize:!0,trimLines:!0,sanitize:!0})},getHintTitle:function(){return this.$t("common_label_description")},getHintDescription:function(){var t=this.$store.getters.remoteConfigMaxLengthDescription;return i.a.marked(this.$tc("hint_description",null,{n:t}),{trimLines:!0})}},methods:{onShowHint:function(){this.$store.dispatch(r.a.onShowHint,{icon:"help_outline",title:this.getHintTitle,message:this.getHintDescription,isFormatted:!0})},onInput:function(){this.$emit("input",this.description)}}},a=(n("5fb5"),n("2877")),s=n("9c40"),c=n("27f9"),l=n("eebe"),u=n.n(l),d=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.readonly&&t.hasDescription?n("div",{staticClass:"bg-info text-black markdown-body q-mx-md q-mt-md q-pa-sm rounded-borders",style:t.getViewModeTextStyle},[n("div",{domProps:{innerHTML:t._s(t.getPreviewText)}}),t.closable?n("div",{staticClass:"row justify-end"},[t.closable?n("q-btn",{staticClass:"text-weight-medium",attrs:{label:t.$t("button_got_it"),color:"positive",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}}):t._e()],1):t._e()]):n("q-input",{ref:"descriptionView",staticClass:"text-black q-mt-md q-px-md",style:t.getInputStyle,attrs:{"input-style":t.getInputStyle,inputClass:"text-black",placeholder:t.$t("common_label_description"),maxlength:t.getInputMaxLength,disable:t.readonly,autogrow:!0,type:"textarea","bg-color":"info",hideBottomSpace:"",standout:"",dense:""},on:{input:t.onInput},scopedSlots:t._u([t.readonly||t.hideHint?null:{key:"append",fn:function(){return[n("q-btn",{staticClass:"text-textColorSecondary absolute-top-right",attrs:{icon:"info",size:"8px",round:"",dense:"",flat:""},on:{click:function(e){return e.stopPropagation(),t.onShowHint(e)}}})]},proxy:!0}],null,!0),model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})}),[],!1,null,null,null);e.a=d.exports;u()(d,"components",{QBtn:s.a,QInput:c.a})},e6d6:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("d3b7"),n("159b"),n("b64b"),n("e6cf"),n("a79d"),n("4de4"),n("d81d"),n("fb6a"),n("970b")),a=n.n(o),s=n("5bc3"),c=n.n(s),l=n("9523"),u=n.n(l),d=(n("99af"),function(){function t(e){a()(this,t),u()(this,"userRef",null),u()(this,"clipsRef",null),u()(this,"filesRef",null),u()(this,"filtersRef",null),u()(this,"firebaseId",null),u()(this,"publicNotesRef",null),u()(this,"clipsDeletedRef",null),u()(this,"filesDeletedRef",null),u()(this,"firestore",null);var n=C.getFirebaseFirestore();this.firebaseId=e,this.firestore=n,this.publicNotesRef=n.collection(C.COLLECTION_PUBLIC_NOTES).doc(e).collection(C.COLLECTION_PUBLIC_NOTES),this.userRef=n.collection(C.COLLECTION_USERS).doc(e),this.clipsDeletedRef=this.userRef.collection(C.COLLECTION_USER_CLIPS_DELETED),this.filtersRef=this.userRef.collection(C.COLLECTION_USER_FILTERS),this.clipsRef=this.userRef.collection(C.COLLECTION_USER_CLIPS),this.filesRef=this.userRef.collection(C.COLLECTION_USER_FILES),this.filesDeletedRef=this.userRef.collection(C.COLLECTION_USER_FILES_DELETED)}return c()(t,[{key:"getActiveClipsRef",value:function(){return this.clipsRef}},{key:"getDeletedClipsRef",value:function(){return this.clipsDeletedRef}},{key:"getFiltersRef",value:function(){return this.filtersRef}},{key:"getFilterRef",value:function(t){return this.getFiltersRef().doc(t)}},{key:"getFileStorageRef",value:function(t){return C.getFirebaseStorage().ref().child("".concat(this.firebaseId,"/").concat(t.folder,"/").concat(t.getUid()))}},{key:"getActiveFilesRef",value:function(){return this.filesRef}},{key:"getDeletedFilesRef",value:function(){return this.filesDeletedRef}},{key:"getFileRef",value:function(t){return this.filesRef.doc(t)}},{key:"getPublicNoteRef",value:function(t){return this.publicNotesRef.doc(t)}},{key:"createBatch",value:function(){return this.firestore.batch()}}]),t}()),h=n("f52e"),p=n("53e6"),f=n("e2db"),g=n("72a1"),m=n("ed99"),v=n("1cee"),y=n("260b"),_=(n("8934"),n("e71f"),n("588e"),y.a.storage()),b=y.a.firestore(),S=!f.a.isDesktop()&&!f.a.isSafari();b.settings({experimentalAutoDetectLongPolling:!0}),b.enablePersistence({synchronizeTabs:S});var C={userCollections:{},getFirebaseAuth:function(){return y.a.auth()},getFirebaseFunctions:function(){return y.a.functions()},getFirebaseStorage:function(){return _},getFirebaseFirestore:function(){return b},createFirebaseBatch:function(){return b.batch()},getFirestoreTimestamp:function(){return y.a.firestore.Timestamp},getServerTimestamp:function(){return y.a.firestore.FieldValue.serverTimestamp()},getFieldValueDelete:function(){return y.a.firestore.FieldValue.delete()},getUserCollection:function(t){var e=this.userCollections,n=e[t];return v.a.debug("getUserCollection",t,n),n||(n=new d(t),e[t]=n),n},normalizeMap:function(t,e){var n=this;return Object.keys(t).forEach((function(i){var r=t[i],o=g.a.isNull(r);(o=(o=(o=o||g.a.isBoolean(r)&&!r)||g.a.arrayIsEmpty(r))||g.a.isString(r)&&g.a.isEmpty(r))&&(e?t[i]=n.getFieldValueDelete():delete t[i])})),v.a.debug("normalizeMap:",t),t},terminate:function(t){var e=this;return b.terminate().catch((function(){})).then((function(){if(t.getters.remoteConfigFirestoreClearCacheOnLogout)return b.clearPersistence()})).then((function(){return e.getFirebaseAuth().signOut()})).finally((function(){return e.userCollections={},(b=y.a.firestore()).settings({experimentalAutoDetectLongPolling:!0}),b.enablePersistence({synchronizeTabs:S})}))},createListener:function(t,e,n,i,o,a){var s=new p.a(!0);return v.a.debug("createListener: ref =",t),n.onSnapshot({includeMetadataChanges:!0},function(){var e=r()(regeneratorRuntime.mark((function e(n){var r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.metadata,c=n.docChanges(),l=s.compareAndSet(!0,!1),!i||!l){e.next=9;break}return v.a.debug("createListener::initialCallback:",t,"changes =",c.length,"size",n.size),e.next=7,o(n);case 7:e.next=19;break;case 9:if(l){e.next=15;break}return v.a.debug("createListener::snapshotCallback: fromCache =",r.fromCache,"id =",t,"changes =",c.length,"size",n.size),e.next=13,a(n);case 13:e.next=19;break;case 15:if(r.fromCache){e.next=19;break}return v.a.debug("createListener::snapshot: fromCache =",r.fromCache,"id =",t,"changes =",c.length,"size",n.size),e.next=19,a(n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(n){v.a.error("createListener error :: id=",t,n.code,n.message,n),e.commit(m.a.SHOW_ERROR,n)}))},getNewDate:function(t){try{var e=this.getNewDates(t);return g.a.isEmpty(e)?null:e.reduce((function(t,e){return t.getTime()>e.getTime()?t:e}))}catch(t){return null}},getNewDates:function(t){return t.map((function(t){return t.doc||t})).map((function(t){return h.a.toDate(t.data()[C.ATTR_CHANGE_TIMESTAMP])})).filter((function(t){return g.a.isDate(t)}))},splitBatches:function(t,e,n){return r()(regeneratorRuntime.mark((function i(){var r,o,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(g.a.isArray(e)){i.next=2;break}return i.abrupt("return");case 2:if(r=t.getters.remoteConfigFirestoreBatchSize,!(e.length<=r)){i.next=8;break}return i.next=6,n(e);case 6:i.next=17;break;case 8:o=0;case 9:if(!(o<e.length)){i.next=17;break}return a=o,o=Math.min(a+r,e.length),v.a.debug("splitBatches",a,o),i.next=15,n(e.slice(a,o));case 15:i.next=9;break;case 17:case"end":return i.stop()}}),i)})))()},ATTR_DEVICE_ID:"iid",ATTR_API_VERSION:"av",ATTR_CHANGE_TIMESTAMP:"cts",COLLECTION_USERS:"u",COLLECTION_USER_CLIPS:"c",COLLECTION_USER_CLIPS_DELETED:"cd",COLLECTION_USER_FILTERS:"f",COLLECTION_USER_FILES:"fs",COLLECTION_USER_FILES_DELETED:"fsd",COLLECTION_PUBLIC_NOTES:"n",ATTR_DEVICE_APP_VERSION:"v",ATTR_DEVICE_CREATE_DATE:"c",ATTR_DEVICE_USAGE_DATE:"u",ATTR_DEVICE_LANGUAGE:"l",ATTR_DEVICE_MODEL:"m",ATTR_CLIP_TAGS:"l",ATTR_CLIP_USAGE_COUNT:"n",ATTR_CLIP_CREATE_DATE:"c",ATTR_CLIP_UPDATE_DATE:"u",ATTR_CLIP_MODIFY_DATE:"m",ATTR_CLIP_DELETE_DATE:"d",ATTR_CLIP_OBJECT_TYPE:"ot",ATTR_CLIP_TEXT_TYPE:"v",ATTR_CLIP_TITLE:"h",ATTR_CLIP_TEXT:"t",ATTR_CLIP_TAG_IDS:"li",ATTR_CLIP_FILE_IDS:"fi",ATTR_CLIP_SNIPPET_ID:"s",ATTR_CLIP_TRACKED:"a",ATTR_CLIP_FAV:"f",ATTR_CLIP_FILE_METADATA:"fm",ATTR_CLIP_PUBLIC_LINK:"pl",ATTR_CLIP_SNIPPET_SETS_IDS:"si",ATTR_CLIP_ABBREVIATION:"abr",ATTR_CLIP_DESCRIPTION:"dsc",ATTR_FILTER_NAME:"name",ATTR_FILTER_DESCRIPTION:"description",ATTR_FILTER_OBJECT_TYPE:"obj_type",ATTR_FILTER_TYPE:"type",ATTR_FILTER_LIMIT:"limit",ATTR_FILTER_COLOR:"color",ATTR_FILTER_SORT_BY:"sortBy",ATTR_FILTER_LIST_STYLE:"listStyle",ATTR_FILTER_AUTO_RULE_ENABLED:"autoRuleEnabled",ATTR_FILTER_AUTO_RULE_TEXT:"autoRuleText",ATTR_FILTER_EXCLUDE_WITH_CUSTOM_ATTRS:"excludeCustomAttrs",ATTR_FILTER_TAG_IDS:"tagIds",ATTR_FILTER_TAG_IDS_WHERE_TYPE:"tagIdsWhereType",ATTR_FILTER_SNIPPET_SETS_IDS:"snippetSetsIds",ATTR_FILTER_SNIPPET_SETS_WHERE_TYPE:"snippetSetsWhereType",ATTR_FILTER_LOCATED_IN_WHERE_TYPE:"locatedInWhereType",ATTR_FILTER_SHOW_ONLY_WITH_PUBLIC_LINKS:"showOnlyWithPublicLink",ATTR_FILTER_SHOW_ONLY_WITH_ATTACHMENTS:"showOnlyWithAttachments",ATTR_FILTER_SHOW_ONLY_NOT_SYNCED:"showOnlyNotSynced",ATTR_FILTER_TEXT_TYPE_IN:"textTypeIn",ATTR_FILTER_CREATE_DATE_FROM:"createDateFrom",ATTR_FILTER_CREATE_DATE_TO:"createDateTo",ATTR_FILTER_CREATE_DATE_PERIOD:"createDatePeriod",ATTR_FILTER_UPDATE_DATE_FROM:"updateDateFrom",ATTR_FILTER_UPDATE_DATE_TO:"updateDateTo",ATTR_FILTER_UPDATE_DATE_PERIOD:"updateDatePeriod",ATTR_FILTER_TEXT_LIKE:"textLike",ATTR_FILTER_STARRED:"starred",ATTR_FILTER_UNTAGGED:"untagged",ATTR_FILTER_CLIPBOARD:"clipboard",ATTR_FILTER_RECYCLED:"recycled",ATTR_FILTER_UPDATED:"updated",ATTR_FILTER_DELETED:"deleted",ATTR_FILTER_SNIPPETS:"snippets",ATTR_FILTER_PIN_STARRED_ENABLED:"pinStarred",ATTR_FILTER_HIDE_HINT:"hideHint",ATTR_FILTER_SNIPPET_KIT:"snippetKit",ATTR_SNIPPET_KIT_ID:"id",ATTR_SNIPPET_KIT_NAME:"name",ATTR_SNIPPET_KIT_CREATED:"created",ATTR_SNIPPET_KIT_UPDATED:"updated",ATTR_SNIPPET_KIT_INSTALLS:"installs",ATTR_SNIPPET_KIT_USER_ID:"userId",ATTR_SNIPPET_KIT_USER_NAME:"userName",ATTR_SNIPPET_KIT_COLOR:"color",ATTR_SNIPPET_KIT_COUNTRY:"country",ATTR_SNIPPET_KIT_LANGUAGE:"language",ATTR_SNIPPET_KIT_FILTER_ID:"filterId",ATTR_SNIPPET_KIT_SNIPPETS_COUNT:"snippetsCount",ATTR_SNIPPET_KIT_SNIPPETS:"snippets",ATTR_SNIPPET_KIT_PUBLIC_LINK:"publicLink",ATTR_SNIPPET_KIT_DESCRIPTION:"description",ATTR_SNIPPET_KIT_PUBLIC_STATUS:"publicStatus",ATTR_SNIPPET_KIT_UPDATE_REASON:"updateReason",ATTR_SNIPPET_KIT_CATEGORY_ID:"categoryId",ATTR_SNIPPET_KIT_SHARABLE:"sharable",ATTR_SNIPPET_KIT_SORT_BY:"sortBy",ATTR_SNIPPET_KIT_LIST_STYLE:"listStyle",ATTR_SNIPPET_ID:"id",ATTR_SNIPPET_TEXT:"text",ATTR_SNIPPET_TITLE:"title",ATTR_SNIPPET_CREATED:"created",ATTR_SNIPPET_UPDATED:"updated",ATTR_SNIPPET_ABBREVIATION:"abbreviation",ATTR_SNIPPET_DESCRIPTION:"description",ATTR_SNIPPET_TEXT_TYPE:"textType",ATTR_PUBLIC_NOTE_POSTPONE_IN_MILLIS:"postponeInMillis",ATTR_PUBLIC_NOTE_POSTPONE_AT_DATE:"postponeAtDate",ATTR_PUBLIC_NOTE_EXPIRES_IN_MILLIS:"expiresInMillis",ATTR_PUBLIC_NOTE_EXPIRES_AT_DATE:"expiresAtDate",ATTR_PUBLIC_NOTE_LINK:"link",ATTR_PUBLIC_NOTE_LOCKED:"locked",ATTR_PUBLIC_NOTE_UNAVAILABLE:"unavailable",ATTR_PUBLIC_NOTE_PASSWORD_CLUE:"passwordClue",ATTR_PUBLIC_NOTE_OPENED_TIMES:"openedTimes",ATTR_PUBLIC_NOTE_ONETIME:"oneTimeOpening",FILE_META_NAME:"n",FILE_META_LABEL:"l",FILE_META_FOLDER:"f",FILE_META_TYPE:"t",FILE_META_MEDIA_TYPE:"m",FILE_META_SIZE:"s",FILE_META_MD5:"h",FILE_META_CREATED:"c",FILE_META_UPDATED:"u",FILE_META_UPLOADED:"r",FILE_META_ERROR:"e",FILE_META_PLATFORM:"pl",FILE_META_LOCAL_PATH:"p",FILE_MD5:"md5",FILE_SIZE:"size",FILE_TYPE:"type",FILE_NAME:"name",FILE_PATH:"path",FILE_FOLDER:"folder",FILE_DESCRIPTION:"description",FILE_ABBREVIATION:"abbreviation",FILE_CREATED:"created",FILE_UPDATED:"updated",FILE_DELETED:"deleted",FILE_MODIFIED:"modified",FILE_MEDIA_TYPE:"mediaType",FILE_UPLOADED:"uploaded",FILE_UPLOAD_URL:"uploadUrl",FILE_PLATFORM:"platform",FILE_ERROR:"error",FILE_TAG_IDS:"tagIds",FILE_KIT_IDS:"kitIds"}},e71f:function(t,e,n){"use strict";var i=n("cc84"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))}function s(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function c(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}Object.create;var l=n("a8e9"),u=n("abfd"),d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var p,f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g=g||{},m=f||self;function v(){}function y(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function _(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b="closure_uid_"+(1e9*Math.random()>>>0),S=0;function C(t,e,n){return t.call.apply(t.bind,arguments)}function T(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:T).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function E(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function A(){this.s=this.s,this.o=this.o}var x={};A.prototype.s=!1,A.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++S)}(this);delete x[t]}},A.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function R(t){return Array.prototype.concat.apply([],arguments)}function L(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function F(t){return/^[\s\xa0]*$/.test(t)}var O,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function B(t,e){return t<e?-1:t>e?1:0}t:{var M=m.navigator;if(M){var q=M.userAgent;if(q){O=q;break t}}O=""}function U(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function $(t){var e={};for(var n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function H(t){return H[" "](t),t}H[" "]=v;var z,W,K=N(O,"Opera"),G=N(O,"Trident")||N(O,"MSIE"),Q=N(O,"Edge"),Y=Q||G,X=N(O,"Gecko")&&!(N(O.toLowerCase(),"webkit")&&!N(O,"Edge"))&&!(N(O,"Trident")||N(O,"MSIE"))&&!N(O,"Edge"),Z=N(O.toLowerCase(),"webkit")&&!N(O,"Edge");function J(){var t=m.document;return t?t.documentMode:void 0}t:{var tt="",et=(W=O,X?/rv:([^\);]+)(\)|;)/.exec(W):Q?/Edge\/([\d\.]+)/.exec(W):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(W):Z?/WebKit\/(\S+)/.exec(W):K?/(?:Version)[ \/]?(\S+)/.exec(W):void 0);if(et&&(tt=et?et[1]:""),G){var nt=J();if(null!=nt&&nt>parseFloat(tt)){z=String(nt);break t}}z=tt}var it,rt={};function ot(){return function(t){var e=rt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=P(String(z)).split("."),n=P("9").split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var o=e[r]||"",a=n[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=B(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||B(0==o[2].length,0==a[2].length)||B(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(m.document&&G){var at=J();it=at||(parseInt(z,10)||void 0)}else it=void 0;var st=it,ct=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{m.addEventListener("test",v,e),m.removeEventListener("test",v,e)}catch(t){}return t}();function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ut(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(X){t:{try{H(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:dt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ut.Z.h.call(this)}}lt.prototype.h=function(){this.defaultPrevented=!0},E(ut,lt);var dt={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),pt=0;function ft(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++pt,this.ca=this.fa=!1}function gt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function mt(t){this.src=t,this.g={},this.h=0}function vt(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=k(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(gt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yt(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==i)return r}return-1}mt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=yt(t,e,i,r);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ft(e,this.src,o,!!i,r)).fa=n,t.push(e)),e};var _t="closure_lm_"+(1e6*Math.random()|0),bt={};function St(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],i,r,o);return null}return i=xt(i),e&&e[ht]?e.O(n,i,_(r)?!!r.capture:!!r,o):Ct(e,n,i,!0,r,o)}(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)St(t,e[o],n,i,r);return null}return n=xt(n),t&&t[ht]?t.N(e,n,_(i)?!!i.capture:!!i,r):Ct(t,e,n,!1,i,r)}function Ct(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=_(r)?!!r.capture:!!r,s=Et(t);if(s||(t[_t]=s=new mt(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=It;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)ct||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(wt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Tt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ht])vt(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(wt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Et(e))?(vt(n,t),0==n.h&&(n.src=null,e[_t]=null)):gt(t)}}}function wt(t){return t in bt?bt[t]:bt[t]="on"+t}function It(t,e){if(t.ca)t=!0;else{e=new ut(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Tt(t),t=n.call(i,e)}return t}function Et(t){return(t=t[_t])instanceof mt?t:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==typeof t?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function kt(){A.call(this),this.i=new mt(this),this.P=this,this.I=null}function Dt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var r=e;V(e=new lt(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Rt(a,i,!0,e)&&r}if(r=Rt(a=e.g=t,i,!0,e)&&r,r=Rt(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Rt(a=e.g=n[o],i,!1,e)&&r}function Rt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,c=a.ia||a.src;a.fa&&vt(t.i,a),r=!1!==s.call(c,i)&&r}}return r&&!i.defaultPrevented}E(kt,A),kt.prototype[ht]=!0,kt.prototype.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],i,r,o);else r=_(r)?!!r.capture:!!r,i=xt(i),e&&e[ht]?(e=e.i,(n=String(n).toString())in e.g&&(-1<(i=yt(a=e.g[n],i,r,o))&&(gt(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete e.g[n],e.h--)))):e&&(e=Et(e))&&(n=e.g[n.toString()],e=-1,n&&(e=yt(n,i,r,o)),(i=-1<e?n[e]:null)&&Tt(i))}(this,t,e,n,i)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)gt(n[i]);delete e.g[t],e.h--}}this.I=null},kt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},kt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Lt=m.JSON.stringify;function Ft(){var t=$t,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ot,Pt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Nt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Bt}),(function(t){return t.reset()})),Bt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Mt(t){m.setTimeout((function(){throw t}),0)}function qt(t,e){Ot||function(){var t=m.Promise.resolve(void 0);Ot=function(){t.then(jt)}}(),Ut||(Ot(),Ut=!0),$t.add(t,e)}var Ut=!1,$t=new Pt;function jt(){for(var t;t=Ft();){try{t.h.call(t.g)}catch(t){Mt(t)}var e=Nt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ut=!1}function Vt(t,e){kt.call(this),this.h=t||1,this.g=e||m,this.j=w(this.kb,this),this.l=Date.now()}function Ht(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function zt(t,e,n){if("function"==typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:m.setTimeout(t,e||0)}function Wt(t){t.g=zt((function(){t.g=null,t.i&&(t.i=!1,Wt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}E(Vt,kt),(p=Vt.prototype).da=!1,p.S=null,p.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dt(this,"tick"),this.da&&(Ht(this),this.start()))}},p.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},p.M=function(){Vt.Z.M.call(this),Ht(this),delete this.g};var Kt=function(t){function e(e,n){var i=t.call(this)||this;return i.m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Wt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(A);function Gt(t){A.call(this),this.h=t,this.g={}}E(Gt,A);var Qt=[];function Yt(t,e,n,i){Array.isArray(n)||(n&&(Qt[0]=n.toString()),n=Qt);for(var r=0;r<n.length;r++){var o=St(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Xt(t){U(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Tt(t)}),t),t.g={}}function Zt(){this.g=!0}function Jt(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return Lt(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}Gt.prototype.M=function(){Gt.Z.M.call(this),Xt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.Aa=function(){this.g=!1},Zt.prototype.info=function(){};var te={},ee=null;function ne(){return ee=ee||new kt}function ie(t){lt.call(this,te.Ma,t)}function re(t){var e=ne();Dt(e,new ie(e,t))}function oe(t,e){lt.call(this,te.STAT_EVENT,t),this.stat=e}function ae(t){var e=ne();Dt(e,new oe(e,t))}function se(t,e){lt.call(this,te.Na,t),this.size=e}function ce(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return m.setTimeout((function(){t()}),e)}te.Ma="serverreachability",E(ie,lt),te.STAT_EVENT="statevent",E(oe,lt),te.Na="timingevent",E(se,lt);var le={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ue={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function de(){}function he(t){return t.h||(t.h=t.i())}function pe(){}de.prototype.h=null;var fe,ge={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function me(){lt.call(this,"d")}function ve(){lt.call(this,"c")}function ye(){}function _e(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Gt(this),this.P=Se,t=Y?125:void 0,this.W=new Vt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}E(me,lt),E(ve,lt),E(ye,de),ye.prototype.g=function(){return new XMLHttpRequest},ye.prototype.i=function(){return{}},fe=new ye;var Se=45e3,Ce={},Te={};function we(t,e,n){t.K=1,t.v=Ke($e(e)),t.s=n,t.U=!0,Ie(t,null)}function Ie(t,e){t.F=Date.now(),ke(t),t.A=$e(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),sn(n.h,"t",i),t.C=0,n=t.l.H,t.h=new be,t.g=ci(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Kt(w(t.Ia,t,t.g),t.O)),Yt(t.V,t.g,"readystatechange",t.gb),e=t.H?$(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),re(1),function(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ee(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Ae(t,e,n){for(var i,r=!0;!t.I&&t.C<n.length;){if((i=xe(t,n))==Te){4==e&&(t.o=4,ae(14),r=!1),Jt(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ce){t.o=4,ae(15),Jt(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Jt(t.j,t.m,i,null),Oe(t,i)}Ee(t)&&i!=Te&&i!=Ce&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ae(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ti(e),e.L=!0,ae(11))):(Jt(t.j,t.m,n,"[Invalid Chunked Response]"),Fe(t),Le(t))}function xe(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Te:(n=Number(e.substring(n,i)),isNaN(n)?Ce:(i+=1)+n>e.length?Te:(e=e.substr(i,n),t.C=i+n,e))}function ke(t){t.Y=Date.now()+t.P,De(t,t.P)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ce(w(t.eb,t),e)}function Re(t){t.B&&(m.clearTimeout(t.B),t.B=null)}function Le(t){0==t.l.G||t.I||ii(t.l,t)}function Fe(t){Re(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ht(t.W),Xt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||fn(n.i,t)))if(n.I=t.N,!t.J&&fn(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(o){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ni(n),zn(n)}Jn(n),ae(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=ce(w(n.ab,n),6e3));if(1>=pn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else oi(n,11)}else if((t.J||n.g==t)&&ni(n),!F(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){var o=r[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(i=1.5*c,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var l=t.g;if(l){var u=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var d=i.i;!d.g&&(N(u,"spdy")||N(u,"quic")||N(u,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(gn(d,d.h),d.h=null))}if(i.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(i.sa=h,We(i.F,i.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=t;if((i=n).oa=si(i,i.H?i.la:null,i.W),p.J){mn(i.i,p);var f=p,g=i.K;g&&f.setTimeout(g),f.B&&(Re(f),ke(f)),i.g=p}else Zn(i);0<n.l.length&&Gn(n)}else"stop"!=o[0]&&"close"!=o[0]||oi(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?oi(n,7):Hn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}re(4)}catch(o){}}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(y(t)||"string"==typeof t)D(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(y(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(y(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Ne(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ne)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Be(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Me(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)Me(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function Me(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(p=_e.prototype).setTimeout=function(t){this.P=t},p.gb=function(t){t=t.target;var e=this.L;e&&3==qn(t)?e.l():this.Ia(t)},p.Ia=function(t){try{if(t==this.g)t:{var e=qn(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(3!=e||Y||this.g&&(this.h.h||this.g.ga()||Un(this.g)))){this.I||4!=e||7==n||re(8==n||0>=i?3:2),Re(this);var r=this.g.ba();this.N=r;e:if(Ee(this)){var o=Un(this.g);t="";var a=o.length,s=4==qn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fe(this),Le(this);var c="";break e}this.h.i=new m.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==r,function(t,e,n,i,r,o,a){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,r),this.i){if(this.$&&!this.J){e:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(l)){var d=l;break e}}d=null}if(!(r=d)){this.i=!1,this.o=3,ae(12),Fe(this),Le(this);break t}Jt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oe(this,r)}this.U?(Ae(this,e,c),Y&&this.i&&3==e&&(Yt(this.V,this.W,"tick",this.fb),this.W.start())):(Jt(this.j,this.m,c,null),Oe(this,c)),4==e&&Fe(this),this.i&&!this.I&&(4==e?ii(this.l,this):(this.i=!1,ke(this)))}else 400==r&&0<c.indexOf("Unknown SID")?(this.o=3,ae(12)):(this.o=0,ae(13)),Fe(this),Le(this)}}}catch(e){}},p.fb=function(){if(this.g){var t=qn(this.g),e=this.g.ga();this.C<e.length&&(Re(this),Ae(this,t,e),this.i&&4!=t&&ke(this))}},p.cancel=function(){this.I=!0,Fe(this)},p.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(re(3),ae(17)),Fe(this),this.o=2,Le(this)):De(this,this.Y-t)},(p=Ne.prototype).R=function(){Be(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},p.T=function(){return Be(this),this.g.concat()},p.get=function(t,e){return Me(this.h,t)?this.h[t]:e},p.set=function(t,e){Me(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},p.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var qe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ue(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ue){this.g=void 0!==e?e:t.g,je(this,t.j),this.s=t.s,Ve(this,t.i),He(this,t.m),this.l=t.l,e=t.h;var n=new nn;n.i=e.i,e.g&&(n.g=new Ne(e.g),n.h=e.h),ze(this,n),this.o=t.o}else t&&(n=String(t).match(qe))?(this.g=!!e,je(this,n[1]||"",!0),this.s=Ge(n[2]||""),Ve(this,n[3]||"",!0),He(this,n[4]),this.l=Ge(n[5]||"",!0),ze(this,n[6]||"",!0),this.o=Ge(n[7]||"")):(this.g=!!e,this.h=new nn(null,this.g))}function $e(t){return new Ue(t)}function je(t,e,n){t.j=n?Ge(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ve(t,e,n){t.i=n?Ge(e,!0):e}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ze(t,e,n){e instanceof nn?(t.h=e,function(t,e){e&&!t.j&&(rn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(on(this,e),sn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Qe(e,tn)),t.h=new nn(e,t.g))}function We(t,e,n){t.h.set(e,n)}function Ke(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ge(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ye(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ue.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qe(e,Xe,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Qe(e,Xe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qe(n,"/"==n.charAt(0)?Je:Ze,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qe(n,en)),t.join("")};var Xe=/[#\/\?@]/g,Ze=/[#\?:]/g,Je=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rn(t){t.g||(t.g=new Ne,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function on(t,e){rn(t),e=cn(t,e),Me(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Me((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Be(t)))}function an(t,e){return rn(t),e=cn(t,e),Me(t.g.h,e)}function sn(t,e,n){on(t,e),0<n.length&&(t.i=null,t.g.set(cn(t,e),L(n)),t.h+=n.length)}function cn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(p=nn.prototype).add=function(t,e){rn(this),this.i=null,t=cn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},p.forEach=function(t,e){rn(this),this.g.forEach((function(n,i){D(n,(function(n){t.call(e,n,i,this)}),this)}),this)},p.T=function(){rn(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},p.R=function(t){rn(this);var e=[];if("string"==typeof t)an(this,t)&&(e=R(e,this.g.get(cn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=R(e,t[n])}return e},p.set=function(t,e){return rn(this),this.i=null,an(this,t=cn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},p.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},p.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.i=t.join("&")};var ln=function(t,e){this.h=t,this.g=e};function un(t){this.l=t||dn,m.PerformanceNavigationTiming?t=0<(t=m.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(m.g&&m.g.Ea&&m.g.Ea()&&m.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dn=10;function hn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pn(t){return t.h?1:t.g?t.g.size:0}function fn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function gn(t,e){t.g?t.g.add(e):t.h=e}function mn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var i=t.i;try{for(var r=h(t.g.values()),o=r.next();!o.done;o=r.next()){var a=o.value;i=i.concat(a.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return L(t.i)}function yn(){}function _n(){this.g=new yn}function bn(t,e,n){var i=n||"";try{Pe(t,(function(t,n){var r=t;_(t)&&(r=Lt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function Sn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}function Cn(t){this.l=t.$b||null,this.j=t.ib||!1}function Tn(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un.prototype.cancel=function(){var t,e;if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=h(this.g.values()),i=n.next();!i.done;i=n.next()){i.value.cancel()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},yn.prototype.stringify=function(t){return m.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return m.JSON.parse(t,void 0)},E(Cn,de),Cn.prototype.g=function(){return new Tn(this.l,this.j)},Cn.prototype.i=function(t){return function(){return t}}({}),E(Tn,kt);var wn=0;function In(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function En(t){t.readyState=4,t.l=null,t.j=null,t.A=null,An(t)}function An(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(p=Tn.prototype).open=function(t,e){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,An(this)},p.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||m).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},p.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,En(this)),this.readyState=wn},p.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==m.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;In(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},p.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?En(this):An(this),3==this.readyState&&In(this)}},p.Ua=function(t){this.g&&(this.response=this.responseText=t,En(this))},p.Ta=function(t){this.g&&(this.response=t,En(this))},p.ha=function(){this.g&&En(this)},p.setRequestHeader=function(t,e){this.v.append(t,e)},p.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xn=m.JSON.parse;function kn(t){kt.call(this),this.headers=new Ne,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dn,this.K=this.L=!1}E(kn,kt);var Dn="",Rn=/^https?$/i,Ln=["POST","PUT"];function Fn(t){return"content-type"==t.toLowerCase()}function On(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Pn(t),Bn(t)}function Pn(t){t.D||(t.D=!0,Dt(t,"complete"),Dt(t,"error"))}function Nn(t){if(t.h&&void 0!==g&&(!t.C[1]||4!=qn(t)||2!=t.ba()))if(t.v&&4==qn(t))zt(t.Fa,0,t);else if(Dt(t,"readystatechange"),4==qn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.H).match(qe)[1]||null;if(!o&&m.self&&m.self.location){var a=m.self.location.protocol;o=a.substr(0,a.length-1)}r=!Rn.test(o?o.toLowerCase():"")}e=r}if(e)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var s=2<qn(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",Pn(t)}}finally{Bn(t)}}}function Bn(t,e){if(t.g){Mn(t);var n=t.g,i=t.C[0]?v:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function Mn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(m.clearTimeout(t.A),t.A=null)}function qn(t){return t.g?t.g.readyState:0}function Un(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Dn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $n(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return U(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function jn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vn(t){this.za=0,this.l=[],this.h=new Zt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jn("baseRetryDelayMs",5e3,t),this.$a=jn("retryDelaySeedMs",1e4,t),this.Ya=jn("forwardChannelMaxRetries",2,t),this.ra=jn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new un(t&&t.concurrentRequestLimit),this.Ca=new _n,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Hn(t){if(Wn(t),3==t.G){var e=t.V++,n=$e(t.F);We(n,"SID",t.J),We(n,"RID",e),We(n,"TYPE","terminate"),Yn(t,n),(e=new _e(t,t.h,e,void 0)).K=2,e.v=Ke($e(n)),n=!1,m.navigator&&m.navigator.sendBeacon&&(n=m.navigator.sendBeacon(e.v.toString(),"")),!n&&m.Image&&((new Image).src=e.v,n=!0),n||(e.g=ci(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ke(e)}ai(t)}function zn(t){t.g&&(ti(t),t.g.cancel(),t.g=null)}function Wn(t){zn(t),t.u&&(m.clearTimeout(t.u),t.u=null),ni(t),t.i.cancel(),t.m&&("number"==typeof t.m&&m.clearTimeout(t.m),t.m=null)}function Kn(t,e){t.l.push(new ln(t.Za++,e)),3==t.G&&Gn(t)}function Gn(t){hn(t.i)||t.m||(t.m=!0,qt(t.Ha,t),t.C=0)}function Qn(t,e){var n;n=e?e.m:t.V++;var i=$e(t.F);We(i,"SID",t.J),We(i,"RID",n),We(i,"AID",t.U),Yn(t,i),t.o&&t.s&&$n(i,t.o,t.s),n=new _e(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Xn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),gn(t.i,n),we(n,i,e)}function Yn(t,e){t.j&&Pe({},(function(t,n){We(e,n,t)}))}function Xn(t,e,n){n=Math.min(t.l.length,n);var i=t.j?w(t.j.Oa,t.j,t):null;t:for(var r=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var l=r[c].h,u=r[c].g;if(0>(l-=o))o=Math.max(0,r[c].h-100),s=!1;else try{bn(u,a,"req"+l+"_")}catch(t){i&&i(u)}}if(s){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function Zn(t){t.g||t.u||(t.Y=1,qt(t.Ga,t),t.A=0)}function Jn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=ce(w(t.Ga,t),ri(t,t.A)),t.A++,!0)}function ti(t){null!=t.B&&(m.clearTimeout(t.B),t.B=null)}function ei(t){t.g=new _e(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=$e(t.oa);We(e,"RID","rpc"),We(e,"SID",t.J),We(e,"CI",t.N?"0":"1"),We(e,"AID",t.U),Yn(t,e),We(e,"TYPE","xmlhttp"),t.o&&t.s&&$n(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ke($e(e)),n.s=null,n.U=!0,Ie(n,t)}function ni(t){null!=t.v&&(m.clearTimeout(t.v),t.v=null)}function ii(t,e){var n=null;if(t.g==e){ni(t),ti(t),t.g=null;var i=2}else{if(!fn(t.i,e))return;n=e.D,mn(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;Dt(i=ne(),new se(i,n,e,r)),Gn(t)}else Zn(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(pn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=ce(w(t.Ha,t,e),ri(t,t.C)),t.C++,!0))}(t,e)||2==i&&Jn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:oi(t,5);break;case 4:oi(t,10);break;case 3:oi(t,6);break;default:oi(t,2)}}function ri(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function oi(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=w(t.jb,t);n||(n=new Ue("//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||je(n,"https"),Ke(n)),function(t,e){var n=new Zt;if(m.Image){var i=new Image;i.onload=I(Sn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=I(Sn,n,i,"TestLoadImage: error",!1,e),i.onabort=I(Sn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=I(Sn,n,i,"TestLoadImage: timeout",!1,e),m.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else ae(2);t.G=0,t.j&&t.j.va(e),ai(t),Wn(t)}function ai(t){t.G=0,t.I=-1,t.j&&(0==vn(t.i).length&&0==t.l.length||(t.i.i.length=0,L(t.l),t.l.length=0),t.j.ua())}function si(t,e,n){var i=function(t){return t instanceof Ue?$e(t):new Ue(t,void 0)}(n);if(""!=i.i)e&&Ve(i,e+"."+i.i),He(i,i.m);else{var r=m.location;i=function(t,e,n,i){var r=new Ue(null,void 0);return t&&je(r,t),e&&Ve(r,e),n&&He(r,n),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&U(t.aa,(function(t,e){We(i,e,t)})),e=t.D,n=t.sa,e&&n&&We(i,e,n),We(i,"VER",t.ma),Yn(t,i),i}function ci(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new kn(new Cn({ib:!0})):new kn(t.qa)).L=t.H,e}function li(){}function ui(){if(G&&!(10<=Number(st)))throw Error("Environmental error: no available transport.")}function di(t,e){kt.call(this),this.g=new Vn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!F(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new fi(this)}function hi(t){me.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function pi(){ve.call(this),this.status=1}function fi(t){this.g=t}(p=kn.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fe.g(),this.C=this.u?he(this.u):he(fe),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void On(this,t)}t=n||"";var r=new Ne(this.headers);i&&Pe(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Fn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.T()),n=m.FormData&&t instanceof m.FormData,!(0<=k(Ln,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mn(this),0<this.B&&((this.K=function(t){return G&&ot()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=zt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){On(this,t)}},p.pa=function(){void 0!==g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},p.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Bn(this))},p.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bn(this,!0)),kn.Z.M.call(this)},p.Fa=function(){this.s||(this.F||this.v||this.l?Nn(this):this.cb())},p.cb=function(){Nn(this)},p.ba=function(){try{return 2<qn(this)?this.g.status:-1}catch(t){return-1}},p.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},p.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xn(e)}},p.Da=function(){return this.m},p.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(p=Vn.prototype).ma=8,p.G=1,p.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},p.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new _e(this,this.h,t,void 0),n=this.s;if(this.P&&(n?V(n=$(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(i+=o)){i=r;break t}if(4096===i||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Xn(this,e,i),We(r=$e(this.F),"RID",t),We(r,"CVER",22),this.D&&We(r,"X-HTTP-Session-Id",this.D),Yn(this,r),this.o&&n&&$n(r,this.o,n),gn(this.i,e),this.Ra&&We(r,"TYPE","init"),this.ja?(We(r,"$req",i),We(r,"SID","null"),e.$=!0,we(e,r,null)):we(e,r,i),this.G=2}}else 3==this.G&&(t?Qn(this,t):0==this.l.length||hn(this.i)||Qn(this))},p.Ga=function(){if(this.u=null,ei(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ce(w(this.bb,this),t)}},p.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ae(10),zn(this),ei(this))},p.ab=function(){null!=this.v&&(this.v=null,zn(this),Jn(this),ae(19))},p.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ae(2)):(this.h.info("Failed to ping google.com"),ae(1))},(p=li.prototype).xa=function(){},p.wa=function(){},p.va=function(){},p.ua=function(){},p.Oa=function(){},ui.prototype.g=function(t,e){return new di(t,e)},E(di,kt),di.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),qt(w(t.hb,t,e))),ae(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=si(t,null,t.W),Gn(t)},di.prototype.close=function(){Hn(this.g)},di.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Kn(this.g,e)}else this.v?((e={}).__data__=Lt(t),Kn(this.g,e)):Kn(this.g,t)},di.prototype.M=function(){this.g.j=null,delete this.j,Hn(this.g),delete this.g,di.Z.M.call(this)},E(hi,me),E(pi,ve),E(fi,li),fi.prototype.xa=function(){Dt(this.g,"a")},fi.prototype.wa=function(t){Dt(this.g,new hi(t))},fi.prototype.va=function(t){Dt(this.g,new pi(t))},fi.prototype.ua=function(){Dt(this.g,"b")},ui.prototype.createWebChannel=ui.prototype.g,di.prototype.send=di.prototype.u,di.prototype.open=di.prototype.m,di.prototype.close=di.prototype.close,le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,ue.COMPLETE="complete",pe.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",kt.prototype.listen=kt.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.La,kn.prototype.getLastErrorCode=kn.prototype.Da,kn.prototype.getStatus=kn.prototype.ba,kn.prototype.getResponseJson=kn.prototype.Qa,kn.prototype.getResponseText=kn.prototype.ga,kn.prototype.send=kn.prototype.ea;var gi=function(){return new ui},mi=function(){return ne()},vi=le,yi=ue,_i=te,bi={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Si=Cn,Ci=pe,Ti=kn,wi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();wi.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ii={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ei=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return o(e,t),e}(Error),Ai=new u.b("@firebase/firestore");function xi(){return Ai.logLevel}function ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ai.logLevel<=u.a.DEBUG){var i=e.map(Li);Ai.debug.apply(Ai,c(["Firestore (8.10.0): "+t],i))}}function Di(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ai.logLevel<=u.a.ERROR){var i=e.map(Li);Ai.error.apply(Ai,c(["Firestore (8.10.0): "+t],i))}}function Ri(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ai.logLevel<=u.a.WARN){var i=e.map(Li);Ai.warn.apply(Ai,c(["Firestore (8.10.0): "+t],i))}}function Li(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw Di(e),new Error(e)}function Oi(t,e){t||Fi()}function Pi(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=Ni(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Mi(t,e){return t<e?-1:t>e?1:0}function qi(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function Ui(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ei(Ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ei(Ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ei(Ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ei(Ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Mi(this.nanoseconds,t.nanoseconds):Mi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ji=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new $i(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fi(),void 0===n?n=t.length-e:n>t.length-e&&Fi(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var a=o[r];if(a.indexOf("//")>=0)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter((function(t){return t.length>0})))}return new e(i)},e.emptyPath=function(){return new e([])},e}(Wi),Gi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return Gi.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Ei(Ii.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ei(Ii.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new Ei(Ii.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Wi),Yi=function(){function t(t){this.fields=t,t.sort(Qi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return qi(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Xi=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Mi(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Xi.EMPTY_BYTE_STRING=new Xi("");var Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Oi(!!t),"string"==typeof t){var e=0,n=Zi.exec(t);if(Oi(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function er(t){return"string"==typeof t?Xi.fromBase64String(t):Xi.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ir(t){var e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new $i(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return null==t}function or(t){return 0===t&&1/t==-1/0}function ar(t){return"number"==typeof t&&Number.isInteger(t)&&!or(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ki.fromString(e))},t.fromName=function(e){return new t(Ki.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ki.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ki.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ki(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nr(t)?4:10:Fi()}function lr(t,e){var n=cr(t);if(n!==cr(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ir(t).isEqual(ir(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ji(t.timestampValue),i=Ji(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return er(t.bytesValue).isEqual(er(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return tr(t.geoPointValue.latitude)===tr(e.geoPointValue.latitude)&&tr(t.geoPointValue.longitude)===tr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return tr(t.integerValue)===tr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=tr(t.doubleValue),i=tr(e.doubleValue);return n===i?or(n)===or(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Vi(n)!==Vi(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!lr(n[r],i[r])))return!1;return!0}(t,e);default:return Fi()}}function ur(t,e){return void 0!==(t.values||[]).find((function(t){return lr(t,e)}))}function dr(t,e){var n=cr(t),i=cr(e);if(n!==i)return Mi(n,i);switch(n){case 0:return 0;case 1:return Mi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=tr(t.integerValue||t.doubleValue),i=tr(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return hr(t.timestampValue,e.timestampValue);case 4:return hr(ir(t),ir(e));case 5:return Mi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=er(t),i=er(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Mi(n[r],i[r]);if(0!==o)return o}return Mi(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mi(tr(t.latitude),tr(e.latitude));return 0!==n?n:Mi(tr(t.longitude),tr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=dr(n[r],i[r]);if(o)return o}return Mi(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=Mi(i[a],o[a]);if(0!==s)return s;var c=dr(n[i[a]],r[o[a]]);if(0!==c)return c}return Mi(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Fi()}}function hr(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mi(t,e);var n=Ji(t),i=Ji(e),r=Mi(n.seconds,i.seconds);return 0!==r?r:Mi(n.nanos,i.nanos)}function pr(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ji(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?er(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,sr.fromName(i).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,o=e.values||[];r<o.length;r++)i?i=!1:n+=",",n+=t(o[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var a=o[r];i?i=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Fi();var n,i}(t)}function fr(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function gr(t){return!!t&&"integerValue"in t}function mr(t){return!!t&&"arrayValue"in t}function vr(t){return!!t&&"nullValue"in t}function yr(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _r(t){return!!t&&"mapValue"in t}function br(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=br(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=br(t.arrayValue.values[i]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!_r(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=br(e)},t.prototype.setAll=function(t){var e=this,n=Qi.emptyPath(),i={},r=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,i,r),i={},r=[],n=o.popLast()}t?i[o.lastSegment()]=br(t):r.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,i,r)},t.prototype.delete=function(t){var e=this.field(t.popLast());_r(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return lr(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];_r(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Hi(e,(function(e,n){return t[e]=n}));for(var i=0,r=n;i<r.length;i++){var o=r[i];delete t[o]}},t.prototype.clone=function(){return new t(br(this.value))},t}();function Cr(t){var e=[];return Hi(t.fields,(function(t,n){var i=new Qi([t]);if(_r(n)){var r=Cr(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];e.push(i.child(s))}}else e.push(i)})),new Yi(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Tr=function(){function t(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}return t.newInvalidDocument=function(e){return new t(e,0,ji.min(),Sr.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Sr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Sr.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),wr=function(t,e,n,i,r,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e,n,i,r,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),new wr(t,e,n,i,r,o,a)}function Er(t){var e=Pi(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pr(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),rr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qr(e.startAt)),e.endAt&&(n+="|ub:",n+=qr(e.endAt)),e.h=n}return e.h}function Ar(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!$r(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(r=t.filters[i],o=e.filters[i],r.op!==o.op||!r.field.isEqual(o.field)||!lr(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vr(t.startAt,e.startAt)&&Vr(t.endAt,e.endAt)}function xr(t){return sr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var kr=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return o(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new Dr(t,n,i):"array-contains"===n?new Or(t,i):"in"===n?new Pr(t,i):"not-in"===n?new Nr(t,i):"array-contains-any"===n?new Br(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new Rr(t,n):new Lr(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(dr(e,this.value)):null!==e&&cr(this.value)===cr(e)&&this.m(dr(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fi()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Dr=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=sr.fromName(i.referenceValue),r}return o(e,t),e.prototype.matches=function(t){var e=sr.comparator(t.key,this.key);return this.m(e)},e}(kr),Rr=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=Fr("in",n),i}return o(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kr),Lr=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=Fr("not-in",n),i}return o(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kr);function Fr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return sr.fromName(t.referenceValue)}))}var Or=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return mr(e)&&ur(e.arrayValue,this.value)},e}(kr),Pr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ur(this.value.arrayValue,e)},e}(kr),Nr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return o(e,t),e.prototype.matches=function(t){if(ur(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ur(this.value.arrayValue,e)},e}(kr),Br=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!mr(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ur(e.value.arrayValue,t)}))},e}(kr),Mr=function(t,e){this.position=t,this.before=e};function qr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return pr(t)})).join(",")}var Ur=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $r(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function jr(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],a=t.position[r];if(i=o.field.isKeyField()?sr.comparator(sr.fromName(a.referenceValue),n.key):dr(a,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function Vr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(t,e,n,i,r,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function zr(t,e,n,i,r,o,a,s){return new Hr(t,e,n,i,r,o,a,s)}function Wr(t){return new Hr(t)}function Kr(t){return!rr(t.limit)&&"F"===t.limitType}function Gr(t){return!rr(t.limit)&&"L"===t.limitType}function Qr(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yr(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function Xr(t){return null!==t.collectionGroup}function Zr(t){var e=Pi(t);if(null===e.p){e.p=[];var n=Yr(e),i=Qr(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new Ur(n)),e.p.push(new Ur(Qi.keyField(),"asc"));else{for(var r=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(r=!0)}if(!r){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ur(Qi.keyField(),c))}}}return e.p}function Jr(t){var e=Pi(t);if(!e.T)if("F"===e.limitType)e.T=Ir(e.path,e.collectionGroup,Zr(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Zr(e);i<r.length;i++){var o=r[i],a="desc"===o.dir?"asc":"desc";n.push(new Ur(o.field,a))}var s=e.endAt?new Mr(e.endAt.position,!e.endAt.before):null,c=e.startAt?new Mr(e.startAt.position,!e.startAt.before):null;e.T=Ir(e.path,e.collectionGroup,n,e.filters,e.limit,s,c)}return e.T}function to(t,e,n){return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eo(t,e){return Ar(Jr(t),Jr(e))&&t.limitType===e.limitType}function no(t){return Er(Jr(t))+"|lt:"+t.limitType}function io(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pr(e.value);var e})).join(", ")+"]"),rr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qr(t.startAt)),t.endAt&&(e+=", endAt: "+qr(t.endAt)),"Target("+e+")"}(Jr(t))+"; limitType="+t.limitType+")"}function ro(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):sr.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!jr(t.startAt,Zr(t),e)||t.endAt&&jr(t.endAt,Zr(t),e))}(t,e)}function oo(t){return function(e,n){for(var i=!1,r=0,o=Zr(t);r<o.length;r++){var a=o[r],s=ao(a,e,n);if(0!==s)return s;i=i||a.field.isKeyField()}return 0}}function ao(t,e,n){var i=t.field.isKeyField()?sr.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?dr(i,r):Fi()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Fi()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:or(e)?"-0":e}}function co(t){return{integerValue:""+t}}function lo(t,e){return ar(e)?co(e):so(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo=function(){this._=void 0};function ho(t,e,n){return t instanceof go?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof mo?vo(t,e):t instanceof yo?_o(t,e):function(t,e){var n=fo(t,e),i=So(n)+So(t.A);return gr(n)&&gr(t.A)?co(i):so(t.R,i)}(t,e)}function po(t,e,n){return t instanceof mo?vo(t,e):t instanceof yo?_o(t,e):n}function fo(t,e){return t instanceof bo?gr(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(uo),mo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(uo);function vo(t,e){for(var n=Co(e),i=function(t){n.some((function(e){return lr(e,t)}))||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(uo);function _o(t,e){for(var n=Co(e),i=function(t){n=n.filter((function(e){return!lr(e,t)}))},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var bo=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).R=e,i.A=n,i}return o(e,t),e}(uo);function So(t){return tr(t.integerValue||t.doubleValue)}function Co(t){return mr(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(t,e){this.field=t,this.transform=e},wo=function(t,e){this.version=t,this.transformResults=e},Io=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Eo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ao=function(){};function xo(t,e,n){t instanceof Fo?function(t,e,n){var i=t.value.clone(),r=No(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(t,e,n){if(Eo(t.precondition,e)){var i=No(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Po(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ko(t,e,n){t instanceof Fo?function(t,e,n){if(Eo(t.precondition,e)){var i=t.value.clone(),r=Bo(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(Lo(e),i).setHasLocalMutations()}}(t,e,n):t instanceof Oo?function(t,e,n){if(Eo(t.precondition,e)){var i=Bo(t.fieldTransforms,n,e),r=e.data;r.setAll(Po(t)),r.setAll(i),e.convertToFoundDocument(Lo(e),r).setHasLocalMutations()}}(t,e,n):function(t,e){Eo(t.precondition,e)&&e.convertToNoDocument(ji.min())}(t,e)}function Do(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var o=r[i],a=e.data.field(o.field),s=fo(o.transform,a||null);null!=s&&(null==n&&(n=Sr.empty()),n.set(o.field,s))}return n||null}function Ro(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qi(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof mo&&e instanceof mo||t instanceof yo&&e instanceof yo?qi(t.elements,e.elements,lr):t instanceof bo&&e instanceof bo?lr(t.A,e.A):t instanceof go&&e instanceof go}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Lo(t){return t.isFoundDocument()?t.version:ji.min()}var Fo=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=i,o.fieldTransforms=r,o.type=0,o}return o(e,t),e}(Ao),Oo=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=i,a.precondition=r,a.fieldTransforms=o,a.type=1,a}return o(e,t),e}(Ao);function Po(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}})),e}function No(t,e,n){var i=new Map;Oi(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],a=o.transform,s=e.data.field(o.field);i.set(o.field,po(a,s,n[r]))}return i}function Bo(t,e,n){for(var i=new Map,r=0,o=t;r<o.length;r++){var a=o[r],s=a.transform,c=n.data.field(a.field);i.set(a.field,ho(s,c,e))}return i}var Mo,qo,Uo=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return o(e,t),e}(Ao),$o=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return o(e,t),e}(Ao),jo=function(t){this.count=t};function Vo(t){switch(t){case Ii.OK:return Fi();case Ii.CANCELLED:case Ii.UNKNOWN:case Ii.DEADLINE_EXCEEDED:case Ii.RESOURCE_EXHAUSTED:case Ii.INTERNAL:case Ii.UNAVAILABLE:case Ii.UNAUTHENTICATED:return!1;case Ii.INVALID_ARGUMENT:case Ii.NOT_FOUND:case Ii.ALREADY_EXISTS:case Ii.PERMISSION_DENIED:case Ii.FAILED_PRECONDITION:case Ii.ABORTED:case Ii.OUT_OF_RANGE:case Ii.UNIMPLEMENTED:case Ii.DATA_LOSS:return!0;default:return Fi()}}function Ho(t){if(void 0===t)return Di("GRPC error has no .code"),Ii.UNKNOWN;switch(t){case Mo.OK:return Ii.OK;case Mo.CANCELLED:return Ii.CANCELLED;case Mo.UNKNOWN:return Ii.UNKNOWN;case Mo.DEADLINE_EXCEEDED:return Ii.DEADLINE_EXCEEDED;case Mo.RESOURCE_EXHAUSTED:return Ii.RESOURCE_EXHAUSTED;case Mo.INTERNAL:return Ii.INTERNAL;case Mo.UNAVAILABLE:return Ii.UNAVAILABLE;case Mo.UNAUTHENTICATED:return Ii.UNAUTHENTICATED;case Mo.INVALID_ARGUMENT:return Ii.INVALID_ARGUMENT;case Mo.NOT_FOUND:return Ii.NOT_FOUND;case Mo.ALREADY_EXISTS:return Ii.ALREADY_EXISTS;case Mo.PERMISSION_DENIED:return Ii.PERMISSION_DENIED;case Mo.FAILED_PRECONDITION:return Ii.FAILED_PRECONDITION;case Mo.ABORTED:return Ii.ABORTED;case Mo.OUT_OF_RANGE:return Ii.OUT_OF_RANGE;case Mo.UNIMPLEMENTED:return Ii.UNIMPLEMENTED;case Mo.DATA_LOSS:return Ii.DATA_LOSS;default:return Fi()}}(qo=Mo||(Mo={}))[qo.OK=0]="OK",qo[qo.CANCELLED=1]="CANCELLED",qo[qo.UNKNOWN=2]="UNKNOWN",qo[qo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qo[qo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qo[qo.NOT_FOUND=5]="NOT_FOUND",qo[qo.ALREADY_EXISTS=6]="ALREADY_EXISTS",qo[qo.PERMISSION_DENIED=7]="PERMISSION_DENIED",qo[qo.UNAUTHENTICATED=16]="UNAUTHENTICATED",qo[qo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qo[qo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qo[qo.ABORTED=10]="ABORTED",qo[qo.OUT_OF_RANGE=11]="OUT_OF_RANGE",qo[qo.UNIMPLEMENTED=12]="UNIMPLEMENTED",qo[qo.INTERNAL=13]="INTERNAL",qo[qo.UNAVAILABLE=14]="UNAVAILABLE",qo[qo.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zo=function(){function t(t,e){this.comparator=t,this.root=e||Ko.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ko.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ko.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Wo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Wo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Wo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Wo(this.root,t,this.comparator,!0)},t}(),Wo=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ko=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fi();if(this.right.isRed())throw Fi();var t=this.left.check();if(t!==this.right.check())throw Fi();return t+(this.isRed()?0:1)},t}();Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Ko(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Go=function(){function t(t){this.comparator=t,this.data=new zo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Qo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Qo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Qo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Yo=new zo(sr.comparator);function Xo(){return Yo}var Zo=new zo(sr.comparator);function Jo(){return Zo}var ta=new zo(sr.comparator);function ea(){return ta}var na=new Go(sr.comparator);function ia(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=na,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var ra=new Go(Mi);function oa(){return ra}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ji.min(),i,oa(),Xo(),ia())},t}(),sa=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xi.EMPTY_BYTE_STRING,n,ia(),ia(),ia())},t}(),ca=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},la=function(t,e){this.targetId=t,this.V=e},ua=function(t,e,n,i){void 0===n&&(n=Xi.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},da=function(){function t(){this.S=0,this.D=fa(),this.C=Xi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=ia(),e=ia(),n=ia();return this.D.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Fi()}})),new sa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=fa()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),ha=function(){function t(t){this.W=t,this.G=new Map,this.H=Xo(),this.J=pa(),this.Y=new Go(Mi)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var i=n[e];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)i=o[r],this.tt(i,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.nt(n);switch(t.state){case 0:e.st(n)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||e.removeTarget(n);break;case 3:e.st(n)&&(i.j(),i.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),i.O(t.resumeToken));break;default:Fi()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,i){n.st(i)&&e(i)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,i=this.ot(e);if(i){var r=i.target;if(xr(r))if(0===n){var o=new sr(r.path);this.tt(e,o,Tr.newNoDocument(o,ji.min()))}else Oi(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(i,r){var o=e.ot(r);if(o){if(i.current&&xr(o.target)){var a=new sr(o.target.path);null!==e.H.get(a)||e.at(r,a)||e.tt(r,a,Tr.newNoDocument(a,t))}i.$&&(n.set(r,i.M()),i.L())}}));var i=ia();this.J.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new aa(t,n,this.Y,this.H,i);return this.H=Xo(),this.J=pa(),this.Y=new Go(Mi),r},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var i=this.nt(t);this.at(t,e)?i.B(e,1):i.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new da,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Go(Mi),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ki("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new da),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function pa(){return new zo(sr.comparator)}function fa(){return new zo(sr.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga={asc:"ASCENDING",desc:"DESCENDING"},ma={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},va=function(t,e){this.databaseId=t,this.I=e};function ya(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _a(t,e){return t.I?e.toBase64():e.toUint8Array()}function ba(t,e){return ya(t,e.toTimestamp())}function Sa(t){return Oi(!!t),ji.fromTimestamp(function(t){var e=Ji(t);return new $i(e.seconds,e.nanos)}(t))}function Ca(t,e){return function(t){return new Ki(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ta(t){var e=Ki.fromString(t);return Oi(Wa(e)),e}function wa(t,e){return Ca(t.databaseId,e.path)}function Ia(t,e){var n=Ta(e);if(n.get(1)!==t.databaseId.projectId)throw new Ei(Ii.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ei(Ii.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new sr(ka(n))}function Ea(t,e){return Ca(t.databaseId,e)}function Aa(t){var e=Ta(t);return 4===e.length?Ki.emptyPath():ka(e)}function xa(t){return new Ki(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ka(t){return Oi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Da(t,e,n){return{name:wa(t,e),fields:n.value.mapValue.fields}}function Ra(t,e,n){var i=Ia(t,e.name),r=Sa(e.updateTime),o=new Sr({mapValue:{fields:e.fields}}),a=Tr.newFoundDocument(i,r,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function La(t,e){var n;if(e instanceof Fo)n={update:Da(t,e.key,e.value)};else if(e instanceof Uo)n={delete:wa(t,e.key)};else if(e instanceof Oo)n={update:Da(t,e.key,e.data),updateMask:za(e.fieldMask)};else{if(!(e instanceof $o))return Fi();n={verify:wa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof go)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Fi()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ba(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fi()}(t,e.precondition)),n}function Fa(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Io.updateTime(Sa(t.updateTime)):void 0!==t.exists?Io.exists(t.exists):Io.none()}(e.currentDocument):Io.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Oi("REQUEST_TIME"===e.setToServerValue),n=new go;else if("appendMissingElements"in e){var i=e.appendMissingElements.values||[];n=new mo(i)}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];n=new yo(r)}else"increment"in e?n=new bo(t,e.increment):Fi();var o=Qi.fromServerFormat(e.fieldPath);return new To(o,n)}(t,e)})):[];if(e.update){e.update.name;var r=Ia(t,e.update.name),o=new Sr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Yi(e.map((function(t){return Qi.fromServerFormat(t)})))}(e.updateMask);return new Oo(r,o,a,n,i)}return new Fo(r,o,n,i)}if(e.delete){var s=Ia(t,e.delete);return new Uo(s,n)}if(e.verify){var c=Ia(t,e.verify);return new $o(c,n)}return Fi()}function Oa(t,e){return{documents:[Ea(t,e.path)]}}function Pa(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Ea(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ea(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(yr(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(vr(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yr(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(vr(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:Ua(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:$a(t.field),direction:qa(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||rr(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Ba(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ba(e.endAt)),n}function Na(t){var e=Aa(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Oi(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Ha(e)]:void 0!==e.fieldFilter?[Va(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Fi():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Ur(ja(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return rr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Ma(n.startAt));var u=null;return n.endAt&&(u=Ma(n.endAt)),zr(e,r,s,a,c,"F",l,u)}function Ba(t){return{before:t.before,values:t.position}}function Ma(t){var e=!!t.before,n=t.values||[];return new Mr(n,e)}function qa(t){return ga[t]}function Ua(t){return ma[t]}function $a(t){return{fieldPath:t.canonicalString()}}function ja(t){return Qi.fromServerFormat(t.fieldPath)}function Va(t){return kr.create(ja(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fi()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ha(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ja(t.unaryFilter.field);return kr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ja(t.unaryFilter.field);return kr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=ja(t.unaryFilter.field);return kr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=ja(t.unaryFilter.field);return kr.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fi()}}function za(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Wa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qa(e)),e=Ga(t.get(n),e);return Qa(e)}function Ga(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Qa(t){return t+""}function Ya(t){var e=t.length;if(Oi(e>=2),2===e)return Oi(""===t.charAt(0)&&""===t.charAt(1)),Ki.emptyPath();for(var n=e-2,i=[],r="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Fi(),t.charAt(a+1)){case"":var s=t.substring(o,a),c=void 0;0===r.length?c=s:(c=r+=s,r=""),i.push(c);break;case"":r+=t.substring(o,a),r+="\0";break;case"":r+=t.substring(o,a+1);break;default:Fi()}o=a+2}return new Ki(i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa=function(t,e){this.seconds=t,this.nanoseconds=e},Za=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Za.store="owner",Za.key="owner";var Ja=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ja.store="mutationQueues",Ja.keyPath="userId";var ts=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};ts.store="mutations",ts.keyPath="batchId",ts.userMutationsIndex="userMutationsIndex",ts.userMutationsKeyPath=["userId","batchId"];var es=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ka(e)]},t.key=function(t,e,n){return[t,Ka(e),n]},t}();es.store="documentMutations",es.PLACEHOLDER=new es;var ns=function(t,e){this.path=t,this.readTime=e},is=function(t,e){this.path=t,this.version=e},rs=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};rs.store="remoteDocuments",rs.readTimeIndex="readTimeIndex",rs.readTimeIndexPath="readTime",rs.collectionReadTimeIndex="collectionReadTimeIndex",rs.collectionReadTimeIndexPath=["parentPath","readTime"];var os=function(t){this.byteSize=t};os.store="remoteDocumentGlobal",os.key="remoteDocumentGlobalKey";var as=function(t,e,n,i,r,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=a};as.store="targets",as.keyPath="targetId",as.queryTargetsIndexName="queryTargetsIndex",as.queryTargetsKeyPath=["canonicalId","targetId"];var ss=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ss.store="targetDocuments",ss.keyPath=["targetId","path"],ss.documentTargetsIndex="documentTargetsIndex",ss.documentTargetsKeyPath=["path","targetId"];var cs=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};cs.key="targetGlobalKey",cs.store="targetGlobal";var ls=function(t,e){this.collectionId=t,this.parent=e};ls.store="collectionParents",ls.keyPath=["collectionId","parent"];var us=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};us.store="clientMetadata",us.keyPath="clientId";var ds=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ds.store="bundles",ds.keyPath="bundleId";var hs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hs.store="namedQueries",hs.keyPath="name";var ps=c(c([],c(c([],c(c([],c(c([],[Ja.store,ts.store,es.store,rs.store,as.store,Za.store,cs.store,ss.store]),[us.store])),[os.store])),[ls.store])),[ds.store,hs.store]),fs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gs=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ms=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vs=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&Fi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)},t}(),ys=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ms,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ss(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var i=Es(e.target.error);n.ft.reject(new Ss(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new Ss(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ki("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ts(e)},t}(),_s=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t(Object(l.k)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ki("SimpleDb","Removing database:",t),ws(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(l.k)(),n=t._t(e),i=0<n&&n<10,r=t.Et(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(i){switch(i.label){case 0:return this.db?[3,2]:(ki("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){var n=t.target.result;e(n)},r.onblocked=function(){i(new Ss(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;"VersionError"===n.name?i(new Ei(Ii.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(new Ss(t,n))},r.onupgradeneeded=function(t){ki("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,r.transaction,t.oldVersion,n.version).next((function(){ki("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return a(this,void 0,void 0,(function(){var r,o,a,c,l;return s(this,(function(u){switch(u.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,l,u,d;return s(this,(function(s){switch(s.label){case 0:++o,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=s.sent(),e=ys.open(c.db,t,r?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),vs.reject(t)})).toPromise(),l={},a.catch((function(){})),[4,e.dt];case 3:return[2,(l.value=(s.sent(),a),l)];case 4:return u=s.sent(),d="FirebaseError"!==u.name&&o<3,ki("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),c.close(),d?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},c=this,u.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bs=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ws(this.Pt.delete())},t}(),Ss=function(t){function e(e,n){var i=this;return(i=t.call(this,Ii.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return o(e,t),e}(Ei);function Cs(t){return"IndexedDbTransactionError"===t.name}var Ts=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ki("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ki("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ws(n)},t.prototype.add=function(t){return ki("SimpleDb","ADD",this.store.name,t,t),ws(this.store.add(t))},t.prototype.get=function(t){var e=this;return ws(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ki("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ki("SimpleDb","DELETE",this.store.name,t),ws(this.store.delete(t))},t.prototype.count=function(){return ki("SimpleDb","COUNT",this.store.name),ws(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.xt(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.kt=function(t,e){ki("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var i=this.cursor(n);return this.xt(i,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.xt(i,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new vs((function(n,i){e.onerror=function(t){var e=Es(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new vs((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new bs(r),a=e(r.primaryKey,r.value,o);if(a instanceof vs){var s=a.catch((function(t){return o.done(),vs.reject(t)}));n.push(s)}o.isDone?i():null===o.Dt?r.continue():r.continue(o.Dt)}else i()}})).next((function(){return vs.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ws(t){return new vs((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Es(t.target.error);n(e)}}))}var Is=!1;function Es(t){var e=_s._t(Object(l.k)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new Ei("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Is||(Is=!0,setTimeout((function(){throw i}),0)),i}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var As=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mt=e,i.currentSequenceNumber=n,i}return o(e,t),e}(gs);function xs(t,e){var n=Pi(t);return _s.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&xo(r,t,n[i])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ko(o,t,this.localWriteTime);for(var i=0,r=this.mutations;i<r.length;i++){var o;(o=r[i]).key.isEqual(t.key)&&ko(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var i=t.get(n.key),r=i;e.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(ji.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ia())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&qi(this.mutations,t.mutations,(function(t,e){return Ro(t,e)}))&&qi(this.baseMutations,t.baseMutations,(function(t,e){return Ro(t,e)}))},t}(),Ds=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){Oi(e.mutations.length===i.length);for(var r=ea(),o=e.mutations,a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)},t}(),Rs=function(){function t(t,e,n,i,r,o,a){void 0===r&&(r=ji.min()),void 0===o&&(o=ji.min()),void 0===a&&(a=Xi.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ls=function(t){this.Lt=t};function Fs(t,e){if(e.document)return Ra(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=sr.fromSegments(e.noDocument.path),i=Ms(e.noDocument.readTime),r=Tr.newNoDocument(n,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){var o=sr.fromSegments(e.unknownDocument.path);return i=Ms(e.unknownDocument.version),Tr.newUnknownDocument(o,i)}return Fi()}function Os(t,e,n){var i=Ps(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:wa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ya(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new rs(null,null,o,a,i,r)}if(e.isNoDocument()){var s=e.key.path.toArray(),c=Bs(e.version);return a=e.hasCommittedMutations,new rs(null,new ns(s,c),null,a,i,r)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),u=Bs(e.version);return new rs(new is(l,u),null,null,!0,i,r)}return Fi()}function Ps(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ns(t){var e=new $i(t[0],t[1]);return ji.fromTimestamp(e)}function Bs(t){var e=t.toTimestamp();return new Xa(e.seconds,e.nanoseconds)}function Ms(t){var e=new $i(t.seconds,t.nanoseconds);return ji.fromTimestamp(e)}function qs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Fa(t.Lt,e)})),i=0;i<e.mutations.length-1;++i){var r=e.mutations[i];if(i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform){var o=e.mutations[i+1];r.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map((function(e){return Fa(t.Lt,e)})),s=$i.fromMillis(e.localWriteTimeMs);return new ks(e.batchId,s,n,a)}function Us(t){var e,n,i=Ms(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Ms(t.lastLimboFreeSnapshotVersion):ji.min();return void 0!==t.query.documents?(Oi(1===(n=t.query).documents.length),e=Jr(Wr(Aa(n.documents[0])))):e=function(t){return Jr(Na(t))}(t.query),new Rs(e,t.targetId,0,t.lastListenSequenceNumber,i,r,Xi.fromBase64String(t.resumeToken))}function $s(t,e){var n,i=Bs(e.snapshotVersion),r=Bs(e.lastLimboFreeSnapshotVersion);n=xr(e.target)?Oa(t.Lt,e.target):Pa(t.Lt,e.target);var o=e.resumeToken.toBase64();return new as(e.targetId,Er(e.target),i,o,e.sequenceNumber,r,n)}function js(t){var e=Na({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?to(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vs=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Hs(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ms(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Hs(t).put({bundleId:(n=e).id,createTime:Bs(Sa(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return zs(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:js(e.bundledQuery),readTime:Ms(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return zs(t).put(function(t){return{name:t.name,readTime:Bs(Sa(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Hs(t){return xs(t,ds.store)}function zs(t){return xs(t,hs.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ws=function(){function t(){this.Bt=new Ks}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),vs.resolve()},t.prototype.getCollectionParents=function(t,e){return vs.resolve(this.Bt.getEntries(e))},t}(),Ks=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Go(Ki.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Go(Ki.comparator)).toArray()},t}(),Gs=function(){function t(){this.qt=new Ks}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:i,parent:Ka(r)};return Qs(t).put(o)}return vs.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[Ui(e),""],!1,!0);return Qs(t).Nt(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Ya(o.parent))}return n}))},t}();function Qs(t){return xs(t,ls.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xs=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e,n){var i=t.store(ts.store),r=t.store(es.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=i.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(c.next((function(){Oi(1===s)})));for(var l=[],u=0,d=n.mutations;u<d.length;u++){var h=d[u],p=es.key(e,h.key.path,n.batchId);o.push(r.delete(p)),l.push(h.key)}return vs.waitFor(o).next((function(){return l}))}function Js(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fi();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);var tc=function(){function t(t,e,n,i){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,i,r){return Oi(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nc(t).$t({index:ts.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=ic(t),a=nc(t);return a.add({}).next((function(s){Oi("number"==typeof s);for(var c=new ks(s,e,n,i),l=function(t,e,n){var i=n.baseMutations.map((function(e){return La(t.Lt,e)})),r=n.mutations.map((function(e){return La(t.Lt,e)}));return new ts(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.R,r.userId,c),u=[],d=new Go((function(t,e){return Mi(t.canonicalString(),e.canonicalString())})),h=0,p=i;h<p.length;h++){var f=p[h],g=es.key(r.userId,f.key.path,s);d=d.add(f.key.path.popLast()),u.push(a.put(l)),u.push(o.put(g,es.PLACEHOLDER))}return d.forEach((function(e){u.push(r.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){r.Kt[s]=c.keys()})),vs.waitFor(u).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return nc(t).get(e).next((function(t){return t?(Oi(t.userId===n.userId),qs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?vs.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var i=t.keys();return n.Kt[e]=i,i}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return nc(t).$t({index:ts.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(Oi(e.batchId>=i),o=qs(n.R,e)),r.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nc(t).$t({index:ts.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nc(t).Nt(ts.userMutationsIndex,n).next((function(t){return t.map((function(t){return qs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=es.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return ic(t).$t({range:r},(function(i,r,a){var s=i[0],c=i[1],l=i[2],u=Ya(c);if(s===n.userId&&e.path.isEqual(u))return nc(t).get(l).next((function(t){if(!t)throw Fi();Oi(t.userId===n.userId),o.push(qs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Go(Mi),r=[];return e.forEach((function(e){var o=es.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ic(t).$t({range:a},(function(t,r,o){var a=t[0],s=t[1],c=t[2],l=Ya(s);a===n.userId&&e.path.isEqual(l)?i=i.add(c):o.done()}));r.push(s)})),vs.waitFor(r).next((function(){return n.Wt(t,i)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,o=es.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new Go(Mi);return ic(t).$t({range:a},(function(t,e,o){var a=t[0],c=t[1],l=t[2],u=Ya(c);a===n.userId&&i.isPrefixOf(u)?u.length===r&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(nc(t).get(e).next((function(t){if(null===t)throw Fi();Oi(t.userId===n.userId),i.push(qs(n.R,t))})))})),vs.waitFor(r).next((function(){return i}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Zs(t.Mt,this.userId,e).next((function(i){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),vs.forEach(i,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return vs.resolve();var i=IDBKeyRange.lowerBound(es.prefixForUser(e.userId)),r=[];return ic(t).$t({range:i},(function(t,n,i){if(t[0]===e.userId){var o=Ya(t[1]);r.push(o)}else i.done()})).next((function(){Oi(0===r.length)}))}))},t.prototype.containsKey=function(t,e){return ec(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return rc(t).get(this.userId).next((function(t){return t||new Ja(e.userId,-1,"")}))},t}();function ec(t,e,n){var i=es.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return ic(t).$t({range:o,Ft:!0},(function(t,n,i){var o=t[0],s=t[1];t[2],o===e&&s===r&&(a=!0),i.done()})).next((function(){return a}))}function nc(t){return xs(t,ts.store)}function ic(t){return xs(t,es.store)}function rc(t){return xs(t,Ja.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ac=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var i=new oc(n.highestTargetId);return n.highestTargetId=i.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return ji.fromTimestamp(new $i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.Xt(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Zt(t,r)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(i){return i.targetCount+=1,n.ee(e,i),n.Zt(t,i)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return sc(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Oi(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return sc(t).$t((function(a,s){var c=Us(s);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(i.removeTargetData(t,c)))})).next((function(){return vs.waitFor(o)})).next((function(){return r}))},t.prototype.forEachTarget=function(t,e){return sc(t).$t((function(t,n){var i=Us(n);e(i)}))},t.prototype.Xt=function(t){return cc(t).get(cs.key).next((function(t){return Oi(null!==t),t}))},t.prototype.Zt=function(t,e){return cc(t).put(cs.key,e)},t.prototype.te=function(t,e){return sc(t).put($s(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Er(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return sc(t).$t({range:i,index:as.queryTargetsIndexName},(function(t,n,i){var o=Us(n);Ar(e,o.target)&&(r=o,i.done())})).next((function(){return r}))},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=lc(t);return e.forEach((function(e){var a=Ka(e.path);r.push(o.put(new ss(n,a))),r.push(i.referenceDelegate.addReference(t,n,e))})),vs.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=lc(t);return vs.forEach(e,(function(e){var o=Ka(e.path);return vs.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=lc(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=lc(t),r=ia();return i.$t({range:n,Ft:!0},(function(t,e,n){var i=Ya(t[1]),o=new sr(i);r=r.add(o)})).next((function(){return r}))},t.prototype.containsKey=function(t,e){var n=Ka(e.path),i=IDBKeyRange.bound([n],[Ui(n)],!1,!0),r=0;return lc(t).$t({index:ss.documentTargetsIndex,Ft:!0,range:i},(function(t,e,n){var i=t[0];t[1],0!==i&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.lt=function(t,e){return sc(t).get(e).next((function(t){return t?Us(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return xs(t,as.store)}function cc(t){return xs(t,cs.store)}function lc(t){return xs(t,ss.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){if(t.code!==Ii.FAILED_PRECONDITION||t.message!==fs)throw t;return ki("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=Mi(n,r);return 0===a?Mi(i,o):a}var hc=function(){function t(t){this.ne=t,this.buffer=new Go(dc),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();dc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pc=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ki("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cs(e=n.sent())?(ki("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,uc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),fc=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return vs.resolve(wi.o);var i=new hc(e);return this.ae.forEachTarget(t,(function(t){return i.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return i.re(t)}))})).next((function(){return i.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ki("LruGarbageCollector","Garbage collection skipped; disabled"),vs.resolve(Ys)):this.getCacheSize(t).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(ki("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ys):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,i,r,o,a,s,c,l=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(ki("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),i=l.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),l.nthSequenceNumber(t,i)})).next((function(i){return n=i,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return r=e,s=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),xi()<=u.a.DEBUG&&ki("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(c-s)+"ms\nTotal Duration: "+(c-d)+"ms"),vs.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})}))},t}(),gc=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new fc(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return mc(t,n)},t.prototype.removeReference=function(t,e,n){return mc(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return mc(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return rc(t).Ot((function(i){return ec(t,i,e).next((function(t){return t&&(n=!0),vs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.we(t,(function(a,s){if(s<=e){var c=n._e(t,a).next((function(e){if(!e)return o++,i.getEntry(t,a).next((function(){return i.removeEntry(a),lc(t).delete([0,Ka(a.path)])}))}));r.push(c)}})).next((function(){return vs.waitFor(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mc(t,e)},t.prototype.we=function(t,e){var n,i=lc(t),r=wi.o;return i.$t({index:ss.documentTargetsIndex},(function(t,i){var o=t[0];t[1];var a=i.path,s=i.sequenceNumber;0===o?(r!==wi.o&&e(new sr(Ya(n)),r),r=s,n=a):r=wi.o})).next((function(){r!==wi.o&&e(new sr(Ya(n)),r)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mc(t,e){return lc(t).put(function(t,e){return new ss(0,Ka(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vc=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){Hi(this.inner,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return zi(this.inner)},t}(),yc=function(){function t(){this.changes=new vc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ji.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Tr.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?vs.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),_c=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Cc(t).put(Tc(e),n)},t.prototype.removeEntry=function(t,e){var n=Cc(t),i=Tc(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.me(t,i)}))},t.prototype.getEntry=function(t,e){var n=this;return Cc(t).get(Tc(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Cc(t).get(Tc(e)).next((function(t){return{document:n.ye(e,t),size:Js(t)}}))},t.prototype.getEntries=function(t,e){var n=this,i=Xo();return this.pe(t,e,(function(t,e){var r=n.ye(t,e);i=i.insert(t,r)})).next((function(){return i}))},t.prototype.Ee=function(t,e){var n=this,i=Xo(),r=new zo(sr.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);i=i.insert(t,o),r=r.insert(t,Js(e))})).next((function(){return{documents:i,Te:r}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return vs.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return Cc(t).$t({range:i},(function(t,e,i){for(var a=sr.fromSegments(t);o&&sr.comparator(o,a)<0;)n(o,null),o=r.getNext();o&&o.isEqual(a)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ct(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=Xo(),o=e.path.length+1,a={};if(n.isEqual(ji.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var c=e.path.toArray(),l=Ps(n);a.range=IDBKeyRange.lowerBound([c,l],!0),a.index=rs.collectionReadTimeIndex}return Cc(t).$t(a,(function(t,n,a){if(t.length===o){var s=Fs(i.R,n);e.path.isPrefixOf(s.key.path)?ro(e,s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},t.prototype.newChangeBuffer=function(t){return new bc(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Sc(t).get(os.key).next((function(t){return Oi(!!t),t}))},t.prototype.me=function(t,e){return Sc(t).put(os.key,e)},t.prototype.ye=function(t,e){if(e){var n=Fs(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ji.min()))return n}return Tr.newInvalidDocument(t)},t}(),bc=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ie=e,i.trackRemovals=n,i.Ae=new vc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),i}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new Go((function(t,e){return Mi(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var c=Os(e.Ie.R,a.document,e.getReadTime(o));r=r.add(o.path.popLast());var l=Js(c);i+=l-s,n.push(e.Ie.addEntry(t,o,c))}else if(i-=s,e.trackRemovals){var u=Os(e.Ie.R,Tr.newNoDocument(o,ji.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,u))}else n.push(e.Ie.removeEntry(t,o))})),r.forEach((function(i){n.push(e.Ie.Ut.addToCollectionParentIndex(t,i))})),n.push(this.Ie.updateMetadata(t,i)),vs.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(yc);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return xs(t,os.store)}function Cc(t){return xs(t,rs.store)}function Tc(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,i){var r=this;Oi(n<i&&n>=0&&i<=11);var o=new ys("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Za.store)}(t),function(t){t.createObjectStore(Ja.store,{keyPath:Ja.keyPath}),t.createObjectStore(ts.store,{keyPath:ts.keyPath,autoIncrement:!0}).createIndex(ts.userMutationsIndex,ts.userMutationsKeyPath,{unique:!0}),t.createObjectStore(es.store)}(t),Ic(t),function(t){t.createObjectStore(rs.store)}(t));var a=vs.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(ss.store),t.deleteObjectStore(as.store),t.deleteObjectStore(cs.store)}(t),Ic(t)),a=a.next((function(){return function(t){var e=t.store(cs.store),n=new cs(0,0,ji.min().toTimestamp(),0);return e.put(cs.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ts.store).Nt().next((function(n){t.deleteObjectStore(ts.store),t.createObjectStore(ts.store,{keyPath:ts.keyPath,autoIncrement:!0}).createIndex(ts.userMutationsIndex,ts.userMutationsKeyPath,{unique:!0});var i=e.store(ts.store),r=n.map((function(t){return i.put(t)}));return vs.waitFor(r)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(us.store,{keyPath:us.keyPath})}(t)}))),n<5&&i>=5&&(a=a.next((function(){return r.Re(o)}))),n<6&&i>=6&&(a=a.next((function(){return function(t){t.createObjectStore(os.store)}(t),r.be(o)}))),n<7&&i>=7&&(a=a.next((function(){return r.ve(o)}))),n<8&&i>=8&&(a=a.next((function(){return r.Pe(t,o)}))),n<9&&i>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(rs.store);e.createIndex(rs.readTimeIndex,rs.readTimeIndexPath,{unique:!1}),e.createIndex(rs.collectionReadTimeIndex,rs.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(a=a.next((function(){return r.Ve(o)}))),n<11&&i>=11&&(a=a.next((function(){!function(t){t.createObjectStore(ds.store,{keyPath:ds.keyPath})}(t),function(t){t.createObjectStore(hs.store,{keyPath:hs.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(rs.store).$t((function(t,n){e+=Js(n)})).next((function(){var n=new os(e);return t.store(os.store).put(os.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Ja.store),i=t.store(ts.store);return n.Nt().next((function(n){return vs.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Nt(ts.userMutationsIndex,r).next((function(i){return vs.forEach(i,(function(i){Oi(i.userId===n.userId);var r=qs(e.R,i);return Zs(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ss.store),n=t.store(rs.store);return t.store(cs.store).get(cs.key).next((function(t){var i=[];return n.$t((function(n,r){var o=new Ki(n),a=function(t){return[0,Ka(t)]}(o);i.push(e.get(a).next((function(n){return n?vs.resolve():function(n){return e.put(new ss(0,Ka(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return vs.waitFor(i)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ls.store,{keyPath:ls.keyPath});var n=e.store(ls.store),i=new Ks,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:Ka(r)})}};return e.store(rs.store).$t({Ft:!0},(function(t,e){var n=new Ki(t);return r(n.popLast())})).next((function(){return e.store(es.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var i=Ya(n);return r(i.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(as.store);return n.$t((function(t,i){var r=Us(i),o=$s(e.R,r);return n.put(o)}))},t}();function Ic(t){t.createObjectStore(ss.store,{keyPath:ss.keyPath}).createIndex(ss.documentTargetsIndex,ss.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(as.store,{keyPath:as.keyPath}).createIndex(as.queryTargetsIndexName,as.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cs.store)}var Ec="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ac=function(){function t(e,n,i,r,o,a,s,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=o,this.window=a,this.document=s,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ei(Ii.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gc(this,r),this.Le=n+"main",this.R=new Ls(c),this.Be=new _s(this.Le,11,new wc(this.R)),this.qe=new ac(this.referenceDelegate,this.R),this.Ut=new Gs,this.Ue=function(t,e){return new _c(t,e)}(this.R,this.Ut),this.Ke=new Vs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===u&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ei(Ii.FAILED_PRECONDITION,Ec);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new wi(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return a(e,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return kc(e).put(new us(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Cs(e))return ki("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ki("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return xc(t).get(Za.key).next((function(t){return vs.resolve(e.tn(t))}))},t.prototype.en=function(t){return kc(t).delete(this.clientId)},t.prototype.nn=function(){return a(this,void 0,void 0,(function(){var t,e,n,i,r=this;return s(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=xs(t,us.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return vs.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)i=n[e],this.Qe.removeItem(this.on(i.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?vs.resolve(!0):xc(t).get(Za.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ei(Ii.FAILED_PRECONDITION,Ec);return!1}}return!(!e.networkEnabled||!e.inForeground)||kc(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,i=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(n||i&&r)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&ki("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Za.store,us.store],(function(e){var n=new As(e,wi.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return kc(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return tc.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i=this;ki("IndexedDbPersistence","Starting transaction:",t);var r,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,ps,(function(o){return r=new As(o,i.Ne?i.Ne.next():wi.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Di("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Ei(Ii.FAILED_PRECONDITION,fs);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return xc(t).get(Za.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ei(Ii.FAILED_PRECONDITION,Ec)}))},t.prototype.Ze=function(t){var e=new Za(this.clientId,this.allowTabSynchronization,Date.now());return xc(t).put(Za.key,e)},t.yt=function(){return _s.yt()},t.prototype.Xe=function(t){var e=this,n=xc(t);return n.get(Za.key).next((function(t){return e.tn(t)?(ki("IndexedDbPersistence","Releasing primary lease."),n.delete(Za.key)):vs.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Di("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(l.t)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return ki("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Di("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Di("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xc(t){return xs(t,Za.store)}function kc(t){return xs(t,us.store)}function Dc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Rc=function(t,e){this.progress=t,this.wn=e},Lc=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(i){return n.yn(t,e,i)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,i=n;e<i.length;e++)i[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return sr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xr(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new sr(e)).next((function(t){var e=Jo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var i=this,r=e.collectionGroup,o=Jo();return this.Ut.getCollectionParents(t,r).next((function(a){return vs.forEach(a,(function(a){var s=function(t,e){return new Hr(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(r));return i.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var i,r,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return i=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return r=e,o.Rn(t,r,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var c=s[a],l=c.key,u=i.get(l);null==u&&(u=Tr.newInvalidDocument(l),i=i.insert(l,u)),ko(c,u,o.localWriteTime),u.isFoundDocument()||(i=i.remove(l))}}))})).next((function(){return i.forEach((function(t,n){ro(e,n)||(i=i.remove(t))})),i}))},t.prototype.Rn=function(t,e,n){for(var i=ia(),r=0,o=e;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var c=s[a];c instanceof Oo&&null===n.get(c.key)&&(i=i.add(c.key))}var l=n;return this.Ue.getEntries(t,i).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))})),l}))},t}(),Fc=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=i}return t.Pn=function(e,n){for(var i=ia(),r=ia(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Oc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ji.min())?this.Dn(t,e):this.Sn.pn(t,i).next((function(o){var a=r.Cn(e,o);return(Kr(e)||Gr(e))&&r.Nn(e.limitType,a,i,n)?r.Dn(t,e):(xi()<=u.a.DEBUG&&ki("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),io(e)),r.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Go(oo(t));return e.forEach((function(e,i){ro(t,i)&&(n=n.add(i))})),n},t.prototype.Nn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.Dn=function(t,e){return xi()<=u.a.DEBUG&&ki("QueryEngine","Using full collection scan to execute query:",io(e)),this.Sn.getDocumentsMatchingQuery(t,e,ji.min())},t}(),Pc=function(){function t(t,e,n,i){this.persistence=t,this.xn=e,this.R=i,this.kn=new zo(Mi),this.Fn=new vc((function(t){return Er(t)}),Ar),this.$n=ji.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Lc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e,n,i){return new Pc(t,e,n,i)}function Bc(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o;return s(this,(function(a){switch(a.label){case 0:return n=Pi(t),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,i=n.persistence.getMutationQueue(e),r=new Lc(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(e){for(var n=[],i=[],a=ia(),s=0,c=o;s<c.length;s++){var l=c[s];n.push(l.batchId);for(var u=0,d=l.mutations;u<d.length;u++){var h=d[u];a=a.add(h.key)}}for(var p=0,f=e;p<f.length;p++){var g=f[p];i.push(g.batchId);for(var m=0,v=g.mutations;m<v.length;m++){var y=v[m];a=a.add(y.key)}}return r.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return o=a.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),o)]}}))}))}function Mc(t,e){var n=Pi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),a=vs.resolve();return o.forEach((function(t){a=a.next((function(){return i.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Oi(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,i)}))}))}function qc(t){var e=Pi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Uc(t,e){var n=Pi(t),i=e.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=r.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=s.withResumeToken(c,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(o,l),function(t,e,n){return Oi(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,e)&&a.push(n.qe.updateTargetData(t,l))}}}));var s=Xo();if(e.documentUpdates.forEach((function(i,r){e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),a.push($c(t,o,e.documentUpdates,i,void 0).next((function(t){s=t}))),!i.isEqual(ji.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,i)}));a.push(c)}return vs.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=r,t}))}function $c(t,e,n,i,r){var o=ia();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Xo();return n.forEach((function(n,a){var s=t.get(n),c=(null==r?void 0:r.get(n))||i;a.isNoDocument()&&a.version.isEqual(ji.min())?(e.removeEntry(n,c),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,c),o=o.insert(n,a)):ki("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function jc(t,e){var n=Pi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Vc(t,e){var n=Pi(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.qe.getTargetData(t,e).next((function(r){return r?(i=r,vs.resolve(i)):n.qe.allocateTargetId(t).next((function(r){return i=new Rs(e,r,0,t.currentSequenceNumber),n.qe.addTargetData(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.kn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Hc(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o,a;return s(this,(function(s){switch(s.label){case 0:i=Pi(t),r=i.kn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(t){return i.persistence.referenceDelegate.removeTarget(t,r)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Cs(a=s.sent()))throw a;return ki("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(r.target),[2]}}))}))}function zc(t,e,n){var i=Pi(t),r=ji.min(),o=ia();return i.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var i=Pi(t),r=i.Fn.get(n);return void 0!==r?vs.resolve(i.kn.get(r)):i.qe.getTargetData(e,n)}(i,t,Jr(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return i.xn.getDocumentsMatchingQuery(t,e,n?r:ji.min(),n?o:ia())})).next((function(t){return{documents:t,Bn:o}}))}))}function Wc(t,e){var n=Pi(t),i=Pi(n.qe),r=n.kn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return i.lt(t,e).next((function(t){return t?t.target:null}))}))}function Kc(t){var e=Pi(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var i=Pi(t),r=Xo(),o=Ps(n),a=Cc(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:rs.readTimeIndex,range:s},(function(t,e){var n=Fs(i.R,e);r=r.insert(n.key,n),o=e.readTime})).next((function(){return{wn:r,readTime:Ns(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,i=t.readTime;return e.$n=i,n}))}function Gc(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,(e=Pi(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Cc(t),n=ji.min();return e.$t({index:rs.readTimeIndex,reverse:!0},(function(t,e,i){e.readTime&&(n=Ns(e.readTime)),i.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Qc(t,e,n,i){return a(this,void 0,void 0,(function(){var r,o,a,c,l,u,d,h,p,f;return s(this,(function(s){switch(s.label){case 0:for(r=Pi(t),o=ia(),a=Xo(),c=ea(),l=0,u=n;l<u.length;l++)d=u[l],h=e.qn(d.metadata.name),d.document&&(o=o.add(h)),a=a.insert(h,e.Un(d)),c=c.insert(h,e.Kn(d.metadata.readTime));return p=r.On.newChangeBuffer({trackRemovals:!0}),[4,Vc(r,function(t){return Jr(Wr(Ki.fromString("__bundle__/docs/"+t)))}(i))];case 1:return f=s.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return $c(t,p,a,ji.min(),c).next((function(e){return p.apply(t),e})).next((function(e){return r.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return r.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return r.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Yc(t,e,n){return void 0===n&&(n=ia()),a(this,void 0,void 0,(function(){var i,r;return s(this,(function(o){switch(o.label){case 0:return[4,Vc(t,Jr(js(e.bundledQuery)))];case 1:return i=o.sent(),[2,(r=Pi(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Sa(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Ke.saveNamedQuery(t,e);var a=i.withResumeToken(Xi.EMPTY_BYTE_STRING,o);return r.kn=r.kn.insert(a.targetId,a),r.qe.updateTargetData(t,a).next((function(){return r.qe.removeMatchingKeysForTargetId(t,i.targetId)})).next((function(){return r.qe.addMatchingKeys(t,n,i.targetId)})).next((function(){return r.Ke.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Xc=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return vs.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Sa(n.createTime)}),vs.resolve()},t.prototype.getNamedQuery=function(t,e){return vs.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:js(t.bundledQuery),readTime:Sa(t.readTime)}}(e)),vs.resolve()},t}(),Zc=function(){function t(){this.Wn=new Go(Jc.Gn),this.zn=new Go(Jc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Jc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Jc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new sr(new Ki([])),i=new Jc(n,t),r=new Jc(n,t+1),o=[];return this.zn.forEachInRange([i,r],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new sr(new Ki([])),n=new Jc(e,t),i=new Jc(e,t+1),r=ia();return this.zn.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.containsKey=function(t){var e=new Jc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Jc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return sr.comparator(t.key,e.key)||Mi(t.ns,e.ns)},t.Hn=function(t,e){return Mi(t.ns,e.ns)||sr.comparator(t.key,e.key)},t}(),tl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Go(Jc.Gn)}return t.prototype.checkEmpty=function(t){return vs.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ks(r,e,n,i);this._n.push(o);for(var a=0,s=i;a<s.length;a++){var c=s[a];this.rs=this.rs.add(new Jc(c.key,r)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return vs.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return vs.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,i=this.cs(n),r=i<0?0:i;return vs.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return vs.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return vs.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new Jc(e,0),r=new Jc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([i,r],(function(t){var e=n.os(t.ns);o.push(e)})),vs.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Go(Mi);return e.forEach((function(t){var e=new Jc(t,0),r=new Jc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,r],(function(t){i=i.add(t.ns)}))})),vs.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;sr.isDocumentKey(r)||(r=r.child(""));var o=new Jc(new sr(r),0),a=new Go(Mi);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.ns)),!0)}),o),vs.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.os(t);null!==i&&n.push(i)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Oi(0===this.hs(e.batchId,"removed")),this._n.shift();var i=this.rs;return vs.forEach(e.mutations,(function(r){var o=new Jc(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((function(){n.rs=i}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Jc(e,0),i=this.rs.firstAfterOrEqual(n);return vs.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,vs.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),el=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new zo(sr.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.ls(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return vs.resolve(n?n.document.clone():Tr.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,i=Xo();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.clone():Tr.newInvalidDocument(t))})),vs.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=Xo(),r=new sr(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var a=o.getNext(),s=a.key,c=a.value,l=c.document,u=c.readTime;if(!e.path.isPrefixOf(s.path))break;u.compareTo(n)<=0||ro(e,l)&&(i=i.insert(l.key,l.clone()))}return vs.resolve(i)},t.prototype.fs=function(t,e){return vs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new nl(this)},t.prototype.getSize=function(t){return vs.resolve(this.size)},t}(),nl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r.document.isValidDocument()?n.push(e.Ie.addEntry(t,r.document,e.getReadTime(i))):e.Ie.removeEntry(i)})),vs.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(yc),il=function(){function t(t){this.persistence=t,this.ds=new vc((function(t){return Er(t)}),Ar),this.lastRemoteSnapshotVersion=ji.min(),this.highestTargetId=0,this.ws=0,this._s=new Zc,this.targetCount=0,this.ys=oc.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),vs.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return vs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return vs.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),vs.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),vs.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new oc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,vs.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),vs.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,vs.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.ds.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),vs.waitFor(o).next((function(){return r}))},t.prototype.getTargetCount=function(t){return vs.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return vs.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),vs.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.markPotentiallyOrphaned(t,e))})),vs.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),vs.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return vs.resolve(n)},t.prototype.containsKey=function(t,e){return vs.resolve(this._s.containsKey(e))},t}(),rl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new wi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new il(this),this.Ut=new Ws,this.Ue=function(t,e){return new el(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ls(e),this.Ke=new Xc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new tl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i=this;ki("MemoryPersistence","Starting transaction:",t);var r=new ol(this.Ne.next());return this.referenceDelegate.Es(),n(r).next((function(t){return i.referenceDelegate.Ts(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return vs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ol=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return o(e,t),e}(gs),al=function(){function t(t){this.persistence=t,this.As=new Zc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fi()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),vs.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),vs.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),vs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return i.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vs.forEach(this.vs,(function(i){var r=sr.fromPath(i);return e.Ps(t,r).next((function(t){t||n.removeEntry(r)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return vs.or([function(){return vs.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),sl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t,e){return"firestore_clients_"+t+"_"+e}function ll(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function ul(t,e){return"firestore_targets_"+t+"_"+e}sl.UNAUTHENTICATED=new sl(null),sl.GOOGLE_CREDENTIALS=new sl("google-credentials-uid"),sl.FIRST_PARTY=new sl("first-party-uid"),sl.MOCK_USER=new sl("mock-user");var dl=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Vs=function(e,n,i){var r,o=JSON.parse(i),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new Ei(o.error.code,o.error.message)),a?new t(e,n,o.state,r):(Di("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var i,r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new Ei(r.error.code,r.error.message)),o?new t(e,r.state,i):(Di("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=oa(),a=0;r&&a<i.activeTargetIds.length;++a)r=ar(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new t(e,o):(Di("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),fl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Di("SharedClientState","Failed to parse online state: "+e),null)},t}(),gl=function(){function t(){this.activeTargetIds=oa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ml=function(){function t(t,e,n,i,r){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new zo(Mi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Os=cl(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new gl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,c,l,u,d,h=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(r=this.getItem(cl(this.persistenceKey,i)))&&(o=pl.Vs(i,r))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(c=this.js(a))&&this.Ws(c),l=0,u=this.$s;l<u.length;l++)d=u[l],this.ks(d);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ul(this.persistenceKey,t));if(n){var i=hl.Vs(t,n);i&&(e=i.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ul(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach((function(t){i.Hs(t)})),this.currentUser=t,n.forEach((function(t){i.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ki("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ki("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ki("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ki("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return a(e,void 0,void 0,(function(){var t,e,i,r,o,a;return s(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=wi.o;if(null!=t)try{var n=JSON.parse(t);Oi("number"==typeof n),e=n}catch(t){Di("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wi.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var i=new dl(this.currentUser,t,e,n),r=ll(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Ss())},t.prototype.Hs=function(t){var e=ll(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var i=ul(this.persistenceKey,t),r=new hl(t,e,n);this.setItem(i,r.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return pl.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return dl.Vs(new sl(r),i,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),i=Number(n[1]);return hl.Vs(i,e)},t.prototype.js=function(t){return fl.Vs(t)},t.prototype.ii=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ki("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,i=e?this.Fs.insert(t,e):this.Fs.remove(t),r=this.Gs(this.Fs),o=this.Gs(i),a=[],s=[];return o.forEach((function(t){r.has(t)||a.push(t)})),r.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=i}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=oa();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),vl=function(){function t(){this.li=new gl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new gl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),yl=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),_l=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ki("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ki("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Cl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return o(e,t),e.prototype.Fi=function(t,e,n,i){return new Promise((function(r,o){var a=new Ti;a.listenOnce(yi.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case vi.NO_ERROR:var e=a.getResponseJson();ki("Connection","XHR received:",JSON.stringify(e)),r(e);break;case vi.TIMEOUT:ki("Connection",'RPC "'+t+'" timed out'),o(new Ei(Ii.DEADLINE_EXCEEDED,"Request time out"));break;case vi.HTTP_ERROR:var n=a.getStatus();if(ki("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ii).indexOf(e)>=0?e:Ii.UNKNOWN}(i.status);o(new Ei(s,i.message))}else o(new Ei(Ii.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ei(Ii.UNAVAILABLE,"Connection failed."));break;default:Fi()}}finally{ki("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(i);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=gi(),r=mi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Si({})),this.ki(o.initMessageHeaders,e),Object(l.q)()||Object(l.s)()||Object(l.n)()||Object(l.o)()||Object(l.u)()||Object(l.m)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");ki("Connection","Creating WebChannel: "+a,o);var s=i.createWebChannel(a,o),c=!1,u=!1,d=new Sl({Ei:function(t){u?ki("Connection","Not sending because WebChannel is closed:",t):(c||(ki("Connection","Opening WebChannel transport."),s.open(),c=!0),ki("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Ci.EventType.OPEN,(function(){u||ki("Connection","WebChannel transport opened.")})),h(s,Ci.EventType.CLOSE,(function(){u||(u=!0,ki("Connection","WebChannel transport closed"),d.Vi())})),h(s,Ci.EventType.ERROR,(function(t){u||(u=!0,Ri("Connection","WebChannel transport errored:",t),d.Vi(new Ei(Ii.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ci.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];Oi(!!n);var i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){ki("Connection","WebChannel received error:",r);var o=r.status,a=function(t){var e=Mo[t];if(void 0!==e)return Ho(e)}(o),c=r.message;void 0===a&&(a=Ii.INTERNAL,c="Unknown error status: "+o+" with message "+r.message),u=!0,d.Vi(new Ei(a,c)),s.close()}else ki("Connection","WebChannel received:",n),d.Si(n)}})),h(r,_i.STAT_EVENT,(function(t){t.stat===bi.PROXY?ki("Connection","Detected buffering proxy"):t.stat===bi.NOPROXY&&ki("Connection","Detected no buffering proxy")})),setTimeout((function(){d.Pi()}),0),d},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,i){var r=this.xi(t,e);ki("RestConnection","Sending: ",r,n);var o={};return this.ki(o,i),this.Fi(t,r,o,n).then((function(t){return ki("RestConnection","Received: ",t),t}),(function(e){throw Ri("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e}))},t.prototype.$i=function(t,e,n,i){return this.Ni(t,e,n,i)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=bl[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){return"undefined"!=typeof window?window:null}function wl(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){return new va(t,!0)}var El=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=i,this.Bi=r,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),r=Math.max(0,n-i);r>0&&ki("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,r,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Al=function(){function t(t,e,n,i,r,o){this.Se=t,this.zi=n,this.Hi=i,this.Ji=r,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new El(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ii.RESOURCE_EXHAUSTED?(Di(e.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ii.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ei(Ii.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return a(t,void 0,void 0,(function(){return s(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return ki("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(ki("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xl=function(t){function e(e,n,i,r,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).R=r,a}return o(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fi()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Oi(void 0===e||"string"==typeof e),Xi.fromBase64String(e||"")):(Oi(void 0===e||e instanceof Uint8Array),Xi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ii.UNKNOWN:Ho(t.code);return new Ei(e,t.message||"")}(s);n=new ua(i,r,o,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,r=Ia(t,i.document.name),o=Sa(i.document.updateTime);var s=new Sr({mapValue:{fields:i.document.fields}}),c=(a=Tr.newFoundDocument(r,o,s),i.targetIds||[]),l=i.removedTargetIds||[];n=new ca(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,r=Ia(t,i.document),o=i.readTime?Sa(i.readTime):ji.min(),s=Tr.newNoDocument(r,o),a=i.removedTargetIds||[],n=new ca([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,r=Ia(t,i.document),o=i.removedTargetIds||[],n=new ca([],o,r,null);else{if(!("filter"in e))return Fi();e.filter;var u=e.filter;u.targetId,i=u.count||0,r=new jo(i),o=u.targetId,n=new la(o,r)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ji.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ji.min():e.readTime?Sa(e.readTime):ji.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=xa(this.R),e.addTarget=function(t,e){var n,i=e.target;return(n=xr(i)?{documents:Oa(t,i)}:{query:Pa(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=_a(t,e.resumeToken):e.snapshotVersion.compareTo(ji.min())>0&&(n.readTime=ya(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fi()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=xa(this.R),e.removeTarget=t,this.cr(e)},e}(Al),kl=function(t){function e(e,n,i,r,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).R=r,a.gr=!1,a}return o(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Oi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Oi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Sa(t.updateTime):Sa(e);return n.isEqual(ji.min())&&(n=Sa(e)),new wo(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Sa(t.commitTime);return this.listener.Tr(n,e)}return Oi(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=xa(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return La(e.R,t)}))};this.cr(n)},e}(Al),Dl=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Hi=n,r.R=i,r.Rr=!1,r}return o(e,t),e.prototype.br=function(){if(this.Rr)throw new Ei(Ii.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then((function(r){return i.Hi.Ni(t,e,n,r)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ii.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Ei(Ii.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then((function(r){return i.Hi.$i(t,e,n,r)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ii.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Ei(Ii.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Rl=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Di(e),this.Vr=!1):ki("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ll=function(t,e,n,i,r){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=r,this.Lr.di((function(t){n.enqueueAndForget((function(){return a(o,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return $l(this)?(ki("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=Pi(t)).Or.add(4),[4,Ol(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Fl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Rl(n,i)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:if(!$l(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ol(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Pl(t,e){var n=Pi(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Ul(n)?ql(n):nu(n).er()&&Bl(n,e))}function Nl(t,e){var n=Pi(t),i=nu(n);n.$r.delete(e),i.er()&&Ml(n,e),0===n.$r.size&&(i.er()?i.ir():$l(n)&&n.Br.set("Unknown"))}function Bl(t,e){t.qr.U(e.targetId),nu(t).mr(e)}function Ml(t,e){t.qr.U(e),nu(t).yr(e)}function ql(t){t.qr=new ha({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),nu(t).start(),t.Br.Sr()}function Ul(t){return $l(t)&&!nu(t).tr()&&t.$r.size>0}function $l(t){return 0===Pi(t).Or.size}function jl(t){t.qr=void 0}function Vl(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.$r.forEach((function(e,n){Bl(t,e)})),[2]}))}))}function Hl(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){return jl(t),Ul(t)?(t.Br.Nr(e),ql(t)):t.Br.set("Unknown"),[2]}))}))}function zl(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o;return s(this,(function(c){switch(c.label){case 0:if(t.Br.set("Online"),!(e instanceof ua&&2===e.state&&e.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o;return s(this,(function(a){switch(a.label){case 0:n=e.cause,i=0,r=e.targetIds,a.label=1;case 1:return i<r.length?(o=r[i],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return c.sent(),[3,5];case 3:return i=c.sent(),ki("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Wl(t,i)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ca?t.qr.X(e):e instanceof la?t.qr.rt(e):t.qr.et(e),n.isEqual(ji.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,qc(t.localStore)];case 8:return r=c.sent(),n.compareTo(r)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.$r.get(i);r&&t.$r.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Xi.EMPTY_BYTE_STRING,n.snapshotVersion)),Ml(t,e);var i=new Rs(n.target,e,1,n.sequenceNumber);Bl(t,i)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return ki("RemoteStore","Failed to raise snapshot:",o=c.sent()),[4,Wl(t,o)];case 12:return c.sent(),[3,13];case 13:return[2]}}))}))}function Wl(t,e,n){return a(this,void 0,void 0,(function(){var i=this;return s(this,(function(r){switch(r.label){case 0:if(!Cs(e))throw e;return t.Or.add(1),[4,Ol(t)];case 1:return r.sent(),t.Br.set("Offline"),n||(n=function(){return qc(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return a(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return ki("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Fl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Kl(t,e){return e().catch((function(n){return Wl(t,n,e)}))}function Gl(t){return a(this,void 0,void 0,(function(){var e,n,i,r,o;return s(this,(function(a){switch(a.label){case 0:e=Pi(t),n=iu(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return $l(t)&&t.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,jc(e.localStore,i)];case 3:return null===(r=a.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(i=r.batchId,function(t,e){t.Fr.push(e);var n=iu(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,r),[3,6]);case 4:return o=a.sent(),[4,Wl(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Ql(e)&&Yl(e),[2]}}))}))}function Ql(t){return $l(t)&&!iu(t).tr()&&t.Fr.length>0}function Yl(t){iu(t).start()}function Xl(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return iu(t).Ar(),[2]}))}))}function Zl(t){return a(this,void 0,void 0,(function(){var e,n,i,r;return s(this,(function(o){for(e=iu(t),n=0,i=t.Fr;n<i.length;n++)r=i[n],e.Er(r.mutations);return[2]}))}))}function Jl(t,e,n){return a(this,void 0,void 0,(function(){var i,r;return s(this,(function(o){switch(o.label){case 0:return i=t.Fr.shift(),r=Ds.from(i,e,n),[4,Kl(t,(function(){return t.remoteSyncer.applySuccessfulWrite(r)}))];case 1:return o.sent(),[4,Gl(t)];case 2:return o.sent(),[2]}}))}))}function tu(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return e&&iu(t).pr?[4,function(t,e){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return Vo(i=e.code)&&i!==Ii.ABORTED?(n=t.Fr.shift(),iu(t).sr(),[4,Kl(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Gl(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ql(t)&&Yl(t),[2]}}))}))}function eu(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=Pi(t),e?(n.Or.delete(2),[4,Fl(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Ol(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}}))}))}function nu(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var i=Pi(t);return i.br(),new xl(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Vl.bind(null,t),Ri:Hl.bind(null,t),_r:zl.bind(null,t)}),t.Mr.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ul(t)?ql(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),jl(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function iu(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var i=Pi(t);return i.br(),new kl(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Xl.bind(null,t),Ri:tu.bind(null,t),Ir:Zl.bind(null,t),Tr:Jl.bind(null,t)}),t.Mr.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Gl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(ki("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ru=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ei(Ii.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ou(t,e){if(Di("AsyncQueue",e+": "+t),Cs(t))return new Ei(Ii.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||sr.comparator(e.key,n.key)}:function(t,e){return sr.comparator(t.key,e.key)},this.keyedMap=Jo(),this.sortedSet=new zo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),su=function(){function t(){this.Qr=new zo(sr.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Fi():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),cu=function(){function t(t,e,n,i,r,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,au.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),lu=function(){this.Wr=void 0,this.listeners=[]},uu=function(){this.queries=new vc((function(t){return no(t)}),eo),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a,c,l;return s(this,(function(s){switch(s.label){case 0:if(n=Pi(t),i=e.query,r=!1,(o=n.queries.get(i))||(r=!0,o=new lu),!r)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(i)];case 2:return a.Wr=s.sent(),[3,4];case 3:return c=s.sent(),l=ou(c,"Initialization of query '"+io(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(i,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&gu(n),[2]}}))}))}function hu(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a;return s(this,(function(s){return n=Pi(t),i=e.query,r=!1,(o=n.queries.get(i))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function pu(t,e){for(var n=Pi(t),i=!1,r=0,o=e;r<o.length;r++){var a=o[r],s=a.query,c=n.queries.get(s);if(c){for(var l=0,u=c.listeners;l<u.length;l++)u[l].Hr(a)&&(i=!0);c.Wr=a}}i&&gu(n)}function fu(t,e,n){var i=Pi(t),r=i.queries.get(e);if(r)for(var o=0,a=r.listeners;o<a.length;o++)a[o].onError(n);i.queries.delete(e)}function gu(t){t.Gr.forEach((function(t){t.next()}))}var mu=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new cu(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=cu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),vu=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),yu=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ia(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ra(this.R,t.document,!1):Tr.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Sa(t)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=_u(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new yu(this.R),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,c=o.metadata.queries;s<c.length;s++){var l=c[s],u=(e.get(l)||ia()).add(a);e.set(l,u)}}return e},t.prototype.complete=function(){return a(this,void 0,void 0,(function(){var t,e,n,i,r;return s(this,(function(o){switch(o.label){case 0:return[4,Qc(this.localStore,new yu(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,i=this.queries,o.label=2;case 2:return n<i.length?(r=i[n],[4,Yc(this.localStore,r,e.get(r.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Rc(Object.assign({},this.progress),t))]}}))}))}}();function _u(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bu=function(t){this.key=t},Su=function(t){this.key=t},Cu=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ia(),this.mutatedKeys=ia(),this.lo=oo(t),this.fo=new au(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,i=e?e.mo:new su,r=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,c=Kr(this.query)&&r.size===this.query.limit?r.last():null,l=Gr(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var u=r.get(t),d=ro(n.query,e)?e:null,h=!!u&&n.mutatedKeys.has(u.key),p=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),f=!1;u&&d?u.data.isEqual(d.data)?h!==p&&(i.track({type:3,doc:d}),f=!0):n.yo(u,d)||(i.track({type:2,doc:d}),f=!0,(c&&n.lo(d,c)>0||l&&n.lo(d,l)<0)&&(s=!0)):!u&&d?(i.track({type:0,doc:d}),f=!0):u&&!d&&(i.track({type:1,doc:u}),f=!0,(c||l)&&(s=!0)),f&&(d?(a=a.add(d),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Kr(this.query)||Gr(this.query))for(;a.size>this.query.limit;){var u=Kr(this.query)?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{fo:a,mo:i,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fi()}};return n(t)-n(e)}(t.type,e.type)||i.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,c=s!==this.ao;return this.ao=s,0!==o.length||c?{snapshot:new cu(this.query,t.fo,r,o,t.mutatedKeys,0===s,c,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new su,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ia(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Su(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new bu(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ia();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return cu.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Tu=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wu=function(t){this.key=t,this.bo=!1},Iu=function(){function t(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vc((function(t){return no(t)}),eo),this.Vo=new Map,this.So=new Set,this.Do=new zo(sr.comparator),this.Co=new Map,this.No=new Zc,this.xo={},this.ko=new Map,this.Fo=oc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Eu(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a,c;return s(this,(function(s){switch(s.label){case 0:return n=ed(t),(o=n.Po.get(e))?(i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Vc(n.localStore,Jr(e))];case 2:return a=s.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Au(n,e,i,"current"===c)];case 3:r=s.sent(),n.isPrimaryClient&&Pl(n.remoteStore,a),s.label=4;case 4:return[2,r]}}))}))}function Au(t,e,n,i){return a(this,void 0,void 0,(function(){var r,o,c,l,u,d;return s(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return a(this,void 0,void 0,(function(){var r,o,a;return s(this,(function(s){switch(s.label){case 0:return(r=e.view._o(n)).Nn?[4,zc(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,r)}))]:[3,2];case 1:r=s.sent(),s.label=2;case 2:return o=i&&i.targetChanges.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,o),[2,(Uu(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,i)},[4,zc(t.localStore,e,!0)];case 1:return r=h.sent(),o=new Cu(e,r.Bn),c=o._o(r.documents),l=sa.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),u=o.applyChanges(c,t.isPrimaryClient,l),Uu(t,n,u.To),d=new Tu(e,n,o),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function xu(t,e){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:return n=Pi(t),i=n.Po.get(e),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter((function(t){return!eo(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Hc(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),Nl(n.remoteStore,i.targetId),Mu(n,i.targetId)})).catch(uc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Mu(n,i.targetId),[4,Hc(n.localStore,i.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ku(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o,a;return s(this,(function(s){switch(s.label){case 0:i=nd(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,i=Pi(t),r=$i.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ia());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return i.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,c=e;s<c.length;s++){var l=c[s],u=Do(l,n.get(l.key));null!=u&&a.push(new Oo(l.key,u,Cr(u.value.mapValue),Io.exists(!0)))}return i._n.addMutationBatch(t,r,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(i.localStore,e)];case 2:return r=s.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(t,e,n){var i=t.xo[t.currentUser.toKey()];i||(i=new zo(Mi)),i=i.insert(e,n),t.xo[t.currentUser.toKey()]=i}(i,r.batchId,n),[4,Vu(i,r.changes)];case 3:return s.sent(),[4,Gl(i.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ou(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Du(t,e){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:n=Pi(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Uc(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach((function(t,e){var i=n.Co.get(e);i&&(Oi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.bo=!0:t.modifiedDocuments.size>0?Oi(i.bo):t.removedDocuments.size>0&&(Oi(i.bo),i.bo=!1))})),[4,Vu(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,uc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ru(t,e,n){var i=Pi(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.Po.forEach((function(t,n){var i=n.view.zr(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=Pi(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(e)&&(i=!0)})),i&&gu(n)}(i.eventManager,e),r.length&&i.vo._r(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Lu(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o,a,c,l;return s(this,(function(s){switch(s.label){case 0:return(i=Pi(t)).sharedClientState.updateQueryState(e,"rejected",n),r=i.Co.get(e),(o=r&&r.key)?(a=(a=new zo(sr.comparator)).insert(o,Tr.newNoDocument(o,ji.min())),c=ia().add(o),l=new aa(ji.min(),new Map,new Go(Mi),a,c),[4,Du(i,l)]):[3,2];case 1:return s.sent(),i.Do=i.Do.remove(o),i.Co.delete(e),ju(i),[3,4];case 2:return[4,Hc(i.localStore,e,!1).then((function(){return Mu(i,e,n)})).catch(uc)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function Fu(t,e){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:n=Pi(t),i=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Mc(n.localStore,e)];case 2:return r=o.sent(),Bu(n,i,null),Nu(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Vu(n,r)];case 3:return o.sent(),[3,6];case 4:return[4,uc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ou(t,e,n){return a(this,void 0,void 0,(function(){var i,r;return s(this,(function(o){switch(o.label){case 0:i=Pi(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Pi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n._n.lookupMutationBatch(t,e).next((function(e){return Oi(null!==e),i=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,i)}))}))}(i.localStore,e)];case 2:return r=o.sent(),Bu(i,e,n),Nu(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Vu(i,r)];case 3:return o.sent(),[3,6];case 4:return[4,uc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Pu(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a;return s(this,(function(s){switch(s.label){case 0:$l((n=Pi(t)).remoteStore)||ki("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Pi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(i=s.sent())?[2,void e.resolve()]:((r=n.ko.get(i)||[]).push(e),n.ko.set(i,r),[3,4]);case 3:return o=s.sent(),a=ou(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Nu(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Bu(t,e,n){var i=Pi(t),r=i.xo[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xo[i.currentUser.toKey()]=r}}function Mu(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.Vo.get(e);i<r.length;i++){var o=r[i];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||qu(t,e)}))}function qu(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Nl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ju(t))}function Uu(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof bu?(t.No.addReference(o.key,e),$u(t,o)):o instanceof Su?(ki("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||qu(t,o.key)):Fi()}}function $u(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(ki("SyncEngine","New document in limbo: "+n),t.So.add(i),ju(t))}function ju(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new sr(Ki.fromString(e)),i=t.Fo.next();t.Co.set(i,new wu(n)),t.Do=t.Do.insert(n,i),Pl(t.remoteStore,new Rs(Jr(Wr(n.path)),i,2,wi.o))}}function Vu(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o,c;return s(this,(function(l){switch(l.label){case 0:return i=Pi(t),r=[],o=[],c=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(t,a){c.push(i.Oo(a,e,n).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=Fc.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(c)]);case 1:return l.sent(),i.vo._r(r),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a,c,l,u,d;return s(this,(function(s){switch(s.label){case 0:n=Pi(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return vs.forEach(e,(function(e){return vs.forEach(e.bn,(function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)})).next((function(){return vs.forEach(e.vn,(function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!Cs(i=s.sent()))throw i;return ki("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,o=e;r<o.length;r++)a=o[r],c=a.targetId,a.fromCache||(l=n.kn.get(c),u=l.snapshotVersion,d=l.withLastLimboFreeSnapshotVersion(u),n.kn=n.kn.insert(c,d));return[2]}}))}))}(i.localStore,o)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function Hu(t,e){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return(n=Pi(t)).currentUser.isEqual(e)?[3,3]:(ki("SyncEngine","User change. New user:",e.toKey()),[4,Bc(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Ei(Ii.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Vu(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function zu(t,e){var n=Pi(t),i=n.Co.get(e);if(i&&i.bo)return ia().add(i.key);var r=ia(),o=n.Vo.get(e);if(!o)return r;for(var a=0,s=o;a<s.length;a++){var c=s[a],l=n.Po.get(c);r=r.unionWith(l.view.wo)}return r}function Wu(t,e){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:return[4,zc((n=Pi(t)).localStore,e.query,!0)];case 1:return i=o.sent(),r=e.view.Ao(i),[2,(n.isPrimaryClient&&Uu(n,e.targetId,r.To),r)]}}))}))}function Ku(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,Kc((e=Pi(t)).localStore).then((function(t){return Vu(e,t)}))]}))}))}function Gu(t,e,n,i){return a(this,void 0,void 0,(function(){var r,o;return s(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Pi(t),i=Pi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return i.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):vs.resolve(null)}))}))}((r=Pi(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gl(r.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Bu(r,e,i||null),Nu(r,e),function(t,e){Pi(Pi(t)._n).Gt(e)}(r.localStore,e)):Fi(),a.label=4;case 4:return[4,Vu(r,o)];case 5:return a.sent(),[3,7];case 6:ki("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Qu(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a,c,l,u;return s(this,(function(s){switch(s.label){case 0:return ed(n=Pi(t)),nd(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Yu(n,i.toArray())]);case 1:return r=s.sent(),n.$o=!0,[4,eu(n.remoteStore,!0)];case 2:for(s.sent(),o=0,a=r;o<a.length;o++)c=a[o],Pl(n.remoteStore,c);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(l=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?l.push(e):u=u.then((function(){return Mu(n,e),Hc(n.localStore,e,!0)})),Nl(n.remoteStore,e)})),[4,u]);case 4:return s.sent(),[4,Yu(n,l)];case 5:return s.sent(),function(t){var e=Pi(t);e.Co.forEach((function(t,n){Nl(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new zo(sr.comparator)}(n),n.$o=!1,[4,eu(n.remoteStore,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function Yu(t,e,n){return a(this,void 0,void 0,(function(){var n,i,r,o,a,c,l,u,d,h,p,f,g,m;return s(this,(function(s){switch(s.label){case 0:n=Pi(t),i=[],r=[],o=0,a=e,s.label=1;case 1:return o<a.length?(c=a[o],l=void 0,(u=n.Vo.get(c))&&0!==u.length?[4,Vc(n.localStore,Jr(u[0]))]:[3,7]):[3,13];case 2:l=s.sent(),d=0,h=u,s.label=3;case 3:return d<h.length?(p=h[d],f=n.Po.get(p),[4,Wu(n,f)]):[3,6];case 4:(g=s.sent()).snapshot&&r.push(g.snapshot),s.label=5;case 5:return d++,[3,3];case 6:return[3,11];case 7:return[4,Wc(n.localStore,c)];case 8:return m=s.sent(),[4,Vc(n.localStore,m)];case 9:return l=s.sent(),[4,Au(n,Xu(m),c,!1)];case 10:s.sent(),s.label=11;case 11:i.push(l),s.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(r),i)]}}))}))}function Xu(t){return zr(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zu(t){var e=Pi(t);return Pi(Pi(e.localStore).persistence).fn()}function Ju(t,e,n,i){return a(this,void 0,void 0,(function(){var r,o,a;return s(this,(function(s){switch(s.label){case 0:return(r=Pi(t)).$o?(ki("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kc(r.localStore)];case 3:return o=s.sent(),a=aa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Vu(r,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Hc(r.localStore,e,!0)];case 6:return s.sent(),Mu(r,e,i),[3,8];case 7:Fi(),s.label=8;case 8:return[2]}}))}))}function td(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o,a,c,l,u,d,h,p;return s(this,(function(f){switch(f.label){case 0:if(!(i=ed(t)).$o)return[3,10];r=0,o=e,f.label=1;case 1:return r<o.length?(a=o[r],i.Vo.has(a)?(ki("SyncEngine","Adding an already active target "+a),[3,5]):[4,Wc(i.localStore,a)]):[3,6];case 2:return c=f.sent(),[4,Vc(i.localStore,c)];case 3:return l=f.sent(),[4,Au(i,Xu(c),l.targetId,!1)];case 4:f.sent(),Pl(i.remoteStore,l),f.label=5;case 5:return r++,[3,1];case 6:u=function(t){return s(this,(function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,Hc(i.localStore,t,!1).then((function(){Nl(i.remoteStore,t),Mu(i,t)})).catch(uc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},d=0,h=n,f.label=7;case 7:return d<h.length?(p=h[d],[5,u(p)]):[3,10];case 8:f.sent(),f.label=9;case 9:return d++,[3,7];case 10:return[2]}}))}))}function ed(t){var e=Pi(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Du.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lu.bind(null,e),e.vo._r=pu.bind(null,e.eventManager),e.vo.Mo=fu.bind(null,e.eventManager),e}function nd(t){var e=Pi(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ou.bind(null,e),e}var id=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.R=Il(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Nc(this.persistence,new Oc,t.initialUser,this.R)},t.prototype.qo=function(t){return new rl(al.bs,this.R)},t.prototype.Bo=function(t){return new vl},t.prototype.terminate=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),rd=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Qo=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,Gc(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,e)];case 3:return i.sent(),[4,nd(this.Qo.syncEngine)];case 4:return i.sent(),[4,Gl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return i.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Nc(this.persistence,new Oc,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new pc(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Dc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new Ac(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Tl(),wl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new vl},e}(id),od=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Qo=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){var n,i=this;return s(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ml?(this.sharedClientState.syncEngine={ui:Gu.bind(null,n),ai:Ju.bind(null,n),hi:td.bind(null,n),fn:Zu.bind(null,n),ci:Ku.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He((function(t){return a(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,Qu(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Tl();if(!ml.yt(e))throw new Ei(Ii.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Dc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ml(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(rd),ad=function(){function t(){}return t.prototype.initialize=function(t,e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ru(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hu.bind(null,this.syncEngine),[4,eu(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new uu},t.prototype.createDatastore=function(t){var e,n=Il(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new Cl(e));return function(t,e,n){return new Dl(t,e,n)}(t.credentials,i,n)},t.prototype.createRemoteStore=function(t){var e,n,i,r,o,a=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return Ru(a.syncEngine,t,0)},o=_l.yt()?new _l:new yl,new Ll(e,n,i,r,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,o,a){var s=new Iu(t,e,n,i,r,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=Pi(t),ki("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Ol(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),cd=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ms,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return a(this,void 0,void 0,(function(){var t,e,n,i;return s(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new vu(JSON.parse(i),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ei(Ii.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,(function(){var n,i,r,o,a,c;return s(this,(function(s){switch(s.label){case 0:return n=Pi(t),i=xa(n.R)+"/documents",r={documents:e.map((function(t){return wa(n.R,t)}))},[4,n.$i("BatchGetDocuments",i,r)];case 1:return o=s.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Oi(!!e.found),e.found.name,e.found.updateTime;var n=Ia(t,e.found.name),i=Sa(e.found.updateTime),r=new Sr({mapValue:{fields:e.found.fields}});return Tr.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){Oi(!!e.missing),Oi(!!e.readTime);var n=Ia(t,e.missing),i=Sa(e.readTime);return Tr.newNoDocument(n,i)}(t,e):Fi()}(n.R,t);a.set(e.key.toString(),e)})),c=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Oi(!!e),c.push(e)})),c)]}}))}))}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Uo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var i=sr.fromPath(n);e.mutations.push(new $o(i,e.precondition(i)))})),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:return n=Pi(t),i=xa(n.R)+"/documents",r={writes:e.map((function(t){return La(n.R,t)}))},[4,n.Ni("Commit",i,r)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Fi();e=ji.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ei(Ii.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Io.updateTime(e):Io.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ji.min()))throw new Ei(Ii.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Io.updateTime(e)}return Io.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ld=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ec=5,this.Zi=new El(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return a(t,void 0,void 0,(function(){var t,e,n=this;return s(this,(function(i){return t=new cd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!rr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Vo(e)}return!1},t}(),ud=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=sl.UNAUTHENTICATED,this.clientId=Bi.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return a(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return ki("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ei(Ii.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return a(t,void 0,void 0,(function(){var t,n;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=ou(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){return a(this,void 0,void 0,(function(){var n,i,r=this;return s(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ki("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),i=n.initialUser,t.setCredentialChangeListener((function(t){return a(r,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,Bc(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function hd(t,e){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,pd(t)];case 1:return n=r.sent(),ki("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return(n=Pi(t)).asyncQueue.verifyOperationInProgress(),ki("RemoteStore","RemoteStore received new credentials"),i=$l(n),n.Or.add(3),[4,Ol(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,Fl(n)];case 3:return r.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function pd(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ki("FirestoreClient","Using default OfflineComponentProvider"),[4,dd(t,new id)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function fd(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ki("FirestoreClient","Using default OnlineComponentProvider"),[4,hd(t,new ad)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function gd(t){return pd(t).then((function(t){return t.persistence}))}function md(t){return pd(t).then((function(t){return t.localStore}))}function vd(t){return fd(t).then((function(t){return t.remoteStore}))}function yd(t){return fd(t).then((function(t){return t.syncEngine}))}function _d(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:return[4,fd(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=Eu.bind(null,e.syncEngine),n.onUnlisten=xu.bind(null,e.syncEngine),n)]}}))}))}function bd(t,e,n){var i=this;void 0===n&&(n={});var r=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new sd({next:function(o){e.enqueueAndForget((function(){return hu(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?r.reject(new Ei(Ii.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&i&&"server"===i.source?r.reject(new Ei(Ii.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),a=new mu(Wr(n.path),o,{includeMetadataChanges:!0,so:!0});return du(t,a)},[4,_d(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}}))}))})),r.promise}function Sd(t,e,n){var i=this;void 0===n&&(n={});var r=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new sd({next:function(n){e.enqueueAndForget((function(){return hu(t,a)})),n.fromCache&&"server"===i.source?r.reject(new Ei(Ii.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),a=new mu(n,o,{includeMetadataChanges:!0,so:!0});return du(t,a)},[4,_d(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}}))}))})),r.promise}var Cd=function(t,e,n,i,r,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Td=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),wd=new Map,Id=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ed=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(sl.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ad=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),xd=function(){function t(t){var e=this;this.currentUser=sl.UNAUTHENTICATED,this.oc=new ms,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){ki("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var i=t.getImmediate({optional:!0});i?n(i):(ki("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(ki("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Oi("string"==typeof n.accessToken),new Id(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return a(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Oi(null===t||"string"==typeof t),new sl(t)},t}(),kd=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=sl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Dd=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new kd(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(sl.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){if(!n)throw new Ei(Ii.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ld(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Fd(t,e,n,i){if(!0===e&&!0===i)throw new Ei(Ii.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Od(t){if(!sr.isDocumentKey(t))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Pd(t){if(sr.isDocumentKey(t))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Nd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fi()}function Bd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ei(Ii.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nd(t);throw new Ei(Ii.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Md(t,e){if(e<=0)throw new Ei(Ii.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ei(Ii.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ei(Ii.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Fd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Ud=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qd({}),this._settingsFrozen=!1,t instanceof Td?(this._databaseId=t,this._credentials=new Ed):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ei(Ii.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Td(t.options.projectId)}(t),this._credentials=new xd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ei(Ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ei(Ii.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ed;switch(t.type){case"gapi":var e=t.client;return Oi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Dd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ei(Ii.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=wd.get(this))&&(ki("ComponentProvider","Removing Datastore"),wd.delete(this),t.terminate()),Promise.resolve();var t},t}(),$d=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),jd=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Vd=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,Wr(i))||this)._path=i,r.type="collection",r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new $d(this.firestore,null,new sr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(jd);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(l.j)(t),Rd("collection","path",e),t instanceof Ud)return Pd(n=Ki.fromString.apply(Ki,c([e],i))),new Vd(t,null,n);if(!(t instanceof $d||t instanceof Vd))throw new Ei(Ii.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pd(n=Ki.fromString.apply(Ki,c([t.path],i)).child(Ki.fromString(e))),new Vd(t.firestore,null,n)}function zd(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(l.j)(t),1===arguments.length&&(e=Bi.u()),Rd("doc","path",e),t instanceof Ud)return Od(n=Ki.fromString.apply(Ki,c([e],i))),new $d(t,null,new sr(n));if(!(t instanceof $d||t instanceof Vd))throw new Ei(Ii.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Od(n=t._path.child(Ki.fromString.apply(Ki,c([e],i)))),new $d(t.firestore,t instanceof Vd?t.converter:null,new sr(n))}function Wd(t,e){return t=Object(l.j)(t),e=Object(l.j)(e),(t instanceof $d||t instanceof Vd)&&(e instanceof $d||e instanceof Vd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Kd(t,e){return t=Object(l.j)(t),e=Object(l.j)(e),t instanceof jd&&e instanceof jd&&t.firestore===e.firestore&&eo(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Gd=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new El(this,"async_queue_retry"),this.Ic=function(){var e=wl();e&&ki("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=wl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=wl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ms;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cs(t=n.sent()))throw t;return ki("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Di("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var r=ru.createAndSchedule(this,t,e,n,(function(t){return i.vc(t)}));return this.mc.push(r),r},t.prototype.Ac=function(){this.yc&&Fi()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,i=e.mc;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Qd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ms,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).type="firestore",i._queue=new Gd,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return o(e,t),e.prototype._terminate=function(){return this._firestoreClient||Zd(this),this._firestoreClient.terminate()},e}(Ud);function Xd(t){return t._firestoreClient||Zd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Zd(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new Cd(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ud(t._credentials,t._queue,i)}function Jd(t,e,n){var i=this,r=new ms;return t.asyncQueue.enqueue((function(){return a(i,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,dd(t,n)];case 1:return o.sent(),[4,hd(t,e)];case 2:return o.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ii.FAILED_PRECONDITION||t.code===Ii.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=o.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return r.promise}))}function th(t){if(t._initialized||t._terminated)throw new Ei(Ii.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),nh=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Xi.fromBase64String(e))}catch(e){throw new Ei(Ii.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Xi.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ih=function(t){this._methodName=t},rh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ei(Ii.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ei(Ii.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Mi(this._lat,t._lat)||Mi(this._long,t._long)},t}(),oh=/^__.*__$/,ah=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Oo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fo(t,this.data,e,this.fieldTransforms)},t}(),sh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Oo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fi()}}var lh=function(){function t(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Cc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.$c(t),i},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return kh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ch(this.Nc)&&oh.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),uh=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Il(t)}return t.prototype.Uc=function(t,e,n,i){return void 0===i&&(i=!1),new lh({Nc:t,methodName:e,qc:n,path:Qi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function dh(t){var e=t._freezeSettings(),n=Il(t._databaseId);return new uh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hh(t,e,n,i,r,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,r);Ih("Data must be an object, but it was:",a,i);var s,c,l=Th(i,a);if(o.merge)s=new Yi(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var u=[],d=0,h=o.mergeFields;d<h.length;d++){var p=Eh(e,h[d],n);if(!a.contains(p))throw new Ei(Ii.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Dh(u,p)||u.push(p)}s=new Yi(u),c=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,c=a.fieldTransforms;return new ah(new Sr(l),s,c)}var ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ih);function fh(t,e,n){return new lh({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){return new To(t.path,new go)},e.prototype.isEqual=function(t){return t instanceof e},e}(ih),mh=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return o(e,t),e.prototype._toFieldTransform=function(t){var e=fh(this,t,!0),n=this.Kc.map((function(t){return Ch(t,e)})),i=new mo(n);return new To(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ih),vh=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return o(e,t),e.prototype._toFieldTransform=function(t){var e=fh(this,t,!0),n=this.Kc.map((function(t){return Ch(t,e)})),i=new yo(n);return new To(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ih),yh=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Qc=n,i}return o(e,t),e.prototype._toFieldTransform=function(t){var e=new bo(t.R,lo(t.R,this.Qc));return new To(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ih);function _h(t,e,n,i){var r=t.Uc(1,e,n);Ih("Data must be an object, but it was:",r,i);var o=[],a=Sr.empty();Hi(i,(function(t,i){var s=xh(e,t,n);i=Object(l.j)(i);var c=r.Oc(s);if(i instanceof ph)o.push(s);else{var u=Ch(i,c);null!=u&&(o.push(s),a.set(s,u))}}));var s=new Yi(o);return new sh(a,s,r.fieldTransforms)}function bh(t,e,n,i,r,o){var a=t.Uc(1,e,n),s=[Eh(e,i,n)],c=[r];if(o.length%2!=0)throw new Ei(Ii.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)s.push(Eh(e,o[u])),c.push(o[u+1]);for(var d=[],h=Sr.empty(),p=s.length-1;p>=0;--p)if(!Dh(d,s[p])){var f=s[p],g=c[p];g=Object(l.j)(g);var m=a.Oc(f);if(g instanceof ph)d.push(f);else{var v=Ch(g,m);null!=v&&(d.push(f),h.set(f,v))}}var y=new Yi(d);return new sh(h,y,a.fieldTransforms)}function Sh(t,e,n,i){return void 0===i&&(i=!1),Ch(n,t.Uc(i?4:3,e))}function Ch(t,e){if(wh(t=Object(l.j)(t)))return Ih("Unsupported field value:",e,t),Th(t,e);if(t instanceof ih)return function(t,e){if(!ch(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var a=Ch(o[r],e.Mc(i));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(l.j)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lo(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$i.fromDate(t);return{timestampValue:ya(e.R,n)}}if(t instanceof $i)return n=new $i(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ya(e.R,n)};if(t instanceof rh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nh)return{bytesValue:_a(e.R,t._byteString)};if(t instanceof $d){n=e.databaseId;var i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ca(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Nd(t))}(t,e)}function Th(t,e){var n={};return zi(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(function(t,i){var r=Ch(i,e.kc(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function wh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $i||t instanceof rh||t instanceof nh||t instanceof $d||t instanceof ih)}function Ih(t,e,n){if(!wh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Nd(n);throw"an object"===i?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function Eh(t,e,n){if((e=Object(l.j)(e))instanceof eh)return e._internalPath;if("string"==typeof e)return xh(t,e);throw kh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ah=new RegExp("[~\\*/\\[\\]]");function xh(t,e,n){if(e.search(Ah)>=0)throw kh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(eh.bind.apply(eh,c([void 0],e.split(".")))))._internalPath}catch(i){throw kh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function kh(t,e,n,i,r){var o=i&&!i.isEmpty(),a=void 0!==r,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+i),a&&(c+=" in document "+r),c+=")"),new Ei(Ii.INVALID_ARGUMENT,(s+=". ")+t+c)}function Dh(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rh=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $d(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Fh("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Rh);function Fh(t,e){return"string"==typeof e?xh(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oh=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ph=function(t){function e(e,n,i,r,o,a){var s=this;return(s=t.call(this,e,n,i,r,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return o(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Fh("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Rh),Nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ph),Bh=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Oh(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(i){t.call(e,new Nh(n._firestore,n._userDataWriter,i.key,i,new Oh(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ei(Ii.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Nh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Oh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Nh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Oh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Mh(e.type),doc:n,oldIndex:r,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Mh(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fi()}}function qh(t,e){return t instanceof Ph&&e instanceof Ph?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bh&&e instanceof Bh&&t._firestore===e._firestore&&Kd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){if(Gr(t)&&0===t.explicitOrderBy.length)throw new Ei(Ii.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $h=function(){};function jh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o._apply(t)}return t}var Vh=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).jc=e,r.Wc=n,r.Gc=i,r.type="where",r}return o(e,t),e.prototype._apply=function(t){var e=dh(t.firestore),n=function(t,e,n,i,r,o,a){var s;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yh(a,o);for(var c=[],l=0,u=a;l<u.length;l++){var d=u[l];c.push(Qh(i,t,d))}s={arrayValue:{values:c}}}else s=Qh(i,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yh(a,o),s=Sh(n,"where",a,"in"===o||"not-in"===o);var h=kr.create(r,o,s);return function(t,e){if(e.g()){var n=Yr(t);if(null!==n&&!n.isEqual(e.field))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=Qr(t);null!==i&&Xh(t,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw r===e.op?new Ei(Ii.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ei(Ii.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new jd(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}($h),Hh=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).jc=e,i.zc=n,i.type="orderBy",i}return o(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new Ur(e,n);return function(t,e){if(null===Qr(t)){var n=Yr(t);null!==n&&Xh(t,n,e.field)}}(t,i),i}(t._query,this.jc,this.zc);return new jd(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Hr(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}($h),zh=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return o(e,t),e.prototype._apply=function(t){return new jd(t.firestore,t.converter,to(t._query,this.Hc,this.Jc))},e}($h),Wh=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return o(e,t),e.prototype._apply=function(t){var e=Gh(t,this.type,this.Yc,this.Xc);return new jd(t.firestore,t.converter,function(t,e){return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}($h),Kh=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return o(e,t),e.prototype._apply=function(t){var e=Gh(t,this.type,this.Yc,this.Xc);return new jd(t.firestore,t.converter,function(t,e){return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}($h);function Gh(t,e,n,i){if(n[0]=Object(l.j)(n[0]),n[0]instanceof Rh)return function(t,e,n,i,r){if(!i)throw new Ei(Ii.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Zr(t);a<s.length;a++){var c=s[a];if(c.field.isKeyField())o.push(fr(e,i.key));else{var l=i.data.field(c.field);if(nr(l))throw new Ei(Ii.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Mr(o,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=dh(t.firestore);return function(t,e,n,i,r,o){var a=t.explicitOrderBy;if(r.length>a.length)throw new Ei(Ii.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],c=0;c<r.length;c++){var l=r[c];if(a[c].field.isKeyField()){if("string"!=typeof l)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof l);if(!Xr(t)&&-1!==l.indexOf("/"))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(Ki.fromString(l));if(!sr.isDocumentKey(u))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var d=new sr(u);s.push(fr(e,d))}else{var h=Sh(n,i,l);s.push(h)}}return new Mr(s,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function Qh(t,e,n){if("string"==typeof(n=Object(l.j)(n))){if(""===n)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xr(e)&&-1!==n.indexOf("/"))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(Ki.fromString(n));if(!sr.isDocumentKey(i))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return fr(t,new sr(i))}if(n instanceof $d)return fr(t,n._key);throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Nd(n)+".")}function Yh(t,e){if(!Array.isArray(t)||0===t.length)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xh(t,e,n){if(!n.isEqual(e))throw new Ei(Ii.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zh=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),cr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Fi()}},t.prototype.convertObject=function(t,e){var n=this,i={};return Hi(t.fields,(function(t,r){i[t]=n.convertValue(r,e)})),i},t.prototype.convertGeoPoint=function(t){return new rh(tr(t.latitude),tr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return nr(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ir(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ji(t);return new $i(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ki.fromString(t);Oi(Wa(n));var i=new Td(n.get(1),n.get(3)),r=new sr(n.popFirst(5));return i.isEqual(e)||Di("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new nh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new $d(this.firestore,null,e)},e}(Zh),ep=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dh(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=np(t,this._firestore),r=Jh(i.converter,e,n),o=hh(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,Io.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var o,a=np(t,this._firestore);return o="string"==typeof(e=Object(l.j)(e))||e instanceof eh?bh(this._dataReader,"WriteBatch.update",a._key,e,n,i):_h(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Io.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=np(t,this._firestore);return this._mutations=this._mutations.concat(new Uo(e._key,Io.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ei(Ii.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){if((t=Object(l.j)(t)).firestore!==e)throw new Ei(Ii.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new nh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new $d(this.firestore,null,e)},e}(Zh);function rp(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Bd(t,$d);var o=Bd(t.firestore,Yd),a=dh(o);return ap(o,[("string"==typeof(e=Object(l.j)(e))||e instanceof eh?bh(a,"updateDoc",t._key,e,n,i):_h(a,"updateDoc",t._key,e)).toMutation(t._key,Io.exists(!0))])}function op(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t=Object(l.j)(t);var c={includeMetadataChanges:!1},u=0;"object"!=typeof r[u]||Qd(r[u])||(c=r[u],u++);var d,h,p,f={includeMetadataChanges:c.includeMetadataChanges};if(Qd(r[u])){var g=r[u];r[u]=null===(e=g.next)||void 0===e?void 0:e.bind(g),r[u+1]=null===(n=g.error)||void 0===n?void 0:n.bind(g),r[u+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}if(t instanceof $d)h=Bd(t.firestore,Yd),p=Wr(t._key.path),d={next:function(e){r[u]&&r[u](sp(h,t,e))},error:r[u+1],complete:r[u+2]};else{var m=Bd(t,jd);h=Bd(m.firestore,Yd),p=m._query;var v=new ip(h);d={next:function(t){r[u]&&r[u](new Bh(h,v,m,t))},error:r[u+1],complete:r[u+2]},Uh(t._query)}return function(t,e,n,i){var r=this,o=new sd(i),c=new mu(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=du,[4,_d(t)];case 1:return[2,e.apply(void 0,[n.sent(),c])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=hu,[4,_d(t)];case 1:return[2,e.apply(void 0,[n.sent(),c])]}}))}))}))}}(Xd(h),p,f,d)}function ap(t,e){return function(t,e){var n=this,i=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=ku,[4,yd(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(Xd(t),e)}function sp(t,e,n){var i=n.docs.get(e._key),r=new ip(t);return new Ph(t,r,e._key,i,new Oh(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cp=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return o(e,t),e.prototype.get=function(e){var n=this,i=np(e,this._firestore),r=new ip(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Ph(n._firestore,r,i._key,t._document,new Oh(!1,!1),i.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=dh(t)}return t.prototype.get=function(t){var e=this,n=np(t,this._firestore),i=new tp(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Fi();var r=t[0];if(r.isFoundDocument())return new Rh(e._firestore,i,r.key,r,n.converter);if(r.isNoDocument())return new Rh(e._firestore,i,n._key,null,n.converter);throw Fi()}))},t.prototype.set=function(t,e,n){var i=np(t,this._firestore),r=Jh(i.converter,e,n),o=hh(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o,a=np(t,this._firestore);return o="string"==typeof(e=Object(l.j)(e))||e instanceof eh?bh(this._dataReader,"Transaction.update",a._key,e,n,i):_h(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=np(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){if("undefined"==typeof Uint8Array)throw new Ei(Ii.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function up(){if("undefined"==typeof atob)throw new Ei(Ii.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return up(),new t(nh.fromBase64String(e))},t.fromUint8Array=function(e){return lp(),new t(nh.fromUint8Array(e))},t.prototype.toBase64=function(){return up(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){th(t=Bd(t,Yd));var n=Xd(t),i=t._freezeSettings(),r=new ad;return Jd(n,r,new rd(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){th(t=Bd(t,Yd));var e=Xd(t),n=t._freezeSettings(),i=new ad;return Jd(e,i,new od(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ei(Ii.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ms;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return _s.yt()?(e=t+"main",[4,_s.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Dc(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),pp=function(){function t(t,e,n){var i=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Td||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){var r;void 0===i&&(i={});var o=(t=Bd(t,Ud))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Ri("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),i.mockUserToken){var a,s;if("string"==typeof i.mockUserToken)a=i.mockUserToken,s=sl.MOCK_USER;else{a=Object(l.f)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ei(Ii.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new sl(c)}t._credentials=new Ad(new Id(a,s))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:return[4,gd(t)];case 1:return e=i.sent(),[4,vd(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Pi(t);return e.Or.delete(0),Fl(e)}(n))]}}))}))}))}(Xd(Bd(this._delegate,Yd)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:return[4,gd(t)];case 1:return e=i.sent(),[4,vd(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=Pi(t)).Or.add(0),[4,Ol(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Xd(Bd(this._delegate,Yd)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Fd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return e=Pu,[4,yd(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}}))}))})),n.promise}(Xd(Bd(this._delegate,Yd)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new sd(e);return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pi(t).Gr.add(e),e.next()},[4,_d(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pi(t).Gr.delete(e)},[4,_d(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}(Xd(t=Bd(t,Yd)),Qd(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ei(Ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ap(this,Hd(this._delegate,t))}catch(t){throw _p(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new yp(this,zd(this._delegate,t))}catch(t){throw _p(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new wp(this,function(t,e){if(t=Bd(t,Ud),Rd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jd(t,null,function(t){return new Hr(Ki.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw _p(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,function(t){return fd(t).then((function(t){return t.datastore}))}(t)];case 1:return n=r.sent(),new ld(t.asyncQueue,n,e,i).run(),[2]}}))}))})),i.promise}(Xd(t),(function(n){return e(new cp(t,n))}))}(this._delegate,(function(n){return t(new gp(e,n))}))},t.prototype.batch=function(){var t=this;return Xd(this._delegate),new mp(new ep(this._delegate,(function(e){return ap(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ei(Ii.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ei(Ii.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),fp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new dp(new nh(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return yp.eu(e,this.firestore,null)},e}(Zh);var gp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new fp(t)}return t.prototype.get=function(t){var e=this,n=xp(t);return this._delegate.get(n).then((function(t){return new Cp(e._firestore,new Ph(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var i=xp(t);return n?(Ld("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a=xp(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,c([a,e,n],r)),this},t.prototype.delete=function(t){var e=xp(t);return this._delegate.delete(e),this},t}(),mp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var i=xp(t);return n?(Ld("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a=xp(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,c([a,e,n],r)),this},t.prototype.delete=function(t){var e=xp(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),vp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Nh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Tp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var i=t.su,r=i.get(e);r||(r=new WeakMap,i.set(e,r));var o=r.get(n);return o||(o=new t(e,new fp(e),n),r.set(n,o)),o},t}();vp.su=new WeakMap;var yp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fp(t)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new Ei(Ii.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new $d(n._delegate,i,new sr(e)))},t.eu=function(e,n,i){return new t(n,new $d(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ap(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ap(this.firestore,Hd(this._delegate,t))}catch(t){throw _p(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(l.j)(t))instanceof $d&&Wd(this._delegate,t)},t.prototype.set=function(t,e){e=Ld("DocumentReference.set",e);try{return function(t,e,n){t=Bd(t,$d);var i=Bd(t.firestore,Yd),r=Jh(t.converter,e,n);return ap(i,[hh(dh(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,Io.none())])}(this._delegate,t,e)}catch(t){throw _p(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?rp(this._delegate,t):rp.apply(void 0,c([this._delegate,t,e],n))}catch(t){throw _p(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ap(Bd((t=this._delegate).firestore,Yd),[new Uo(t._key,Io.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=bp(e),r=Sp(e,(function(e){return new Cp(t.firestore,new Ph(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return op(this._delegate,i,r)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bd(t,$d);var e=Bd(t.firestore,Yd),n=Xd(e),i=new ip(e);return function(t,e){var n=this,i=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var i,r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Pi(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(r=o.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ei(Ii.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=ou(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}}))}))},[4,md(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(n,t._key).then((function(n){return new Ph(e,i,t._key,n,new Oh(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Bd(t,$d);var e=Bd(t.firestore,Yd);return bd(Xd(e),t._key,{source:"server"}).then((function(n){return sp(e,t,n)}))}(this._delegate):function(t){t=Bd(t,$d);var e=Bd(t.firestore,Yd);return bd(Xd(e),t._key).then((function(n){return sp(e,t,n)}))}(this._delegate)).then((function(t){return new Cp(e.firestore,new Ph(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(vp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function _p(t,e,n){return t.message=t.message.replace(e,n),t}function bp(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!Qd(i))return i}return{}}function Sp(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=Qd(t[0])?t[0]:Qd(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var Cp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new yp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return qh(this._delegate,t._delegate)},t}(),Tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Cp),wp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fp(t)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,jh(this._delegate,function(t,e,n){var i=e,r=Fh("where",t);return new Vh(r,i,n)}(e,n,i)))}catch(e){throw _p(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,jh(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=Fh("orderBy",t);return new Hh(i,n)}(e,n)))}catch(e){throw _p(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,jh(this._delegate,function(t){return Md("limit",t),new zh("limit",t,"F")}(e)))}catch(e){throw _p(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,jh(this._delegate,function(t){return Md("limitToLast",t),new zh("limitToLast",t,"L")}(e)))}catch(e){throw _p(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wh("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw _p(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wh("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw _p(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kh("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw _p(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kh("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw _p(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Kd(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bd(t,jd);var e=Bd(t.firestore,Yd),n=Xd(e),i=new ip(e);return function(t,e){var n=this,i=new ms;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var i,r,o,a,c;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,zc(t,e,!0)];case 1:return c=s.sent(),i=new Cu(e,c.Bn),r=i._o(c.documents),o=i.applyChanges(r,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),c=ou(a,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,md(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(n,t._query).then((function(n){return new Bh(e,i,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Bd(t,jd);var e=Bd(t.firestore,Yd),n=Xd(e),i=new ip(e);return Sd(n,t._query,{source:"server"}).then((function(n){return new Bh(e,i,t,n)}))}(this._delegate):function(t){t=Bd(t,jd);var e=Bd(t.firestore,Yd),n=Xd(e),i=new ip(e);return Uh(t._query),Sd(n,t._query).then((function(n){return new Bh(e,i,t,n)}))}(this._delegate)).then((function(t){return new Ep(e.firestore,new Bh(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=bp(e),r=Sp(e,(function(e){return new Ep(t.firestore,new Bh(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return op(this._delegate,i,r)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(vp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Ip=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Tp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Ep=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new wp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Tp(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Ip(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(i){t.call(e,new Tp(n._firestore,i))}))},t.prototype.isEqual=function(t){return qh(this._delegate,t._delegate)},t}(),Ap=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new yp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yp(this.firestore,void 0===t?zd(this._delegate):zd(this._delegate,t))}catch(t){throw _p(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Bd(t.firestore,Yd),i=zd(t),r=Jh(t.converter,e);return ap(n,[hh(dh(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Io.exists(!1))]).then((function(){return i}))}(this._delegate,t).then((function(t){return new yp(e.firestore,t)}))},e.prototype.isEqual=function(t){return Wd(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(wp);function xp(t){return Bd(t,$d)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(eh.bind.apply(eh,c([void 0],t)))}return t.documentId=function(){return new t(Qi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(l.j)(t))instanceof eh&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Dp=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gh("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ph("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mh("arrayUnion",t)}.apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vh("arrayRemove",t)}.apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(t){return new yh("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rp,Lp=n("ffa6"),Fp={Firestore:pp,GeoPoint:rh,Timestamp:$i,Blob:dp,Transaction:gp,WriteBatch:mp,DocumentReference:yp,DocumentSnapshot:Cp,Query:wp,QueryDocumentSnapshot:Tp,QuerySnapshot:Ep,CollectionReference:Ap,FieldPath:kp,FieldValue:Dp,setLogLevel:function(t){var e;e=t,Ai.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Lp.a("firestore",(function(t){return function(t,e){return new pp(t,new Yd(t,e),new hp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Fp)))})(Rp=i.a),Rp.registerVersion("@firebase/firestore","2.4.0")},e7a9:function(t,e,n){"use strict";var i=n("ded3"),r=n.n(i),o=(n("a15b"),n("d81d"),n("4de4"),n("d3b7"),n("2b0e")),a=n("87e8"),s=n("dde5");e.a=o.default.extend({name:"QBtnGroup",mixin:[a.a],props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},computed:{classes:function(){var t=this;return["unelevated","outline","flat","rounded","push","stretch","glossy"].filter((function(e){return!0===t[e]})).map((function(t){return"q-btn-group--".concat(t)})).join(" ")}},render:function(t){return t("div",{staticClass:"q-btn-group row no-wrap "+(!0===this.spread?"q-btn-group--spread":"inline"),class:this.classes,on:r()({},this.qListeners)},Object(s.c)(this,"default"))}})},e8ea:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var i,r,o,a,s,c,l,u,d,h,p=n("448a"),f=n.n(p),g=n("6374"),m=n.n(g),v=n("c973"),y=n.n(v),_=(n("96cf"),n("d3b7"),n("e6cf"),n("a79d"),n("498a"),n("a15b"),n("d81d"),n("99af"),n("3ca3"),n("e260"),n("ddb0"),n("159b"),n("4de4"),n("7db0"),n("e6d6")),b=n("22a9"),S=(n("b0c0"),n("a4d3"),n("e01a"),n("f52e")),C=n("27f0"),T=n("72a1"),w=n("a8e6"),I=n("e2db"),E=n("586c"),A=n("1cee"),x=n("31a0"),k=n("baf0"),D=function(t){var e=new x.a;return e.path="/",e.platform=t.platform||I.a.getPlatform(),e.mediaType=t.mediaType,e.firestoreId=t.name,e.createDate=t.created,e.updateDate=t.updated,e.folder=t.folder,e.error=t.error,e.name=t.label,e.size=t.size,e.type=t.type,e.md5=t.md5,e.setUploaded(!0),e.setDownloaded(!1),e.setDeleted(!1),e},R=function(t){var e=new x.a,n=new Date;return e.path="/",e.size=t.size,e.name=t.name,e.mediaType=t.type,e.uploadUrl=t.path,e.downloadUrl=t.path,e.type=E.a.FILE.id,e.firestoreId=k.a.autoId(),e.platform=I.a.getPlatform(),e.createDate=n,e.modifyDate=w.a.fromJsonDate(t.lastModified)||n,e.folder=w.a.formatDate(n,"YYYYMMDD"),e.setDownloaded(!T.a.isNullOrBlank(e.downloadUrl)),e.setUploaded(!1),e.setDeleted(!1),A.a.debug("file",t,e),e},L=function(t){var e={};return e[_.a.FILE_MD5]=t.md5,e[_.a.FILE_SIZE]=t.size,e[_.a.FILE_TYPE]=t.type,e[_.a.FILE_NAME]=t.name,e[_.a.FILE_PATH]=t.path,e[_.a.FILE_FOLDER]=t.folder,e[_.a.FILE_CREATED]=t.createDate,e[_.a.FILE_UPDATED]=t.updateDate,e[_.a.FILE_MODIFIED]=t.modifyDate,e[_.a.FILE_DELETED]=t.deleteDate,e[_.a.FILE_MEDIA_TYPE]=t.mediaType,e[_.a.FILE_UPLOADED]=t.isUploaded(),e[_.a.FILE_UPLOAD_URL]=t.uploadUrl,e[_.a.FILE_PLATFORM]=t.platform,e[_.a.FILE_ERROR]=t.error,e[_.a.FILE_ABBREVIATION]=t.abbreviation,e[_.a.FILE_DESCRIPTION]=t.description,e[_.a.FILE_TAG_IDS]=t.getTagIds(),e[_.a.FILE_KIT_IDS]=t.getKitIds(),e[_.a.ATTR_DEVICE_ID]=I.a.getDeviceId(),e[_.a.ATTR_API_VERSION]=C.a.apiVersion,e[_.a.ATTR_CHANGE_TIMESTAMP]=_.a.getServerTimestamp(),_.a.normalizeMap(e,!0)},F=function(t){var e=t.doc.data(),n=new x.a;return n.firestoreId=t.doc.id,n.md5=e[_.a.FILE_MD5],n.size=e[_.a.FILE_SIZE],n.type=e[_.a.FILE_TYPE],n.name=e[_.a.FILE_NAME],n.path=e[_.a.FILE_PATH],n.folder=e[_.a.FILE_FOLDER],n.createDate=S.a.toDate(e[_.a.FILE_CREATED]),n.updateDate=S.a.toDate(e[_.a.FILE_UPDATED]),n.modifyDate=S.a.toDate(e[_.a.FILE_MODIFIED]),n.deleteDate=S.a.toDate(e[_.a.FILE_DELETED]),n.setDeleted(n.isDeleted()),n.mediaType=e[_.a.FILE_MEDIA_TYPE],n.setUploaded(e[_.a.FILE_UPLOADED]),n.uploadUrl=e[_.a.FILE_UPLOAD_URL],n.platform=e[_.a.FILE_PLATFORM],n.error=e[_.a.FILE_ERROR],n.abbreviation=e[_.a.FILE_ABBREVIATION],n.description=e[_.a.FILE_DESCRIPTION],n.setTagIds(e[_.a.FILE_TAG_IDS]),n.setKitIds(e[_.a.FILE_KIT_IDS]),n},O=n("5046"),P={changesListener:null,stopSync:function(){var t=P.changesListener;t&&(t.dispose(),P.changesListener=null)},startSync:function(t,e,n,i,r){P.stopSync();var o=t.getters.getAuthUserCollection;if(o){var a=t.getters.isAuthForceSync;a&&O.a.showLoadingState();var s=new b.a("files",t,o.getActiveFilesRef(),o.getDeletedFilesRef(),"activeFilesLatestDate","deletedFilesLatestDate",_.a.FILE_CREATED,e,n,i,i,r);P.changesListener=s.subscribe(a)}},save:function(t,e){var n=t.getters.getAuthUserCollection;return n?(n.getFileRef(e.getUid()).set(L(e),{merge:!0}),e):null},saveInBatch:function(t,e,n){var i=t.getters.getAuthUserCollection;if(i){var r=i.getFileRef(e.getUid());return n.set(r,L(e),{merge:!0}),e}return null}},N=n("89da"),B=n("2063"),M=n("8376"),q=n("25d0"),U=n("f936"),$=n("71a7"),j=n("ed99"),V=n("d975"),H=n("21a6"),z=n("3a75"),W=void 0,K={_uploadDisposableList:{},_downloadDisposableList:{},terminate:function(){P.stopSync()},initSync:function(t,e){return y()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:P.startSync(t,(function(e){return G(t,e)}),(function(e){return Y(t,e)}),(function(e){return Z(t,e)}),(function(){K.migrate(t).then((function(t){return A.a.debug("migrated",t)})).finally(e)}));case 1:case"end":return n.stop()}}),n)})))()},save:function(t,e){return V.a.inTx("save file",y()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.save(e);case 2:return P.save(t,e),t.commit(j.a.SET_FILE_PROGRESS,e),n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)}))))},getFilePublicLink:(h=y()(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",z.a.getFilePublicLink(n));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return h.apply(this,arguments)}),getFiles:function(t){return M.a.getFiles(t)},getFilesByIds:function(t){return M.a.getFilesByIds(t)},update:(d=y()(regeneratorRuntime.mark((function t(e,n,i){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=R(i),o=r.title,(r=n.with(r)).modifyDate=new Date,r.isUploaded()&&!T.a.isNull(r.path)||(r.title=o),r.path=r.path||"/",r.uploaded=!1,t.abrupt("return",K._uploadFile(e,r,i));case 8:case"end":return t.stop()}}),t)}))),function(t,e,n){return d.apply(this,arguments)}),cancelUploadProgress:(u=y()(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=K._uploadDisposableList[n.id],T.a.execFunction(i)&&delete K._uploadDisposableList[n.id],n.isUploaded()){t.next=6;break}return n.setError(e.getters.getUI.$t("file_error_canceled")),t.next=6,V.a.inTx("cancel file progress",y()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.save(n);case 2:P.save(e,n),e.commit(j.a.SET_FILE_PROGRESS,n);case 4:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)}))),function(t,e){return u.apply(this,arguments)}),cancelDownloadProgress:(l=y()(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=K._downloadDisposableList[n.id],T.a.execFunction(i)&&delete K._downloadDisposableList[n.id],t.next=4,V.a.inTx("cancel file progress",y()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setDownloaded(!1),n.downloadUrl=null,t.next=4,M.a.save(n);case 4:P.save(e,n),e.commit(j.a.SET_FILE_PROGRESS,n);case 6:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)}))),function(t,e){return l.apply(this,arguments)}),getDownloadUrl:(c=y()(regeneratorRuntime.mark((function t(e,n){var i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.downloadUrl,T.a.isNull(i)){t.next=6;break}return A.a.debug("getDownloadUrl from cache",i),t.abrupt("return",i);case 6:A.a.debug("getDownloadUrl",n);case 7:if(!(r=e.getters.getAuthUserCollection)){t.next=11;break}return o=r.getFileStorageRef(n),t.abrupt("return",o.getDownloadURL());case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)}),upload:(s=y()(regeneratorRuntime.mark((function t(e,n){var i,r,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.getters.getAuthUserCollection){t.next=23;break}i=[],r=m()(n),t.prev=4,r.s();case 6:if((o=r.n()).done){t.next=14;break}return a=o.value,s=R(a),t.next=11,K._uploadFile(e,s,a);case 11:i.push(s);case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:return t.abrupt("return",i);case 23:return t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,null,[[4,16,19,22]])}))),function(t,e){return s.apply(this,arguments)}),download:(a=y()(regeneratorRuntime.mark((function t(e,n,i){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.getters.remoteConfigAttachmentDownloadInMemoryLimit,n.getSize()<=r?((o=new XMLHttpRequest).responseType="blob",o.onload=function(){var t=o.response;Object(H.saveAs)(t,n.getName()),e.commit(j.a.SET_FILE_PROGRESS,n)},o.onprogress=function(){var t=y()(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.lengthComputable&&(n.progress=i.loaded/i.total*100,e.commit(j.a.SET_FILE_PROGRESS,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.onerror=function(){},o.onabort=function(){n.progress=0,e.commit(j.a.SET_FILE_PROGRESS,n)},o.onloadend=function(){n.progress=0,e.commit(j.a.SET_FILE_PROGRESS,n)},K._downloadDisposableList[n.id]=o.abort,o.open("GET",i),o.send()):Object(H.saveAs)(i,n.getName());case 2:case"end":return t.stop()}}),t)}))),function(t,e,n){return a.apply(this,arguments)}),getFilesAsString:(o=y()(regeneratorRuntime.mark((function t(e,n){var i,r,o,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=U.a.getUI()){t.next=3;break}return t.abrupt("return",null);case 3:r=[],o=m()(n),t.prev=5,o.s();case 7:if((a=o.n()).done){t.next=15;break}return s=a.value,t.next=11,M.a.getById(s);case 11:(c=t.sent)&&r.push(c);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),o.e(t.t0);case 20:return t.prev=20,o.f(),t.finish(20);case 23:return t.abrupt("return",r.map((function(t){var e="".concat(i.$t("attachments_attr_name"),": ").concat(t.getLabel());e+="\n".concat(i.$t("attachments_attr_size"),": ").concat(t.getFormattedSize());var n=t.getMediaType();return n&&(e+="\n".concat(i.$t("attachments_attr_type"),": ").concat(n)),e.trim()})).join($.a.MD).trim());case 24:case"end":return t.stop()}}),t,null,[[5,17,20,23]])}))),function(t,e){return o.apply(this,arguments)}),migrate:(r=y()(regeneratorRuntime.mark((function t(e,n){var i,r,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=e.getters.getAuthUserCollection)){t.next=24;break}if(t.t0=n,t.t0){t.next=7;break}return t.next=6,q.a.getWithFiles();case 6:t.t0=t.sent;case 7:r=t.t0,o=m()(r),t.prev=9,s=regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.value,t.prev=1,r=n.files.map((function(t){return D(t)})),o=r.map((function(t){return t.getUid()})),n.getFileIds().forEach((function(t){return T.a.arrayRemoveItem(o,t)})),T.a.arrayIsEmpty(o)){t.next=9;break}return A.a.debug("migrate :: clip",n),t.next=9,V.a.inTx("upgrade file",y()(regeneratorRuntime.mark((function t(){var a,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.push.apply(o,f()(n.getFileIds())),n.setFileIds(T.a.arrayDistinct(o)),a=i.createBatch(),s=m()(r),t.prev=4,s.s();case 6:if((c=s.n()).done){t.next=18;break}return l=c.value,t.next=10,M.a.getByUid(l.getUid());case 10:if(u=t.sent,!T.a.isNull(u)){t.next=16;break}return t.next=14,M.a.save(l);case 14:A.a.debug("migrate :: save new file from meta",l),P.saveInBatch(e,l,a);case 16:t.next=6;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),s.e(t.t0);case 23:return t.prev=23,s.f(),t.finish(23);case 26:return t.next=28,q.a.save(n);case 28:(d={})[_.a.ATTR_CLIP_FILE_IDS]=n.getFileIds(),N.a.saveInBatch(e,n,a,d),a.commit().then((function(){return A.a.debug("upgrade completed for a clip",n)}));case 32:case"end":return t.stop()}}),t,null,[[4,20,23,26]])}))));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),A.a.error("upgrade error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})),o.s();case 12:if((a=o.n()).done){t.next=16;break}return t.delegateYield(s(),"t1",14);case 14:t.next=12;break;case 16:t.next=21;break;case 18:t.prev=18,t.t2=t.catch(9),o.e(t.t2);case 21:return t.prev=21,o.f(),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[9,18,21,24]])}))),function(t,e){return r.apply(this,arguments)}),_uploadFile:(i=y()(regeneratorRuntime.mark((function t(e,n,i){var r,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.getters.getAuthUserCollection)){t.next=10;break}return o=r.getFileStorageRef(n),t.next=5,V.a.inTx("upload file",y()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.save(n);case 2:P.save(e,n);case 3:case"end":return t.stop()}}),t)}))));case 5:return(a={})[_.a.ATTR_API_VERSION]=C.a.apiVersion,s=o.put(i,a),K._uploadDisposableList[n.id]=s.on("state_changed",(function(t){n.progress=t.bytesTransferred/t.totalBytes*100,A.a.debug("progress",n.getUid(),n.progress),e.commit(j.a.SET_FILE_PROGRESS,n)}),(function(t){W._saveError(e,n,t),delete K._uploadDisposableList[n.id]}),(function(){return V.a.inTx("uploadAttachment :: success",y()(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.getById(n.id);case 2:return n=t.sent,i=s.snapshot.metadata,n.mediaType=i.contentType,n.md5=i.md5Hash,n.setUploaded(!0),n.error=null,t.next=10,M.a.save(n);case 10:P.save(e,n),e.commit(j.a.SET_FILE_PROGRESS,n),delete K._uploadDisposableList[n.id];case 13:case"end":return t.stop()}}),t)}))))})),t.abrupt("return",n);case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}}),t)}))),function(t,e,n){return i.apply(this,arguments)}),_saveError:function(t,e,n){return V.a.inTx("_saveError",y()(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,M.a.getById(e.id);case 2:return(r=i.sent).error="".concat(n.code,": ").concat(n.message),i.next=6,M.a.save(r);case 6:P.save(t,r),t.commit(j.a.SET_FILE_PROGRESS,r),t.commit(j.a.UPDATE_CLIP,clip);case 9:case"end":return i.stop()}}),i)}))))}};function G(t,e){return Q.apply(this,arguments)}function Q(){return(Q=y()(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.filter((function(t){return"removed"!==t.type&&!t.doc.metadata.hasPendingWrites})).map((function(t){return F(t)})),!T.a.arrayIsNotEmpty(i)){t.next=4;break}return O.a.showLoadingState(),t.abrupt("return",V.a.inTx("initialFiles",y()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M.a.saveAll(i));case 1:case"end":return t.stop()}}),t)})))).finally((function(){return O.a.hideLoadingState()})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t,e){return X.apply(this,arguments)}function X(){return(X=y()(regeneratorRuntime.mark((function t(e,n){var i,r,o,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.filter((function(t){return"removed"!==t.type&&!t.doc.metadata.hasPendingWrites})).map((function(t){return F(t)})),!T.a.arrayIsNotEmpty(i)){t.next=24;break}A.a.debug("snapshotFiles :: to be changed",i.length),r=[],o=[],a=m()(i),t.prev=6,c=regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.value,n=o.find((function(t){return t.firestoreId===e.firestoreId}))){t.next=6;break}return t.next=5,M.a.getByUid(e.firestoreId);case 5:n=t.sent;case 6:n&&x.a.areTheSame(n,e)||(n&&!n.isDeleted()&&e.isDeleted()?r.push({prevFile:n,newFile:null}):n&&n.isDeleted()&&!e.isDeleted()?r.push({prevFile:null,newFile:e}):r.push({prevFile:n,newFile:e}),n&&(e.id=n.id),o.push(e));case 7:case"end":return t.stop()}}),t)})),a.s();case 9:if((s=a.n()).done){t.next=13;break}return t.delegateYield(c(),"t0",11);case 11:t.next=9;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(6),a.e(t.t1);case 18:return t.prev=18,a.f(),t.finish(18);case 21:if(!(o.length>0)){t.next=24;break}return t.next=24,V.a.inTx("sync with server state",y()(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=m()(r),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=n.value,t.next=7,B.a.update(i.prevFile,i.newFile);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:return t.next=19,M.a.saveAll(o);case 19:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))));case 24:case"end":return t.stop()}}),t,null,[[6,15,18,21]])})))).apply(this,arguments)}function Z(t,e){return J.apply(this,arguments)}function J(){return(J=y()(regeneratorRuntime.mark((function t(e,n){var i,r,o,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.filter((function(t){return"removed"!==t.type&&!t.doc.metadata.hasPendingWrites})).map((function(t){return F(t)})),!T.a.arrayIsNotEmpty(i)){t.next=25;break}r=[],o=m()(i),t.prev=4,o.s();case 6:if((a=o.n()).done){t.next=14;break}return s=a.value,t.next=10,M.a.getByUid(s.firestoreId);case 10:(c=t.sent)&&r.push(c);case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:if(!T.a.arrayIsNotEmpty(r)){t.next=25;break}return t.next=25,V.a.inTx("sync with server state",y()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.deleteAll(r);case 2:case"end":return t.stop()}}),t)}))));case 25:case"end":return t.stop()}}),t,null,[[4,16,19,22]])})))).apply(this,arguments)}},ed99:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={SET_LANGUAGE:"SET_LANGUAGE",UPDATE_THEME:"UPDATE_THEME",SET_THEME:"SET_THEME",SET_VIEW_MODE:"SET_VIEW_MODE",SHOW_CONFIRM:"SHOW_CONFIRM",SHOW_UPDATE:"SHOW_UPDATE",SHOW_ERROR:"SHOW_ERROR",SHOW_HINT:"SHOW_HINT",SET_CLIPS_LOADING:"SET_CLIPS_LOADING",SET_CLIPS:"SET_CLIPS",SET_LIST_STYLE:"SET_LIST_STYLE",SET_LIST_SORT_BY:"SET_LIST_SORT_BY",SET_SELECTED_CLIPS:"SET_SELECTED_CLIPS",SET_FILTER_BY_TEXT:"SET_FILTER_BY_TEXT",REQUEST_UNDO_DELETE:"REQUEST_UNDO_DELETE",REQUEST_FOCUS_ON_SEARCH:"REQUEST_FOCUS_ON_SEARCH",SET_DRAG_AND_DROP_SORT_FILTERS_MODE:"SET_DRAG_AND_DROP_SORT_FILTERS_MODE",SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS:"SET_DRAG_AND_DROP_ASSIGN_CLIP_TAGS",SET_DRAG_AND_DROP_TARGET_FILTER:"SET_DRAG_AND_DROP_TARGET_FILTER",RESET_DRAG_AND_DROP:"RESET_DRAG_AND_DROP",NEW_CLIP:"NEW_CLIP",VIEW_CLIP:"VIEW_CLIP",EDIT_CLIP:"EDIT_CLIP",UPDATE_CLIP:"UPDATE_CLIP",CANCEL_EDIT_CLIP:"CANCEL_EDIT_CLIP",SELECT_NEXT_CLIP:"SELECT_NEXT_CLIP",SELECT_PREV_CLIP:"SELECT_PREV_CLIP",UPDATE_CLIP_INDEX:"UPDATE_CLIP_INDEX",SET_AVAILABLE_ATTACHMENTS_FILTER:"SET_AVAILABLE_ATTACHMENTS_FILTER",UPDATE_PREVIEW:"UPDATE_PREVIEW",PLAY_PREVIEW:"PLAY_PREVIEW",HIDE_PREVIEW:"HIDE_PREVIEW",SHOW_PREVIEW:"SHOW_PREVIEW",SET_ACTIVE_CLIPBOARD_CLIP:"SET_ACTIVE_CLIPBOARD_CLIP",SET_ACTIVE_CLIPBOARD_TEXT:"SET_ACTIVE_CLIPBOARD_TEXT",SET_REMOTE_CONFIG:"SET_REMOTE_CONFIG",SET_AUTH_USER:"SET_AUTH_USER",SET_AUTH_VERIFIED:"SET_AUTH_VERIFIED",SET_AUTH_FORCE_SYNC:"SET_AUTH_FORCE_SYNC",SET_AUTH_SESSION_STARTED:"SET_AUTH_SESSION_STARTED",SET_AUTH_SHOW_SYNC_LIMIT_BANNER:"SET_AUTH_SHOW_SYNC_LIMIT_BANNER",REQUEST_WEB_AUTH:"REQUEST_WEB_AUTH",CANCEL_WEB_AUTH:"CANCEL_WEB_AUTH",SET_AUTH_TOKEN:"SET_AUTH_TOKEN",REQUEST_DOWNLOAD:"REQUEST_DOWNLOAD",TOGGLE_ADDITIONAL_ATTRS:"TOGGLE_ADDITIONAL_ATTRS",UPDATE_SETTINGS:"UPDATE_SETTINGS",SET_TEXT_SIZE:"SET_TEXT_SIZE",SET_ACTIVE_FILTER:"SET_ACTIVE_FILTER",SET_ADVANCED_FILTER:"SET_ADVANCED_FILTER",SET_FILE_PROGRESS:"SET_FILE_PROGRESS",SELECT_NEXT_FILE:"SELECT_NEXT_FILE",SELECT_PREV_FILE:"SELECT_PREV_FILE",CANCEL_VIEW_FILE:"CANCEL_VIEW_FILE",UPDATE_FILE:"UPDATE_FILE",SET_FILES:"SET_FILES",VIEW_FILE:"VIEW_FILE",EDIT_FILE:"EDIT_FILE",SET_SELECTED_ATTACHMENTS:"SET_SELECTED_ATTACHMENTS",SET_AVAILABLE_ATTACHMENTS:"SET_AVAILABLE_ATTACHMENTS",REQUEST_EDIT_TAGS:"REQUEST_EDIT_TAGS",REQUEST_SHOW_BANNER:"REQUEST_SHOW_BANNER",REQUEST_MERGE_CLIPS:"REQUEST_MERGE_CLIPS",REQUEST_SELECT_PLAN:"REQUEST_SELECT_PLAN",REQUEST_SHOW_LEFT_NAV:"REQUEST_SHOW_LEFT_NAV",REQUEST_HIDE_LEFT_NAV:"REQUEST_HIDE_LEFT_NAV",REQUEST_SHOW_SETTINGS:"REQUEST_SHOW_SETTINGS",REQUEST_SHOW_FILTER_DETAILS:"REQUEST_SHOW_FILTER_DETAILS",REQUEST_SHOW_ADVANCED_FILTER:"REQUEST_SHOW_ADVANCED_FILTER",VIEW_PUBLIC_LINK:"VIEW_PUBLIC_LINK",SET_PUBLIC_LINK_PASSWORD:"SET_PUBLIC_LINK_PASSWORD"}},f175:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("970b"),r=n.n(i),o=n("9523"),a=n.n(o),s=n("bd4c"),c=n("72a1"),l=function t(e){r()(this,t),a()(this,"value",void 0),this.value=e||new Date};l.prototype.withDate=function(t){var e=t||Date.now();return this.value.setDate(e),this},l.prototype.withDays=function(t){return this.value=s.b.addToDate(this.value,{days:t}),this},l.prototype.withSeconds=function(t){return this.value=s.b.addToDate(this.value,{seconds:t}),this},l.prototype.withoutTime=function(){return this.value=s.b.adjustDate(this.value,{hours:0,minutes:0,seconds:0,milliseconds:0}),this},l.prototype.adjustTime=function(t){if(!c.a.isDate(t))return this;var e={hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()};return this.value=s.b.adjustDate(this.value,e),this},l.prototype.adjustDate=function(t){if(!c.a.isDate(t))return this;var e={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()};return this.value=s.b.adjustDate(this.value,e),this},l.prototype.getTime=function(){return this.value},l.getInstance=function(t){return new l(t)}},f3c5:function(t,e,n){"use strict";var i={name:"SpaceBlock",props:["heightInPx"],computed:{getStyle:function(){return"height: ".concat(this.heightInPx,"px")}}},r=n("2877"),o=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{style:this.getStyle})}),[],!1,null,null,null);e.a=o.exports},f52e:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("e6d6"),r={toTimestamp:function(t,e){if(!t)return e?null:i.a.getServerTimestamp();try{return i.a.getFirestoreTimestamp().fromDate(t)}catch(t){return i.a.getServerTimestamp()}},toDate:function(t){return t?t.toDate?t.toDate():t:null}}},f936:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("e260"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("a630"),n("a9e3"),n("07ac"),n("e9c4"),n("b64b");var i=n("a987"),r=n("e2db"),o=n("a849"),a=n("0477"),s=n("2667"),c=n("96e0"),l=n("8e0d"),u=n("0967"),d=s.a.clipto.settings.defineClass({id:Number,theme:Number,language:String,launchOnStartup:Boolean,restoreFilterOnStart:Boolean,trackClipboardChanges:Boolean,textFont:Number,textSize:Number,universalClipboard:Boolean,pinStarred:Boolean,referralId:String,disableSync:Boolean,hotkeysMap:String,hideOnCopy:Boolean,tagListWidth:Number,clipListWidth:Number,textSeparator:String,isFirstLaunch:Boolean,leftNavClosed:Boolean,hideFromTaskBar:Boolean,textType:Number,autoSave:Boolean,focusOnTitle:Boolean,filtersLatestDate:Date,activeClipsLatestDate:Date,deletedClipsLatestDate:Date,activeFilesLatestDate:Date,deletedFilesLatestDate:Date,filterGroupSnippetsCollapsed:Boolean,filterGroupFiltersCollapsed:Boolean,filterGroupNotesCollapsed:Boolean,filterGroupTagsCollapsed:Boolean,dynamicValueSelectedTab:String,dynamicValueSnippetSearchBy:String,doNotPreviewLinks:Boolean,settingsFlatMode:Boolean,noteShowAdditionalAttributes:Boolean,clipDetailsHeight:Number,clipDetailsTab:String});function h(t){return u.b.is.mac?"command+".concat(t):"ctrl+".concat(t)}d.prototype.getTheme=function(){return c.a.getById(this.theme)},d.prototype.getFont=function(){var t=this;if(!this.textFont)return l.a.ROBOTO;var e=Object.values(l.a).find((function(e){return e.id===t.textFont}));return e||l.a.ROBOTO},d.prototype.getHotkeysMap=function(){return this._hotkeysMap||(this._hotkeysMap=JSON.parse(this.hotkeysMap)),this._hotkeysMap},d.prototype.setHotkeysMap=function(t){this.hotkeysMap=JSON.stringify(t),this._hotkeysMap=t},d.prototype.hasHotkeys=function(){for(var t=this.getHotkeysMap(),e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];if("notePaste"!==i&&null!==t[i])return!0}return!1},d.prototype.normalize=function(t){return t&&(this.disableSync||(this.disableSync=!1),this.hideOnCopy||(this.hideOnCopy=!1),this.autoSave||(this.autoSave=!1),this.focusOnTitle||(this.focusOnTitle=!1),this.noteShowAdditionalAttributes||(this.noteShowAdditionalAttributes=!1),this.tagListWidth||(this.tagListWidth=t.tagListWidth),this.clipListWidth||(this.clipListWidth=t.clipListWidth),this.textFont||(this.textFont=t.textFont),this.textType||(this.textType=t.textType),this.filterGroupNotesCollapsed||(this.filterGroupNotesCollapsed=!1),this.filterGroupTagsCollapsed||(this.filterGroupTagsCollapsed=!1),this.filterGroupSnippetsCollapsed||(this.filterGroupSnippetsCollapsed=!1),this.filterGroupFiltersCollapsed||(this.filterGroupFiltersCollapsed=!1),this.doNotPreviewLinks||(this.doNotPreviewLinks=!1),this.settingsFlatMode||(this.settingsFlatMode=!1),this.restoreFilterOnStart||(this.restoreFilterOnStart=!1)),this.hotkeysMap||this.setHotkeysMap({noteNext:"down",notePrev:"up",noteOpen:"enter",noteCopy:h("c"),notePaste:h("v"),notePrint:h("p"),noteNew:h("n"),noteEdit:h("e"),noteSave:h("s"),noteFind:h("f"),noteDelete:h("del"),modeFullscreen:h("1"),modeComfortable:h("2"),modeCompact:h("3"),tagNext:h("down"),tagPrev:h("up"),showHideApp:h("shift+e"),trackClipboard:h("shift+p"),contextModeCancel:"esc",contextModeSelect:"space",contextModeSelectAll:h("a")}),this},d.getDefault=function(){var t=new d;return t.textSize=16,t.hideOnCopy=!1,t.disableSync=!1,t.launchOnStartup=!1,t.trackClipboardChanges=!1,t.textFont=l.a.ROBOTO.id,t.textType=a.a.TEXT_PLAIN.id,t.language=i.a.getLanguage(),t.theme=o.a.getCurrentTheme().id,t.universalClipboard=r.a.isDesktop(),t.tagListWidth=20,t.clipListWidth=50,t.isFirstLaunch=!1,t.leftNavClosed=!1,t.hideFromTaskBar=!1,t.autoSave=!1,t.focusOnTitle=!0,t.restoreFilterOnStart=!0,t.noteShowAdditionalAttributes=!1,t.filterGroupSnippetsCollapsed=!0,t.filterGroupFiltersCollapsed=!0,t.filterGroupNotesCollapsed=!0,t.filterGroupTagsCollapsed=!0,t.doNotPreviewLinks=!1,t.settingsFlatMode=!1,t};var p=n("de99"),f={settings:d.getDefault(),filters:p.a.getDefault(),selectedClipsMap:new Map,updateFilesProgress:{},deletedClips:[],availableAttachments:[],clips:[],files:[],ui:null,removeAll:function(){f.selectedClipsMap.clear(),f.updateFilesProgress={},f.deletedClips=[],f.clips=[],f.files=[]},getUpdateFilesProgress:function(){return f.updateFilesProgress},setFileProgress:function(t){var e=f.getFiles().find((function(e){return e.id===t.id}));e&&e.apply(t),f.updateFilesProgress[t.id]=t},setUI:function(t){f.ui=t},getUI:function(){return f.ui},setFilters:function(t){f.filters=t},getFilters:function(){return f.filters},getFilterLast:function(){return f.filters.last},getFilterClipboard:function(){return f.filters.clipboard},getFilterAll:function(){return f.filters.all},setSettings:function(t){f.settings=t},getSettings:function(){return f.settings},setClips:function(t){f.clips=t||[]},getClips:function(){return f.clips},setFiles:function(t){f.files=t||[]},getFiles:function(){return f.files},setAvailableAttachments:function(t){f.availableAttachments=t||[]},getAvailableAttachments:function(){return f.availableAttachments},setDeletedClips:function(t){f.deletedClips=t||[]},getDeletedClips:function(){return f.deletedClips},setSelectedClipsMap:function(t){f.selectedClipsMap=t||new Map},getSelectedClipsMap:function(){return f.selectedClipsMap},getSelectedClips:function(){return Array.from(f.selectedClipsMap.values())},getSelectedClipsIds:function(){return Array.from(f.selectedClipsMap.keys())}}},fab3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={USAGE_DATE_DESC:{id:0,desc:!0,titleRes:"sort_order_usage_date",attrTitleRes:"clip_attr_updated",reverse:function(){return i.USAGE_DATE_ASC}},CREATE_DATE_DESC:{id:1,desc:!0,titleRes:"sort_order_create_date",attrTitleRes:"clip_attr_created",reverse:function(){return i.CREATE_DATE_ASC}},USAGE_COUNT_DESC:{id:2,desc:!0,titleRes:"sort_order_usage_count",attrTitleRes:"clip_attr_usageCount",reverse:function(){return i.USAGE_COUNT_ASC}},TITLE_DESC:{id:3,desc:!0,titleRes:"sort_order_title",attrTitleRes:"clip_attr_created",reverse:function(){return i.TITLE_ASC}},TEXT_DESC:{id:4,desc:!0,titleRes:"sort_order_text",attrTitleRes:"clip_attr_created",reverse:function(){return i.TEXT_ASC}},USAGE_DATE_ASC:{id:5,titleRes:"sort_order_usage_date",attrTitleRes:"clip_attr_updated",reverse:function(){return i.USAGE_DATE_DESC}},CREATE_DATE_ASC:{id:6,titleRes:"sort_order_create_date",attrTitleRes:"clip_attr_created",reverse:function(){return i.CREATE_DATE_DESC}},USAGE_COUNT_ASC:{id:7,titleRes:"sort_order_usage_count",attrTitleRes:"clip_attr_usageCount",reverse:function(){return i.USAGE_COUNT_DESC}},TITLE_ASC:{id:8,titleRes:"sort_order_title",attrTitleRes:"clip_attr_created",reverse:function(){return i.TITLE_DESC}},TEXT_ASC:{id:9,titleRes:"sort_order_text",attrTitleRes:"clip_attr_created",reverse:function(){return i.TEXT_DESC}},TAGS_DESC:{id:10,desc:!0,titleRes:"sort_order_tags",attrTitleRes:"clip_attr_created",reverse:function(){return i.TAGS_ASC}},TAGS_ASC:{id:11,titleRes:"sort_order_tags",attrTitleRes:"clip_attr_created",reverse:function(){return i.TAGS_DESC}},SIZE_ASC:{id:12,titleRes:"sort_order_size",attrTitleRes:"clip_attr_size",reverse:function(){return i.SIZE_DESC}},SIZE_DESC:{id:13,desc:!0,titleRes:"sort_order_size",attrTitleRes:"clip_attr_size",reverse:function(){return i.SIZE_ASC}},MODIFY_DATE_ASC:{id:14,titleRes:"sort_order_modify_date",attrTitleRes:"clip_attr_edited",reverse:function(){return i.MODIFY_DATE_DESC}},MODIFY_DATE_DESC:{id:15,desc:!0,titleRes:"sort_order_modify_date",attrTitleRes:"clip_attr_edited",reverse:function(){return i.MODIFY_DATE_ASC}},DELETE_DATE_ASC:{id:16,titleRes:"sort_order_delete_date",attrTitleRes:"clip_attr_deleted",reverse:function(){return i.DELETE_DATE_DESC}},DELETE_DATE_DESC:{id:17,desc:!0,titleRes:"sort_order_delete_date",attrTitleRes:"clip_attr_deleted",reverse:function(){return i.DELETE_DATE_ASC}},CHARACTERS_ASC:{id:18,titleRes:"clip_attr_charsCount",attrTitleRes:"clip_attr_charsCount",reverse:function(){return i.CHARACTERS_DESC}},CHARACTERS_DESC:{id:19,desc:!0,titleRes:"clip_attr_charsCount",attrTitleRes:"clip_attr_charsCount",reverse:function(){return i.CHARACTERS_ASC}},NAME_ASC:{id:20,titleRes:"sort_order_name",attrTitleRes:"clip_attr_created",reverse:function(){return i.NAME_DESC}},NAME_DESC:{id:21,desc:!0,titleRes:"sort_order_name",attrTitleRes:"clip_attr_created",reverse:function(){return i.NAME_ASC}},NOTES_COUNT_ASC:{id:22,titleRes:"sort_order_notes_count",attrTitleRes:"clip_attr_created",reverse:function(){return i.NOTES_COUNT_DESC}},NOTES_COUNT_DESC:{id:23,desc:!0,titleRes:"sort_order_notes_count",attrTitleRes:"clip_attr_created",reverse:function(){return i.NOTES_COUNT_ASC}},COLOR_ASC:{id:24,titleRes:"sort_order_color",attrTitleRes:"clip_attr_created",reverse:function(){return i.COLOR_DESC}},COLOR_DESC:{id:25,desc:!0,titleRes:"sort_order_color",attrTitleRes:"clip_attr_created",reverse:function(){return i.COLOR_ASC}},MANUAL_ASC:{id:26,titleRes:"sort_order_manual",attrTitleRes:"clip_attr_created",reverse:function(){return i.MANUAL_DESC}},MANUAL_DESC:{id:27,desc:!0,titleRes:"sort_order_manual",attrTitleRes:"clip_attr_created",reverse:function(){return i.MANUAL_ASC}}};i.byId={0:i.USAGE_DATE_DESC,1:i.CREATE_DATE_DESC,2:i.USAGE_COUNT_DESC,3:i.TITLE_DESC,4:i.TEXT_DESC,5:i.USAGE_DATE_ASC,6:i.CREATE_DATE_ASC,7:i.USAGE_COUNT_ASC,8:i.TITLE_ASC,9:i.TEXT_ASC,10:i.TAGS_DESC,11:i.TAGS_ASC,12:i.SIZE_ASC,13:i.SIZE_DESC,14:i.MODIFY_DATE_ASC,15:i.MODIFY_DATE_DESC,16:i.DELETE_DATE_ASC,17:i.DELETE_DATE_DESC,18:i.CHARACTERS_ASC,19:i.CHARACTERS_DESC,20:i.NAME_ASC,21:i.NAME_DESC,22:i.NOTES_COUNT_ASC,23:i.NOTES_COUNT_DESC,24:i.COLOR_ASC,25:i.COLOR_DESC,26:i.MANUAL_ASC,27:i.MANUAL_DESC},i.rulesForNotes=[i.CREATE_DATE_DESC,i.MODIFY_DATE_DESC,i.USAGE_DATE_DESC,i.USAGE_COUNT_DESC,i.TITLE_ASC,i.TEXT_ASC,i.TAGS_ASC,i.SIZE_DESC,i.CHARACTERS_DESC],i.rulesForRecycleBin=[i.DELETE_DATE_DESC,i.CREATE_DATE_DESC,i.MODIFY_DATE_DESC,i.USAGE_DATE_DESC,i.USAGE_COUNT_DESC,i.TITLE_ASC,i.TEXT_ASC,i.TAGS_ASC,i.SIZE_DESC,i.CHARACTERS_DESC],i.rulesForTagsGroup=[i.NAME_ASC,i.NOTES_COUNT_DESC,i.COLOR_ASC,i.MANUAL_ASC],i.rulesForSnippetsGroup=[i.NAME_ASC,i.NOTES_COUNT_DESC,i.COLOR_ASC,i.MANUAL_ASC],i.rulesForFiltersGroup=[i.NAME_ASC,i.COLOR_ASC,i.MANUAL_ASC],i.rulesForNotesGroup=[i.NAME_ASC,i.NOTES_COUNT_DESC,i.MANUAL_ASC],i.rulesForSnippetKit=[i.TITLE_ASC,i.TEXT_ASC,i.CREATE_DATE_DESC,i.MODIFY_DATE_DESC],i.getItems=function(t){return t.isDeleted()?i.rulesForRecycleBin:t.isGroupTags()?i.rulesForTagsGroup:t.isGroupNotes()?i.rulesForNotesGroup:t.isGroupFilters()?i.rulesForFiltersGroup:t.isGroupSnippets()?i.rulesForSnippetsGroup:t.isSnippetKit()?i.rulesForSnippetKit:i.rulesForNotes}},fb10:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("c973"),r=n.n(i),o=(n("96cf"),n("72a1")),a=n("1cee"),s=n("16c9"),c=n("2667").a.clipto,l={getUser:function(){return c.users.toCollection().first()},login:function(t){return r()(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.uid){e.next=19;break}return e.next=3,c.users.where("firebaseId").equals(t.uid).first();case 3:if(n=e.sent,!o.a.isNull(n)){e.next=16;break}return e.next=7,c.users.clear();case 7:return(i=new s.a).email=t.email,i.firebaseId=t.uid,i.photoUrl=t.photoUrl,i.displayName=t.displayName,e.next=14,c.users.add(i);case 14:i.id=e.sent,n=i;case 16:return e.abrupt("return",n);case 19:return e.next=21,c.users.clear();case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e)})))()},save:function(t){return a.a.debug("save user",t),c.users.put(t)},clear:function(){return c.users.clear()}}},fc9f:function(t,e,n){"use strict";n("bfd1")},fdf6:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"isPreviewDisabled",(function(){return o})),n.d(i,"isLinkPreviewUpdated",(function(){return a})),n.d(i,"getLinkPreviewToPlay",(function(){return s}));var r=n("8896");function o(t){return t.hideLinkPreviews}function a(t){return t.linkPreviewUpdate}function s(t){return t.linkPreviewToPlay}var c,l=n("9523"),u=n.n(l),d=n("ed99"),h=(c={},u()(c,d.a.HIDE_PREVIEW,(function(t){r.a.set("hideLinkPreviews",!0),t.linkPreviewUpdate=Date.now(),t.hideLinkPreviews=!0})),u()(c,d.a.SHOW_PREVIEW,(function(t){r.a.set("hideLinkPreviews",!1),t.linkPreviewUpdate=Date.now(),t.hideLinkPreviews=!1})),u()(c,d.a.UPDATE_PREVIEW,(function(t){t.linkPreviewUpdate=Date.now()})),u()(c,d.a.PLAY_PREVIEW,(function(t,e){t.linkPreviewToPlay={preview:e,date:Date.now()}})),c),p=(n("e9c4"),n("d3b7"),n("e6cf"),n("a4d3"),n("e01a"),n("2ca0"),n("8a79"),n("61b4")),f=n("5046"),g=function(t){return t&&(t.endsWith("jpeg")||t.endsWith("jpg")||t.endsWith("png"))},m=n("c9d9"),v=n("3a75"),y=n("f303"),_=u()({},m.a.onGetLinkPreview,(function(t,e){var n=e.previewCache||b,i=e.forcePreview,r=e.url,o=e.ui,a=e.id;return!i&&o.$store.getters.isPreviewDisabled?S(a).then((function(t){return w(o,t,r,n,i)})):S(a).then((function(t){var e=n.get(r);return e?I(o,t,e,r,n,i):(w(o,t,r,n,i),v.a.getLinkPreview(r).then((function(t){if(t){var e=C(a);e&&I(o,e,t,r,n,i)}n.put(r,t)})))})).catch((function(){var t=C(a);t&&function(t,e){e.innerHTML=""}(0,t)}))})),b={put:function(t,e){try{e?(delete e.url,r.a.set(t,JSON.stringify(e))):r.a.remove(t)}catch(t){}},get:function(t){try{var e=r.a.get(t);if(e){var n=JSON.parse(e);return n.url=t,n}}catch(t){return null}return null}};function S(t){return new Promise((function(e,n){p.a.nextTick((function(){var i=C(t);i?e(i):n("not found")}))}))}function C(t){return document.getElementById(t)}function T(t,e){return t&&y.c.css(t,{"padding-left":"12px","padding-right":"12px","margin-top":"4px","box-shadow":"2px 0px ".concat(e," inset")}),t}function w(t,e,n,i,r){var o;!r&&t.$store.getters.isPreviewDisabled?(o=function(t){var e=document.createElement("a");e.href=t;var n=f.a.getTextColorSecondary(),i=document.createElement("div");return y.c.css(i,{color:"".concat(n),display:"inline-block","font-size":"70%","font-weight":"bold"}),i.innerHTML=e.hostname,i}(n),e.appendChild(o)):(o=function(t){var e=f.a.getTextColorSecondary(),n=document.createElement("div");return y.c.css(n,{color:"".concat(e),display:"inline-block","font-size":"70%"}),n.innerHTML=t.$t("link_preview_label"),n}(t),e.appendChild(o));var a=A(t,n,i,r);return e.appendChild(a),E(e,o,a),T(e,f.a.getTextColorSecondary())}function I(t,e,n,i,r,o){e.innerHTML=null;var a=A(t,i,r,o),s=function(t){var e=document.createElement("div");return y.c.css(e,{display:"inline-block","font-size":"70%"}),e.appendChild(function(t){var e=f.a.getActionIconColorHighlight(),n=document.createElement("div");if(y.c.css(n,{color:"".concat(e),"font-weight":"bold"}),t.siteName)n.innerHTML=t.siteName;else if(t.url){var i=document.createElement("a");i.href=t.url,n.innerHTML=i.hostname}return n}(t)),e}(n),c=function(t,e,n){var i=document.createElement("div"),r=f.a.getTextColorPrimary();y.c.css(i,{"font-size":"70%",color:"".concat(r)});var o=function(t){if(t.title){var e=document.createElement("div");return y.c.css(e,{"font-weight":"bold"}),e.innerHTML=t.title,e}return null}(e);o&&i.appendChild(o);var a=function(t){if(t.description){var e=t.description,n=document.createElement("div");if(e&&e.length>200){var i=e.indexOf(".",200);-1===i&&(i=e.indexOf("\n\n",200)),-1!==i&&i<e.length-1&&(e="".concat(e.substring(0,i),"…"))}return n.innerHTML=e,n}return null}(e);a&&i.appendChild(a);var s=function(t,e,n){var i=e.imageUrl;!i&&g(e.url)&&(i=e.url);if(i){var r=function(t){return t.embedUrl&&(t.mediaType&&t.mediaType.startsWith("video")||t.imageUrl&&t.imageUrl.endsWith(".mp4"))}(e),o=document.createElement("div");y.c.css(o,{"margin-top":"8px",width:"fit-content",height:"fit-content",position:"relative"});var a=document.createElement("img");return a.src=i,y.c.css(a,{"border-radius":"".concat(f.a.getBorderRadius(),"px")}),n||(r&&(a.addEventListener("click",(function(){t.$store.commit(d.a.PLAY_PREVIEW,{imageUrl:i})})),y.c.css(a,{cursor:"zoom-in"})),a.onload=function(){if(!(64>=a.width)){var n,i=document.createElement("div");y.c.css(i,{background:"rgba(0,0,0,0.4)","border-radius":"50%",width:"72px",height:"72px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer",position:"absolute"}),i.addEventListener("click",(function(){t.$store.commit(d.a.PLAY_PREVIEW,e)})),n=r?"url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' height='".concat(48,"' viewBox='0 0 24 24' width='").concat(48,"'><path d='M0 0h24v24H0z' fill='none'/><path style='fill: white' d='M8 5v14l11-7z'/></svg>\")"):"url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' height='".concat(48,"' viewBox='0 0 24 24' width='").concat(48,"'><path d='M0 0h24v24H0V0z' fill='none'/><path style='fill: white' d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' /><path style='fill: white' d='M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z'/></svg>\")");var s=document.createElement("div");y.c.css(s,{"background-image":n,transform:"translate(-50%, -50%)",position:"absolute",top:"50%",left:"50%",width:"".concat(48,"px"),height:"".concat(48,"px")}),i.appendChild(s),o.appendChild(i)}}),o.appendChild(a),o}}(t,e,n);s&&i.appendChild(s);return i}(t,n,o);return e.appendChild(s),e.appendChild(a),e.appendChild(c),E(e,s,a),T(e,f.a.getActionIconColorHighlight())}function E(t,e,n){var i=y.c.width(t)-y.c.width(n)-28;y.c.css(e,{width:"".concat(i,"px")})}function A(t,e,n,i){if(i)return document.createElement("div");var r,o=t.$store.getters.isPreviewDisabled,a=f.a.getTextColorSecondary(),s=document.createElement("a");return o?(r=t.$t("link_preview_show"),s.addEventListener("click",(function(){t.$store.commit(d.a.SHOW_PREVIEW)}))):(r=t.$t("link_preview_hide"),s.addEventListener("click",(function(){n.put(e,null),t.$store.commit(d.a.HIDE_PREVIEW)}))),y.c.css(s,{color:"".concat(a),display:"inline-block","text-align":"right","font-size":"70%",position:"relative",float:"right"}),s.innerHTML=r,s.href="#",s}e.a={namespaced:!1,state:function(){return{linkPreviewToPlay:{},linkPreviewUpdate:Date.now(),hideLinkPreviews:r.a.getBoolean("hideLinkPreviews")}},getters:i,mutations:h,actions:_}}}]);